!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=123)}([function(t,e,i){"use strict";(function(t,n){var r;
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash minus="template"`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var o="Expected a function",a="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],u="[object Arguments]",l="[object Array]",c="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",p="[object GeneratorFunction]",g="[object Map]",m="[object Number]",v="[object Object]",y="[object RegExp]",_="[object Set]",b="[object String]",T="[object Symbol]",w="[object WeakMap]",S="[object ArrayBuffer]",E="[object DataView]",A="[object Float32Array]",C="[object Float64Array]",P="[object Int8Array]",I="[object Int16Array]",O="[object Int32Array]",x="[object Uint8Array]",k="[object Uint16Array]",R="[object Uint32Array]",M=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,D=RegExp(M.source),N=RegExp(L.source),F=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,B=/[\\^$.*+?()[\]{}|]/g,j=RegExp(B.source),H=/^\s+|\s+$/g,G=/^\s+/,W=/\s+$/,z=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$=/\{\n\/\* \[wrapped with (.+)\] \*/,q=/,? & /,Y=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,K=/\\(\\)?/g,X=/\w*$/,Z=/^[-+]0x[0-9a-f]+$/i,Q=/^0b[01]+$/i,J=/^\[object .+?Constructor\]$/,tt=/^0o[0-7]+$/i,et=/^(?:0|[1-9]\d*)$/,it=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,nt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",rt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ot="[\\ud800-\\udfff]",at="["+rt+"]",st="["+nt+"]",ut="\\d+",lt="[\\u2700-\\u27bf]",ct="[a-z\\xdf-\\xf6\\xf8-\\xff]",dt="[^\\ud800-\\udfff"+rt+ut+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ht="\\ud83c[\\udffb-\\udfff]",ft="[^\\ud800-\\udfff]",pt="(?:\\ud83c[\\udde6-\\uddff]){2}",gt="[\\ud800-\\udbff][\\udc00-\\udfff]",mt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",vt="(?:"+ct+"|"+dt+")",yt="(?:"+mt+"|"+dt+")",_t="(?:"+st+"|"+ht+")"+"?",bt="[\\ufe0e\\ufe0f]?"+_t+("(?:\\u200d(?:"+[ft,pt,gt].join("|")+")[\\ufe0e\\ufe0f]?"+_t+")*"),Tt="(?:"+[lt,pt,gt].join("|")+")"+bt,wt="(?:"+[ft+st+"?",st,pt,gt,ot].join("|")+")",St=RegExp("['’]","g"),Et=RegExp(st,"g"),At=RegExp(ht+"(?="+ht+")|"+wt+bt,"g"),Ct=RegExp([mt+"?"+ct+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[at,mt,"$"].join("|")+")",yt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[at,mt+vt,"$"].join("|")+")",mt+"?"+vt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",mt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ut,Tt].join("|"),"g"),Pt=RegExp("[\\u200d\\ud800-\\udfff"+nt+"\\ufe0e\\ufe0f]"),It=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],xt={};xt[A]=xt[C]=xt[P]=xt[I]=xt[O]=xt[x]=xt["[object Uint8ClampedArray]"]=xt[k]=xt[R]=!0,xt[u]=xt[l]=xt[S]=xt[c]=xt[E]=xt[d]=xt[h]=xt[f]=xt[g]=xt[m]=xt[v]=xt[y]=xt[_]=xt[b]=xt[w]=!1;var kt={};kt[u]=kt[l]=kt[S]=kt[E]=kt[c]=kt[d]=kt[A]=kt[C]=kt[P]=kt[I]=kt[O]=kt[g]=kt[m]=kt[v]=kt[y]=kt[_]=kt[b]=kt[T]=kt[x]=kt["[object Uint8ClampedArray]"]=kt[k]=kt[R]=!0,kt[h]=kt[f]=kt[w]=!1;var Rt=parseFloat,Mt=parseInt,Lt="object"==typeof t&&t&&t.Object===Object&&t,Dt="object"==typeof self&&self&&self.Object===Object&&self,Nt=Lt||Dt||Function("return this")(),Ft=e&&!e.nodeType&&e,Ut=Ft&&"object"==typeof n&&n&&!n.nodeType&&n,Vt=Ut&&Ut.exports===Ft,Bt=Vt&&Lt.process,jt=function(){try{var t=Ut&&Ut.require&&Ut.require("util").types;return t||Bt&&Bt.binding&&Bt.binding("util")}catch(t){}}(),Ht=jt&&jt.isArrayBuffer,Gt=jt&&jt.isDate,Wt=jt&&jt.isMap,zt=jt&&jt.isRegExp,$t=jt&&jt.isSet,qt=jt&&jt.isTypedArray;function Yt(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function Kt(t,e,i,n){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(n,a,i(a),t)}return n}function Xt(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t}function Zt(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function Qt(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(!e(t[i],i,t))return!1;return!0}function Jt(t,e){for(var i=-1,n=null==t?0:t.length,r=0,o=[];++i<n;){var a=t[i];e(a,i,t)&&(o[r++]=a)}return o}function te(t,e){return!!(null==t?0:t.length)&&ce(t,e,0)>-1}function ee(t,e,i){for(var n=-1,r=null==t?0:t.length;++n<r;)if(i(e,t[n]))return!0;return!1}function ie(t,e){for(var i=-1,n=null==t?0:t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}function ne(t,e){for(var i=-1,n=e.length,r=t.length;++i<n;)t[r+i]=e[i];return t}function re(t,e,i,n){var r=-1,o=null==t?0:t.length;for(n&&o&&(i=t[++r]);++r<o;)i=e(i,t[r],r,t);return i}function oe(t,e,i,n){var r=null==t?0:t.length;for(n&&r&&(i=t[--r]);r--;)i=e(i,t[r],r,t);return i}function ae(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}var se=pe("length");function ue(t,e,i){var n;return i(t,(function(t,i,r){if(e(t,i,r))return n=i,!1})),n}function le(t,e,i,n){for(var r=t.length,o=i+(n?1:-1);n?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function ce(t,e,i){return e==e?function(t,e,i){var n=i-1,r=t.length;for(;++n<r;)if(t[n]===e)return n;return-1}(t,e,i):le(t,he,i)}function de(t,e,i,n){for(var r=i-1,o=t.length;++r<o;)if(n(t[r],e))return r;return-1}function he(t){return t!=t}function fe(t,e){var i=null==t?0:t.length;return i?ve(t,e)/i:NaN}function pe(t){return function(e){return null==e?void 0:e[t]}}function ge(t){return function(e){return null==t?void 0:t[e]}}function me(t,e,i,n,r){return r(t,(function(t,r,o){i=n?(n=!1,t):e(i,t,r,o)})),i}function ve(t,e){for(var i,n=-1,r=t.length;++n<r;){var o=e(t[n]);void 0!==o&&(i=void 0===i?o:i+o)}return i}function ye(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function _e(t){return function(e){return t(e)}}function be(t,e){return ie(e,(function(e){return t[e]}))}function Te(t,e){return t.has(e)}function we(t,e){for(var i=-1,n=t.length;++i<n&&ce(e,t[i],0)>-1;);return i}function Se(t,e){for(var i=t.length;i--&&ce(e,t[i],0)>-1;);return i}function Ee(t,e){for(var i=t.length,n=0;i--;)t[i]===e&&++n;return n}var Ae=ge({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Ce=ge({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Pe(t){return Pt.test(t)}function Ie(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}function Oe(t,e){return function(i){return t(e(i))}}function xe(t,e){for(var i=-1,n=t.length,r=0,o=[];++i<n;){var s=t[i];s!==e&&s!==a||(t[i]=a,o[r++]=i)}return o}function ke(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}function Re(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=[t,t]})),i}function Me(t){return Pe(t)?function(t){var e=At.lastIndex=0;for(;At.test(t);)++e;return e}(t):se(t)}function Le(t){return Pe(t)?function(t){return t.match(At)||[]}(t):function(t){return t.split("")}(t)}var De=ge({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Ne=function t(e){var i,n=(e=null==e?Nt:Ne.defaults(Nt.Object(),e,Ne.pick(Nt,Ot))).Array,r=e.Date,nt=e.Error,rt=e.Function,ot=e.Math,at=e.Object,st=e.RegExp,ut=e.String,lt=e.TypeError,ct=n.prototype,dt=rt.prototype,ht=at.prototype,ft=e["__core-js_shared__"],pt=dt.toString,gt=ht.hasOwnProperty,mt=0,vt=(i=/[^.]+$/.exec(ft&&ft.keys&&ft.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",yt=ht.toString,_t=pt.call(at),bt=Nt._,Tt=st("^"+pt.call(gt).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wt=Vt?e.Buffer:void 0,At=e.Symbol,Pt=e.Uint8Array,Lt=wt?wt.allocUnsafe:void 0,Dt=Oe(at.getPrototypeOf,at),Ft=at.create,Ut=ht.propertyIsEnumerable,Bt=ct.splice,jt=At?At.isConcatSpreadable:void 0,se=At?At.iterator:void 0,ge=At?At.toStringTag:void 0,Fe=function(){try{var t=jr(at,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ue=e.clearTimeout!==Nt.clearTimeout&&e.clearTimeout,Ve=r&&r.now!==Nt.Date.now&&r.now,Be=e.setTimeout!==Nt.setTimeout&&e.setTimeout,je=ot.ceil,He=ot.floor,Ge=at.getOwnPropertySymbols,We=wt?wt.isBuffer:void 0,ze=e.isFinite,$e=ct.join,qe=Oe(at.keys,at),Ye=ot.max,Ke=ot.min,Xe=r.now,Ze=e.parseInt,Qe=ot.random,Je=ct.reverse,ti=jr(e,"DataView"),ei=jr(e,"Map"),ii=jr(e,"Promise"),ni=jr(e,"Set"),ri=jr(e,"WeakMap"),oi=jr(at,"create"),ai=ri&&new ri,si={},ui=go(ti),li=go(ei),ci=go(ii),di=go(ni),hi=go(ri),fi=At?At.prototype:void 0,pi=fi?fi.valueOf:void 0,gi=fi?fi.toString:void 0;function mi(t){if(Ra(t)&&!Ta(t)&&!(t instanceof bi)){if(t instanceof _i)return t;if(gt.call(t,"__wrapped__"))return mo(t)}return new _i(t)}var vi=function(){function t(){}return function(e){if(!ka(e))return{};if(Ft)return Ft(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();function yi(){}function _i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function bi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ti(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function wi(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Si(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Ei(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new Si;++e<i;)this.add(t[e])}function Ai(t){var e=this.__data__=new wi(t);this.size=e.size}function Ci(t,e){var i=Ta(t),n=!i&&ba(t),r=!i&&!n&&Aa(t),o=!i&&!n&&!r&&Ba(t),a=i||n||r||o,s=a?ye(t.length,ut):[],u=s.length;for(var l in t)!e&&!gt.call(t,l)||a&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Yr(l,u))||s.push(l);return s}function Pi(t){var e=t.length;return e?t[An(0,e-1)]:void 0}function Ii(t,e){return ho(ar(t),Fi(e,0,t.length))}function Oi(t){return ho(ar(t))}function xi(t,e,i){(void 0!==i&&!va(t[e],i)||void 0===i&&!(e in t))&&Di(t,e,i)}function ki(t,e,i){var n=t[e];gt.call(t,e)&&va(n,i)&&(void 0!==i||e in t)||Di(t,e,i)}function Ri(t,e){for(var i=t.length;i--;)if(va(t[i][0],e))return i;return-1}function Mi(t,e,i,n){return Hi(t,(function(t,r,o){e(n,t,i(t),o)})),n}function Li(t,e){return t&&sr(e,us(e),t)}function Di(t,e,i){"__proto__"==e&&Fe?Fe(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function Ni(t,e){for(var i=-1,r=e.length,o=n(r),a=null==t;++i<r;)o[i]=a?void 0:ns(t,e[i]);return o}function Fi(t,e,i){return t==t&&(void 0!==i&&(t=t<=i?t:i),void 0!==e&&(t=t>=e?t:e)),t}function Ui(t,e,i,n,r,o){var a,s=1&e,l=2&e,h=4&e;if(i&&(a=r?i(t,n,r,o):i(t)),void 0!==a)return a;if(!ka(t))return t;var w=Ta(t);if(w){if(a=function(t){var e=t.length,i=new t.constructor(e);e&&"string"==typeof t[0]&&gt.call(t,"index")&&(i.index=t.index,i.input=t.input);return i}(t),!s)return ar(t,a)}else{var M=Wr(t),L=M==f||M==p;if(Aa(t))return tr(t,s);if(M==v||M==u||L&&!r){if(a=l||L?{}:$r(t),!s)return l?function(t,e){return sr(t,Gr(t),e)}(t,function(t,e){return t&&sr(e,ls(e),t)}(a,t)):function(t,e){return sr(t,Hr(t),e)}(t,Li(a,t))}else{if(!kt[M])return r?t:{};a=function(t,e,i){var n=t.constructor;switch(e){case S:return er(t);case c:case d:return new n(+t);case E:return function(t,e){var i=e?er(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,i);case A:case C:case P:case I:case O:case x:case"[object Uint8ClampedArray]":case k:case R:return ir(t,i);case g:return new n;case m:case b:return new n(t);case y:return function(t){var e=new t.constructor(t.source,X.exec(t));return e.lastIndex=t.lastIndex,e}(t);case _:return new n;case T:return r=t,pi?at(pi.call(r)):{}}var r}(t,M,s)}}o||(o=new Ai);var D=o.get(t);if(D)return D;o.set(t,a),Fa(t)?t.forEach((function(n){a.add(Ui(n,e,i,n,t,o))})):Ma(t)&&t.forEach((function(n,r){a.set(r,Ui(n,e,i,r,t,o))}));var N=w?void 0:(h?l?Lr:Mr:l?ls:us)(t);return Xt(N||t,(function(n,r){N&&(n=t[r=n]),ki(a,r,Ui(n,e,i,r,t,o))})),a}function Vi(t,e,i){var n=i.length;if(null==t)return!n;for(t=at(t);n--;){var r=i[n],o=e[r],a=t[r];if(void 0===a&&!(r in t)||!o(a))return!1}return!0}function Bi(t,e,i){if("function"!=typeof t)throw new lt(o);return so((function(){t.apply(void 0,i)}),e)}function ji(t,e,i,n){var r=-1,o=te,a=!0,s=t.length,u=[],l=e.length;if(!s)return u;i&&(e=ie(e,_e(i))),n?(o=ee,a=!1):e.length>=200&&(o=Te,a=!1,e=new Ei(e));t:for(;++r<s;){var c=t[r],d=null==i?c:i(c);if(c=n||0!==c?c:0,a&&d==d){for(var h=l;h--;)if(e[h]===d)continue t;u.push(c)}else o(e,d,n)||u.push(c)}return u}mi.prototype=yi.prototype,mi.prototype.constructor=mi,_i.prototype=vi(yi.prototype),_i.prototype.constructor=_i,bi.prototype=vi(yi.prototype),bi.prototype.constructor=bi,Ti.prototype.clear=function(){this.__data__=oi?oi(null):{},this.size=0},Ti.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Ti.prototype.get=function(t){var e=this.__data__;if(oi){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return gt.call(e,t)?e[t]:void 0},Ti.prototype.has=function(t){var e=this.__data__;return oi?void 0!==e[t]:gt.call(e,t)},Ti.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=oi&&void 0===e?"__lodash_hash_undefined__":e,this},wi.prototype.clear=function(){this.__data__=[],this.size=0},wi.prototype.delete=function(t){var e=this.__data__,i=Ri(e,t);return!(i<0)&&(i==e.length-1?e.pop():Bt.call(e,i,1),--this.size,!0)},wi.prototype.get=function(t){var e=this.__data__,i=Ri(e,t);return i<0?void 0:e[i][1]},wi.prototype.has=function(t){return Ri(this.__data__,t)>-1},wi.prototype.set=function(t,e){var i=this.__data__,n=Ri(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this},Si.prototype.clear=function(){this.size=0,this.__data__={hash:new Ti,map:new(ei||wi),string:new Ti}},Si.prototype.delete=function(t){var e=Vr(this,t).delete(t);return this.size-=e?1:0,e},Si.prototype.get=function(t){return Vr(this,t).get(t)},Si.prototype.has=function(t){return Vr(this,t).has(t)},Si.prototype.set=function(t,e){var i=Vr(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this},Ei.prototype.add=Ei.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ei.prototype.has=function(t){return this.__data__.has(t)},Ai.prototype.clear=function(){this.__data__=new wi,this.size=0},Ai.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},Ai.prototype.get=function(t){return this.__data__.get(t)},Ai.prototype.has=function(t){return this.__data__.has(t)},Ai.prototype.set=function(t,e){var i=this.__data__;if(i instanceof wi){var n=i.__data__;if(!ei||n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new Si(n)}return i.set(t,e),this.size=i.size,this};var Hi=cr(Xi),Gi=cr(Zi,!0);function Wi(t,e){var i=!0;return Hi(t,(function(t,n,r){return i=!!e(t,n,r)})),i}function zi(t,e,i){for(var n=-1,r=t.length;++n<r;){var o=t[n],a=e(o);if(null!=a&&(void 0===s?a==a&&!Va(a):i(a,s)))var s=a,u=o}return u}function $i(t,e){var i=[];return Hi(t,(function(t,n,r){e(t,n,r)&&i.push(t)})),i}function qi(t,e,i,n,r){var o=-1,a=t.length;for(i||(i=qr),r||(r=[]);++o<a;){var s=t[o];e>0&&i(s)?e>1?qi(s,e-1,i,n,r):ne(r,s):n||(r[r.length]=s)}return r}var Yi=dr(),Ki=dr(!0);function Xi(t,e){return t&&Yi(t,e,us)}function Zi(t,e){return t&&Ki(t,e,us)}function Qi(t,e){return Jt(e,(function(e){return Ia(t[e])}))}function Ji(t,e){for(var i=0,n=(e=Xn(e,t)).length;null!=t&&i<n;)t=t[po(e[i++])];return i&&i==n?t:void 0}function tn(t,e,i){var n=e(t);return Ta(t)?n:ne(n,i(t))}function en(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":ge&&ge in at(t)?function(t){var e=gt.call(t,ge),i=t[ge];try{t[ge]=void 0;var n=!0}catch(t){}var r=yt.call(t);n&&(e?t[ge]=i:delete t[ge]);return r}(t):function(t){return yt.call(t)}(t)}function nn(t,e){return t>e}function rn(t,e){return null!=t&&gt.call(t,e)}function on(t,e){return null!=t&&e in at(t)}function an(t,e,i){for(var r=i?ee:te,o=t[0].length,a=t.length,s=a,u=n(a),l=1/0,c=[];s--;){var d=t[s];s&&e&&(d=ie(d,_e(e))),l=Ke(d.length,l),u[s]=!i&&(e||o>=120&&d.length>=120)?new Ei(s&&d):void 0}d=t[0];var h=-1,f=u[0];t:for(;++h<o&&c.length<l;){var p=d[h],g=e?e(p):p;if(p=i||0!==p?p:0,!(f?Te(f,g):r(c,g,i))){for(s=a;--s;){var m=u[s];if(!(m?Te(m,g):r(t[s],g,i)))continue t}f&&f.push(g),c.push(p)}}return c}function sn(t,e,i){var n=null==(t=no(t,e=Xn(e,t)))?t:t[po(Po(e))];return null==n?void 0:Yt(n,t,i)}function un(t){return Ra(t)&&en(t)==u}function ln(t,e,i,n,r){return t===e||(null==t||null==e||!Ra(t)&&!Ra(e)?t!=t&&e!=e:function(t,e,i,n,r,o){var a=Ta(t),s=Ta(e),f=a?l:Wr(t),p=s?l:Wr(e),w=(f=f==u?v:f)==v,A=(p=p==u?v:p)==v,C=f==p;if(C&&Aa(t)){if(!Aa(e))return!1;a=!0,w=!1}if(C&&!w)return o||(o=new Ai),a||Ba(t)?kr(t,e,i,n,r,o):function(t,e,i,n,r,o,a){switch(i){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!o(new Pt(t),new Pt(e)));case c:case d:case m:return va(+t,+e);case h:return t.name==e.name&&t.message==e.message;case y:case b:return t==e+"";case g:var s=Ie;case _:var u=1&n;if(s||(s=ke),t.size!=e.size&&!u)return!1;var l=a.get(t);if(l)return l==e;n|=2,a.set(t,e);var f=kr(s(t),s(e),n,r,o,a);return a.delete(t),f;case T:if(pi)return pi.call(t)==pi.call(e)}return!1}(t,e,f,i,n,r,o);if(!(1&i)){var P=w&&gt.call(t,"__wrapped__"),I=A&&gt.call(e,"__wrapped__");if(P||I){var O=P?t.value():t,x=I?e.value():e;return o||(o=new Ai),r(O,x,i,n,o)}}if(!C)return!1;return o||(o=new Ai),function(t,e,i,n,r,o){var a=1&i,s=Mr(t),u=s.length,l=Mr(e).length;if(u!=l&&!a)return!1;var c=u;for(;c--;){var d=s[c];if(!(a?d in e:gt.call(e,d)))return!1}var h=o.get(t),f=o.get(e);if(h&&f)return h==e&&f==t;var p=!0;o.set(t,e),o.set(e,t);var g=a;for(;++c<u;){d=s[c];var m=t[d],v=e[d];if(n)var y=a?n(v,m,d,e,t,o):n(m,v,d,t,e,o);if(!(void 0===y?m===v||r(m,v,i,n,o):y)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var _=t.constructor,b=e.constructor;_==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,i,n,r,o)}(t,e,i,n,ln,r))}function cn(t,e,i,n){var r=i.length,o=r,a=!n;if(null==t)return!o;for(t=at(t);r--;){var s=i[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var u=(s=i[r])[0],l=t[u],c=s[1];if(a&&s[2]){if(void 0===l&&!(u in t))return!1}else{var d=new Ai;if(n)var h=n(l,c,u,t,e,d);if(!(void 0===h?ln(c,l,3,n,d):h))return!1}}return!0}function dn(t){return!(!ka(t)||(e=t,vt&&vt in e))&&(Ia(t)?Tt:J).test(go(t));var e}function hn(t){return"function"==typeof t?t:null==t?Ls:"object"==typeof t?Ta(t)?yn(t[0],t[1]):vn(t):Gs(t)}function fn(t){if(!Jr(t))return qe(t);var e=[];for(var i in at(t))gt.call(t,i)&&"constructor"!=i&&e.push(i);return e}function pn(t){if(!ka(t))return function(t){var e=[];if(null!=t)for(var i in at(t))e.push(i);return e}(t);var e=Jr(t),i=[];for(var n in t)("constructor"!=n||!e&&gt.call(t,n))&&i.push(n);return i}function gn(t,e){return t<e}function mn(t,e){var i=-1,r=Sa(t)?n(t.length):[];return Hi(t,(function(t,n,o){r[++i]=e(t,n,o)})),r}function vn(t){var e=Br(t);return 1==e.length&&e[0][2]?eo(e[0][0],e[0][1]):function(i){return i===t||cn(i,t,e)}}function yn(t,e){return Xr(t)&&to(e)?eo(po(t),e):function(i){var n=ns(i,t);return void 0===n&&n===e?rs(i,t):ln(e,n,3)}}function _n(t,e,i,n,r){t!==e&&Yi(e,(function(o,a){if(r||(r=new Ai),ka(o))!function(t,e,i,n,r,o,a){var s=oo(t,i),u=oo(e,i),l=a.get(u);if(l)return void xi(t,i,l);var c=o?o(s,u,i+"",t,e,a):void 0,d=void 0===c;if(d){var h=Ta(u),f=!h&&Aa(u),p=!h&&!f&&Ba(u);c=u,h||f||p?Ta(s)?c=s:Ea(s)?c=ar(s):f?(d=!1,c=tr(u,!0)):p?(d=!1,c=ir(u,!0)):c=[]:Da(u)||ba(u)?(c=s,ba(s)?c=Ya(s):ka(s)&&!Ia(s)||(c=$r(u))):d=!1}d&&(a.set(u,c),r(c,u,n,o,a),a.delete(u));xi(t,i,c)}(t,e,a,i,_n,n,r);else{var s=n?n(oo(t,a),o,a+"",t,e,r):void 0;void 0===s&&(s=o),xi(t,a,s)}}),ls)}function bn(t,e){var i=t.length;if(i)return Yr(e+=e<0?i:0,i)?t[e]:void 0}function Tn(t,e,i){e=e.length?ie(e,(function(t){return Ta(t)?function(e){return Ji(e,1===t.length?t[0]:t)}:t})):[Ls];var n=-1;return e=ie(e,_e(Ur())),function(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}(mn(t,(function(t,i,r){return{criteria:ie(e,(function(e){return e(t)})),index:++n,value:t}})),(function(t,e){return function(t,e,i){var n=-1,r=t.criteria,o=e.criteria,a=r.length,s=i.length;for(;++n<a;){var u=nr(r[n],o[n]);if(u){if(n>=s)return u;var l=i[n];return u*("desc"==l?-1:1)}}return t.index-e.index}(t,e,i)}))}function wn(t,e,i){for(var n=-1,r=e.length,o={};++n<r;){var a=e[n],s=Ji(t,a);i(s,a)&&xn(o,Xn(a,t),s)}return o}function Sn(t,e,i,n){var r=n?de:ce,o=-1,a=e.length,s=t;for(t===e&&(e=ar(e)),i&&(s=ie(t,_e(i)));++o<a;)for(var u=0,l=e[o],c=i?i(l):l;(u=r(s,c,u,n))>-1;)s!==t&&Bt.call(s,u,1),Bt.call(t,u,1);return t}function En(t,e){for(var i=t?e.length:0,n=i-1;i--;){var r=e[i];if(i==n||r!==o){var o=r;Yr(r)?Bt.call(t,r,1):Hn(t,r)}}return t}function An(t,e){return t+He(Qe()*(e-t+1))}function Cn(t,e){var i="";if(!t||e<1||e>9007199254740991)return i;do{e%2&&(i+=t),(e=He(e/2))&&(t+=t)}while(e);return i}function Pn(t,e){return uo(io(t,e,Ls),t+"")}function In(t){return Pi(vs(t))}function On(t,e){var i=vs(t);return ho(i,Fi(e,0,i.length))}function xn(t,e,i,n){if(!ka(t))return t;for(var r=-1,o=(e=Xn(e,t)).length,a=o-1,s=t;null!=s&&++r<o;){var u=po(e[r]),l=i;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(r!=a){var c=s[u];void 0===(l=n?n(c,u,s):void 0)&&(l=ka(c)?c:Yr(e[r+1])?[]:{})}ki(s,u,l),s=s[u]}return t}var kn=ai?function(t,e){return ai.set(t,e),t}:Ls,Rn=Fe?function(t,e){return Fe(t,"toString",{configurable:!0,enumerable:!1,value:ks(e),writable:!0})}:Ls;function Mn(t){return ho(vs(t))}function Ln(t,e,i){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(i=i>o?o:i)<0&&(i+=o),o=e>i?0:i-e>>>0,e>>>=0;for(var a=n(o);++r<o;)a[r]=t[r+e];return a}function Dn(t,e){var i;return Hi(t,(function(t,n,r){return!(i=e(t,n,r))})),!!i}function Nn(t,e,i){var n=0,r=null==t?n:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;n<r;){var o=n+r>>>1,a=t[o];null!==a&&!Va(a)&&(i?a<=e:a<e)?n=o+1:r=o}return r}return Fn(t,e,Ls,i)}function Fn(t,e,i,n){var r=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=i(e))!=e,s=null===e,u=Va(e),l=void 0===e;r<o;){var c=He((r+o)/2),d=i(t[c]),h=void 0!==d,f=null===d,p=d==d,g=Va(d);if(a)var m=n||p;else m=l?p&&(n||h):s?p&&h&&(n||!f):u?p&&h&&!f&&(n||!g):!f&&!g&&(n?d<=e:d<e);m?r=c+1:o=c}return Ke(o,4294967294)}function Un(t,e){for(var i=-1,n=t.length,r=0,o=[];++i<n;){var a=t[i],s=e?e(a):a;if(!i||!va(s,u)){var u=s;o[r++]=0===a?0:a}}return o}function Vn(t){return"number"==typeof t?t:Va(t)?NaN:+t}function Bn(t){if("string"==typeof t)return t;if(Ta(t))return ie(t,Bn)+"";if(Va(t))return gi?gi.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function jn(t,e,i){var n=-1,r=te,o=t.length,a=!0,s=[],u=s;if(i)a=!1,r=ee;else if(o>=200){var l=e?null:Cr(t);if(l)return ke(l);a=!1,r=Te,u=new Ei}else u=e?[]:s;t:for(;++n<o;){var c=t[n],d=e?e(c):c;if(c=i||0!==c?c:0,a&&d==d){for(var h=u.length;h--;)if(u[h]===d)continue t;e&&u.push(d),s.push(c)}else r(u,d,i)||(u!==s&&u.push(d),s.push(c))}return s}function Hn(t,e){return null==(t=no(t,e=Xn(e,t)))||delete t[po(Po(e))]}function Gn(t,e,i,n){return xn(t,e,i(Ji(t,e)),n)}function Wn(t,e,i,n){for(var r=t.length,o=n?r:-1;(n?o--:++o<r)&&e(t[o],o,t););return i?Ln(t,n?0:o,n?o+1:r):Ln(t,n?o+1:0,n?r:o)}function zn(t,e){var i=t;return i instanceof bi&&(i=i.value()),re(e,(function(t,e){return e.func.apply(e.thisArg,ne([t],e.args))}),i)}function $n(t,e,i){var r=t.length;if(r<2)return r?jn(t[0]):[];for(var o=-1,a=n(r);++o<r;)for(var s=t[o],u=-1;++u<r;)u!=o&&(a[o]=ji(a[o]||s,t[u],e,i));return jn(qi(a,1),e,i)}function qn(t,e,i){for(var n=-1,r=t.length,o=e.length,a={};++n<r;){var s=n<o?e[n]:void 0;i(a,t[n],s)}return a}function Yn(t){return Ea(t)?t:[]}function Kn(t){return"function"==typeof t?t:Ls}function Xn(t,e){return Ta(t)?t:Xr(t,e)?[t]:fo(Ka(t))}var Zn=Pn;function Qn(t,e,i){var n=t.length;return i=void 0===i?n:i,!e&&i>=n?t:Ln(t,e,i)}var Jn=Ue||function(t){return Nt.clearTimeout(t)};function tr(t,e){if(e)return t.slice();var i=t.length,n=Lt?Lt(i):new t.constructor(i);return t.copy(n),n}function er(t){var e=new t.constructor(t.byteLength);return new Pt(e).set(new Pt(t)),e}function ir(t,e){var i=e?er(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function nr(t,e){if(t!==e){var i=void 0!==t,n=null===t,r=t==t,o=Va(t),a=void 0!==e,s=null===e,u=e==e,l=Va(e);if(!s&&!l&&!o&&t>e||o&&a&&u&&!s&&!l||n&&a&&u||!i&&u||!r)return 1;if(!n&&!o&&!l&&t<e||l&&i&&r&&!n&&!o||s&&i&&r||!a&&r||!u)return-1}return 0}function rr(t,e,i,r){for(var o=-1,a=t.length,s=i.length,u=-1,l=e.length,c=Ye(a-s,0),d=n(l+c),h=!r;++u<l;)d[u]=e[u];for(;++o<s;)(h||o<a)&&(d[i[o]]=t[o]);for(;c--;)d[u++]=t[o++];return d}function or(t,e,i,r){for(var o=-1,a=t.length,s=-1,u=i.length,l=-1,c=e.length,d=Ye(a-u,0),h=n(d+c),f=!r;++o<d;)h[o]=t[o];for(var p=o;++l<c;)h[p+l]=e[l];for(;++s<u;)(f||o<a)&&(h[p+i[s]]=t[o++]);return h}function ar(t,e){var i=-1,r=t.length;for(e||(e=n(r));++i<r;)e[i]=t[i];return e}function sr(t,e,i,n){var r=!i;i||(i={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=n?n(i[s],t[s],s,i,t):void 0;void 0===u&&(u=t[s]),r?Di(i,s,u):ki(i,s,u)}return i}function ur(t,e){return function(i,n){var r=Ta(i)?Kt:Mi,o=e?e():{};return r(i,t,Ur(n,2),o)}}function lr(t){return Pn((function(e,i){var n=-1,r=i.length,o=r>1?i[r-1]:void 0,a=r>2?i[2]:void 0;for(o=t.length>3&&"function"==typeof o?(r--,o):void 0,a&&Kr(i[0],i[1],a)&&(o=r<3?void 0:o,r=1),e=at(e);++n<r;){var s=i[n];s&&t(e,s,n,o)}return e}))}function cr(t,e){return function(i,n){if(null==i)return i;if(!Sa(i))return t(i,n);for(var r=i.length,o=e?r:-1,a=at(i);(e?o--:++o<r)&&!1!==n(a[o],o,a););return i}}function dr(t){return function(e,i,n){for(var r=-1,o=at(e),a=n(e),s=a.length;s--;){var u=a[t?s:++r];if(!1===i(o[u],u,o))break}return e}}function hr(t){return function(e){var i=Pe(e=Ka(e))?Le(e):void 0,n=i?i[0]:e.charAt(0),r=i?Qn(i,1).join(""):e.slice(1);return n[t]()+r}}function fr(t){return function(e){return re(Is(bs(e).replace(St,"")),t,"")}}function pr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=vi(t.prototype),n=t.apply(i,e);return ka(n)?n:i}}function gr(t){return function(e,i,n){var r=at(e);if(!Sa(e)){var o=Ur(i,3);e=us(e),i=function(t){return o(r[t],t,r)}}var a=t(e,i,n);return a>-1?r[o?e[a]:a]:void 0}}function mr(t){return Rr((function(e){var i=e.length,n=i,r=_i.prototype.thru;for(t&&e.reverse();n--;){var a=e[n];if("function"!=typeof a)throw new lt(o);if(r&&!s&&"wrapper"==Nr(a))var s=new _i([],!0)}for(n=s?n:i;++n<i;){var u=Nr(a=e[n]),l="wrapper"==u?Dr(a):void 0;s=l&&Zr(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Nr(l[0])].apply(s,l[3]):1==a.length&&Zr(a)?s[u]():s.thru(a)}return function(){var t=arguments,n=t[0];if(s&&1==t.length&&Ta(n))return s.plant(n).value();for(var r=0,o=i?e[r].apply(this,t):n;++r<i;)o=e[r].call(this,o);return o}}))}function vr(t,e,i,r,o,a,s,u,l,c){var d=128&e,h=1&e,f=2&e,p=24&e,g=512&e,m=f?void 0:pr(t);return function v(){for(var y=arguments.length,_=n(y),b=y;b--;)_[b]=arguments[b];if(p)var T=Fr(v),w=Ee(_,T);if(r&&(_=rr(_,r,o,p)),a&&(_=or(_,a,s,p)),y-=w,p&&y<c){var S=xe(_,T);return Er(t,e,vr,v.placeholder,i,_,S,u,l,c-y)}var E=h?i:this,A=f?E[t]:t;return y=_.length,u?_=ro(_,u):g&&y>1&&_.reverse(),d&&l<y&&(_.length=l),this&&this!==Nt&&this instanceof v&&(A=m||pr(A)),A.apply(E,_)}}function yr(t,e){return function(i,n){return function(t,e,i,n){return Xi(t,(function(t,r,o){e(n,i(t),r,o)})),n}(i,t,e(n),{})}}function _r(t,e){return function(i,n){var r;if(void 0===i&&void 0===n)return e;if(void 0!==i&&(r=i),void 0!==n){if(void 0===r)return n;"string"==typeof i||"string"==typeof n?(i=Bn(i),n=Bn(n)):(i=Vn(i),n=Vn(n)),r=t(i,n)}return r}}function br(t){return Rr((function(e){return e=ie(e,_e(Ur())),Pn((function(i){var n=this;return t(e,(function(t){return Yt(t,n,i)}))}))}))}function Tr(t,e){var i=(e=void 0===e?" ":Bn(e)).length;if(i<2)return i?Cn(e,t):e;var n=Cn(e,je(t/Me(e)));return Pe(e)?Qn(Le(n),0,t).join(""):n.slice(0,t)}function wr(t){return function(e,i,r){return r&&"number"!=typeof r&&Kr(e,i,r)&&(i=r=void 0),e=Wa(e),void 0===i?(i=e,e=0):i=Wa(i),function(t,e,i,r){for(var o=-1,a=Ye(je((e-t)/(i||1)),0),s=n(a);a--;)s[r?a:++o]=t,t+=i;return s}(e,i,r=void 0===r?e<i?1:-1:Wa(r),t)}}function Sr(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=qa(e),i=qa(i)),t(e,i)}}function Er(t,e,i,n,r,o,a,s,u,l){var c=8&e;e|=c?32:64,4&(e&=~(c?64:32))||(e&=-4);var d=[t,e,r,c?o:void 0,c?a:void 0,c?void 0:o,c?void 0:a,s,u,l],h=i.apply(void 0,d);return Zr(t)&&ao(h,d),h.placeholder=n,lo(h,t,e)}function Ar(t){var e=ot[t];return function(t,i){if(t=qa(t),(i=null==i?0:Ke(za(i),292))&&ze(t)){var n=(Ka(t)+"e").split("e");return+((n=(Ka(e(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return e(t)}}var Cr=ni&&1/ke(new ni([,-0]))[1]==1/0?function(t){return new ni(t)}:Vs;function Pr(t){return function(e){var i=Wr(e);return i==g?Ie(e):i==_?Re(e):function(t,e){return ie(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Ir(t,e,i,r,s,u,l,c){var d=2&e;if(!d&&"function"!=typeof t)throw new lt(o);var h=r?r.length:0;if(h||(e&=-97,r=s=void 0),l=void 0===l?l:Ye(za(l),0),c=void 0===c?c:za(c),h-=s?s.length:0,64&e){var f=r,p=s;r=s=void 0}var g=d?void 0:Dr(t),m=[t,e,i,r,s,f,p,u,l,c];if(g&&function(t,e){var i=t[1],n=e[1],r=i|n,o=r<131,s=128==n&&8==i||128==n&&256==i&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==i;if(!o&&!s)return t;1&n&&(t[2]=e[2],r|=1&i?0:4);var u=e[3];if(u){var l=t[3];t[3]=l?rr(l,u,e[4]):u,t[4]=l?xe(t[3],a):e[4]}(u=e[5])&&(l=t[5],t[5]=l?or(l,u,e[6]):u,t[6]=l?xe(t[5],a):e[6]);(u=e[7])&&(t[7]=u);128&n&&(t[8]=null==t[8]?e[8]:Ke(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(m,g),t=m[0],e=m[1],i=m[2],r=m[3],s=m[4],!(c=m[9]=void 0===m[9]?d?0:t.length:Ye(m[9]-h,0))&&24&e&&(e&=-25),e&&1!=e)v=8==e||16==e?function(t,e,i){var r=pr(t);return function o(){for(var a=arguments.length,s=n(a),u=a,l=Fr(o);u--;)s[u]=arguments[u];var c=a<3&&s[0]!==l&&s[a-1]!==l?[]:xe(s,l);if((a-=c.length)<i)return Er(t,e,vr,o.placeholder,void 0,s,c,void 0,void 0,i-a);var d=this&&this!==Nt&&this instanceof o?r:t;return Yt(d,this,s)}}(t,e,c):32!=e&&33!=e||s.length?vr.apply(void 0,m):function(t,e,i,r){var o=1&e,a=pr(t);return function e(){for(var s=-1,u=arguments.length,l=-1,c=r.length,d=n(c+u),h=this&&this!==Nt&&this instanceof e?a:t;++l<c;)d[l]=r[l];for(;u--;)d[l++]=arguments[++s];return Yt(h,o?i:this,d)}}(t,e,i,r);else var v=function(t,e,i){var n=1&e,r=pr(t);return function e(){var o=this&&this!==Nt&&this instanceof e?r:t;return o.apply(n?i:this,arguments)}}(t,e,i);return lo((g?kn:ao)(v,m),t,e)}function Or(t,e,i,n,r,o){return ka(t)&&ka(e)&&(o.set(e,t),_n(t,e,void 0,Or,o),o.delete(e)),t}function xr(t){return Da(t)?void 0:t}function kr(t,e,i,n,r,o){var a=1&i,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var l=o.get(t),c=o.get(e);if(l&&c)return l==e&&c==t;var d=-1,h=!0,f=2&i?new Ei:void 0;for(o.set(t,e),o.set(e,t);++d<s;){var p=t[d],g=e[d];if(n)var m=a?n(g,p,d,e,t,o):n(p,g,d,t,e,o);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!ae(e,(function(t,e){if(!Te(f,e)&&(p===t||r(p,t,i,n,o)))return f.push(e)}))){h=!1;break}}else if(p!==g&&!r(p,g,i,n,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function Rr(t){return uo(io(t,void 0,wo),t+"")}function Mr(t){return tn(t,us,Hr)}function Lr(t){return tn(t,ls,Gr)}var Dr=ai?function(t){return ai.get(t)}:Vs;function Nr(t){for(var e=t.name+"",i=si[e],n=gt.call(si,e)?i.length:0;n--;){var r=i[n],o=r.func;if(null==o||o==t)return r.name}return e}function Fr(t){return(gt.call(mi,"placeholder")?mi:t).placeholder}function Ur(){var t=mi.iteratee||Ds;return t=t===Ds?hn:t,arguments.length?t(arguments[0],arguments[1]):t}function Vr(t,e){var i=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?i["string"==typeof e?"string":"hash"]:i.map}function Br(t){for(var e=us(t),i=e.length;i--;){var n=e[i],r=t[n];e[i]=[n,r,to(r)]}return e}function jr(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return dn(i)?i:void 0}var Hr=Ge?function(t){return null==t?[]:(t=at(t),Jt(Ge(t),(function(e){return Ut.call(t,e)})))}:$s,Gr=Ge?function(t){for(var e=[];t;)ne(e,Hr(t)),t=Dt(t);return e}:$s,Wr=en;function zr(t,e,i){for(var n=-1,r=(e=Xn(e,t)).length,o=!1;++n<r;){var a=po(e[n]);if(!(o=null!=t&&i(t,a)))break;t=t[a]}return o||++n!=r?o:!!(r=null==t?0:t.length)&&xa(r)&&Yr(a,r)&&(Ta(t)||ba(t))}function $r(t){return"function"!=typeof t.constructor||Jr(t)?{}:vi(Dt(t))}function qr(t){return Ta(t)||ba(t)||!!(jt&&t&&t[jt])}function Yr(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&et.test(t))&&t>-1&&t%1==0&&t<e}function Kr(t,e,i){if(!ka(i))return!1;var n=typeof e;return!!("number"==n?Sa(i)&&Yr(e,i.length):"string"==n&&e in i)&&va(i[e],t)}function Xr(t,e){if(Ta(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!Va(t))||(U.test(t)||!F.test(t)||null!=e&&t in at(e))}function Zr(t){var e=Nr(t),i=mi[e];if("function"!=typeof i||!(e in bi.prototype))return!1;if(t===i)return!0;var n=Dr(i);return!!n&&t===n[0]}(ti&&Wr(new ti(new ArrayBuffer(1)))!=E||ei&&Wr(new ei)!=g||ii&&"[object Promise]"!=Wr(ii.resolve())||ni&&Wr(new ni)!=_||ri&&Wr(new ri)!=w)&&(Wr=function(t){var e=en(t),i=e==v?t.constructor:void 0,n=i?go(i):"";if(n)switch(n){case ui:return E;case li:return g;case ci:return"[object Promise]";case di:return _;case hi:return w}return e});var Qr=ft?Ia:qs;function Jr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ht)}function to(t){return t==t&&!ka(t)}function eo(t,e){return function(i){return null!=i&&(i[t]===e&&(void 0!==e||t in at(i)))}}function io(t,e,i){return e=Ye(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,a=Ye(r.length-e,0),s=n(a);++o<a;)s[o]=r[e+o];o=-1;for(var u=n(e+1);++o<e;)u[o]=r[o];return u[e]=i(s),Yt(t,this,u)}}function no(t,e){return e.length<2?t:Ji(t,Ln(e,0,-1))}function ro(t,e){for(var i=t.length,n=Ke(e.length,i),r=ar(t);n--;){var o=e[n];t[n]=Yr(o,i)?r[o]:void 0}return t}function oo(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var ao=co(kn),so=Be||function(t,e){return Nt.setTimeout(t,e)},uo=co(Rn);function lo(t,e,i){var n=e+"";return uo(t,function(t,e){var i=e.length;if(!i)return t;var n=i-1;return e[n]=(i>1?"& ":"")+e[n],e=e.join(i>2?", ":" "),t.replace(z,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Xt(s,(function(i){var n="_."+i[0];e&i[1]&&!te(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match($);return e?e[1].split(q):[]}(n),i)))}function co(t){var e=0,i=0;return function(){var n=Xe(),r=16-(n-i);if(i=n,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function ho(t,e){var i=-1,n=t.length,r=n-1;for(e=void 0===e?n:e;++i<e;){var o=An(i,r),a=t[o];t[o]=t[i],t[i]=a}return t.length=e,t}var fo=function(t){var e=da(t,(function(t){return 500===i.size&&i.clear(),t})),i=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(V,(function(t,i,n,r){e.push(n?r.replace(K,"$1"):i||t)})),e}));function po(t){if("string"==typeof t||Va(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function go(t){if(null!=t){try{return pt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function mo(t){if(t instanceof bi)return t.clone();var e=new _i(t.__wrapped__,t.__chain__);return e.__actions__=ar(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var vo=Pn((function(t,e){return Ea(t)?ji(t,qi(e,1,Ea,!0)):[]})),yo=Pn((function(t,e){var i=Po(e);return Ea(i)&&(i=void 0),Ea(t)?ji(t,qi(e,1,Ea,!0),Ur(i,2)):[]})),_o=Pn((function(t,e){var i=Po(e);return Ea(i)&&(i=void 0),Ea(t)?ji(t,qi(e,1,Ea,!0),void 0,i):[]}));function bo(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=null==i?0:za(i);return r<0&&(r=Ye(n+r,0)),le(t,Ur(e,3),r)}function To(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=n-1;return void 0!==i&&(r=za(i),r=i<0?Ye(n+r,0):Ke(r,n-1)),le(t,Ur(e,3),r,!0)}function wo(t){return(null==t?0:t.length)?qi(t,1):[]}function So(t){return t&&t.length?t[0]:void 0}var Eo=Pn((function(t){var e=ie(t,Yn);return e.length&&e[0]===t[0]?an(e):[]})),Ao=Pn((function(t){var e=Po(t),i=ie(t,Yn);return e===Po(i)?e=void 0:i.pop(),i.length&&i[0]===t[0]?an(i,Ur(e,2)):[]})),Co=Pn((function(t){var e=Po(t),i=ie(t,Yn);return(e="function"==typeof e?e:void 0)&&i.pop(),i.length&&i[0]===t[0]?an(i,void 0,e):[]}));function Po(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var Io=Pn(Oo);function Oo(t,e){return t&&t.length&&e&&e.length?Sn(t,e):t}var xo=Rr((function(t,e){var i=null==t?0:t.length,n=Ni(t,e);return En(t,ie(e,(function(t){return Yr(t,i)?+t:t})).sort(nr)),n}));function ko(t){return null==t?t:Je.call(t)}var Ro=Pn((function(t){return jn(qi(t,1,Ea,!0))})),Mo=Pn((function(t){var e=Po(t);return Ea(e)&&(e=void 0),jn(qi(t,1,Ea,!0),Ur(e,2))})),Lo=Pn((function(t){var e=Po(t);return e="function"==typeof e?e:void 0,jn(qi(t,1,Ea,!0),void 0,e)}));function Do(t){if(!t||!t.length)return[];var e=0;return t=Jt(t,(function(t){if(Ea(t))return e=Ye(t.length,e),!0})),ye(e,(function(e){return ie(t,pe(e))}))}function No(t,e){if(!t||!t.length)return[];var i=Do(t);return null==e?i:ie(i,(function(t){return Yt(e,void 0,t)}))}var Fo=Pn((function(t,e){return Ea(t)?ji(t,e):[]})),Uo=Pn((function(t){return $n(Jt(t,Ea))})),Vo=Pn((function(t){var e=Po(t);return Ea(e)&&(e=void 0),$n(Jt(t,Ea),Ur(e,2))})),Bo=Pn((function(t){var e=Po(t);return e="function"==typeof e?e:void 0,$n(Jt(t,Ea),void 0,e)})),jo=Pn(Do);var Ho=Pn((function(t){var e=t.length,i=e>1?t[e-1]:void 0;return i="function"==typeof i?(t.pop(),i):void 0,No(t,i)}));function Go(t){var e=mi(t);return e.__chain__=!0,e}function Wo(t,e){return e(t)}var zo=Rr((function(t){var e=t.length,i=e?t[0]:0,n=this.__wrapped__,r=function(e){return Ni(e,t)};return!(e>1||this.__actions__.length)&&n instanceof bi&&Yr(i)?((n=n.slice(i,+i+(e?1:0))).__actions__.push({func:Wo,args:[r],thisArg:void 0}),new _i(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(r)}));var $o=ur((function(t,e,i){gt.call(t,i)?++t[i]:Di(t,i,1)}));var qo=gr(bo),Yo=gr(To);function Ko(t,e){return(Ta(t)?Xt:Hi)(t,Ur(e,3))}function Xo(t,e){return(Ta(t)?Zt:Gi)(t,Ur(e,3))}var Zo=ur((function(t,e,i){gt.call(t,i)?t[i].push(e):Di(t,i,[e])}));var Qo=Pn((function(t,e,i){var r=-1,o="function"==typeof e,a=Sa(t)?n(t.length):[];return Hi(t,(function(t){a[++r]=o?Yt(e,t,i):sn(t,e,i)})),a})),Jo=ur((function(t,e,i){Di(t,i,e)}));function ta(t,e){return(Ta(t)?ie:mn)(t,Ur(e,3))}var ea=ur((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]}));var ia=Pn((function(t,e){if(null==t)return[];var i=e.length;return i>1&&Kr(t,e[0],e[1])?e=[]:i>2&&Kr(e[0],e[1],e[2])&&(e=[e[0]]),Tn(t,qi(e,1),[])})),na=Ve||function(){return Nt.Date.now()};function ra(t,e,i){return e=i?void 0:e,Ir(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function oa(t,e){var i;if("function"!=typeof e)throw new lt(o);return t=za(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=void 0),i}}var aa=Pn((function(t,e,i){var n=1;if(i.length){var r=xe(i,Fr(aa));n|=32}return Ir(t,n,e,i,r)})),sa=Pn((function(t,e,i){var n=3;if(i.length){var r=xe(i,Fr(sa));n|=32}return Ir(e,n,t,i,r)}));function ua(t,e,i){var n,r,a,s,u,l,c=0,d=!1,h=!1,f=!0;if("function"!=typeof t)throw new lt(o);function p(e){var i=n,o=r;return n=r=void 0,c=e,s=t.apply(o,i)}function g(t){return c=t,u=so(v,e),d?p(t):s}function m(t){var i=t-l;return void 0===l||i>=e||i<0||h&&t-c>=a}function v(){var t=na();if(m(t))return y(t);u=so(v,function(t){var i=e-(t-l);return h?Ke(i,a-(t-c)):i}(t))}function y(t){return u=void 0,f&&n?p(t):(n=r=void 0,s)}function _(){var t=na(),i=m(t);if(n=arguments,r=this,l=t,i){if(void 0===u)return g(l);if(h)return Jn(u),u=so(v,e),p(l)}return void 0===u&&(u=so(v,e)),s}return e=qa(e)||0,ka(i)&&(d=!!i.leading,a=(h="maxWait"in i)?Ye(qa(i.maxWait)||0,e):a,f="trailing"in i?!!i.trailing:f),_.cancel=function(){void 0!==u&&Jn(u),c=0,n=l=r=u=void 0},_.flush=function(){return void 0===u?s:y(na())},_}var la=Pn((function(t,e){return Bi(t,1,e)})),ca=Pn((function(t,e,i){return Bi(t,qa(e)||0,i)}));function da(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new lt(o);var i=function(){var n=arguments,r=e?e.apply(this,n):n[0],o=i.cache;if(o.has(r))return o.get(r);var a=t.apply(this,n);return i.cache=o.set(r,a)||o,a};return i.cache=new(da.Cache||Si),i}function ha(t){if("function"!=typeof t)throw new lt(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}da.Cache=Si;var fa=Zn((function(t,e){var i=(e=1==e.length&&Ta(e[0])?ie(e[0],_e(Ur())):ie(qi(e,1),_e(Ur()))).length;return Pn((function(n){for(var r=-1,o=Ke(n.length,i);++r<o;)n[r]=e[r].call(this,n[r]);return Yt(t,this,n)}))})),pa=Pn((function(t,e){return Ir(t,32,void 0,e,xe(e,Fr(pa)))})),ga=Pn((function(t,e){return Ir(t,64,void 0,e,xe(e,Fr(ga)))})),ma=Rr((function(t,e){return Ir(t,256,void 0,void 0,void 0,e)}));function va(t,e){return t===e||t!=t&&e!=e}var ya=Sr(nn),_a=Sr((function(t,e){return t>=e})),ba=un(function(){return arguments}())?un:function(t){return Ra(t)&&gt.call(t,"callee")&&!Ut.call(t,"callee")},Ta=n.isArray,wa=Ht?_e(Ht):function(t){return Ra(t)&&en(t)==S};function Sa(t){return null!=t&&xa(t.length)&&!Ia(t)}function Ea(t){return Ra(t)&&Sa(t)}var Aa=We||qs,Ca=Gt?_e(Gt):function(t){return Ra(t)&&en(t)==d};function Pa(t){if(!Ra(t))return!1;var e=en(t);return e==h||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!Da(t)}function Ia(t){if(!ka(t))return!1;var e=en(t);return e==f||e==p||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Oa(t){return"number"==typeof t&&t==za(t)}function xa(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function ka(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Ra(t){return null!=t&&"object"==typeof t}var Ma=Wt?_e(Wt):function(t){return Ra(t)&&Wr(t)==g};function La(t){return"number"==typeof t||Ra(t)&&en(t)==m}function Da(t){if(!Ra(t)||en(t)!=v)return!1;var e=Dt(t);if(null===e)return!0;var i=gt.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&pt.call(i)==_t}var Na=zt?_e(zt):function(t){return Ra(t)&&en(t)==y};var Fa=$t?_e($t):function(t){return Ra(t)&&Wr(t)==_};function Ua(t){return"string"==typeof t||!Ta(t)&&Ra(t)&&en(t)==b}function Va(t){return"symbol"==typeof t||Ra(t)&&en(t)==T}var Ba=qt?_e(qt):function(t){return Ra(t)&&xa(t.length)&&!!xt[en(t)]};var ja=Sr(gn),Ha=Sr((function(t,e){return t<=e}));function Ga(t){if(!t)return[];if(Sa(t))return Ua(t)?Le(t):ar(t);if(se&&t[se])return function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}(t[se]());var e=Wr(t);return(e==g?Ie:e==_?ke:vs)(t)}function Wa(t){return t?(t=qa(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function za(t){var e=Wa(t),i=e%1;return e==e?i?e-i:e:0}function $a(t){return t?Fi(za(t),0,4294967295):0}function qa(t){if("number"==typeof t)return t;if(Va(t))return NaN;if(ka(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ka(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(H,"");var i=Q.test(t);return i||tt.test(t)?Mt(t.slice(2),i?2:8):Z.test(t)?NaN:+t}function Ya(t){return sr(t,ls(t))}function Ka(t){return null==t?"":Bn(t)}var Xa=lr((function(t,e){if(Jr(e)||Sa(e))sr(e,us(e),t);else for(var i in e)gt.call(e,i)&&ki(t,i,e[i])})),Za=lr((function(t,e){sr(e,ls(e),t)})),Qa=lr((function(t,e,i,n){sr(e,ls(e),t,n)})),Ja=lr((function(t,e,i,n){sr(e,us(e),t,n)})),ts=Rr(Ni);var es=Pn((function(t,e){t=at(t);var i=-1,n=e.length,r=n>2?e[2]:void 0;for(r&&Kr(e[0],e[1],r)&&(n=1);++i<n;)for(var o=e[i],a=ls(o),s=-1,u=a.length;++s<u;){var l=a[s],c=t[l];(void 0===c||va(c,ht[l])&&!gt.call(t,l))&&(t[l]=o[l])}return t})),is=Pn((function(t){return t.push(void 0,Or),Yt(ds,void 0,t)}));function ns(t,e,i){var n=null==t?void 0:Ji(t,e);return void 0===n?i:n}function rs(t,e){return null!=t&&zr(t,e,on)}var os=yr((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=yt.call(e)),t[e]=i}),ks(Ls)),as=yr((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=yt.call(e)),gt.call(t,e)?t[e].push(i):t[e]=[i]}),Ur),ss=Pn(sn);function us(t){return Sa(t)?Ci(t):fn(t)}function ls(t){return Sa(t)?Ci(t,!0):pn(t)}var cs=lr((function(t,e,i){_n(t,e,i)})),ds=lr((function(t,e,i,n){_n(t,e,i,n)})),hs=Rr((function(t,e){var i={};if(null==t)return i;var n=!1;e=ie(e,(function(e){return e=Xn(e,t),n||(n=e.length>1),e})),sr(t,Lr(t),i),n&&(i=Ui(i,7,xr));for(var r=e.length;r--;)Hn(i,e[r]);return i}));var fs=Rr((function(t,e){return null==t?{}:function(t,e){return wn(t,e,(function(e,i){return rs(t,i)}))}(t,e)}));function ps(t,e){if(null==t)return{};var i=ie(Lr(t),(function(t){return[t]}));return e=Ur(e),wn(t,i,(function(t,i){return e(t,i[0])}))}var gs=Pr(us),ms=Pr(ls);function vs(t){return null==t?[]:be(t,us(t))}var ys=fr((function(t,e,i){return e=e.toLowerCase(),t+(i?_s(e):e)}));function _s(t){return Ps(Ka(t).toLowerCase())}function bs(t){return(t=Ka(t))&&t.replace(it,Ae).replace(Et,"")}var Ts=fr((function(t,e,i){return t+(i?"-":"")+e.toLowerCase()})),ws=fr((function(t,e,i){return t+(i?" ":"")+e.toLowerCase()})),Ss=hr("toLowerCase");var Es=fr((function(t,e,i){return t+(i?"_":"")+e.toLowerCase()}));var As=fr((function(t,e,i){return t+(i?" ":"")+Ps(e)}));var Cs=fr((function(t,e,i){return t+(i?" ":"")+e.toUpperCase()})),Ps=hr("toUpperCase");function Is(t,e,i){return t=Ka(t),void 0===(e=i?void 0:e)?function(t){return It.test(t)}(t)?function(t){return t.match(Ct)||[]}(t):function(t){return t.match(Y)||[]}(t):t.match(e)||[]}var Os=Pn((function(t,e){try{return Yt(t,void 0,e)}catch(t){return Pa(t)?t:new nt(t)}})),xs=Rr((function(t,e){return Xt(e,(function(e){e=po(e),Di(t,e,aa(t[e],t))})),t}));function ks(t){return function(){return t}}var Rs=mr(),Ms=mr(!0);function Ls(t){return t}function Ds(t){return hn("function"==typeof t?t:Ui(t,1))}var Ns=Pn((function(t,e){return function(i){return sn(i,t,e)}})),Fs=Pn((function(t,e){return function(i){return sn(t,i,e)}}));function Us(t,e,i){var n=us(e),r=Qi(e,n);null!=i||ka(e)&&(r.length||!n.length)||(i=e,e=t,t=this,r=Qi(e,us(e)));var o=!(ka(i)&&"chain"in i&&!i.chain),a=Ia(t);return Xt(r,(function(i){var n=e[i];t[i]=n,a&&(t.prototype[i]=function(){var e=this.__chain__;if(o||e){var i=t(this.__wrapped__),r=i.__actions__=ar(this.__actions__);return r.push({func:n,args:arguments,thisArg:t}),i.__chain__=e,i}return n.apply(t,ne([this.value()],arguments))})})),t}function Vs(){}var Bs=br(ie),js=br(Qt),Hs=br(ae);function Gs(t){return Xr(t)?pe(po(t)):function(t){return function(e){return Ji(e,t)}}(t)}var Ws=wr(),zs=wr(!0);function $s(){return[]}function qs(){return!1}var Ys=_r((function(t,e){return t+e}),0),Ks=Ar("ceil"),Xs=_r((function(t,e){return t/e}),1),Zs=Ar("floor");var Qs,Js=_r((function(t,e){return t*e}),1),tu=Ar("round"),eu=_r((function(t,e){return t-e}),0);return mi.after=function(t,e){if("function"!=typeof e)throw new lt(o);return t=za(t),function(){if(--t<1)return e.apply(this,arguments)}},mi.ary=ra,mi.assign=Xa,mi.assignIn=Za,mi.assignInWith=Qa,mi.assignWith=Ja,mi.at=ts,mi.before=oa,mi.bind=aa,mi.bindAll=xs,mi.bindKey=sa,mi.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ta(t)?t:[t]},mi.chain=Go,mi.chunk=function(t,e,i){e=(i?Kr(t,e,i):void 0===e)?1:Ye(za(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var o=0,a=0,s=n(je(r/e));o<r;)s[a++]=Ln(t,o,o+=e);return s},mi.compact=function(t){for(var e=-1,i=null==t?0:t.length,n=0,r=[];++e<i;){var o=t[e];o&&(r[n++]=o)}return r},mi.concat=function(){var t=arguments.length;if(!t)return[];for(var e=n(t-1),i=arguments[0],r=t;r--;)e[r-1]=arguments[r];return ne(Ta(i)?ar(i):[i],qi(e,1))},mi.cond=function(t){var e=null==t?0:t.length,i=Ur();return t=e?ie(t,(function(t){if("function"!=typeof t[1])throw new lt(o);return[i(t[0]),t[1]]})):[],Pn((function(i){for(var n=-1;++n<e;){var r=t[n];if(Yt(r[0],this,i))return Yt(r[1],this,i)}}))},mi.conforms=function(t){return function(t){var e=us(t);return function(i){return Vi(i,t,e)}}(Ui(t,1))},mi.constant=ks,mi.countBy=$o,mi.create=function(t,e){var i=vi(t);return null==e?i:Li(i,e)},mi.curry=function t(e,i,n){var r=Ir(e,8,void 0,void 0,void 0,void 0,void 0,i=n?void 0:i);return r.placeholder=t.placeholder,r},mi.curryRight=function t(e,i,n){var r=Ir(e,16,void 0,void 0,void 0,void 0,void 0,i=n?void 0:i);return r.placeholder=t.placeholder,r},mi.debounce=ua,mi.defaults=es,mi.defaultsDeep=is,mi.defer=la,mi.delay=ca,mi.difference=vo,mi.differenceBy=yo,mi.differenceWith=_o,mi.drop=function(t,e,i){var n=null==t?0:t.length;return n?Ln(t,(e=i||void 0===e?1:za(e))<0?0:e,n):[]},mi.dropRight=function(t,e,i){var n=null==t?0:t.length;return n?Ln(t,0,(e=n-(e=i||void 0===e?1:za(e)))<0?0:e):[]},mi.dropRightWhile=function(t,e){return t&&t.length?Wn(t,Ur(e,3),!0,!0):[]},mi.dropWhile=function(t,e){return t&&t.length?Wn(t,Ur(e,3),!0):[]},mi.fill=function(t,e,i,n){var r=null==t?0:t.length;return r?(i&&"number"!=typeof i&&Kr(t,e,i)&&(i=0,n=r),function(t,e,i,n){var r=t.length;for((i=za(i))<0&&(i=-i>r?0:r+i),(n=void 0===n||n>r?r:za(n))<0&&(n+=r),n=i>n?0:$a(n);i<n;)t[i++]=e;return t}(t,e,i,n)):[]},mi.filter=function(t,e){return(Ta(t)?Jt:$i)(t,Ur(e,3))},mi.flatMap=function(t,e){return qi(ta(t,e),1)},mi.flatMapDeep=function(t,e){return qi(ta(t,e),1/0)},mi.flatMapDepth=function(t,e,i){return i=void 0===i?1:za(i),qi(ta(t,e),i)},mi.flatten=wo,mi.flattenDeep=function(t){return(null==t?0:t.length)?qi(t,1/0):[]},mi.flattenDepth=function(t,e){return(null==t?0:t.length)?qi(t,e=void 0===e?1:za(e)):[]},mi.flip=function(t){return Ir(t,512)},mi.flow=Rs,mi.flowRight=Ms,mi.fromPairs=function(t){for(var e=-1,i=null==t?0:t.length,n={};++e<i;){var r=t[e];n[r[0]]=r[1]}return n},mi.functions=function(t){return null==t?[]:Qi(t,us(t))},mi.functionsIn=function(t){return null==t?[]:Qi(t,ls(t))},mi.groupBy=Zo,mi.initial=function(t){return(null==t?0:t.length)?Ln(t,0,-1):[]},mi.intersection=Eo,mi.intersectionBy=Ao,mi.intersectionWith=Co,mi.invert=os,mi.invertBy=as,mi.invokeMap=Qo,mi.iteratee=Ds,mi.keyBy=Jo,mi.keys=us,mi.keysIn=ls,mi.map=ta,mi.mapKeys=function(t,e){var i={};return e=Ur(e,3),Xi(t,(function(t,n,r){Di(i,e(t,n,r),t)})),i},mi.mapValues=function(t,e){var i={};return e=Ur(e,3),Xi(t,(function(t,n,r){Di(i,n,e(t,n,r))})),i},mi.matches=function(t){return vn(Ui(t,1))},mi.matchesProperty=function(t,e){return yn(t,Ui(e,1))},mi.memoize=da,mi.merge=cs,mi.mergeWith=ds,mi.method=Ns,mi.methodOf=Fs,mi.mixin=Us,mi.negate=ha,mi.nthArg=function(t){return t=za(t),Pn((function(e){return bn(e,t)}))},mi.omit=hs,mi.omitBy=function(t,e){return ps(t,ha(Ur(e)))},mi.once=function(t){return oa(2,t)},mi.orderBy=function(t,e,i,n){return null==t?[]:(Ta(e)||(e=null==e?[]:[e]),Ta(i=n?void 0:i)||(i=null==i?[]:[i]),Tn(t,e,i))},mi.over=Bs,mi.overArgs=fa,mi.overEvery=js,mi.overSome=Hs,mi.partial=pa,mi.partialRight=ga,mi.partition=ea,mi.pick=fs,mi.pickBy=ps,mi.property=Gs,mi.propertyOf=function(t){return function(e){return null==t?void 0:Ji(t,e)}},mi.pull=Io,mi.pullAll=Oo,mi.pullAllBy=function(t,e,i){return t&&t.length&&e&&e.length?Sn(t,e,Ur(i,2)):t},mi.pullAllWith=function(t,e,i){return t&&t.length&&e&&e.length?Sn(t,e,void 0,i):t},mi.pullAt=xo,mi.range=Ws,mi.rangeRight=zs,mi.rearg=ma,mi.reject=function(t,e){return(Ta(t)?Jt:$i)(t,ha(Ur(e,3)))},mi.remove=function(t,e){var i=[];if(!t||!t.length)return i;var n=-1,r=[],o=t.length;for(e=Ur(e,3);++n<o;){var a=t[n];e(a,n,t)&&(i.push(a),r.push(n))}return En(t,r),i},mi.rest=function(t,e){if("function"!=typeof t)throw new lt(o);return Pn(t,e=void 0===e?e:za(e))},mi.reverse=ko,mi.sampleSize=function(t,e,i){return e=(i?Kr(t,e,i):void 0===e)?1:za(e),(Ta(t)?Ii:On)(t,e)},mi.set=function(t,e,i){return null==t?t:xn(t,e,i)},mi.setWith=function(t,e,i,n){return n="function"==typeof n?n:void 0,null==t?t:xn(t,e,i,n)},mi.shuffle=function(t){return(Ta(t)?Oi:Mn)(t)},mi.slice=function(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&Kr(t,e,i)?(e=0,i=n):(e=null==e?0:za(e),i=void 0===i?n:za(i)),Ln(t,e,i)):[]},mi.sortBy=ia,mi.sortedUniq=function(t){return t&&t.length?Un(t):[]},mi.sortedUniqBy=function(t,e){return t&&t.length?Un(t,Ur(e,2)):[]},mi.split=function(t,e,i){return i&&"number"!=typeof i&&Kr(t,e,i)&&(e=i=void 0),(i=void 0===i?4294967295:i>>>0)?(t=Ka(t))&&("string"==typeof e||null!=e&&!Na(e))&&!(e=Bn(e))&&Pe(t)?Qn(Le(t),0,i):t.split(e,i):[]},mi.spread=function(t,e){if("function"!=typeof t)throw new lt(o);return e=null==e?0:Ye(za(e),0),Pn((function(i){var n=i[e],r=Qn(i,0,e);return n&&ne(r,n),Yt(t,this,r)}))},mi.tail=function(t){var e=null==t?0:t.length;return e?Ln(t,1,e):[]},mi.take=function(t,e,i){return t&&t.length?Ln(t,0,(e=i||void 0===e?1:za(e))<0?0:e):[]},mi.takeRight=function(t,e,i){var n=null==t?0:t.length;return n?Ln(t,(e=n-(e=i||void 0===e?1:za(e)))<0?0:e,n):[]},mi.takeRightWhile=function(t,e){return t&&t.length?Wn(t,Ur(e,3),!1,!0):[]},mi.takeWhile=function(t,e){return t&&t.length?Wn(t,Ur(e,3)):[]},mi.tap=function(t,e){return e(t),t},mi.throttle=function(t,e,i){var n=!0,r=!0;if("function"!=typeof t)throw new lt(o);return ka(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),ua(t,e,{leading:n,maxWait:e,trailing:r})},mi.thru=Wo,mi.toArray=Ga,mi.toPairs=gs,mi.toPairsIn=ms,mi.toPath=function(t){return Ta(t)?ie(t,po):Va(t)?[t]:ar(fo(Ka(t)))},mi.toPlainObject=Ya,mi.transform=function(t,e,i){var n=Ta(t),r=n||Aa(t)||Ba(t);if(e=Ur(e,4),null==i){var o=t&&t.constructor;i=r?n?new o:[]:ka(t)&&Ia(o)?vi(Dt(t)):{}}return(r?Xt:Xi)(t,(function(t,n,r){return e(i,t,n,r)})),i},mi.unary=function(t){return ra(t,1)},mi.union=Ro,mi.unionBy=Mo,mi.unionWith=Lo,mi.uniq=function(t){return t&&t.length?jn(t):[]},mi.uniqBy=function(t,e){return t&&t.length?jn(t,Ur(e,2)):[]},mi.uniqWith=function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?jn(t,void 0,e):[]},mi.unset=function(t,e){return null==t||Hn(t,e)},mi.unzip=Do,mi.unzipWith=No,mi.update=function(t,e,i){return null==t?t:Gn(t,e,Kn(i))},mi.updateWith=function(t,e,i,n){return n="function"==typeof n?n:void 0,null==t?t:Gn(t,e,Kn(i),n)},mi.values=vs,mi.valuesIn=function(t){return null==t?[]:be(t,ls(t))},mi.without=Fo,mi.words=Is,mi.wrap=function(t,e){return pa(Kn(e),t)},mi.xor=Uo,mi.xorBy=Vo,mi.xorWith=Bo,mi.zip=jo,mi.zipObject=function(t,e){return qn(t||[],e||[],ki)},mi.zipObjectDeep=function(t,e){return qn(t||[],e||[],xn)},mi.zipWith=Ho,mi.entries=gs,mi.entriesIn=ms,mi.extend=Za,mi.extendWith=Qa,Us(mi,mi),mi.add=Ys,mi.attempt=Os,mi.camelCase=ys,mi.capitalize=_s,mi.ceil=Ks,mi.clamp=function(t,e,i){return void 0===i&&(i=e,e=void 0),void 0!==i&&(i=(i=qa(i))==i?i:0),void 0!==e&&(e=(e=qa(e))==e?e:0),Fi(qa(t),e,i)},mi.clone=function(t){return Ui(t,4)},mi.cloneDeep=function(t){return Ui(t,5)},mi.cloneDeepWith=function(t,e){return Ui(t,5,e="function"==typeof e?e:void 0)},mi.cloneWith=function(t,e){return Ui(t,4,e="function"==typeof e?e:void 0)},mi.conformsTo=function(t,e){return null==e||Vi(t,e,us(e))},mi.deburr=bs,mi.defaultTo=function(t,e){return null==t||t!=t?e:t},mi.divide=Xs,mi.endsWith=function(t,e,i){t=Ka(t),e=Bn(e);var n=t.length,r=i=void 0===i?n:Fi(za(i),0,n);return(i-=e.length)>=0&&t.slice(i,r)==e},mi.eq=va,mi.escape=function(t){return(t=Ka(t))&&N.test(t)?t.replace(L,Ce):t},mi.escapeRegExp=function(t){return(t=Ka(t))&&j.test(t)?t.replace(B,"\\$&"):t},mi.every=function(t,e,i){var n=Ta(t)?Qt:Wi;return i&&Kr(t,e,i)&&(e=void 0),n(t,Ur(e,3))},mi.find=qo,mi.findIndex=bo,mi.findKey=function(t,e){return ue(t,Ur(e,3),Xi)},mi.findLast=Yo,mi.findLastIndex=To,mi.findLastKey=function(t,e){return ue(t,Ur(e,3),Zi)},mi.floor=Zs,mi.forEach=Ko,mi.forEachRight=Xo,mi.forIn=function(t,e){return null==t?t:Yi(t,Ur(e,3),ls)},mi.forInRight=function(t,e){return null==t?t:Ki(t,Ur(e,3),ls)},mi.forOwn=function(t,e){return t&&Xi(t,Ur(e,3))},mi.forOwnRight=function(t,e){return t&&Zi(t,Ur(e,3))},mi.get=ns,mi.gt=ya,mi.gte=_a,mi.has=function(t,e){return null!=t&&zr(t,e,rn)},mi.hasIn=rs,mi.head=So,mi.identity=Ls,mi.includes=function(t,e,i,n){t=Sa(t)?t:vs(t),i=i&&!n?za(i):0;var r=t.length;return i<0&&(i=Ye(r+i,0)),Ua(t)?i<=r&&t.indexOf(e,i)>-1:!!r&&ce(t,e,i)>-1},mi.indexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=null==i?0:za(i);return r<0&&(r=Ye(n+r,0)),ce(t,e,r)},mi.inRange=function(t,e,i){return e=Wa(e),void 0===i?(i=e,e=0):i=Wa(i),function(t,e,i){return t>=Ke(e,i)&&t<Ye(e,i)}(t=qa(t),e,i)},mi.invoke=ss,mi.isArguments=ba,mi.isArray=Ta,mi.isArrayBuffer=wa,mi.isArrayLike=Sa,mi.isArrayLikeObject=Ea,mi.isBoolean=function(t){return!0===t||!1===t||Ra(t)&&en(t)==c},mi.isBuffer=Aa,mi.isDate=Ca,mi.isElement=function(t){return Ra(t)&&1===t.nodeType&&!Da(t)},mi.isEmpty=function(t){if(null==t)return!0;if(Sa(t)&&(Ta(t)||"string"==typeof t||"function"==typeof t.splice||Aa(t)||Ba(t)||ba(t)))return!t.length;var e=Wr(t);if(e==g||e==_)return!t.size;if(Jr(t))return!fn(t).length;for(var i in t)if(gt.call(t,i))return!1;return!0},mi.isEqual=function(t,e){return ln(t,e)},mi.isEqualWith=function(t,e,i){var n=(i="function"==typeof i?i:void 0)?i(t,e):void 0;return void 0===n?ln(t,e,void 0,i):!!n},mi.isError=Pa,mi.isFinite=function(t){return"number"==typeof t&&ze(t)},mi.isFunction=Ia,mi.isInteger=Oa,mi.isLength=xa,mi.isMap=Ma,mi.isMatch=function(t,e){return t===e||cn(t,e,Br(e))},mi.isMatchWith=function(t,e,i){return i="function"==typeof i?i:void 0,cn(t,e,Br(e),i)},mi.isNaN=function(t){return La(t)&&t!=+t},mi.isNative=function(t){if(Qr(t))throw new nt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return dn(t)},mi.isNil=function(t){return null==t},mi.isNull=function(t){return null===t},mi.isNumber=La,mi.isObject=ka,mi.isObjectLike=Ra,mi.isPlainObject=Da,mi.isRegExp=Na,mi.isSafeInteger=function(t){return Oa(t)&&t>=-9007199254740991&&t<=9007199254740991},mi.isSet=Fa,mi.isString=Ua,mi.isSymbol=Va,mi.isTypedArray=Ba,mi.isUndefined=function(t){return void 0===t},mi.isWeakMap=function(t){return Ra(t)&&Wr(t)==w},mi.isWeakSet=function(t){return Ra(t)&&"[object WeakSet]"==en(t)},mi.join=function(t,e){return null==t?"":$e.call(t,e)},mi.kebabCase=Ts,mi.last=Po,mi.lastIndexOf=function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var r=n;return void 0!==i&&(r=(r=za(i))<0?Ye(n+r,0):Ke(r,n-1)),e==e?function(t,e,i){for(var n=i+1;n--;)if(t[n]===e)return n;return n}(t,e,r):le(t,he,r,!0)},mi.lowerCase=ws,mi.lowerFirst=Ss,mi.lt=ja,mi.lte=Ha,mi.max=function(t){return t&&t.length?zi(t,Ls,nn):void 0},mi.maxBy=function(t,e){return t&&t.length?zi(t,Ur(e,2),nn):void 0},mi.mean=function(t){return fe(t,Ls)},mi.meanBy=function(t,e){return fe(t,Ur(e,2))},mi.min=function(t){return t&&t.length?zi(t,Ls,gn):void 0},mi.minBy=function(t,e){return t&&t.length?zi(t,Ur(e,2),gn):void 0},mi.stubArray=$s,mi.stubFalse=qs,mi.stubObject=function(){return{}},mi.stubString=function(){return""},mi.stubTrue=function(){return!0},mi.multiply=Js,mi.nth=function(t,e){return t&&t.length?bn(t,za(e)):void 0},mi.noConflict=function(){return Nt._===this&&(Nt._=bt),this},mi.noop=Vs,mi.now=na,mi.pad=function(t,e,i){t=Ka(t);var n=(e=za(e))?Me(t):0;if(!e||n>=e)return t;var r=(e-n)/2;return Tr(He(r),i)+t+Tr(je(r),i)},mi.padEnd=function(t,e,i){t=Ka(t);var n=(e=za(e))?Me(t):0;return e&&n<e?t+Tr(e-n,i):t},mi.padStart=function(t,e,i){t=Ka(t);var n=(e=za(e))?Me(t):0;return e&&n<e?Tr(e-n,i)+t:t},mi.parseInt=function(t,e,i){return i||null==e?e=0:e&&(e=+e),Ze(Ka(t).replace(G,""),e||0)},mi.random=function(t,e,i){if(i&&"boolean"!=typeof i&&Kr(t,e,i)&&(e=i=void 0),void 0===i&&("boolean"==typeof e?(i=e,e=void 0):"boolean"==typeof t&&(i=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=Wa(t),void 0===e?(e=t,t=0):e=Wa(e)),t>e){var n=t;t=e,e=n}if(i||t%1||e%1){var r=Qe();return Ke(t+r*(e-t+Rt("1e-"+((r+"").length-1))),e)}return An(t,e)},mi.reduce=function(t,e,i){var n=Ta(t)?re:me,r=arguments.length<3;return n(t,Ur(e,4),i,r,Hi)},mi.reduceRight=function(t,e,i){var n=Ta(t)?oe:me,r=arguments.length<3;return n(t,Ur(e,4),i,r,Gi)},mi.repeat=function(t,e,i){return e=(i?Kr(t,e,i):void 0===e)?1:za(e),Cn(Ka(t),e)},mi.replace=function(){var t=arguments,e=Ka(t[0]);return t.length<3?e:e.replace(t[1],t[2])},mi.result=function(t,e,i){var n=-1,r=(e=Xn(e,t)).length;for(r||(r=1,t=void 0);++n<r;){var o=null==t?void 0:t[po(e[n])];void 0===o&&(n=r,o=i),t=Ia(o)?o.call(t):o}return t},mi.round=tu,mi.runInContext=t,mi.sample=function(t){return(Ta(t)?Pi:In)(t)},mi.size=function(t){if(null==t)return 0;if(Sa(t))return Ua(t)?Me(t):t.length;var e=Wr(t);return e==g||e==_?t.size:fn(t).length},mi.snakeCase=Es,mi.some=function(t,e,i){var n=Ta(t)?ae:Dn;return i&&Kr(t,e,i)&&(e=void 0),n(t,Ur(e,3))},mi.sortedIndex=function(t,e){return Nn(t,e)},mi.sortedIndexBy=function(t,e,i){return Fn(t,e,Ur(i,2))},mi.sortedIndexOf=function(t,e){var i=null==t?0:t.length;if(i){var n=Nn(t,e);if(n<i&&va(t[n],e))return n}return-1},mi.sortedLastIndex=function(t,e){return Nn(t,e,!0)},mi.sortedLastIndexBy=function(t,e,i){return Fn(t,e,Ur(i,2),!0)},mi.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var i=Nn(t,e,!0)-1;if(va(t[i],e))return i}return-1},mi.startCase=As,mi.startsWith=function(t,e,i){return t=Ka(t),i=null==i?0:Fi(za(i),0,t.length),e=Bn(e),t.slice(i,i+e.length)==e},mi.subtract=eu,mi.sum=function(t){return t&&t.length?ve(t,Ls):0},mi.sumBy=function(t,e){return t&&t.length?ve(t,Ur(e,2)):0},mi.times=function(t,e){if((t=za(t))<1||t>9007199254740991)return[];var i=4294967295,n=Ke(t,4294967295);t-=4294967295;for(var r=ye(n,e=Ur(e));++i<t;)e(i);return r},mi.toFinite=Wa,mi.toInteger=za,mi.toLength=$a,mi.toLower=function(t){return Ka(t).toLowerCase()},mi.toNumber=qa,mi.toSafeInteger=function(t){return t?Fi(za(t),-9007199254740991,9007199254740991):0===t?t:0},mi.toString=Ka,mi.toUpper=function(t){return Ka(t).toUpperCase()},mi.trim=function(t,e,i){if((t=Ka(t))&&(i||void 0===e))return t.replace(H,"");if(!t||!(e=Bn(e)))return t;var n=Le(t),r=Le(e);return Qn(n,we(n,r),Se(n,r)+1).join("")},mi.trimEnd=function(t,e,i){if((t=Ka(t))&&(i||void 0===e))return t.replace(W,"");if(!t||!(e=Bn(e)))return t;var n=Le(t);return Qn(n,0,Se(n,Le(e))+1).join("")},mi.trimStart=function(t,e,i){if((t=Ka(t))&&(i||void 0===e))return t.replace(G,"");if(!t||!(e=Bn(e)))return t;var n=Le(t);return Qn(n,we(n,Le(e))).join("")},mi.truncate=function(t,e){var i=30,n="...";if(ka(e)){var r="separator"in e?e.separator:r;i="length"in e?za(e.length):i,n="omission"in e?Bn(e.omission):n}var o=(t=Ka(t)).length;if(Pe(t)){var a=Le(t);o=a.length}if(i>=o)return t;var s=i-Me(n);if(s<1)return n;var u=a?Qn(a,0,s).join(""):t.slice(0,s);if(void 0===r)return u+n;if(a&&(s+=u.length-s),Na(r)){if(t.slice(s).search(r)){var l,c=u;for(r.global||(r=st(r.source,Ka(X.exec(r))+"g")),r.lastIndex=0;l=r.exec(c);)var d=l.index;u=u.slice(0,void 0===d?s:d)}}else if(t.indexOf(Bn(r),s)!=s){var h=u.lastIndexOf(r);h>-1&&(u=u.slice(0,h))}return u+n},mi.unescape=function(t){return(t=Ka(t))&&D.test(t)?t.replace(M,De):t},mi.uniqueId=function(t){var e=++mt;return Ka(t)+e},mi.upperCase=Cs,mi.upperFirst=Ps,mi.each=Ko,mi.eachRight=Xo,mi.first=So,Us(mi,(Qs={},Xi(mi,(function(t,e){gt.call(mi.prototype,e)||(Qs[e]=t)})),Qs),{chain:!1}),mi.VERSION="4.17.20",Xt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){mi[t].placeholder=mi})),Xt(["drop","take"],(function(t,e){bi.prototype[t]=function(i){i=void 0===i?1:Ye(za(i),0);var n=this.__filtered__&&!e?new bi(this):this.clone();return n.__filtered__?n.__takeCount__=Ke(i,n.__takeCount__):n.__views__.push({size:Ke(i,4294967295),type:t+(n.__dir__<0?"Right":"")}),n},bi.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Xt(["filter","map","takeWhile"],(function(t,e){var i=e+1,n=1==i||3==i;bi.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Ur(t,3),type:i}),e.__filtered__=e.__filtered__||n,e}})),Xt(["head","last"],(function(t,e){var i="take"+(e?"Right":"");bi.prototype[t]=function(){return this[i](1).value()[0]}})),Xt(["initial","tail"],(function(t,e){var i="drop"+(e?"":"Right");bi.prototype[t]=function(){return this.__filtered__?new bi(this):this[i](1)}})),bi.prototype.compact=function(){return this.filter(Ls)},bi.prototype.find=function(t){return this.filter(t).head()},bi.prototype.findLast=function(t){return this.reverse().find(t)},bi.prototype.invokeMap=Pn((function(t,e){return"function"==typeof t?new bi(this):this.map((function(i){return sn(i,t,e)}))})),bi.prototype.reject=function(t){return this.filter(ha(Ur(t)))},bi.prototype.slice=function(t,e){t=za(t);var i=this;return i.__filtered__&&(t>0||e<0)?new bi(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),void 0!==e&&(i=(e=za(e))<0?i.dropRight(-e):i.take(e-t)),i)},bi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},bi.prototype.toArray=function(){return this.take(4294967295)},Xi(bi.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),r=mi[n?"take"+("last"==e?"Right":""):e],o=n||/^find/.test(e);r&&(mi.prototype[e]=function(){var e=this.__wrapped__,a=n?[1]:arguments,s=e instanceof bi,u=a[0],l=s||Ta(e),c=function(t){var e=r.apply(mi,ne([t],a));return n&&d?e[0]:e};l&&i&&"function"==typeof u&&1!=u.length&&(s=l=!1);var d=this.__chain__,h=!!this.__actions__.length,f=o&&!d,p=s&&!h;if(!o&&l){e=p?e:new bi(this);var g=t.apply(e,a);return g.__actions__.push({func:Wo,args:[c],thisArg:void 0}),new _i(g,d)}return f&&p?t.apply(this,a):(g=this.thru(c),f?n?g.value()[0]:g.value():g)})})),Xt(["pop","push","shift","sort","splice","unshift"],(function(t){var e=ct[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);mi.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var r=this.value();return e.apply(Ta(r)?r:[],t)}return this[i]((function(i){return e.apply(Ta(i)?i:[],t)}))}})),Xi(bi.prototype,(function(t,e){var i=mi[e];if(i){var n=i.name+"";gt.call(si,n)||(si[n]=[]),si[n].push({name:e,func:i})}})),si[vr(void 0,2).name]=[{name:"wrapper",func:void 0}],bi.prototype.clone=function(){var t=new bi(this.__wrapped__);return t.__actions__=ar(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ar(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ar(this.__views__),t},bi.prototype.reverse=function(){if(this.__filtered__){var t=new bi(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},bi.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,i=Ta(t),n=e<0,r=i?t.length:0,o=function(t,e,i){var n=-1,r=i.length;for(;++n<r;){var o=i[n],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Ke(e,t+a);break;case"takeRight":t=Ye(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=o.end,u=s-a,l=n?s:a-1,c=this.__iteratees__,d=c.length,h=0,f=Ke(u,this.__takeCount__);if(!i||!n&&r==u&&f==u)return zn(t,this.__actions__);var p=[];t:for(;u--&&h<f;){for(var g=-1,m=t[l+=e];++g<d;){var v=c[g],y=v.iteratee,_=v.type,b=y(m);if(2==_)m=b;else if(!b){if(1==_)continue t;break t}}p[h++]=m}return p},mi.prototype.at=zo,mi.prototype.chain=function(){return Go(this)},mi.prototype.commit=function(){return new _i(this.value(),this.__chain__)},mi.prototype.next=function(){void 0===this.__values__&&(this.__values__=Ga(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},mi.prototype.plant=function(t){for(var e,i=this;i instanceof yi;){var n=mo(i);n.__index__=0,n.__values__=void 0,e?r.__wrapped__=n:e=n;var r=n;i=i.__wrapped__}return r.__wrapped__=t,e},mi.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof bi){var e=t;return this.__actions__.length&&(e=new bi(this)),(e=e.reverse()).__actions__.push({func:Wo,args:[ko],thisArg:void 0}),new _i(e,this.__chain__)}return this.thru(ko)},mi.prototype.toJSON=mi.prototype.valueOf=mi.prototype.value=function(){return zn(this.__wrapped__,this.__actions__)},mi.prototype.first=mi.prototype.head,se&&(mi.prototype[se]=function(){return this}),mi}();Nt._=Ne,void 0===(r=function(){return Ne}.call(e,i,e,n))||(n.exports=r)}).call(this)}).call(this,i(28),i(126)(t))},function(t,e){t.exports=jQuery},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o={absorb:function(t){r.default.each(t,(function(t,e){o[e]=t}))},purge:function(t){delete o[t]}};window.cerosContext&&o.absorb(window.cerosContext),e.default=o},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a,s,u,l,c,d,h,f,p,g,m,v,y,_,b,T,w,S,E,A,C,P,I,O,x,k,R,M,L,D,N,F=n(i(0)),U=n(i(79)),V=n(i(131)),B=n(i(37)),j=n(i(132)),H=n(i(38)),G=(r=function(){var t=H.default.getDimensions();return t.width*t.height<5e5},o=function(){return window.innerWidth*window.innerHeight<5e5},a=function(){return V.default.isMobile},s=function(){return!a()},u=function(){return a()&&r()},l=function(){return h(navigator.userAgent)||a()&&!r()},c=function(){return U.default.canvas&&U.default.video},d=F.default.once((function(){return j.default.browser(navigator.userAgent)})),h=function(t){var e=(t=t||navigator.userAgent).match(/(Macintosh; Intel Mac)(.*Version\/([\d.]+)\sSafari)/i);return!!(e&&(window.navigator.maxTouchPoints||0)>1)&&e},p=(f=function(t){var e,i,n;/Windows/i.test(t)?(e=t.match(/Phone( (OS )?([\d.]+))?/))?(i="Windows Mobile",n=e[3]):(e=t.match(/Windows NT\s([0-9.]+)/))?(i="Windows",n=e[1]):i="Windows":(e=t.match(/(iPad|iPod|iPhone)(.*OS ([\d_]+))?/))?(i="iOS",e[3]&&(n=e[3].replace(/_/g,"."))):(e=h(t))?(i="iOS",n=e[3]):(e=t.match(/(Android ?([\d.]+)?)/))?(i="Android",n=e[2]):(e=t.match(/(BlackBerry|PlayBook|BB10)(.*Version\/(\d+\.\d+\.\d+))?/i))?(i="BlackBerry",n=e[3]):(e=t.match(/\(Macintosh(;\D*([\d_.]+)[);])?/))?(i="Mac OS X",e[2]&&(n=e[2].replace(/_/g,"."))):(e=t.match(/Linux\s([0-9._a-z]+)?/))?(i="Linux",n=e[1]):(e=t.match(/CrOS ?(\S+)?/))?(i="Chrome OS",n=e[1]):(e=t.match(/jsdom\/([0-9._a-z]+)/))&&(i="jsdom",n=e[1]);var r={};return i&&(r.name=i),n&&(r.version=n),r})(navigator.userAgent),g=function(){return window.orientation%180==0?"portrait":"landscape"},m=o()?50:200,v=F.default.once((function(){B.default.set("testcookie",1);var t=B.default.get("testcookie");return t&&B.default.remove("testcookie"),t})),y=d().isMsie(),_=function(){return d().msieVersion()},b=d().isEdge(),T=d().isWebkit(),w=d().isMozilla(),S=d().isTrident(),C=function(){return A()&&d().version.match(/^7\..*/)},P=function(t,e){if(!t)return!1;var i=t.split("."),n=Number(i[0]);return!isNaN(n)&&n<e},I=function(t,e){if(!t)return!1;var i=t.split("."),n=Number(i[0]);return!isNaN(n)&&n>=e},O=function(){return a()&&"Mobile Safari"===d().name},x=function(){return!a()&&"Safari"===d().name},M=function(){return k()&&!window.navigator.standalone&&O()},L=function(){return"Chrome"===d().name},D=function(){return d().isMozilla()},{touch:function(){return U.default.touch},mobile:a,desktop:s,smartPhone:u,tablet:l,retina:function(){var t=1;return void 0!==window.devicePixelRatio&&(t=window.devicePixelRatio),t>=2},renderingEngine:function(){return d().engine},msie:y,edge:b,msieVersion:_,webkit:T,mozilla:w,trident:S,html5:c,isBot:function(){return/(google web preview|google search console|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(window.navigator.userAgent)},browser:d,os:p,parseOS:f,standalone:function(){return!0===window.navigator.standalone},smallWindow:o,deviceType:function(){return u()?"smartphone":l()?"tablet":s()?"desktop":"other"},playerType:function(){return c()?"html5":"html4"},orientation:g,portrait:function(){return"portrait"===g()},landscape:function(){return"landscape"===g()},supportsOrientationChange:function(){return"onorientationchange"in window},getSlackHeight:function(t){var e=H.default.getDimensions();if(!N()&&t<e.width){if(R()&&!window.navigator.standalone&&C())return-20;if(M()&&C())return-65;if(M())return 60}return 0},getRubberBandLimit:function(){return m},cookies:v,pixelRatio:function(){return F.default.isNumber(window.devicePixelRatio)?window.devicePixelRatio:1},isIphoneFullscreenMobileSafari:function(t,e){var i=H.default.getDimensions();return M()&&t===i.height&&e>=i.width},isIframe:N=function(){return top!=window},isMac:function(){return"Mac OS X"===p.name},isWindows:E=function(){return"Windows"===p.name},isIos:A=function(){return"iOS"===p.name},isIosLessThan:function(t){return!!A()&&P(p.version,t)},isIosGreaterThanOrEqualTo:function(t){return!!A()&&I(p.version,t)},isBrowserChromeLessThan:function(t){return!!L()&&P(d().version,t)},isBrowserChromeGreaterThanOrEqualTo:function(t){return!!L()&&I(d().version,t)},isBrowserFirefoxGreaterThanOrEqualTo:function(t){return!!D()&&I(d().version,t)},isDesktopSafariLessThan:function(t){return!!x()&&P(d().version,t)},isWindowsLessThan:function(t){return!!E()&&function(t,e){if(!t)return!1;var i=t.split("."),n=Number(i[0]),r=Number(i[1]),o=e.split("."),a=Number(o[0]),s=Number(o[1]);return!isNaN(n)&&!isNaN(a)&&(isNaN(r)&&(r=0),isNaN(s)&&(s=0),n!==a?n<a:r<s)}(p.version,t)},isAndroid:function(){return"Android"===p.name},isIphone:k=function(){return/iPhone/i.test(navigator.userAgent)},isIpad:R=function(){return/iPad/i.test(navigator.userAgent)||!!h(navigator.userAgent)},isPhantomJS:function(){return"PhantomJS"===d().name},isJsDom:function(){return F.default.includes(navigator.userAgent,"jsdom")},isIE9OrEarlier:function(){return!1!==_()&&_()<=9},isIE11:function(){return 11===_()},isBrowserChrome:L,isBrowserFirefox:D,isDesktopSafari:x,isMobileSafari:O,isIpadPretendingToBeDesktop:h,DEVICE_TYPE_SMARTPHONE:"smartphone",DEVICE_TYPE_TABLET:"tablet",DEVICE_TYPE_DESKTOP:"desktop",DEVICE_TYPE_OTHER:"other"});e.default=G},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(3)),a=function(){for(var t="",e=0;e<arguments.length;e++)t+=arguments[e]+" ";return t},s={debug:!1,info:!1,warn:!1,error:!1},u=!1,l=!1,c={debug:function(){if(s.debug){var t=a.apply(null,arguments);window.Rollbar&&window.Rollbar.debug.apply(window.Rollbar,arguments),o.default.msie?r.default.isFunction(console.log)&&console.log(t):console.debug.apply(console,arguments)}},info:function(){if(s.info){var t=a.apply(null,arguments);window.Rollbar&&window.Rollbar.info.apply(window.Rollbar,arguments),o.default.msie?r.default.isFunction(console.info)&&console.info(t):console.info.apply(console,arguments)}},forceInfo:function(){var t=a.apply(null,arguments);window.Rollbar&&window.Rollbar.info.apply(window.Rollbar,arguments),o.default.msie?r.default.isFunction(console.info)&&console.info(t):console.info.apply(console,arguments)},devWarn:function(){return u?c.warn.apply(this,arguments):c.info.apply(this,arguments)},warn:function(){if(s.warn){var t=a.apply(null,arguments);window.Rollbar&&window.Rollbar.warn.apply(window.Rollbar,arguments),o.default.msie?r.default.isFunction(console.warn)&&console.warn(t):console.warn.apply(console,arguments)}},error:function(){if(s.error){var t=a.apply(null,arguments);window.Rollbar&&window.Rollbar.error.apply(window.Rollbar,arguments),o.default.msie?r.default.isFunction(console.error)&&console.error(t):console.error.apply(console,arguments)}},init:function(t){s=r.default.defaults(t.modes||{},s),u=t.emitDevWarnings,l=r.default.reduce(s,(function(t,e,i){return t||e}),l)},isEnabled:function(t){return r.default.isUndefined(t)?l:s[t]}};c.d=c.debug,c.i=c.info,c.w=c.warn,c.e=c.error,c.fi=c.forceInfo,e.default=c},function(t,e,i){"use strict";(function(n){var r,o,a;a="object"==typeof self&&self.self==self&&self||"object"==typeof n&&n.global==n&&n,r=[i(0),i(1),e],void 0===(o=function(t,e,i){a.Backbone=function(t,e,i,n){var r=t.Backbone,o=Array.prototype.slice;e.VERSION="1.2.3",e.$=n,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,n){i.each(e,(function(e,r){i[r]&&(t.prototype[r]=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,r){return i[e](this[n],s(t,this),r)};case 4:return function(t,r,o){return i[e](this[n],s(t,this),r,o)};default:return function(){var t=o.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}}(e,r,n))}))},s=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?u(t):i.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},l=e.Events={},c=/\s+/,d=function(t,e,n,r,o){var a,s=0;if(n&&"object"==typeof n){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(a=i.keys(n);s<a.length;s++)e=d(t,e,a[s],n[a[s]],o)}else if(n&&c.test(n))for(a=n.split(c);s<a.length;s++)e=t(e,a[s],r,o);else e=t(e,n,r,o);return e};l.on=function(t,e,i){return h(this,t,e,i)};var h=function(t,e,i,n,r){return t._events=d(f,t._events||{},e,i,{context:n,ctx:t,listening:r}),r&&((t._listeners||(t._listeners={}))[r.id]=r),t};l.listenTo=function(t,e,n){if(!t)return this;var r=t._listenId||(t._listenId=i.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[r];if(!a){var s=this._listenId||(this._listenId=i.uniqueId("l"));a=o[r]={obj:t,objId:r,id:s,listeningTo:o,count:0}}return h(t,e,n,this,a),this};var f=function(t,e,i,n){if(i){var r=t[e]||(t[e]=[]),o=n.context,a=n.ctx,s=n.listening;s&&s.count++,r.push({callback:i,context:o,ctx:o||a,listening:s})}return t};l.off=function(t,e,i){return this._events?(this._events=d(p,this._events,t,e,{context:i,listeners:this._listeners}),this):this},l.stopListening=function(t,e,n){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:i.keys(r),a=0;a<o.length;a++){var s=r[o[a]];if(!s)break;s.obj.off(e,n,this)}return i.isEmpty(r)&&(this._listeningTo=void 0),this};var p=function(t,e,n,r){if(t){var o,a=0,s=r.context,u=r.listeners;if(e||n||s){for(var l=e?[e]:i.keys(t);a<l.length;a++){var c=t[e=l[a]];if(!c)break;for(var d=[],h=0;h<c.length;h++){var f=c[h];n&&n!==f.callback&&n!==f.callback._callback||s&&s!==f.context?d.push(f):(o=f.listening)&&0==--o.count&&(delete u[o.id],delete o.listeningTo[o.objId])}d.length?t[e]=d:delete t[e]}return i.size(t)?t:void 0}for(var p=i.keys(u);a<p.length;a++)delete u[(o=u[p[a]]).id],delete o.listeningTo[o.objId]}};l.once=function(t,e,n){var r=d(g,{},t,e,i.bind(this.off,this));return this.on(r,void 0,n)},l.listenToOnce=function(t,e,n){var r=d(g,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,r)};var g=function(t,e,n,r){if(n){var o=t[e]=i.once((function(){r(e,o),n.apply(this,arguments)}));o._callback=n}return t};l.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return d(m,this._events,t,void 0,i),this};var m=function(t,e,i,n){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&v(r,n),o&&v(o,[e].concat(n))}return t},v=function(t,e){var i,n=-1,r=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++n<r;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o);return;case 2:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o,a);return;case 3:for(;++n<r;)(i=t[n]).callback.call(i.ctx,o,a,s);return;default:for(;++n<r;)(i=t[n]).callback.apply(i.ctx,e);return}};l.bind=l.on,l.unbind=l.off,i.extend(e,l);var y=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{}),n=i.defaults({},n,i.result(this,"defaults")),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(y.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var r;if("object"==typeof t?(r=t,n=e):(r={})[t]=e,n||(n={}),!this._validate(r,n))return!1;var o=n.unset,a=n.silent,s=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=i.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,d=this._previousAttributes;for(var h in r)e=r[h],i.isEqual(l[h],e)||s.push(h),i.isEqual(d[h],e)?delete c[h]:c[h]=e,o?delete l[h]:l[h]=e;if(this.id=this.get(this.idAttribute),!a){s.length&&(this._pending=n);for(var f=0;f<s.length;f++)this.trigger("change:"+s[f],this,l[s[f]],n)}if(u)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var r in t){var o=t[r];i.isEqual(e[r],o)||(n[r]=o)}return!!i.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var r=t.parse?e.parse(i,t):i;if(!e.set(r,t))return!1;n&&n.call(t.context,e,i,t),e.trigger("sync",e,i,t)},F(this,t),this.sync("read",this,t)},save:function(t,e,n){var r;null==t||"object"==typeof t?(r=t,n=e):(r={})[t]=e;var o=(n=i.extend({validate:!0,parse:!0},n)).wait;if(r&&!o){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;var a=this,s=n.success,u=this.attributes;n.success=function(t){a.attributes=u;var e=n.parse?a.parse(t,n):t;if(o&&(e=i.extend({},r,e)),e&&!a.set(e,n))return!1;s&&s.call(n.context,a,t,n),a.trigger("sync",a,t,n)},F(this,n),r&&o&&(this.attributes=i.extend({},u,r));var l=this.isNew()?"create":n.patch?"patch":"update";"patch"!==l||n.attrs||(n.attrs=r);var c=this.sync(l,this,n);return this.attributes=u,c},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){r&&o(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var a=!1;return this.isNew()?i.defer(t.success):(F(this,t),a=this.sync("delete",this,t)),r||o(),a},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||N();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.defaults({validate:!0},t))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}}),a(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var _=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},T={add:!0,remove:!1},w=function(t,e,i){i=Math.min(Math.max(i,0),t.length);for(var n=Array(t.length-i),r=e.length,o=0;o<n.length;o++)n[o]=t[o+i];for(o=0;o<r;o++)t[o+i]=e[o];for(o=0;o<n.length;o++)t[o+r+i]=n[o]};i.extend(_.prototype,l,{model:y,initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,T))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:i.clone(t);var r=this._removeModels(t,e);return!e.silent&&r&&this.trigger("update",this,e),n?r[0]:r},set:function(t,e){if(null!=t){(e=i.defaults({},e,b)).parse&&!this._isModel(t)&&(t=this.parse(t,e));var n=!i.isArray(t);t=n?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r<0&&(r+=this.length+1);for(var o,a=[],s=[],u=[],l={},c=e.add,d=e.merge,h=e.remove,f=!1,p=this.comparator&&null==r&&!1!==e.sort,g=i.isString(this.comparator)?this.comparator:null,m=0;m<t.length;m++){o=t[m];var v=this.get(o);if(v){if(d&&o!==v){var y=this._isModel(o)?o.attributes:o;e.parse&&(y=v.parse(y,e)),v.set(y,e),p&&!f&&(f=v.hasChanged(g))}l[v.cid]||(l[v.cid]=!0,a.push(v)),t[m]=v}else c&&(o=t[m]=this._prepareModel(o,e))&&(s.push(o),this._addReference(o,e),l[o.cid]=!0,a.push(o))}if(h){for(m=0;m<this.length;m++)l[(o=this.models[m]).cid]||u.push(o);u.length&&this._removeModels(u,e)}var _=!1,T=!p&&c&&h;if(a.length&&T?(_=this.length!=a.length||i.some(this.models,(function(t,e){return t!==a[e]})),this.models.length=0,w(this.models,a,0),this.length=this.models.length):s.length&&(p&&(f=!0),w(this.models,s,null==r?this.length:r),this.length=this.models.length),f&&this.sort({silent:!0}),!e.silent){for(m=0;m<s.length;m++)null!=r&&(e.index=r+m),(o=s[m]).trigger("add",o,this,e);(f||_)&&this.trigger("sort",this,e),(s.length||u.length)&&this.trigger("update",this,e)}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t){var e=this.modelId(this._isModel(t)?t.attributes:t);return this._byId[t]||this._byId[e]||this._byId[t.cid]}},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){var e=(t=i.extend({parse:!0},t)).success,n=this;return t.success=function(i){var r=t.reset?"reset":"set";n[r](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},F(this,t),this.sync("read",this,t)},create:function(t,e){var n=(e=e?i.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;n||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,i){n&&r.add(t,i),o&&o.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;(e=e?i.clone(e):{}).collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var r=this.get(t[n]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,e.silent||(e.index=o,r.trigger("remove",r,this,e)),i.push(r),this._removeReference(r,e)}}return!!i.length&&i},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if("add"!==t&&"remove"!==t||i===this){if("destroy"===t&&this.remove(e,n),"change"===t){var r=this.modelId(e._previousAttributes),o=this.modelId(e.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}this.trigger.apply(this,arguments)}}}),a(_,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var S=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,A)),this._ensureElement(),this.initialize.apply(this,arguments)},E=/^(\S+)\s*(.*)$/,A=["model","collection","el","id","attributes","className","tagName","events"];i.extend(S.prototype,l,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var r=e.match(E);this.delegate(r[1],r[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t.class=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,r){var o=C[t];i.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(r.url||(a.url=i.result(n,"url")||N()),null!=r.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",r.emulateJSON&&(a.data._method=o);var s=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===a.type||r.emulateJSON||(a.processData=!1);var u=r.error;r.error=function(t,e,i){r.textStatus=e,r.errorThrown=i,u&&u.call(r.context,t,e,i)};var l=r.xhr=e.ajax(i.extend(a,r));return n.trigger("request",n,l,r),l};var C={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var P=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},I=/\((.*?)\)/g,O=/(\(\?)?:\w+/g,x=/\*\w+/g,k=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend(P.prototype,l,{initialize:function(){},route:function(t,n,r){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var o=this;return e.history.route(t,(function(i){var a=o._extractParameters(t,i);!1!==o.execute(r,a,n)&&(o.trigger.apply(o,["route:"+n].concat(a)),o.trigger("route",n,a),e.history.trigger("route",o,n,a))})),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(k,"\\$&").replace(I,"(?:$1)?").replace(O,(function(t,e){return e?t:"([^/?]+)"})).replace(x,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,(function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null}))}});var R=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,D=/#.*$/;R.started=!1,i.extend(R.prototype,l,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(M,"")},start:function(t){if(R.started)throw new Error("Backbone.history has already been started");if(R.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(L,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,r=n.insertBefore(this.iframe,n.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),R.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!R.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(D,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;e.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new R,y.extend=_.extend=P.extend=S.extend=R.extend=function(t,e){var n,r=this;n=t&&i.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},i.extend(n,r,e);var o=function(){this.constructor=n};return o.prototype=r.prototype,n.prototype=new o,t&&i.extend(n.prototype,t),n.__super__=r.prototype,n};var N=function(){throw new Error('A "url" property or function must be specified')},F=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e}(a,i,t,e)}.apply(e,r))||(t.exports=o)}).call(this,i(28))},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractComponentView=void 0;var a=o(i(0)),s=o(i(3)),u=o(i(191)),l=o(i(32)),c=i(101),d=i(19),h=o(i(17)),f=i(24),p=function(t){function e(e){void 0===e&&(e={});var i=t.call(this,e)||this;return i.activeStateInteractions=[],i}return r(e,t),e.prototype.render=function(){return t.prototype.render.call(this),this.applyTransition(),this.setStateValues(),this.createHoverArea(),this},e.prototype.setStateValues=function(){var t=this;this.options.states&&this.options.states.forEach((function(e){t.applyDeltaValuesToCoordinateProperties(e),Object.keys(e.config).forEach((function(i){t.diffStateProperty(e,i)}))}))},e.prototype.diffStateProperty=function(t,e){a.default.get(t.config,e)===a.default.get(this.options,e)&&a.default.set(t.config,e,void 0)},e.prototype.hasObjectState=function(t){var e;return"default"===t||!!(null===(e=this.options.states)||void 0===e?void 0:e.find((function(e){return e.state===t})))},e.prototype.getObjectState=function(t){var e;if(t)return null===(e=this.options.states)||void 0===e?void 0:e.find((function(e){return e.state===t}))},e.prototype.applyDeltaValuesToCoordinateProperties=function(t){a.default.isNil(this.options.x)||(t.config.deltaX=t.config.deltaX||0,t.config.x=this.options.x+t.config.deltaX),a.default.isNil(this.options.y)||(t.config.deltaY=t.config.deltaY||0,t.config.y=this.options.y+t.config.deltaY),a.default.isNil(this.options.x2)||(t.config.deltaX2=t.config.deltaX2||0,t.config.x2=this.options.x2+t.config.deltaX2),a.default.isNil(this.options.y2)||(t.config.deltaY2=t.config.deltaY2||0,t.config.y2=this.options.y2+t.config.deltaY2)},e.prototype.getExtentsFromObjectState=function(t){var e=this.getExtentsDimensionData(!0),i=this.getObjectState(t),n=e;i&&(i.config.deltaX&&void 0!==i.config.x&&(n.x=i.config.x),i.config.deltaY&&void 0!==i.config.y&&(n.y=i.config.y),i.config.border&&void 0!==i.config.border.width&&(n.borderWidth=i.config.border.width),i.config.width&&(n.width=i.config.width),i.config.height&&(n.height=i.config.height),i.config.rotation&&(n.rotation=i.config.rotation));var r=l.default.getExtentsPointsFromDimensions(n.x,n.y,n.width,n.height,n.rotation,n.borderWidth);return this._transformPointsToExtents(r)},e.prototype.getExtentsDimensionData=function(t){var e,i,n=t?null:this.getObjectState(this.options.selectedState);return{x:n&&n.hasPositionChange()?n.config.x:this.options.x,y:n&&n.hasPositionChange()?n.config.y:this.options.y,width:n&&n.hasDimensionsChange()?n.config.width:this.options.width,height:n&&n.hasDimensionsChange()?n.config.height:this.options.height,rotation:-Math.toRad((n&&n.hasRotationChange()?n.config.rotation:this.options.rotation)||0),borderWidth:(n&&n.hasBorderChange()?null===(e=n.config.border)||void 0===e?void 0:e.width:null===(i=this.options.border)||void 0===i?void 0:i.width)||0}},e.prototype.applyScale=function(t,e,i,n){void 0===t&&(t=this.options.width),void 0===e&&(e=this.options.height),void 0===i&&(i=this.options.x),void 0===n&&(n=this.options.y);var r=t/this.options.width,o=e/this.options.height;f.CssUtils.setTransformToElement(this.$el,{scale:{x:r,y:o}}),this.applyPositionToScaledObject(i,n,t,e)},e.prototype.applyPositionToScaledObject=function(t,e,i,n){void 0===t&&(t=this.options.x),void 0===e&&(e=this.options.y),void 0===i&&(i=this.options.width),void 0===n&&(n=this.options.height);var r=(i-this.options.width)/2,o=(n-this.options.height)/2;this._applyPosition(t+r,e+o)},e.prototype.addStateUnderActiveState=function(t,e){if(!this.activeStateInteractions.some((function(e){return e.state===t}))&&this.activeStateInteractions&&this.activeStateInteractions.length>0){var i=this.activeStateInteractions.findIndex((function(t){return t.lockState}));i>=0&&this.activeStateInteractions.splice(i,0,e)}},e.prototype.invokeObjectState=function(t){"default"===t&&"default"!==this.options.selectedState&&this.revertToDefaultState();var e=this.getObjectState(t);e&&this.applyState(e)},e.prototype.applyState=function(t){var e="default"!==this.options.selectedState?this.getObjectState(this.options.selectedState):void 0;this.options.selectedState=t.state||"default",this.callObjectStateInvoker(t,e)},e.prototype.callObjectStateInvoker=function(t,e){d.ObjectStateInvoker.invokeObjectState(this,t,e)},e.prototype.revertToDefaultState=function(){var t=new c.ObjectState({state:"default"});this.activeStateInteractions=[],this.applyState(t)},e.prototype.revokeObjectState=function(t){var e,i;if(this.getObjectState(t)){var n=t===(null===(e=this.getCurrentActiveChangeStateInteraction())||void 0===e?void 0:e.state);if(this.activeStateInteractions=this.activeStateInteractions.filter((function(e){return e.state!==t})),n){var r=this.getObjectState(null===(i=this.getCurrentActiveChangeStateInteraction())||void 0===i?void 0:i.state);r?this.applyState(r):this.revertToDefaultState()}}},e.prototype.applyTransition=function(t){if(void 0===t&&(t=this.options.transition),t){var e=(t.duration||0)+"s "+(t.easing||"linear")+" "+(t.delay||0)+"s";this.applyTransitionToTarget(e)}else this.applyTransitionToTarget("")},e.prototype.applyTransitionToTarget=function(t){this.$el.css("transition",t)},e.prototype.applyDropShadow=function(t,e){var i;void 0===t&&(t=this.options.shadow),void 0===e&&(e=this.options.rotation);var n=this.getApplyShadowTarget(),r=null===(i=n[0])||void 0===i?void 0:i.style.filter,o="";if(r){var u=r.match(/[\w-]*\(.*?\)/g);u&&(o=u.filter((function(t){return!t.startsWith("drop-shadow")})).join(" "))}if(this.hasShadow(t)){var l={x:a.default.isNumber(t.x)?t.x:0,y:a.default.isNumber(t.y)?t.y:0};e&&0!==e&&this._rotateShadowCoordinates(l,e),this.isFlipped()&&this._flipShadowCoordinates(l,this.options.flipHorizontal,this.options.flipVertical);var c="drop-shadow(";c+=Math.round(l.x)+"px",c+=" "+Math.round(l.y)+"px";if(c+=t.blur?" "+Math.round(t.blur/2)+"px":" 0",c+=" "+t.color,c+=")",n.css("-webkit-filter",o+" "+c),n.css("filter",o+" "+c),s.default.isIE11()||s.default.isIE9OrEarlier()){var d="progid:DXImageTransform.Microsoft.Dropshadow(OffX=";d+=Math.round(l.x)+", OffY=",d+=Math.round(l.y)+", Color='",d+=t.color+"')",n.css("filter",d)}}else n.css("filter",o),n.css("-webkit-filter",o)},e.prototype.getParentsWithLinkInteraction=function(){return this.options.parentSmartGroup?[this.options.parentSmartGroup.id]:this.hasParents()?this.parentViews.filter((function(t){return t instanceof e&&!!t.options.linkInteraction})).map((function(t){return t.id})):[]},e.prototype.triggerMouseUpAction=function(t){t.triggerOutAction()},e.prototype.removeAllActiveStates=function(){var t=this;this.activeStateInteractions.forEach((function(e){t.options.pageView.deactivateInteraction(e)})),this.activeStateInteractions=[]},e.prototype.removeActiveState=function(t){var e=this.activeStateInteractions.findIndex((function(e){return e===t}));-1!==e&&this.activeStateInteractions.splice(e,1),this.options.pageView.deactivateInteraction(t)},e.prototype.addActiveState=function(t){this.activeStateInteractions.find((function(e){return e===t}))||this.activeStateInteractions.push(t)},e.prototype.getCurrentActiveChangeStateInteraction=function(){if(this.activeStateInteractions&&this.activeStateInteractions.length>0)return this.activeStateInteractions[this.activeStateInteractions.length-1]},e.prototype.hasActiveClickStateWithLock=function(){return this.activeStateInteractions.some((function(t){return"click"===t.state&&t.lockState}))},e.prototype.hasActiveCustomStateWithLock=function(){return this.activeStateInteractions.some((function(t){return!("click"===t.state||"hover"===t.state||"default"===t.state)&&t.lockState}))},e.prototype.createHoverArea=function(){(this.isUsingHoverAreaForMouseOut()||this.isMaskUsingHoverArea())&&(this.unbindInteractions(),this.hoverArea||(this.hoverArea=this.options.pageView.createHoverArea(this)),this.hoverArea.render(),this._configureInteractions(),this.shouldAddHoverAreaPointerEvents()?this.addPointerEvents():this.removePointerEvents())},e.prototype.activateHoverArea=function(){var t;this.shouldAddHoverAreaPointerEvents()&&(null===(t=this.hoverArea)||void 0===t||t.activate())},e.prototype.shouldAddHoverAreaPointerEvents=function(){return this.visible},e.prototype.setInitialZIndex=function(t){this.$el.css("z-index",t),this.zIndex=t},e.prototype.isHovered=function(t){var e,i,n=this.getHoverTarget();return s.default.isIE11()&&t&&t.target?!!(null===(e=this.hoverArea)||void 0===e?void 0:e.isHovered(t))||!!n.filter((function(e,i){return i===t.target})).length:!!(null===(i=this.hoverArea)||void 0===i?void 0:i.isHovered())||n.is((function(t,e){return e.matches(":hover")}))},e.prototype.getComponentActualWidthHeight=function(){var t=this.options.width,e=this.options.height,i=this.options.parentSmartgroup;return i&&(t*=i.options.scaleWidth,e*=i.options.scaleHeight),{width:t,height:e}},e.prototype.getComponentAbsolutePosition=function(){var t=this.options.absoluteX||0,e=this.options.absoluteY||0,i=this.options.parentSmartgroup;if(i){t*=i.options.scaleWidth,t+=i.options.originalX,e*=i.options.scaleHeight,e+=i.options.originalY;var n=Math.toRad(i.options.rotation);if(n){var r=this.options.width*i.options.scaleWidth,o=this.options.height*i.options.scaleHeight,a=this.options.x*i.options.scaleWidth,s=this.options.y*i.options.scaleHeight,u=new h.default.Point(a+r/2,s+o/2),l=i.options.width*i.options.scaleWidth/2,c=i.options.height*i.options.scaleHeight/2;u.rotate(l,c,-n),u.x+=i.options.absoluteX||0,u.y+=i.options.absoluteY||0,t=u.x-r/2,e=u.y-o/2}}return{componentTop:e,componentLeft:t}},e.prototype.getHoverTarget=function(){return this.$el},e.prototype.updatePositionForHoverArea=function(){var t;null===(t=this.hoverArea)||void 0===t||t.updatePosition()},e.prototype.setDimensionsAsAttributes=function(t,e,i){t.attr("width",e),t.attr("height",i)},e.prototype.getPointerEventsTarget=function(){return this.$el},e.prototype.addPointerEvents=function(){var t;this.usesHoverAreaForInteractions()?null===(t=this.hoverArea)||void 0===t||t.activate():this.getPointerEventsTarget().css("pointer-events","auto")},e.prototype.removePointerEvents=function(){var t;this.usesHoverAreaForInteractions()?null===(t=this.hoverArea)||void 0===t||t.deactivate():this.getPointerEventsTarget().css("pointer-events","none")},e.prototype.assignCursor=function(){this.hasClickInteraction()||this.hasMouseDownInteraction()||this.options.showHoverCursor?this.getInteractionTarget().css("cursor","pointer"):this.getInteractionTarget().css("cursor","inherit")},e.prototype.getInteractionTarget=function(){return this.hoverArea?this.hoverArea.getHoverAreaTarget():this.getPointerEventsTarget()},e.prototype.bindClickInteraction=function(){this.hasClickInteraction()?this.getInteractionTarget().on("click",a.default.bind(this._handleClickInteraction,this)):this.getInteractionTarget().on("click",a.default.bind(this.handleClickWithoutInteraction,this))},e.prototype.bindMouseDownInteraction=function(){this.hasMouseDownInteraction()&&this.getInteractionTarget().on("mousedown",a.default.bind(this._handleMouseDownInteraction,this))},e.prototype.bindMouseOverInteraction=function(){this.hasHoverInteraction()&&this.getInteractionTarget().on("mouseover",a.default.bind(this._handleMouseOverInteraction,this))},e.prototype.styleForTouchDevices=function(){s.default.touch()&&s.default.trident&&this.$el.css("touch-action","manipulation")},e.prototype.unbindInteractions=function(){this.$el.off("click"),this.$el.off("mouseover"),this.$el.off("mouseout");var t=this.getInteractionTarget();t!==this.$el&&(t.off("click"),t.off("mouseover"),t.off("mouseout")),this.hasAccessibilityFeature&&this.$el.off("keydown",this._handleOnEscKeyPressed)},e.prototype._configureInteractions=function(){this.unbindInteractions(),this.assignCursor(),this.styleForTouchDevices(),this.bindClickInteraction(),this.bindMouseDownInteraction(),this.bindMouseOverInteraction(),this.hasAccessibilityFeature&&this.$el.on("keydown",this._handleOnEscKeyPressed)},e.prototype.setMaskInteractions=function(t){this.options.interactions=t,s.default.isIE11()?(this._configureInteractions(),this.addPointerEvents()):this.createHoverArea()},e.prototype.usesHoverAreaForInteractions=function(){return!!this.hoverArea},e.prototype.isMaskUsingHoverArea=function(){var t,e;return!!(null===(t=this.options.interactions)||void 0===t?void 0:t.length)&&!!(null===(e=this.options.maskInfo)||void 0===e?void 0:e.maskedObjectId)&&!s.default.isIE11()},e.prototype.isUsingHoverAreaForMouseOut=function(){var t;return!!(null===(t=this.options.interactions)||void 0===t?void 0:t.length)&&s.default.desktop()&&!!this.options.interactions.find((function(t){return!!t.hasOutTrigger}))},e.prototype.getEventInteractionData=function(){return this.isMaskUsingHoverArea()&&this.parentViews.length?this.parentViews[0].getEventInteractionData():{componentSlug:this.id,componentName:this.options.title,componentType:this.options.type,pageSlug:this.options.pageView.model.get("slug"),pageName:this.options.pageView.model.get("name"),currentState:this.options.selectedState}},e}(u.default);e.AbstractComponentView=p},function(t,e,i){"use strict";var n,r,o,a;
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */a=function(t){var e=Object.prototype.toString,i=Array.isArray||function(t){return"[object Array]"===e.call(t)};function n(t){return"function"==typeof t}function r(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"==typeof t&&e in t}var a=RegExp.prototype.test,s=/\S/;function u(t){return!function(t,e){return a.call(t,e)}(s,t)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},c=/\s*/,d=/\s+/,h=/\s*=/,f=/\s*\}/,p=/#|\^|\/|>|\{|&|=|!/;function g(t){this.string=t,this.tail=t,this.pos=0}function m(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function v(){this.cache={}}g.prototype.eos=function(){return""===this.tail},g.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var i=e[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},g.prototype.scanUntil=function(t){var e,i=this.tail.search(t);switch(i){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=e.length,e},m.prototype.push=function(t){return new m(t,this)},m.prototype.lookup=function(t){var e,i=this.cache;if(i.hasOwnProperty(t))e=i[t];else{for(var r,a,s=this,u=!1;s;){if(t.indexOf(".")>0)for(e=s.view,r=t.split("."),a=0;null!=e&&a<r.length;)a===r.length-1&&(u=o(e,r[a])),e=e[r[a++]];else e=s.view[t],u=o(s.view,t);if(u)break;s=s.parent}i[t]=e}return n(e)&&(e=e.call(this.view)),e},v.prototype.clearCache=function(){this.cache={}},v.prototype.parse=function(e,n){var o=this.cache,a=o[e];return null==a&&(a=o[e]=function(e,n){if(!e)return[];var o,a,s,l=[],m=[],v=[],y=!1,_=!1;function b(){if(y&&!_)for(;v.length;)delete m[v.pop()];else v=[];y=!1,_=!1}function T(t){if("string"==typeof t&&(t=t.split(d,2)),!i(t)||2!==t.length)throw new Error("Invalid tags: "+t);o=new RegExp(r(t[0])+"\\s*"),a=new RegExp("\\s*"+r(t[1])),s=new RegExp("\\s*"+r("}"+t[1]))}T(n||t.tags);for(var w,S,E,A,C,P,I=new g(e);!I.eos();){if(w=I.pos,E=I.scanUntil(o))for(var O=0,x=E.length;O<x;++O)u(A=E.charAt(O))?v.push(m.length):_=!0,m.push(["text",A,w,w+1]),w+=1,"\n"===A&&b();if(!I.scan(o))break;if(y=!0,S=I.scan(p)||"name",I.scan(c),"="===S?(E=I.scanUntil(h),I.scan(h),I.scanUntil(a)):"{"===S?(E=I.scanUntil(s),I.scan(f),I.scanUntil(a),S="&"):E=I.scanUntil(a),!I.scan(a))throw new Error("Unclosed tag at "+I.pos);if(C=[S,E,w,I.pos],m.push(C),"#"===S||"^"===S)l.push(C);else if("/"===S){if(!(P=l.pop()))throw new Error('Unopened section "'+E+'" at '+w);if(P[1]!==E)throw new Error('Unclosed section "'+P[1]+'" at '+w)}else"name"===S||"{"===S||"&"===S?_=!0:"="===S&&T(E)}if(P=l.pop())throw new Error('Unclosed section "'+P[1]+'" at '+I.pos);return function(t){for(var e,i=[],n=i,r=[],o=0,a=t.length;o<a;++o)switch((e=t[o])[0]){case"#":case"^":n.push(e),r.push(e),n=e[4]=[];break;case"/":r.pop()[5]=e[2],n=r.length>0?r[r.length-1][4]:i;break;default:n.push(e)}return i}(function(t){for(var e,i,n=[],r=0,o=t.length;r<o;++r)(e=t[r])&&("text"===e[0]&&i&&"text"===i[0]?(i[1]+=e[1],i[3]=e[3]):(n.push(e),i=e));return n}(m))}(e,n)),a},v.prototype.render=function(t,e,i){var n=this.parse(t),r=e instanceof m?e:new m(e);return this.renderTokens(n,r,i,t)},v.prototype.renderTokens=function(t,e,i,n){for(var r,o,a,s="",u=0,l=t.length;u<l;++u)a=void 0,"#"===(o=(r=t[u])[0])?a=this.renderSection(r,e,i,n):"^"===o?a=this.renderInverted(r,e,i,n):">"===o?a=this.renderPartial(r,e,i,n):"&"===o?a=this.unescapedValue(r,e):"name"===o?a=this.escapedValue(r,e):"text"===o&&(a=this.rawValue(r)),void 0!==a&&(s+=a);return s},v.prototype.renderSection=function(t,e,r,o){var a=this,s="",u=e.lookup(t[1]);if(u){if(i(u))for(var l=0,c=u.length;l<c;++l)s+=this.renderTokens(t[4],e.push(u[l]),r,o);else if("object"==typeof u||"string"==typeof u||"number"==typeof u)s+=this.renderTokens(t[4],e.push(u),r,o);else if(n(u)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(u=u.call(e.view,o.slice(t[3],t[5]),(function(t){return a.render(t,e,r)})))&&(s+=u)}else s+=this.renderTokens(t[4],e,r,o);return s}},v.prototype.renderInverted=function(t,e,n,r){var o=e.lookup(t[1]);if(!o||i(o)&&0===o.length)return this.renderTokens(t[4],e,n,r)},v.prototype.renderPartial=function(t,e,i){if(i){var r=n(i)?i(t[1]):i[t[1]];return null!=r?this.renderTokens(this.parse(r),e,i,r):void 0}},v.prototype.unescapedValue=function(t,e){var i=e.lookup(t[1]);if(null!=i)return i},v.prototype.escapedValue=function(e,i){var n=i.lookup(e[1]);if(null!=n)return t.escape(n)},v.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.2.1",t.tags=["{{","}}"];var y=new v;t.clearCache=function(){return y.clearCache()},t.parse=function(t,e){return y.parse(t,e)},t.render=function(t,e,n){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(i(r=t)?"array":typeof r)+'" was given as the first argument for mustache#render(template, view, partials)');var r;return y.render(t,e,n)},t.to_html=function(e,i,r,o){var a=t.render(e,i,r);if(!n(o))return a;o(a)},t.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return l[t]}))},t.Scanner=g,t.Context=m,t.Writer=v},e&&"string"!=typeof e.nodeName?a(e):(r=[e],void 0===(o="function"==typeof(n=a)?n.apply(e,r):n)||(t.exports=o))},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(i(0)),a=n(i(1)),s=n(i(5)),u=n(i(3)),l=n(i(2)),c=n(i(4)),d=n(i(21)),h=n(i(15)),f=function(t){var e=d.default.getLayoutSettings();return d.default.doesVariantExist("mobile")&&t<=e.maxMobileWidthBreakpoint?"mobile":d.default.doesVariantExist("tablet")&&t<=e.maxTabletWidthBreakpoint?"tablet":"desktop"},p=function(t,e){return d.default.doesVariantExist(e)?e:d.default.doesVariantExist(t.deviceTypeMissingVariantFallback)?t.deviceTypeMissingVariantFallback:"desktop"};function g(){var t=u.default.deviceType();return"smartphone"===t&&(t="mobile"),t}var m=function(t){var e=d.default.getLayoutSettings();return 0!==d.default.getNumberOfExistingVariants()&&d.default.isValidVariantName(t)?"desktop"===t||d.default.doesVariantExist(t)?t:v(e.deviceTypeMissingVariantFallback):"desktop"},v=function(t){return d.default.doesVariantExist(t)?t:(c.default.info("FALLBACK RECTIFIED"),"tablet"===t?"desktop":"mobile"===t&&d.default.doesVariantExist("tablet")?"tablet":"desktop")},y=function(){if(!l.default.allowAdaptiveLayouts)return"desktop";if(!d.default.isDocVersionSet())throw new Error("Trying to resolve variant before DocVersion set");if(0===d.default.getNumberOfExistingVariants())return"desktop";if(l.default.previewMode)return function(){var t=d.default.getLayoutSettings(),e=g(),i=e!==u.default.DEVICE_TYPE_DESKTOP;if("device-type"===t.layoutPrimarySetting){if(i){var n=p(t,e);return c.default.debug("Resolved layout for touch device: "+e),n!==d.default.getPreviewerFrameSize()&&(c.default.debug("Forcing frame size as on touch device: "+n),d.default.setPreviewerFrameSize(n)),n}var r=d.default.getPreviewerFrameSize();return m(r)}var o=a.default(".adaptive-layouts-frame").width();return f(o)}();var t,e,i,n=("smartphone"===(t=d.default.getLayoutFromQueryParam())&&(t="mobile"),t&&d.default.doesVariantExist(t)?t:null);return n||("device-type"===d.default.getLayoutSettings().layoutPrimarySetting?m(g()):l.default.isEmbedded?(e=h.default.getInstance().getEmbedContextDimensions(),f(e.width)):(i=window.innerWidth,f(i)))};e.default=o.default.extend({},s.default.Events,{getVariant:function(){if(!r)throw new Error("Something wants to know the variant before detection");return r},hasDetectedVariant:function(){return!!r},detect:function(){var t=y();if(t!==r){var e=r;r=t,c.default.debug("Detected variant "+t+(e?", was "+e:"")),this.trigger("change",r,e)}return r}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(4)),o=n(i(2)),a=n(i(10)),s={page_number:"/p/",page_slug:"/page/"},u={buildUri:function(t,e,i,n){return void 0===i&&(i=null),void 0===n&&(n=""),a.default.locationIsHtmlFile()?this.buildHtmlStyleUri(e,n):this.buildPathStyleUri(t,e,i,n)},buildHtmlStyleUri:function(t,e){e=e||"";var i,n=this.getWindowContext(),r=n.location.search;return 1===t?(r=r.replace(/page=(\d+)&?/,""),i=n.location.pathname+r):i=a.default.appendQueryParams(n.location.pathname+r,{page:t}),(i=i.replace(/[&|\?]$/,""))+e},buildPathStyleUri:function(t,e,i,n){if(!s[t])return r.default.warn("Mode is not supported"),null;n=n||"";var a=this.getWindowContext(),u=s[t]+e,l=o.default.previewMode&&i&&"desktop"!==i?"/layout/"+i:"",c=a.location.pathname+"";return c=(c=(c=c.replace(/\/$/,"")).replace(/\/layout\/[a-z0-9-]+/,"")+l).replace(/\/(p|page)\/[a-z0-9-]*/,"")+u,(c+=a.location.search)+n},buildUriForPageNumber:function(t){var e=this.parseLayoutFromLocation();return this.buildUri("page_number",t,e)},parsePageFromLocation:function(){var t=this.getWindowContext(),e=null;if(a.default.locationIsHtmlFile()){var i=t.location.search.match(/page=(\d+)/);return e=1,i&&(e=parseInt(i[1],10)),e}var n=t.location.pathname.match(/\/p\/(\d+)\/?$/);if(n&&(e=parseInt(n[1],10)),!e&&o.default.usePageSlugsInNavigation){var r=t.location.pathname.match(/\/page\/([a-z0-9-]+)\/?$/);r&&(e=r[1])}return e||(e=1),e},parseLayoutFromLocation:function(){var t=this.getWindowContext().location.pathname.match(/\/layout\/([a-z0-9-]+)\/?/);return t?t[1]:"desktop"},getLayoutFromQueryParam:function(){var t,e=window.location.search;return null===(t=new URLSearchParams(e).get("layout"))||void 0===t?void 0:t.toLowerCase()},getLocationWithoutParamsAndLayoutOrPageNumber:function(){return this.getWindowContext().location.href.replace(/\?.*$/,"").replace(/\/(layout\/[0-9a-z-]+)\\?/,"").replace(/\/(page\/[0-9a-z-]+|p\/\d+)\\?$/,"")},getWindowContext:function(){return window}};e.default=u},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(2)),a=/^(https?|ftp):\/\/[^\s\/$.?#].[^\s]*$/i,s={isValidUrl:function(t){return a.test(t)},beginsWithHttpOrHttps:function(t){return/^(http(s?))\:\/\//gi.test(t)},getUrlParams:function(t){var e,i={};if(-1===(t=String(t)).indexOf("?"))return i;var n=t.split("?")[1];if(r.default.isEmpty(n))return i;n=n.split("&");for(var o=0;o<n.length;o++)-1===n[o].indexOf("=")?i[decodeURIComponent(n[o])]=void 0:(e=n[o].split("="),i[decodeURIComponent(e[0])]=decodeURIComponent(e[1]));return i},removeEmbedParams:function(t){var e=t.replace(/heightOverride=\d+&?/g,"").replace(/tabletHeightOverride=\d+&?/g,"").replace(/mobileHeightOverride=\d+&?/g,"");return-1!==e.indexOf("?",e.length-1)&&(e=e.substring(0,e.length-1)),e},getBaseUrl:function(t){return-1===(t=String(t)).indexOf("?")?t:t.split("?")[0]},appendQueryParams:function(t,e,i){if(r.default.isEmpty(e))return t;var n="",o=t.lastIndexOf("#");-1!==o&&(n=t.substr(o),t=t.substr(0,o));var a=this.getUrlParams(t);e=r.default.extend({},a,e);var s=[];r.default.each(e,(function(t,e){var n=i?e:encodeURIComponent(e);r.default.isUndefined(t)||(i||(t=encodeURIComponent(t)),n+="="+t),s.push(n)}));var u=s.join("&");return this.getBaseUrl(t)+"?"+u+n},appendCacheBustingTimestamp:function(t,e){return t+(-1===t.indexOf("?")?"?":"&")+"_="+e},extractDomain:function(t){var e=t.match(/^https?:\/\/([^\/]+)/);return e?e[1]:""},replaceProtocolIfHttpsRequest:function(t){return"https:"===location.protocol&&(t=s.makeHttps(t)),t},makeHttps:function(t){return t.replace(/^http:/,"https:")},linkifyText:function(t,e){var i=e?' target="_blank"':"";return t.replace(/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,'<a href="$&"'+i+">$&</a>").replace(/(^|[^\/])(www\.[\S]+(\b|$))/gim,'$1<a href="http://$2"'+i+">$2</a>").replace(/[\w.]+@[a-zA-Z_-]+?(?:\.[a-zA-Z]{2,6})+/gim,'<a href="mailto:$&"'+i+">$&</a>")},locationIsHtmlFile:function(){return!!window.location.pathname.match(/\.html$/)},makeUrlAbsolute:function(t){if(this.extractDomain(t))return t;if(!window.cerosBaseUrl)return t;var e="/"===t[0],i=window.cerosBaseUrl.lastIndexOf("/")===window.cerosBaseUrl.length-1;return i&&e?window.cerosBaseUrl+t.slice(1):i||e?window.cerosBaseUrl+t:window.cerosBaseUrl+"/"+t},hasQueryParam:function(t,e){return!r.default.isUndefined(this.getQueryParamValue(t,e))},getQueryParamValue:function(t,e){var i=s.getUrlParams(t);return r.default.find(i,(function(t,i){if(i.toLowerCase()===e.toLowerCase())return!0}))},prependProtocol:function(t,e){var i=e?"https://":"http://";return s.beginsWithHttpOrHttps(t)?t:i+t},replaceUrlContextVariables:function(t){return t.replace(/\{api-version\}/,o.default.apiVersion).replace(/\{account-slug\}/,o.default.accountSlug).replace(/\{scope\}/,o.default.accountSlug)},filterUrl:function(t){var e=0===t.trim().toLowerCase().indexOf("javascript:");return-1===t.indexOf(":")||e?"http://"+t:t}};e.default=s},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),a=n(i(5)),s=n(i(3)),u=n(i(90));e.default=a.default.View.extend({broadcast:r.default.clone(a.default.Events),constructor:function(t){this.options=t||{},a.default.View.apply(this,arguments)},_broadcast:function(t){if(!r.default.isUndefined(t)){t.preventDefault(),t.stopPropagation();var e=o.default(t.currentTarget).attr("data-event-name"),i=o.default(t.currentTarget).attr("data-event-param");r.default.isString(e)&&this.broadcast.trigger(e,i)}},_triggerEvent:function(t){if(!r.default.isUndefined(t)){t.preventDefault();var e=o.default(t.currentTarget).attr("data-event-name"),i=o.default(t.currentTarget).attr("data-event-param");this.trigger(e,i)}},bindInteraction:function(t,e){var i;i="function"!=typeof e?o.default.noop:function(t){s.default.touch()&&(t=t.srcEvent),t.preventDefault(),e(t)},s.default.touch()&&r.default.each(t,(function(t){t.swipeAction=new u.default(t),t.swipeAction.on("tap",i)})),s.default.desktop()&&t.off("click").on("click",i)},unbindInteraction:function(t){s.default.touch()&&r.default.each(t,(function(t){t.swipeAction.destroy()})),s.default.desktop()&&t.off("click")},onClose:function(){},beforeClose:function(){},close:function(){this.beforeClose(),this.remove(),this.onClose(),this.trigger("close"),this.unbind()},setModel:function(t){this.model=t,this._bindModel()},setCollection:function(t){this.collection=t,this._bindCollection()},_bindModel:function(){this.model&&(this.model.bind("change",this._change,this),this.model.bind("sync",this._sync,this),this.model.bind("destroy",this._destroy,this),this.model.bind("invalid",this._invalid,this),this.render())},_bindCollection:function(){this.collection&&(this.collection.bind("add",this._add,this),this.collection.bind("remove",this._remove,this),this.collection.bind("reset",this._reset,this),this.render())},initialize:function(){this.options.module&&this._setModule(this.options.module),this._bindModel(),this._bindCollection()},insertAfter:function(t){this.$el.insertAfter(t)},insertBefore:function(t){this.$el.insertBefore(t)},appendTo:function(t){this.$el.appendTo(t)},after:function(t){this.$el.after(t)},before:function(t){this.$el.before(t)},setAsAccessibilityHoverTarget:function(){this.keepVisibleForScreenReaders=!0,this.options.visible&&"none"!=this.$el.css("display")||(this.$el.css("display","block"),this.$el.addClass("sr-only")),this.exitAnimations.forEach((function(t){return t.keepVisibleForScreenReaders()}))},unsetAsAccessibilityHoverTarget:function(){this.keepVisibleForScreenReaders=!1,this.$el.hasClass("sr-only")&&(this.$el.removeClass("sr-only"),this.$el.css("display","none")),this.exitAnimations.forEach((function(t){return t.restoreHideBehavior()}))},show:function(){this.keepVisibleForScreenReaders?this.$el.removeClass("sr-only"):this.$el.show()},hide:function(){this.keepVisibleForScreenReaders?this.$el.addClass("sr-only"):this.$el.hide()},_setModule:function(t){if(r.default.isUndefined(t)||null===t)throw Error("attempting to set an invalid module!");this.module=t},getModule:function(){return this.module},_change:function(){this.render()},_sync:function(){this.render()},_destroy:function(){this.render()},_invalid:function(){this.render()},_add:function(){this.render()},_remove:function(){this.render()},_reset:function(){this.render()},getEscapedId:function(){return this.id.replace("|","\\|")}})},function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(i(0)),u=a(i(1)),l=a(i(5)),c={Module:function(t){s.default.extend(this,t),this.status=c.Module.STATUS.PENDING,t.delegate&&this.setDelegate(t.delegate)}};s.default.extend(c.Module.prototype,l.default.Events,{setDelegate:function(t){if(!s.default.isObject(t))throw Error("invalid module delegate!");for(var e in t)!this.hasOwnProperty(e)&&t.hasOwnProperty(e)&&s.default.isFunction(t[e])&&(this[e]=s.default.bind(t[e],t))},getModule:function(t){return this.application.getModule(t)},setApplication:function(t){this.application=t},getApplication:function(){return this.application},getDependency:function(t){return this.application.getModule(t)},setStatus:function(t){this.status=t},getStatus:function(){return this.status},getDeferredLoadingTimeout:function(){return c.Application.DEFERRED_LOADING_TIMEOUT}}),c.Module.extend=l.default.View.extend,c.Module.STATUS={PENDING:1,LOADED:2,STARTED:4},c.Application=function(t){this.initCallbacks=new c.Callbacks,this.modules={};var e=this;this.loadedAllModules=(new u.default.Deferred).progress((function(t){e._loadModule(t),e._allLoaded()&&this.resolve()})),s.default.extend(this,t)},s.default.extend(c.Application.prototype,l.default.Events,{_allLoaded:function(){return s.default.every(s.default.values(this.modules),(function(t){return t&&t.getStatus()===c.Module.STATUS.LOADED}))},_loadModule:function(t){if(s.default.isUndefined(t)||s.default.isNull(t))throw Error("invalid module!");this.modules[t.id]=t,t.setApplication(this),t.trigger("load"),t.setStatus(c.Module.STATUS.LOADED),this.addInitializer((function(){t.trigger("start"),t.setStatus(c.Module.STATUS.STARTED)}))},use:function(t){var e=this;s.default.isString(t)?(this.modules[t]=null,Promise.resolve().then((function(){return o(i(151)("./"+t+"/module"))})).then((function(i){if(!i)throw Error("could not load module: "+t);e.loadedAllModules.notify(i)}))):this._loadModule(t)},getModule:function(t){return this.modules[t]},addInitializer:function(t){this.initCallbacks.add(t)},start:function(t){var e=s.default.bind((function(){this.trigger("initialize:before",t),this.initCallbacks.run(t,this),this.trigger("initialize:after",t),this.trigger("start",t)}),this);this._allLoaded()?e():u.default.when(this.loadedAllModules).then(e)}}),c.Application.extend=l.default.View.extend,c.Application.DEFERRED_LOADING_TIMEOUT=5e3,c.Callbacks=function(){this.deferred=u.default.Deferred(),this.promise=this.deferred.promise()},s.default.extend(c.Callbacks.prototype,{add:function(t,e){this.promise.done((function(i,n){e&&(i=e),t.call(i,n)}))},run:function(t,e){this.deferred.resolve(e,t)}}),e.default=c},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(2)),o={hasFeature:function(t){return r.default.featureFlags&&!!r.default.featureFlags[t]}};e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PASSWORD_PROTECTED_EXPERIENCES:"Password Protected Experiences",GETTY_IMAGES:"Getty Image Integration",GETTY_VIDEOS:"Getty Video Integration",ACCESSIBILITY:"Accessibility",ACCESSIBLE_VIDEO:"Accessible Video",OBJECT_STATES:"Object States",AVOCODE_INTEGRATION:"Avocode Integration",VIEWER_ROLE:"(BETA) Viewer Role",REVIEWER_ROLE:"(BETA) Reviewer Role",PROTECTED_PREVIEW:"(BETA) Protected Preview",ENABLE_WELCOME_MESSAGE_FOR_EA_ROLES:"(BETA) Enable Welcome Message for Early Access Roles",COOKIE_COMPLIANCE:"Cookie Compliance"}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(2)),o=n(i(0)),a=n(i(5)),s=null,u=a.default.Model.extend({defaults:{top:null,bottom:null,windowWidth:null,windowHeight:null},validPositionProperties:["top","bottom","windowWidth","windowHeight"],setPositionData:function(t){var e=o.default.pick(t,this.validPositionProperties);this.set(e)},getTop:function(){return this.get("top")},getBottom:function(){return this.get("bottom")},getWindowWidth:function(){return this.get("windowWidth")},getWindowHeight:function(){return this.get("windowHeight")},getVerticalCenterOfVisibleArea:function(t){var e=Math.max(this.getTop(),0);return(Math.min(this.getBottom(),t)-e)/2+e},getEmbedContextDimensions:function(){var t=this.getWindowWidth(),e=this.getWindowHeight();return r.default.allowAdaptiveLayouts&&!1===o.default.isNull(t)&&!1===o.default.isNull(e)?{width:t,height:e}:{width:window.innerWidth,height:window.innerHeight}},isActive:function(){return null!==this.get("top")&&null!==this.get("bottom")}},{getInstance:function(){return s||(s=new u),s}});e.default=u},function(t,e,i){"use strict";var n=this&&this.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseInteraction=void 0;var o=r(i(0)),a=i(184),s=r(i(18)),u=function(){function t(t,e){if(!e.module)throw new Error("All interactions must belong to a module");o.default.assign(this,t),this.trigger=this.hasOutTrigger&&"click"===t.trigger?"mouseDown":t.trigger,this.action=t.action,this.pageView=e}return t.prototype.hasGlobalScope=function(){return!0},t.prototype.triggerAction=function(t){if(!o.default.isFunction(this.getModuleAction))return!1;var e=this.getModuleAction();if(!e)return!1;var i=new a.InteractionInvocation(this,t);return this.hasGlobalScope()?s.default.trigger(e,i):this.pageView.module.trigger(e,i),!0},t.prototype.triggerOutAction=function(){},Object.defineProperty(t.prototype,"domTagOverride",{get:function(){if(this.isValid()&&("click"===this.trigger||"mouseDown"===this.trigger))return{tagName:"button",priority:1}},enumerable:!1,configurable:!0}),t.prototype.isValid=function(){var t=o.default.values(this);return!o.default.some(t,(function(t){if(o.default.isNull(t))return!0;if(o.default.isArray(t)){if(0===t.length)return!0}else if(""===t)return!0;return!1}))},t.prototype.toJSON=function(){this.pageView;return n(this,["pageView"])},t.prototype.shouldCreateHoverArea=function(){return!1},t.prototype.getHoverTargets=function(){return[]},t}();e.BaseInteraction=u},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.maintainOffsetWhenRotated=e.toNextMultiple=e.round=e.evaluateBezierCurve=e.splitBezierCurveAtPoint=e.cubicBezierCurveFirstDerivativeRoots=e.sqDiag2D=e.vectorToSegment2D=e.closestPointOnLine=e.closestPointOnBezierCurve=e.lineLength=e.distance=e.scaleBoxToMaxDimension=e.calcPointOnRect=e.calcRotatedLineIntersect=e.Point=e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT=void 0,e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT=.01;e.Point=function(t,e){this.x=t,this.y=e,this.getX=function(){return this.x},this.getY=function(){return this.y},this.setX=function(t){this.x=t},this.setY=function(t){this.y=t},this.rotate=function(t,e,i){var n=Math.rotateCoord(this.x,this.y,t,e,i);this.setX(n.x),this.setY(n.y)}},e.Point.diff=function(t,i){return new e.Point(t.getX()-i.getX(),t.getY()-i.getY())},e.Point.sum=function(t,i){return new e.Point(t.getX()+i.getX(),t.getY()+i.getY())},e.Point.ORIGIN=new e.Point(0,0);e.calcRotatedLineIntersect=function(t,e,i){return{startPt:this.calcPointOnRect(t-270,e,i),endPt:this.calcPointOnRect(t-90,e,i)}};e.calcPointOnRect=function(t,i,n){var r=i/2,o=n/2;(t%=360)<0&&(t+=360);var a,s,u,l=Math.toRad(t),c=Math.tan(l),d=50*c,h=50/c;return Math.abs(d)<=50?(a=i/100*50,s=n/100*d,u=l<=Math.PI/2||l>3*Math.PI/2?{x:a,y:s}:{x:-a,y:-s}):(a=i/100*h,s=n/100*50,u=l<Math.PI?{x:a,y:s}:{x:-a,y:-s}),u.x+=r,u.y+=o,u.x=Math.round(u.x),u.y=Math.round(u.y),new e.Point(u.x,u.y)};e.scaleBoxToMaxDimension=function(t,e,i){var n=t,r=e;return t>0&&e>0&&(t>e?(n=i,r=Math.round(i/t*e)):(n=Math.round(i/e*t),r=i)),{width:n,height:r}};e.distance=function(t,e){var i=t.x-e.x,n=t.y-e.y;return Math.sqrt(i*i+n*n)};e.lineLength=function(t){return e.distance({x:t.x1,y:t.y1},{x:t.x2,y:t.y2})};e.closestPointOnBezierCurve=function(t,i,n,r,o,a){if(null==a&&(a=e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT),a<=0)return null;for(var s=1/0,u=null,l=a;l<1;l+=a){var c={x:e.evaluateBezierCurve(i.x,n.cx2,o.cx1,r.x,l),y:e.evaluateBezierCurve(i.y,n.cy2,o.cy1,r.y,l)},d=e.distance(t,c);d<s&&(s=d,u=c)}return u};e.closestPointOnLine=function(t,i){var n=[i.x2-i.x1,i.y2-i.y1],r=[i.x1-t.x,i.y1-t.y],o=-(n[0]*r[0]+n[1]*r[1])/(Math.pow(n[0],2)+Math.pow(n[1],2));return o>=0&&o<=1?e.vectorToSegment2D(o,{x:0,y:0},i):e.sqDiag2D(e.vectorToSegment2D(0,t,i))<=e.sqDiag2D(e.vectorToSegment2D(1,t,i))?{x:i.x1,y:i.y1}:{x:i.x2,y:i.y2}};e.vectorToSegment2D=function(t,e,i){return{x:(1-t)*i.x1+t*i.x2-e.x,y:(1-t)*i.y1+t*i.y2-e.y}};e.sqDiag2D=function(t){return Math.pow(t.x,2)+Math.pow(t.y,2)};e.cubicBezierCurveFirstDerivativeRoots=function(t,i,n,r){var o=[],a=3*(3*i-t-3*n+r),s=6*(t-2*i+n),u=s*s-4*a*(3*(i-t));if(u>=0){var l=(-s+Math.sqrt(u))/(2*a),c=(-s-Math.sqrt(u))/(2*a);l>0&&l<1&&o.push(e.evaluateBezierCurve(t,i,n,r,l)),c>0&&c<1&&o.push(e.evaluateBezierCurve(t,i,n,r,c))}return o};e.splitBezierCurveAtPoint=function(t,e,i){var r={x:t.x,y:t.y},o={x:t.cx2||t.x,y:t.cy2||t.y},a={x:e.cx1||e.x,y:e.cy1||e.y},s={x:e.x,y:e.y},u=function(t,e){return{x:(t.x+e.x)*(1-i),y:(t.y+e.y)*(1-i)}},l=u(r,o),c=u(o,a),d=u(a,s),h=u(l,c),f=u(c,d),p=u(h,f);return{left:n(n({},t),{cx2:l.x,cy2:l.y}),center:{x:p.x,y:p.y,cx1:h.x,cy1:h.y,cx2:f.x,cy2:f.y},right:n(n({},e),{cx1:d.x,cy1:d.y})}};e.evaluateBezierCurve=function(t,e,i,n,r){return t*(1-r)*(1-r)*(1-r)+3*e*r*(1-r)*(1-r)+3*i*r*r*(1-r)+n*r*r*r};e.round=function(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i};e.toNextMultiple=function(t,e){return t>0?Math.ceil(t/e)*e:t<0?Math.floor(t/e)*e:0};e.maintainOffsetWhenRotated=function(t,e){var i=e.x,n=e.y;if(t&&0!==t&&void 0!==e.x&&void 0!==e.y){var r=e.x,o=e.y;t=Math.toRad(t),i=r*Math.cos(t)+o*Math.sin(t),n=o*Math.cos(t)-r*Math.sin(t)}return{x:i,y:n}};var r={BEZIER_CURVE_POINT_INCREMENT_DEFAULT:e.BEZIER_CURVE_POINT_INCREMENT_DEFAULT,Point:e.Point,calcRotatedLineIntersect:e.calcRotatedLineIntersect,calcPointOnRect:e.calcPointOnRect,scaleBoxToMaxDimension:e.scaleBoxToMaxDimension,distance:e.distance,lineLength:e.lineLength,closestPointOnBezierCurve:e.closestPointOnBezierCurve,closestPointOnLine:e.closestPointOnLine,vectorToSegment2D:e.vectorToSegment2D,sqDiag2D:e.sqDiag2D,cubicBezierCurveFirstDerivativeRoots:e.cubicBezierCurveFirstDerivativeRoots,evaluateBezierCurve:e.evaluateBezierCurve,round:e.round,toNextMultiple:e.toNextMultiple,maintainOffsetWhenRotated:e.maintainOffsetWhenRotated};window.CerosMath=r,e.default=r},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(5));e.default=r.default.extend({events:{},unregisteredHandlers:{},registerEvents:function(t,e){r.default.each(t,r.default.bind((function(t){this.events[t]=e,this.unregisteredHandlers[t]&&(r.default.each(this.unregisteredHandlers[t],r.default.bind((function(e){this.on(t,e)}),this)),this.unregisteredHandlers[t]=null)}),this))}},o.default.Events)},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectStateInvoker=void 0;var r=function(){function t(){}return t.invokeObjectState=function(t,e,i,n){void 0===n&&(n={});var r=e.hasChangesComparedTo(i);r.transition&&t.applyTransition(e.config.transition),n.position||!r.position&&!r.border||t._applyPosition(e.config.x,e.config.y,e.config.border),!n.dimensions&&r.dimension&&t._applyDimensions(e.config.width,e.config.height),r.opacity&&t._applyOpacity(e.config.opacity),r.rotation&&t._applyRotation(e.config.rotation),r.border&&t._applyBorder(e.config.border),n.shadow||!r.shadow&&!r.rotation||t._applyShadow(e.config.shadow,e.config.rotation),!n.background&&r.background&&t._applyBackground(e.config.background,e.config.transition)},t.invokeAbstractImageObjectState=function(e,i,n,r){var o=i.hasChangesComparedTo(n);o.effects&&e._applyImageEffects(i.config.effects,!0),o.flip&&e._applyImageFlip({flipHorizontal:i.config.flipHorizontal,flipVertical:i.config.flipVertical}),o.blendingMode&&e._applyBlendingMode(i.config.blendingMode),(r?t.invokeScaleableObjectState:t.invokeObjectState)(e,i,n,{border:!0})},t.invokeTextObjectState=function(e,i,n){var r=i.hasChangesComparedTo(n);if(!e.isParagraphMode())return r.font&&e.setFontColor(i.config.defaultSpan),void t.invokeObjectState(e,i,n);r.font&&(e.setDefaultTextStyle(i.config.defaultSpan),e.applyDefaultFont(i.config.defaultSpan),e.applyLineHeight(i.config.leading,i.config.defaultSpan)),r.justify&&e.applyJustification(i.config.justify),r.lineHeight&&!r.font&&e.applyLineHeight(i.config.leading),t.invokeObjectState(e,i,n)},t.invokeScaleableObjectState=function(e,i,r,o){void 0===o&&(o={});var a=i.hasChangesComparedTo(r);a.dimension&&e.applyScale(i.config.width,i.config.height,i.config.x,i.config.y),a.position&&!a.dimension&&e.applyPositionToScaledObject(i.config.x,i.config.y,i.config.width,i.config.height),t.invokeObjectState(e,i,r,n(n({},o),{position:!0,dimensions:!0}))},t.invokeSVGShapeObjectState=function(e,i,n,r){void 0===r&&(r={});var o=i.hasChangesComparedTo(n);r.shadow=!0,(o.shadow||o.rotation)&&e._applyShadow(i.config.shadow,i.config.rotation,i.config.border,i.config.background,i.config.width,i.config.height),o.stroke&&(e._applyBorder({width:i.config.lineWidth,color:i.config.color}),r.border=!0),o.linePosition&&e.applyPoints([{x:i.config.x,y:i.config.y},{x:i.config.x2,y:i.config.y2}],i.config.transition),o.path&&e.applyPath(i.config.path,i.config.isClosedPath,i.config.transition),t.invokeObjectState(e,i,n,r)},t}();e.ObjectStateInvoker=r},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(2)),s=n(i(137)),u=n(i(141)),l=n(i(142)),c=n(i(82)),d=n(i(143)),h=n(i(42));function f(t,e,i){if(l.default.has(e))return l.default.get(e);o.default.isArray(t)||(t=[t]),o.default.isArray(e)||(e=[e]);var n={families:t,urls:e};o.default.isUndefined(i)||(n.testStrings={},o.default.isObject(i)?o.default.each(t,(function(t){o.default.isUndefined(i[t])||(n.testStrings[t]=i[t])})):o.default.each(t,(function(t){n.testStrings[t]=i})));return l.default.add(e,(function(){var e=[],i={};return o.default.each(t,(function(t){var n=new r.default.Deferred;e.push(n),i[t]=n})),d.default.load({custom:n,async:!0,fontactive:function(t){i[t].resolve()},fontinactive:function(t){i[t].reject()}}),r.default.when.apply(r.default,e).promise()}))}e.default={get:function(t){return l.default.get(t)},addRasterImage:function(t,e,i){var n=function(t,e,i){o.default.isNull(e)&&(e="full");var n=t+"|"+e;h.default.isValidCropObject(i)&&(n+="|"+h.default.createCropDimensionsString(i));return n}(t,e,i);return l.default.add(n,(function(){return s.default.getOrCreateRasterImageResource(t,e,i)}))},addVectorImage:function(t){return l.default.add(t,(function(){return new c.default(t).getPromise()}))},addCss:function(t){return l.default.has(t)?l.default.get(t):l.default.add(t,(function(){return new u.default(t).deferred.promise()}))},addGoogleWebFont:function(t){return a.default.googleFontUrl?function(t){return f(t=t.split(":")[0],a.default.googleFontUrl+"/"+t+".css",void 0)}(t):l.default.has(t)?l.default.get(t):l.default.add(t,(function(){var e=new r.default.Deferred;return d.default.load({google:{families:[t]},async:!0,fontactive:function(){e.resolve()},fontinactive:function(){e.reject()}}),e.promise()}))},addCustomWebFont:f,has:function(t){return l.default.has(t)},cancelPending:function(){return l.default.cancelPending()},pause:l.default.pause,resume:l.default.resume,onPriorityQueueCompletion:l.default.onPriorityQueueCompletion,onAllResourcesLoaded:l.default.onAllResourcesLoaded}},function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s,u=a(i(0)),l=a(i(5)),c=a(i(1)),d=a(i(4)),h=a(i(2)),f=o(i(17)),p=a(i(9)),g={tablet:{height:4,width:3},mobile:{height:16,width:9}},m={tablet:{height:1.2,width:1.11},mobile:{height:1.2,width:1.11},desktop:{height:1,width:1}},v={tablet:110,mobile:90,desktop:70},y={tablet:50,mobile:50,desktop:0},_=["desktop","tablet","mobile"],b={CHANGE_PREVIEWER_FRAME_SIZE:"changePreviewerFrameSize",UPDATE_URL:"updateUrl",RELOAD_TRIGGERED:"reloadTriggered"};e.default=u.default.extend({},l.default.Events,{fullScreenMode:!1,previewerFrameSize:"desktop",triggerReload:function(){s.trigger("reload"),this.trigger(b.RELOAD_TRIGGERED)},setPreviewerFrameSize:function(t){this.previewerFrameSize=t,this.triggerFrameSizeUrlUpdate(t),this.trigger(this.EVENTS.CHANGE_PREVIEWER_FRAME_SIZE,{variant:t})},getPreviewerFrameSize:function(){return this.previewerFrameSize},setDocVersion:function(t){s=t},isDocVersionSet:function(){return!u.default.isUndefined(s)},doesVariantExist:function(t){return u.default.includes(u.default.keys(s.get("overrides")),t)||"desktop"===t},hasVariants:function(){return h.default.allowAdaptiveLayouts&&this.getNumberOfExistingVariants()>0},getNumberOfExistingVariants:function(){return u.default.keys(s.get("overrides")).length},getExistingVariants:function(){return u.default.keys(s.get("overrides"))},getLayoutSettings:function(){return s.get("layoutSettings")},isViewportWidthDetection:function(){return"viewport-width"===this.getLayoutSettings().layoutPrimarySetting},getExperienceContainerDimensions:function(t){var e=this.fullScreenMode;if(h.default.previewMode&&h.default.allowAdaptiveLayouts&&!e){var i=this.getPreviewerFrameSize(),n=t.height()-(v[i]+y[i]),r=Math.max(n/m[i].height,300),o="desktop"===i?t.width():r*(g[i].width/g[i].height);return{width:f.toNextMultiple(o,2),height:f.toNextMultiple(r,2)}}return{width:t.width(),height:t.height()}},getExperienceContainerWidth:function(t){return this.getExperienceContainerDimensions(t).width},getExperienceContainerHeight:function(t){return this.getExperienceContainerDimensions(t).height},detectPreviewerFrameSizeFromUrl:function(){if(h.default.previewMode&&h.default.allowAdaptiveLayouts){var t=this.getPreviewerFrameSize(),e=this.getFrameSizeFromUrl();d.default.debug("Previewer frame size based on URL: "+e),this.isValidFrameSize(e)?e!==t&&this.setPreviewerFrameSize(e):(d.default.debug("Frame size from URL is invalid, updating URL to default frame size"),this.triggerFrameSizeUrlUpdate("desktop"))}},triggerFrameSizeUrlUpdate:function(t){this.trigger(this.EVENTS.UPDATE_URL,t)},getFrameSizeFromUrl:function(){return this.hasFrameSizeOnUrl()?p.default.parseLayoutFromLocation():"desktop"},getLayoutFromQueryParam:function(){return p.default.getLayoutFromQueryParam()},hasFrameSizeOnUrl:function(){return!!p.default.parseLayoutFromLocation()},isValidVariantName:function(t){return u.default.includes(_,t)},isValidFrameSize:function(t){return this.isValidVariantName(t)},getLeftRightBorderWidth:function(t,e,i){return(i||this.getExperienceContainerDimensions(t).width)*(m[e].width-1)/2},getTopBottomBorderWidth:function(t,e,i){return(i||this.getExperienceContainerDimensions(t).height)*(m[e].height-1)/2},setFullScreenMode:function(t){this.fullScreenMode=t;var e=c.default(".adaptive-layouts-frame");this.fullScreenMode?(c.default(".previewer-selection-header").hide(),e.addClass("-full-screen-mode"),e.css({width:c.default(window).width(),height:c.default(window).height()}),c.default(window).trigger("resize")):(c.default(".previewer-selection-header").show(),e.removeClass("-full-screen-mode"),c.default(window).trigger("resize"))},VALID_VARIANT_NAMES:_,PREVIEWER_TOP_PADDING_BY_VARIANT:v,PREVIEWER_FRAME_PROPORTION_FACTORS_BY_VARIANT:m,EVENTS:b})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(10));e.default={getExperienceTitle:function(){return window.document.title},getOpenGraphTitle:function(){return window.cerosContext.docVersion.ogTitle},getOpenGraphDescription:function(){return window.cerosContext.docVersion.ogDescription},getTwitterTitle:function(){return window.cerosContext.docVersion.twitterTitle},urlForTwitter:function(t){var e={text:this.getTwitterTitle()||this.getExperienceTitle(),url:t};return o.default.appendQueryParams("https://twitter.com/share",e)},urlForLinkedIn:function(t){var e={url:t,mini:"true",title:this.getOpenGraphTitle()||this.getExperienceTitle()};return o.default.appendQueryParams("https://www.linkedin.com/shareArticle",e)},urlForPinterest:function(t,e){var i={url:t,media:e},n=this.getOpenGraphDescription()||this.getOpenGraphTitle()||this.getExperienceTitle();return n&&(i.description=n),o.default.appendQueryParams("https://pinterest.com/pin/create/button/",i)},urlForFacebook:function(t){var e={u:t};return o.default.appendQueryParams("https://www.facebook.com/sharer.php",e)},urlForEmail:function(t){var e={subject:this.getExperienceTitle(),body:"I thought you might like this. Here's a link to it on the web: "+t};return o.default.appendQueryParams("mailto:",e)},shareOnTwitter:function(t){window.open(this.urlForTwitter(t),"_blank","width=450,height=300")},shareOnLinkedIn:function(t){window.open(this.urlForLinkedIn(t),"_blank","width=520,height=570")},shareOnPinterest:function(t,e){window.open(this.urlForPinterest(t,e),"_blank","width=810,height=530")},shareOnFacebook:function(t){window.open(this.urlForFacebook(t),"_blank","width=450,height=300")},shareViaEmail:function(t){var e=document.createElement("a");e.href=this.urlForEmail(t),r.default("body").append(e),e.click(),r.default(e).remove()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionTypes=void 0,function(t){t.cycleNext="cycle-next",t.cyclePrevious="cycle-previous",t.hideCanvasTargets="hide-layers",t.showCanvasTargets="show-layers",t.showCanvasTargetsOnHover="show-layers-on-hover",t.toggleCanvasTargets="toggle-layers",t.enableDisablePage="page-enable-disable",t.gotoPage="page-goto",t.nextPage="page-next",t.prevPage="page-prev",t.scrollTo="scroll-to",t.scrollToObject="scroll-to-object",t.url="url",t.email="share-email",t.facebook="share-facebook",t.linkedin="share-linkedin",t.pinterest="share-pinterest",t.twitter="share-twitter",t.changeState="change-state",t.fullscreen="show-fullscreen",t.hideAndStayHiddenCanvasTargets="hide-and-stay-hidden",t.hideOnly="hide-only",t.lightbox="lightbox",t.product="product",t.shoppingCart="shopping-cart",t.showAndStayVisibleCanvasTargets="show-and-stay-visible",t.showOnly="show-only",t.toggleReducedMotion="toggle-reduced-motion",t.invalid="invalid"}(e.ActionTypes||(e.ActionTypes={}))},function(t,e,i){"use strict";var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CssUtils=void 0;var o,a,s=r(i(0)),u=r(i(3)),l=i(55);!function(t){t.scale="scale",t.skew="skew",t.rotate="rotate",t.matrix="matrix",t.translate3d="translate3d",t.translateX="translateX",t.translateY="translateY",t.translateZ="translateZ"}(o||(o={})),function(t){t.matrix3d="matrix3d",t.translate="translate",t.scale3d="scale3d",t.scaleX="scaleX",t.scaleY="scaleY",t.scaleZ="scaleZ",t.rotate3d="rotate3d",t.rotateX="rotateX",t.rotateY="rotateY",t.rotateZ="rotateZ",t.skewX="skewX",t.skewY="skewY",t.perspective="perspective",t.none="none",t.initial="initial",t.inherit="inherit"}(a||(a={}));var c=function(){function t(){}return t.setTransformToElement=function(t,e){if(t&&t.length){var i=t[0].style.transform;t.css("transform",this.setTransformProperty(i,e))}},t.setTransformProperty=function(e,i){e&&"none"!==e||(e="");var r=[a.matrix3d,a.translate,a.scale3d,a.scaleX,a.scaleY,a.scaleZ,a.rotate3d,a.rotateX,a.rotateY,a.rotateZ,a.skewX,a.skewY,a.perspective].map((function(i){return t.getUnsupportedString(e,i)})).filter((function(t){return!!t})),s=[o.translateX,o.translateY,o.translateZ].map((function(n){var r=t.getValueFromProperty(e,n),o=i[n];return void 0!==o?t.buildProperty(n,o):t.buildProperty(n,r)})),u=t.getScale(e),l=t.getSkew(e),c=t.getValueFromProperty(e,o.rotate),d=t.getTranslate(e),h=t.getMatrix(e);return n([void 0!==i.scale?t.buildScaleTransform(i.scale):t.buildScaleTransform(u),void 0!==i.skew?t.buildSkewTransform(i.skew):t.buildSkewTransform(l),void 0!==i.rotate?t.buildRotationTransform(i.rotate):t.buildRotationTransform(c),void 0!==i.translate3d?t.buildTranslateTransform(i.translate3d):t.buildTranslateTransform(d),void 0!==i.matrix?t.buildMatrixTransform(i.matrix):t.buildMatrixTransform(h)],s,r).filter((function(t){return!!t})).join(" ")},t.setShadowToElement=function(t,e,i){if(!u.default.isIE11()){var n={x:t.x||0,y:t.y||0};if(e&&0!==e){e=Math.toRad(e);var r=n.x*Math.cos(e)+n.y*Math.sin(e),o=-1*n.x*Math.sin(e)+n.y*Math.cos(e);n.x=r,n.y=o}var a="drop-shadow(";a+=Math.round(n.x)+"px",a+=" "+Math.round(n.y)+"px";var s=u.default.webkit?4:2;a+=t.blur?" "+Math.round(t.blur/s)+"px":" 0",a+=" "+t.color,a+=")",i.css("-webkit-filter",a),i.css("filter",a);var l="progid:DXImageTransform.Microsoft.Dropshadow(OffX=";l+=Math.round(n.x)+", OffY=",l+=Math.round(n.y)+", Color='",l+=t.color+"')",i.css("filter",l)}},t.getValueFromProperty=function(e,i){var n=new RegExp(i+"\\(.*?\\)","g"),r=e.match(n);if(!r)return null;var o=r[0].match(t.transformValueRegEx);return o?Number.parseFloat(o[0]):null},t.getUnsupportedString=function(t,e){var i=new RegExp(e+"\\(.*?\\)","g"),n=t.match(i);return n?n[0]:null},t.getScale=function(t){return this.getXYAll(o.scale,t)},t.getSkew=function(t){return this.getXYAll(o.skew,t)},t.getXYAll=function(e,i){var n=new RegExp(e+"\\(.*?\\)","g"),r=i.match(n);if(!r)return null;var o=r[0].match(t.transformValueRegEx);return o&&2===o.length?{x:Number.parseFloat(o[0]),y:Number.parseFloat(o[1])}:o&&1===o.length?{all:Number.parseFloat(o[0])}:null},t.getTranslate=function(e){var i=new RegExp(o.translate3d+"\\(.*?\\)","g"),n=e.match(i);if(!n)return null;var r=n[0].match(t.transformValueRegEx);return r&&3===r.length?{x:Number.parseFloat(r[0]),y:Number.parseFloat(r[1]),z:Number.parseFloat(r[2])}:null},t.getMatrix=function(e){var i=new RegExp(o.matrix+"\\(.*?\\)","g"),n=e.match(i);if(!n)return null;var r=n[0].match(t.transformValueRegEx);return r&&6===r.length?{scaleX:Number.parseFloat(r[0]),skewY:Number.parseFloat(r[1]),skewX:Number.parseFloat(r[2]),scaleY:Number.parseFloat(r[3]),translateX:Number.parseFloat(r[4]),translateY:Number.parseFloat(r[5])}:null},t.buildProperty=function(t,e){return e||0===e?t+"("+e+")":""},t.buildScaleTransform=function(t){return t?t.all?o.scale+"("+t.all+")":o.scale+"("+t.x+", "+t.y+")":""},t.buildSkewTransform=function(t){return t?t.all?o.skew+"("+t.all+"deg)":o.skew+"("+t.x+"deg, "+t.y+"deg)":""},t.buildTranslateTransform=function(t){return t?o.translate3d+"("+t.x+", "+t.y+", "+t.z+")":""},t.buildMatrixTransform=function(t){if(t instanceof Array){if(6!==t.length)return"";t={scaleX:t[0],skewY:t[1],skewX:t[2],scaleY:t[3],translateX:t[4],translateY:t[5]}}return t?o.matrix+"("+t.scaleX+", "+t.skewY+", "+t.skewX+", "+t.scaleY+", "+t.translateX+", "+t.translateY+")":""},t.buildRotationTransform=function(t){return t||0===t?o.rotate+"("+t+"deg)":""},t.computeEffect=function(e,i){var n=e[l.ImageEffects.BRIGHTNESS.NAME],r=e[l.ImageEffects.CONTRAST.NAME],o=e[l.ImageEffects.HUEROTATE.NAME],a=e[l.ImageEffects.SATURATE.NAME],u=e[l.ImageEffects.SEPIA.NAME],c=e[l.ImageEffects.INVERT.NAME],d="",h="",f="";(i||!s.default.isNil(n)&&n!==l.ImageEffects.defaultValueOf(l.ImageEffects.BRIGHTNESS.NAME))&&(n+=100,d=t.createImageEffectCssString(l.ImageEffects.BRIGHTNESS,n)),(i||!s.default.isNil(r)&&r!==l.ImageEffects.defaultValueOf(l.ImageEffects.CONTRAST.NAME))&&(r+=100,h=this.createImageEffectCssString(l.ImageEffects.CONTRAST,r)),(i||!s.default.isNil(a)&&a!==l.ImageEffects.defaultValueOf(l.ImageEffects.SATURATE.NAME))&&(0===(a+=100)&&(a=1),f=this.createImageEffectCssString(l.ImageEffects.SATURATE,a));var p={};return p[l.ImageEffects.BRIGHTNESS.NAME]=d,p[l.ImageEffects.CONTRAST.NAME]=h,p[l.ImageEffects.SATURATE.NAME]=f,p[l.ImageEffects.HUEROTATE.NAME]=this.createEffectStringIfPresent(o,l.ImageEffects.HUEROTATE,i),p[l.ImageEffects.SEPIA.NAME]=this.createEffectStringIfPresent(u,l.ImageEffects.SEPIA,i),p[l.ImageEffects.INVERT.NAME]=this.createEffectStringIfPresent(c,l.ImageEffects.INVERT,i),l.ImageEffects.computeBrowserImageFilter(p)},t.createEffectStringIfPresent=function(e,i,n){return n||!s.default.isNil(e)&&e!==l.ImageEffects.defaultValueOf(i.NAME)?t.createImageEffectCssString(i,e):""},t.createImageEffectCssString=function(t,e){return t.NAME+"("+e+t.UNIT+")"},t.transformValueRegEx=/(-?\d+\.?\d*)/g,t}();e.CssUtils=c},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=function(t,e,i,n){var o=parseFloat(n);return(r.default.isUndefined(n)||r.default.isNaN(o))&&(o=1),null!==t&&(this.r=parseInt(t,10)),null!==e&&(this.g=parseInt(e,10)),null!==i&&(this.b=parseInt(i,10)),this.a=o,this};o.prototype={toHex:function(){var t;return null===this.r||null===this.g||null===this.b?"transparent":(t=(this.b|this.g<<8|this.r<<16).toString(16),(t="#"+"000000".substr(0,6-t.length)+t).toUpperCase())},isTransparent:function(){return!this.a},set:function(t){return r.default.each(t,r.default.bind((function(t,e){this[e]=t}),this)),this},hsv:function(){var t={h:0,s:0,v:0},e=this.r/255,i=this.g/255,n=this.b/255,r=Math.min(e,Math.min(i,n)),o=Math.max(e,Math.max(i,n));if(r==o)return t.v=r,t;var a=e==r?i-n:n==r?e-i:n-e,s=e==r?3:n==r?1:5;return t.h=60*(s-a/(o-r)),t.s=(o-r)/o,t.v=o,t},rgb:function(){return{r:this.r,g:this.g,b:this.b}},rgba:function(){return{r:this.r,g:this.g,b:this.b,a:this.a}},cmyk:function(){var t={c:0,m:0,y:0,k:0},e=this.r/255,i=this.g/255,n=this.b/255;return t.k=Math.min(1-e,1-i,1-n),t.c=(1-e-t.k)/(1-t.k),t.m=(1-i-t.k)/(1-t.k),t.y=(1-n-t.k)/(1-t.k),isNaN(t.c)&&(t.c=0),isNaN(t.m)&&(t.m=0),isNaN(t.y)&&(t.y=0),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t},contrastRatio:function(t){t=o.fromString(t);var e=this.relativeLuminance(),i=t.relativeLuminance();if(e<i){var n=e;e=i,i=n}return(e+.05)/(i+.05)},relativeLuminance:function(){var t=function(t){return t<.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)};return.2126*t(this.r/255)+.7152*t(this.g/255)+.0722*t(this.b/255)},clone:function(){return new o(this.r,this.g,this.b,this.a)},cloneWithAlpha:function(t){var e=this.clone();return e.a=t,e},toString:function(){return null!==this.r&&null!==this.g&&null!==this.b?null!==this.a&&1!==this.a?"rgba("+this.r+", "+this.g+", "+this.b+", "+this.a+")":this.toHex():"transparent"},toValue:function(){return[this.r,this.g,this.b,this.a]}},o.fromHex=function(t){var e,i,n;return"#"===t[0]&&(t=t.substring(1,7)),3===t.length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),n=parseInt(t.substring(0,2),16),i=parseInt(t.substring(2,4),16),e=parseInt(t.substring(4,6),16),new o(n,i,e)},o.fromHSV=function(t,e,i){var n,a,s,u,l,c,d,h;if(r.default.isObject(t)&&(e=t.s,i=t.v,t=t.h),0===e)return c=d=h=i,new o(255*c,255*d,255*h);switch(s=i*(1-e),u=i*(1-e*(a=(t/=60)-(n=Math.floor(t)))),l=i*(1-e*(1-a)),n){case 0:c=i,d=l,h=s;break;case 1:c=u,d=i,h=s;break;case 2:c=s,d=i,h=l;break;case 3:c=s,d=u,h=i;break;case 4:c=l,d=s,h=i;break;default:c=i,d=s,h=u}return new o(255*c,255*d,255*h)},o.fromCMYK=function(t,e,i,n){r.default.isObject(t)&&(e=t.m,i=t.y,n=t.k,t=t.c);var a=o.Black();return t/=100,e/=100,i/=100,n/=100,a.r=1-Math.min(1,t*(1-n)+n),a.g=1-Math.min(1,e*(1-n)+n),a.b=1-Math.min(1,i*(1-n)+n),a.r=Math.round(255*a.r),a.g=Math.round(255*a.g),a.b=Math.round(255*a.b),a},o.fromString=function(t){var e,i,n,r,a,s,u;if(t instanceof o)return t;var l=t.match(this.regex);return l?(a=l[1],s=l[2],a?o.fromHex(a):s?(e=(u=s.split(/\s*,\s*/))[0],i=u[1],n=u[2],r=u[3],new o(e,i,n,r)):void 0):null},o.regex=/(?:#([0-9a-f]{3,6})|rgba?\(([^)]+)\))/i,o.buildStops=function(t){return r.default.map(t,(function(t){return o.fromString(t.color)+" "+parseInt(100*t.stop,10)+"%"})).join(",")},o.White=function(t){return new o(255,255,255,t)},o.Black=function(t){return new o(0,0,0,t)},o.Transparent=function(){return new o},o.getMostContrasting=function(t,e,i){return t=o.fromString(t),e=o.fromString(e),i=o.fromString(i),t.contrastRatio(e)>t.contrastRatio(i)?e:i},window.Color=o,e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BackboneShim=void 0,e.BackboneShim=function(t){var e=this;return function(i){t&&Object.keys(t).forEach((function(e){i.prototype[e]=t[e]}));var n=i,r=i.prototype;i.prototype.constructor=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];Object.keys(r).forEach((function(t){void 0!==r[t]&&(e[t]=r[t])})),n.apply(e,t)}}}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseVisibilityInteraction=void 0;var o=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.layerTargets=e.layerTargets,n}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_LAYER_VISIBILITY},e.prototype.getHoverTargets=function(){return this.layerTargets},e}(i(16).BaseInteraction);e.BaseVisibilityInteraction=o},function(t,e,i){"use strict";var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(i(1)),u=a(i(0)),l=o(i(17)),c=a(i(3)),d=a(i(83)),h=["svg","path","rect","circle","ellipse","line","polyline","polygon","text"];e.default={isVectorBased:function(t){return"image/svg+xml"===t},getImageAspectRatio:function(t){var e=this.getViewportDimensions(t);if(e&&e.height>0&&e.width>0)return e;var i=this.getViewBoxDimensions(t);return i&&i.height>0&&i.width>0?i:null},getViewBoxDimensions:function(t){var e=(t.documentElement.getAttribute("viewBox")||"").match(/-?[\d\.]+/g);if(e&&4===e.length){var i=parseInt(e[2],10),n=parseInt(e[3],10);if(i>0&&n>0)return{width:i,height:n}}return null},getViewportDimensions:function(t){var e=t.documentElement,i=parseInt(e.getAttribute("width"),10),n=parseInt(e.getAttribute("height"),10);return i>0&&n>0?{width:i,height:n}:null},setViewportDimensions:function(t,e,i){var n=t.documentElement;n.setAttribute("width",e+"px"),n.setAttribute("height",i+"px")},updateSVGColorStyle:function(t,e){u.default.each(h,u.default.bind((function(i){var n=t.getElementsByTagName(i);u.default.each(n,u.default.bind((function(t){this.canFillStyleBeUpdated(t)&&this.appendStyle(t,"fill",e),this.canStrokeStyleBeUpdated(t)&&this.appendStyle(t,"stroke",e)}),this))}),this))},canFillStyleBeUpdated:function(t){var e=this.getStyle(t,"fill");return!e||"none"!==e.trim()},canStrokeStyleBeUpdated:function(t){var e=this.getStyle(t,"stroke");return e&&"none"!==e.trim()},getStyle:function(t,e){var i=this.getStyleValue(t,e);return i||(i=t.getAttribute(e)),i},removeIllegalNodes:function(t){this.removeNodesByNodeName(t,"foreignObject")},removeNodesByNodeName:function(t,e){var i=t.getElementsByTagName(e);if(i)for(var n=i.length-1;n>=0;n--){var r=i[n];r.parentNode.removeChild(r)}},handleTitle:function(t,e,i){var n=t.getElementsByTagName("title"),r=t.documentElement;if(e||i){var o="title"+d.default.randomId();if(r.setAttribute("role","img"),r.setAttribute("aria-labelledby",o),r.removeAttribute("aria-hidden"),null==n||0===n.length){var a=t.createElement("title");r.appendChild(a),n=t.getElementsByTagName("title")}n[0].innerHTML=e,n[0].setAttribute("id",o)}else r.setAttribute("aria-hidden","true")},findChildNode:function(t,e){return u.default.find(t.childNodes,(function(t){return t.nodeName===e}))},appendNewChildNode:function(t,e,i){var n=this.createSVGNode(t,i);return e.appendChild(n,e.firstChild),n},prependNewChildNode:function(t,e,i){var n=this.createSVGNode(t,i);return e.insertBefore(n,e.firstChild),n},addLinearGradient:function(t,e,i){var n=t.documentElement,r=this.findChildNode(n,"defs");r||(r=this.prependNewChildNode(t,n,"defs"));var o=this.findChildNode(r,"linearGradient"),a=(null==o?void 0:o.getAttribute("id"))||"";null!=o&&0!==o.length||(o=this.prependNewChildNode(t,r,"linearGradient")),o.getAttribute("data-cerosgradient")||0===a.indexOf("CerosGradient_")||(o=this.prependNewChildNode(t,r,"linearGradient")),o.setAttribute("class","cerosgradient"),o.setAttribute("data-cerosgradient",!0),o.setAttribute("id",e);var s=l.calcRotatedLineIntersect(i.angle,100,100);o.setAttribute("x1",s.startPt.getX()+"%"),o.setAttribute("y1",s.startPt.getY()+"%"),o.setAttribute("x2",s.endPt.getX()+"%"),o.setAttribute("y2",s.endPt.getY()+"%"),u.default.each(i.stops,u.default.bind((function(e,n){var r=100*n/(i.stops.length-1),a=o.getElementsByTagName("stop")[n];null!=a&&0!==a.length||(a=this.appendNewChildNode(t,o,"stop")),a.setAttribute("offset",r+"%"),a.setAttribute("stop-color",e.color)}),this))},createSVGNode:function(t,e){return t.createElementNS("http://www.w3.org/2000/svg",e)},supportsObjectURLs:function(){return!c.default.isPhantomJS()&&!c.default.isJsDom()},createObjectURL:function(t){if(this.supportsObjectURLs()){var e=this.createBlob(t);return this.getDOMURL().createObjectURL(e)}var i=this.createXmlString(t);return"data:image/svg+xml;base64,"+window.btoa(i)},createBlob:function(t){var e=this.createXmlString(t);return new Blob([e],{type:"image/svg+xml"})},createXmlString:function(t){return(new XMLSerializer).serializeToString(t)},revokeObjectURL:function(t){this.supportsObjectURLs()&&this.getDOMURL().revokeObjectURL(t)},getDOMURL:function(){return window.URL||window.webkitURL||window},isDataURL:function(t){return u.default.isString(t)&&0===t.indexOf("data:")},isVectorDataURL:function(t){return u.default.isString(t)&&0===t.indexOf("data:image/svg+xml;base64,")},convertToXMLString:function(t){if(!this.isVectorDataURL(t))throw new Error("Expected data url to start with data:image/svg+xml;base64,");var e=t.substring("data:image/svg+xml;base64,".length);return window.atob(e)},appendStyle:function(t,e,i){var n=t.getAttribute("style"),r=e+":"+i+";";n&&n.length>0?(";"!==n.substr(n.length-1)&&(n+=";"),n+=r):n=r,t.setAttribute("style",n)},getStyleValue:function(t,e){var i=t.getAttribute("style");if(!i||0===i.length)return null;var n=i.split(";");if(!n)return null;for(var r=null,o=n.length-1;o>=0;o--){var a=n[o].split(":");if(a&&2==a.length)if(a[0].trim()===e){r=a[1].trim();break}}return r},createImageElement:function(t,e){var i=s.default("<img/>");return e&&i.attr(e),i.on("error",u.default.bind((function(){this.revokeObjectURL(t)}),this)),i.attr("src",t),i},renameCssClassesAndIds:function(t,e){return t=this.renameCssClasses(t,e),t=this.renameIds(t,e)},renameCssClasses:function(t,e){var i=this.extractStyleFromSvg(t),n=this.extractClassesFromSvg(t),r=null;i&&n&&(r=this.matchCssClasses(i[2]));var o=function(t){return t.original+t.newOne};if(r&&r.length>0){for(var a=u.default.uniq(r),s=new Array,l=new Set,c=0,d=a;c<d.length;c++){var h=d[c],f=h.indexOf("{")===h.length-1,p=new RegExp("[.|{|,]","gi"),g=h.replace(p,"").replace(" ","")+"-"+e,m=o(S={original:h,newOne:f?"."+g+"{":"."+g+","});l.has(m)||(s.push(S),l.add(m))}for(var v=0,y=n;v<y.length;v++){var _=y[v],b=_.replace("class=","").replace('"',"").replace('"',"").split(" ");m=o(S={original:_,newOne:'class="'+(b=this.formatClasses(b,e)).join(" ")+'"'});l.has(m)||(s.push(S),l.add(m))}for(var T=0,w=s;T<w.length;T++){var S=w[T];t=t.replaceAll(S.original,S.newOne)}}return t},formatClasses:function(t,e){for(var i=0;i<t.length;i++){var n=t[i].indexOf("cerosgradient")>-1;t[i]=n?t[i]:t[i]+"-"+e}return t},renameIds:function(t,e){var i=this.matchIds(t);if(i)for(var n=u.default.uniq(i),r=0;r<n.length;r++){var o=n[r].replace("id=","").replace(/\"/gi,""),a=""+o+e,s=new RegExp('id=\\"'+o+'\\"',"gi");t=t.replace(s,'id="'+a+'"');var l=new RegExp('begin=\\"(.+)?'+o+"\\.","gi");t=t.replace(l,'begin="$1'+a+".");var c=new RegExp('end=\\"'+o+"\\.","gi");t=t.replace(c,'end="'+a+".");var d=new RegExp('xlink:href=\\"#'+o+'\\"',"gi");t=t.replace(d,'xlink:href="#'+a+'"');var h=new RegExp(o+"\\)","gi");t=t.replace(h,a+")")}return t},extractClassesFromSvg:function(t){return t.match(/class=\"([^"]*)\"/g)},extractStyleFromSvg:function(t){return t.match(/<style(.+)?>([\s\S]+?)<\/style>/)},matchCssClasses:function(t){return t.match(/(\.(?![^{]*})([\w+\-]+?)(\s+)?[\{|(\,])/g)},matchIds:function(t){var e=new RegExp('id=\\"?([a-zA-Z][\\w|\\:|\\.|\\-]*)\\"?',"gi");return t.match(e)}}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(i(0)),s=o(i(89)),u=o(i(84)),l=function(t){function e(e){var i=t.call(this,e)||this;return i.eventHandlerMap={},i.scrollProxyHandle=u.default,i}return r(e,t),e.prototype.sendEvent=function(t,e){this.isEnabled()&&this.eventHandlerMap[t]&&this.eventHandlerMap[t].call(this,e)},e.prototype.invokeOnParentPage=function(t){var e;t=a.default.isArray(t)?t:[t];var i=a.default.map(t,(function(t){return t.toJSON()}));null===(e=this.scrollProxyHandle)||void 0===e||e.invokeGlobalFunctions(i)},e.prototype.registerEventHandler=function(t,e){this.eventHandlerMap[t]=e},e}(s.default);e.default=l},function(t,e,i){"use strict";var n,r;Object.defineProperty(e,"__esModule",{value:!0}),e.VIEWPORT_TOP_ID=e.MAIN_CONTENT_LINK_DEFAULT_TEXT=e.SECTION_DEFAULTS=e.MODEL_DEFAULTS=e.properties=e.DEFAULT_LANDMARK_TAG=e.HTML_LANDMARK_TAGS=void 0,e.HTML_LANDMARK_TAGS=["main","nav","aside","article","section","header","footer"],e.DEFAULT_LANDMARK_TAG="main",e.properties={HTML_LANDMARK:"htmlLandmarkTag",ARIA_LABEL:"ariaLabel",SCREEN_READER_ONLY_TEXT:"screenReaderOnlyText"},e.MODEL_DEFAULTS=((n={})[e.properties.ARIA_LABEL]=void 0,n),e.SECTION_DEFAULTS=((r={})[e.properties.HTML_LANDMARK]=void 0,r[e.properties.ARIA_LABEL]=void 0,r),e.MAIN_CONTENT_LINK_DEFAULT_TEXT="Skip to Main Content",e.VIEWPORT_TOP_ID="viewport-top"},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(5)),o=n(i(0)),a={getExtentsFromDimensions:function(t,e,i,n,r,o){var a=this.getExtentsPointsFromDimensions(t,e,i,n,r,o);return{x1:Math.round(Math.min(a[0].x,a[1].x,a[2].x,a[3].x)),y1:Math.round(Math.min(a[0].y,a[1].y,a[2].y,a[3].y)),x2:Math.round(Math.max(a[0].x,a[1].x,a[2].x,a[3].x)),y2:Math.round(Math.max(a[0].y,a[1].y,a[2].y,a[3].y))}},getExtentsPointsFromDimensions:function(t,e,i,n,r,o){if(t-=o,e-=o,i+=2*o,n+=2*o,0!==r){var a=t+i/2,s=e+n/2;return[Math.rotateCoord(t,e,a,s,r),Math.rotateCoord(t+i,e,a,s,r),Math.rotateCoord(t+i,e+n,a,s,r),Math.rotateCoord(t,e+n,a,s,r)]}return[new window.CerosMath.Point(t,e),new window.CerosMath.Point(t+i,e),new window.CerosMath.Point(t+i,e+n),new window.CerosMath.Point(t,e+n)]},getExtentsFromObjectExtentsInsideSmartGroup:function(t,e){var i=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x1,t.y1)),n=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x2,t.y2));return{x1:i.x,y1:i.y,xMidpoint:0,yMidpoint:0,x2:n.x,y2:n.y}},getBoundingExtentsFromObjectExtentsInsideSmartgroup:function(t,e){var i=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x1,t.y1)),n=e.transformPointFromIsolationModeToRotatedPageCoordinateSpace(new window.CerosMath.Point(t.x2,t.y2)),r=Math.min(i.x,n.x),o=Math.max(i.x,n.x),a=Math.min(i.y,n.y),s=Math.max(i.y,n.y);return{x1:r,y1:a,xMidpoint:o-(o-r)/2,yMidpoint:s-(s-a)/2,x2:o,y2:s}},createExtentsFromCoordinates:function(t,e,i,n){return{x1:t,y1:e,xMidpoint:t+(i-t)/2,yMidpoint:e+(n-e)/2,x2:i,y2:n}},createExtentsFromSelectedComponentCollection:function(t){var e=t.getLeftmostX(!0),i=t.getTopmostY(!0),n=t.getRightmostX(!0),r=t.getBottommostY(!0);return this.createExtentsFromCoordinates(e,i,n,r)},getSmallestContainingRectangle:function(){var t,e,i,n,a;return o.default.each(arguments,(function(s){a=s instanceof r.default.Model&&o.default.isFunction(s.getExtents)?s.getExtents():s,void 0===t?(t=a.x1,e=a.y1,i=a.x2,n=a.y2):(t=Math.min(t,a.x1),e=Math.min(e,a.y1),i=Math.max(i,a.x2),n=Math.max(n,a.y2))})),0===arguments.length&&(t=0,e=0,i=0,n=0),{x1:t,y1:e,x2:i,y2:n}},getSmallestContainingRectangleInPageCoords:function(){var t,e,i,n,r;return o.default.each(arguments,(function(o){r=o.getExtentsInPageCoords(),void 0===t?(t=r.x1,e=r.y1,i=r.x2,n=r.y2):(t=Math.min(t,r.x1),e=Math.min(e,r.y1),i=Math.max(i,r.x2),n=Math.max(n,r.y2))})),0===arguments.length&&(t=0,e=0,i=0,n=0),{x1:t,y1:e,x2:i,y2:n}},createHoverArea:function(t,e,i){var n,r,o,a,s=[],u=i?1:0;return n=t.y1<e.y1?t:e,s.push({x:n.x1,y:n.y1}),s.push({x:n.x2+u,y:n.y1}),(a=t.x2>e.x2?t:e)!==n&&s.push({x:a.x2+u,y:a.y1}),s.push({x:a.x2+u,y:a.y2+u}),(r=t.y2>e.y2?t:e)!==a&&s.push({x:r.x2+u,y:r.y2+u}),s.push({x:r.x1,y:r.y2+u}),(o=t.x1<e.x1?t:e)!==r&&s.push({x:o.x1,y:o.y2+u}),o!==n&&s.push({x:o.x1,y:o.y1}),s}};e.default=a},function(t,e,i){"use strict";(function(e){
/**
 * @license
 * Video.js 7.10.2 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
t.exports=function(t,i){t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i;var n=[],r=function e(i){var r,o="info",a=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r("log",o,e)};return r=function(e,i){return function(r,o,a){var s=i.levels[o],u=new RegExp("^("+s+")$");if("log"!==r&&a.unshift(r.toUpperCase()+":"),a.unshift(e+":"),n){n.push([].concat(a));var l=n.length-1e3;n.splice(0,l>0?l:0)}if(t.console){var c=t.console[r];c||"debug"!==r||(c=t.console.info||t.console.log),c&&s&&u.test(r)&&c[Array.isArray(a)?"apply":"call"](t.console,a)}}}(i,a),a.createLogger=function(t){return e(i+": "+t)},a.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:o},a.level=function(t){if("string"==typeof t){if(!a.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');o=t}return o},(a.history=function(){return n?[].concat(n):[]}).filter=function(t){return(n||[]).filter((function(e){return new RegExp(".*"+t+".*").test(e[0])}))},a.history.clear=function(){n&&(n.length=0)},a.history.disable=function(){null!==n&&(n.length=0,n=null)},a.history.enable=function(){null===n&&(n=[])},a.error=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return r("error",o,e)},a.warn=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return r("warn",o,e)},a.debug=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return r("debug",o,e)},a}("VIDEOJS"),o=r.createLogger;function a(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s(t,e){return t(e={exports:{}},e.exports),e.exports}var u=s((function(t){function e(){return t.exports=e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},e.apply(this,arguments)}t.exports=e})),l=Object.prototype.toString,c=function(t){return f(t)?Object.keys(t):[]};function d(t,e){c(t).forEach((function(i){return e(t[i],i)}))}function h(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return Object.assign?u.apply(void 0,[t].concat(i)):(i.forEach((function(e){e&&d(e,(function(e,i){t[i]=e}))})),t)}function f(t){return!!t&&"object"==typeof t}function p(t){return f(t)&&"[object Object]"===l.call(t)&&t.constructor===Object}function g(e,i){if(!e||!i)return"";if("function"==typeof t.getComputedStyle){var n=t.getComputedStyle(e);return n?n.getPropertyValue(i)||n[i]:""}return""}function m(t){return"string"==typeof t&&Boolean(t.trim())}function v(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function y(){return i===t.document}function _(t){return f(t)&&1===t.nodeType}function b(){try{return t.parent!==t.self}catch(t){return!0}}function T(t){return function(e,n){if(!m(e))return i[t](null);m(n)&&(n=i.querySelector(n));var r=_(n)?n:i;return r[t]&&r[t](e)}}function w(t,e,n,o){void 0===t&&(t="div"),void 0===e&&(e={}),void 0===n&&(n={});var a=i.createElement(t);return Object.getOwnPropertyNames(e).forEach((function(t){var i=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(r.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+t+" to "+i+"."),a.setAttribute(t,i)):"textContent"===t?S(a,i):a[t]!==i&&(a[t]=i)})),Object.getOwnPropertyNames(n).forEach((function(t){a.setAttribute(t,n[t])})),o&&H(a,o),a}function S(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function E(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function A(t,e){return v(e),t.classList?t.classList.contains(e):(i=e,new RegExp("(^|\\s)"+i+"($|\\s)")).test(t.className);var i}function C(t,e){return t.classList?t.classList.add(e):A(t,e)||(t.className=(t.className+" "+e).trim()),t}function P(t,e){return t.classList?t.classList.remove(e):(v(e),t.className=t.className.split(/\s+/).filter((function(t){return t!==e})).join(" ")),t}function I(t,e,i){var n=A(t,e);if("function"==typeof i&&(i=i(t,e)),"boolean"!=typeof i&&(i=!n),i!==n)return i?C(t,e):P(t,e),t}function O(t,e){Object.getOwnPropertyNames(e).forEach((function(i){var n=e[i];null==n||!1===n?t.removeAttribute(i):t.setAttribute(i,!0===n?"":n)}))}function x(t){var e={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,r=n.length-1;r>=0;r--){var o=n[r].name,a=n[r].value;"boolean"!=typeof t[o]&&-1===i.indexOf(","+o+",")||(a=null!==a),e[o]=a}return e}function k(t,e){return t.getAttribute(e)}function R(t,e,i){t.setAttribute(e,i)}function M(t,e){t.removeAttribute(e)}function L(){i.body.focus(),i.onselectstart=function(){return!1}}function D(){i.onselectstart=function(){return!0}}function N(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach((function(t){void 0!==e[t]&&(i[t]=e[t])})),i.height||(i.height=parseFloat(g(t,"height"))),i.width||(i.width=parseFloat(g(t,"width"))),i}}function F(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};var e=t.offsetWidth,i=t.offsetHeight,n=0,r=0;do{n+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent}while(t);return{left:n,top:r,width:e,height:i}}function U(t,e){var i={},n=F(e.target),r=F(t),o=r.width,a=r.height,s=e.offsetY-(r.top-n.top),u=e.offsetX-(r.left-n.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-r.left,s=e.changedTouches[0].pageY+r.top),i.y=1-Math.max(0,Math.min(1,s/a)),i.x=Math.max(0,Math.min(1,u/o)),i}function V(t){return f(t)&&3===t.nodeType}function B(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function j(t){return"function"==typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return"function"==typeof t&&(t=t()),_(t)||V(t)?t:"string"==typeof t&&/\S/.test(t)?i.createTextNode(t):void 0})).filter((function(t){return t}))}function H(t,e){return j(e).forEach((function(e){return t.appendChild(e)})),t}function G(t,e){return H(B(t),e)}function W(t){return void 0===t.button&&void 0===t.buttons||0===t.button&&void 0===t.buttons||"mouseup"===t.type&&0===t.button&&0===t.buttons||0===t.button&&1===t.buttons}var z,$=T("querySelector"),q=T("querySelectorAll"),Y=Object.freeze({__proto__:null,isReal:y,isEl:_,isInFrame:b,createEl:w,textContent:S,prependTo:E,hasClass:A,addClass:C,removeClass:P,toggleClass:I,setAttributes:O,getAttributes:x,getAttribute:k,setAttribute:R,removeAttribute:M,blockTextSelection:L,unblockTextSelection:D,getBoundingClientRect:N,findPosition:F,getPointerPosition:U,isTextNode:V,emptyEl:B,normalizeContent:j,appendContent:H,insertContent:G,isSingleLeftClick:W,$:$,$$:q}),K=!1,X=function(){if(y()&&!1!==z.options.autoSetup){var t=Array.prototype.slice.call(i.getElementsByTagName("video")),e=Array.prototype.slice.call(i.getElementsByTagName("audio")),n=Array.prototype.slice.call(i.getElementsByTagName("video-js")),r=t.concat(e,n);if(r&&r.length>0)for(var o=0,a=r.length;o<a;o++){var s=r[o];if(!s||!s.getAttribute){Z(1);break}void 0===s.player&&null!==s.getAttribute("data-setup")&&z(s)}else K||Z(1)}};function Z(e,i){i&&(z=i),t.setTimeout(X,e)}function Q(){K=!0,t.removeEventListener("load",Q)}y()&&("complete"===i.readyState?Q():t.addEventListener("load",Q));var J,tt=function(t){var e=i.createElement("style");return e.className=t,e},et=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},it=3;function nt(){return it++}t.WeakMap||(J=function(){function e(){this.vdata="vdata"+Math.floor(t.performance&&t.performance.now()||Date.now()),this.data={}}var i=e.prototype;return i.set=function(t,e){var i=t[this.vdata]||nt();return t[this.vdata]||(t[this.vdata]=i),this.data[i]=e,this},i.get=function(t){var e=t[this.vdata];if(e)return this.data[e];r("We have no data for this element",t)},i.has=function(t){return t[this.vdata]in this.data},i.delete=function(t){var e=t[this.vdata];e&&(delete this.data[e],delete t[this.vdata])},e}());var rt,ot=t.WeakMap?new WeakMap:new J;function at(t,e){if(ot.has(t)){var i=ot.get(t);0===i.handlers[e].length&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&ot.delete(t)}}function st(t,e,i,n){i.forEach((function(i){t(e,i,n)}))}function ut(e){if(e.fixed_)return e;function n(){return!0}function r(){return!1}if(!e||!e.isPropagationStopped){var o=e||t.event;for(var a in e={},o)"layerX"!==a&&"layerY"!==a&&"keyLocation"!==a&&"webkitMovementX"!==a&&"webkitMovementY"!==a&&("returnValue"===a&&o.preventDefault||(e[a]=o[a]));if(e.target||(e.target=e.srcElement||i),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){o.preventDefault&&o.preventDefault(),e.returnValue=!1,o.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){o.stopPropagation&&o.stopPropagation(),e.cancelBubble=!0,o.cancelBubble=!0,e.isPropagationStopped=n},e.isPropagationStopped=r,e.stopImmediatePropagation=function(){o.stopImmediatePropagation&&o.stopImmediatePropagation(),e.isImmediatePropagationStopped=n,e.stopPropagation()},e.isImmediatePropagationStopped=r,null!==e.clientX&&void 0!==e.clientX){var s=i.documentElement,u=i.body;e.pageX=e.clientX+(s&&s.scrollLeft||u&&u.scrollLeft||0)-(s&&s.clientLeft||u&&u.clientLeft||0),e.pageY=e.clientY+(s&&s.scrollTop||u&&u.scrollTop||0)-(s&&s.clientTop||u&&u.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}var lt=["touchstart","touchmove"];function ct(e,i,n){if(Array.isArray(i))return st(ct,e,i,n);ot.has(e)||ot.set(e,{});var o=ot.get(e);if(o.handlers||(o.handlers={}),o.handlers[i]||(o.handlers[i]=[]),n.guid||(n.guid=nt()),o.handlers[i].push(n),o.dispatcher||(o.disabled=!1,o.dispatcher=function(t,i){if(!o.disabled){t=ut(t);var n=o.handlers[t.type];if(n)for(var a=n.slice(0),s=0,u=a.length;s<u&&!t.isImmediatePropagationStopped();s++)try{a[s].call(e,t,i)}catch(t){r.error(t)}}}),1===o.handlers[i].length)if(e.addEventListener){var a=!1;(function(){if("boolean"!=typeof rt){rt=!1;try{var e=Object.defineProperty({},"passive",{get:function(){rt=!0}});t.addEventListener("test",null,e),t.removeEventListener("test",null,e)}catch(t){}}return rt})()&&lt.indexOf(i)>-1&&(a={passive:!0}),e.addEventListener(i,o.dispatcher,a)}else e.attachEvent&&e.attachEvent("on"+i,o.dispatcher)}function dt(t,e,i){if(ot.has(t)){var n=ot.get(t);if(n.handlers){if(Array.isArray(e))return st(dt,t,e,i);var r=function(t,e){n.handlers[e]=[],at(t,e)};if(void 0!==e){var o=n.handlers[e];if(o)if(i){if(i.guid)for(var a=0;a<o.length;a++)o[a].guid===i.guid&&o.splice(a--,1);at(t,e)}else r(t,e)}else for(var s in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},s)&&r(t,s)}}}function ht(t,e,i){var n=ot.has(t)?ot.get(t):{},r=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=ut(e),n.dispatcher&&n.dispatcher.call(t,e,i),r&&!e.isPropagationStopped()&&!0===e.bubbles)ht.call(null,r,e,i);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){ot.has(e.target)||ot.set(e.target,{});var o=ot.get(e.target);e.target[e.type]&&(o.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),o.disabled=!1)}return!e.defaultPrevented}function ft(t,e,i){if(Array.isArray(e))return st(ft,t,e,i);var n=function n(){dt(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||nt(),ct(t,e,n)}function pt(t,e,i){var n=function n(){dt(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||nt(),ct(t,e,n)}var gt,mt=Object.freeze({__proto__:null,fixEvent:ut,on:ct,off:dt,trigger:ht,one:ft,any:pt}),vt=function(t,e,i){e.guid||(e.guid=nt());var n=e.bind(t);return n.guid=i?i+"_"+e.guid:e.guid,n},yt=function(e,i){var n=t.performance.now();return function(){var r=t.performance.now();r-n>=i&&(e.apply(void 0,arguments),n=r)}},_t=function(){};_t.prototype.allowedEvents_={},_t.prototype.on=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},ct(this,t,e),this.addEventListener=i},_t.prototype.addEventListener=_t.prototype.on,_t.prototype.off=function(t,e){dt(this,t,e)},_t.prototype.removeEventListener=_t.prototype.off,_t.prototype.one=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},ft(this,t,e),this.addEventListener=i},_t.prototype.any=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},pt(this,t,e),this.addEventListener=i},_t.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=ut(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),ht(this,t)},_t.prototype.dispatchEvent=_t.prototype.trigger,_t.prototype.queueTrigger=function(e){var i=this;gt||(gt=new Map);var n=e.type||e,r=gt.get(this);r||(r=new Map,gt.set(this,r));var o=r.get(n);r.delete(n),t.clearTimeout(o);var a=t.setTimeout((function(){0===r.size&&(r=null,gt.delete(i)),i.trigger(e)}),0);r.set(n,a)};var bt=function(t){return t instanceof _t||!!t.eventBusEl_&&["on","one","off","trigger"].every((function(e){return"function"==typeof t[e]}))},Tt=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},wt=function(t){if(!t.nodeName&&!bt(t))throw new Error("Invalid target; must be a DOM node or evented object.")},St=function(t){if(!Tt(t))throw new Error("Invalid event type; must be a non-empty string or array.")},Et=function(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")},At=function(t,e){var i,n,r,o=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return o?(i=t.eventBusEl_,e.length>=3&&e.shift(),n=e[0],r=e[1]):(i=e[0],n=e[1],r=e[2]),wt(i),St(n),Et(r),{isTargetingSelf:o,target:i,type:n,listener:r=vt(t,r)}},Ct=function(t,e,i,n){wt(t),t.nodeName?mt[e](t,i,n):t[e](i,n)},Pt={on:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=At(this,i),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(Ct(a,"on",s,u),!o){var l=function(){return t.off(a,s,u)};l.guid=u.guid;var c=function(){return t.off("dispose",l)};c.guid=u.guid,Ct(this,"on","dispose",l),Ct(a,"on","dispose",c)}},one:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=At(this,i),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(o)Ct(a,"one",s,u);else{var l=function e(){t.off(a,s,e);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];u.apply(null,n)};l.guid=u.guid,Ct(a,"one",s,l)}},any:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=At(this,i),o=r.isTargetingSelf,a=r.target,s=r.type,u=r.listener;if(o)Ct(a,"any",s,u);else{var l=function e(){t.off(a,s,e);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];u.apply(null,n)};l.guid=u.guid,Ct(a,"any",s,l)}},off:function(t,e,i){if(!t||Tt(t))dt(this.eventBusEl_,t,e);else{var n=t,r=e;wt(n),St(r),Et(i),i=vt(this,i),this.off("dispose",i),n.nodeName?(dt(n,r,i),dt(n,"dispose",i)):bt(n)&&(n.off(r,i),n.off("dispose",i))}},trigger:function(t,e){return ht(this.eventBusEl_,t,e)}};function It(e,i){void 0===i&&(i={});var n=i.eventBusKey;if(n){if(!e[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');e.eventBusEl_=e[n]}else e.eventBusEl_=w("span",{className:"vjs-event-bus"});return h(e,Pt),e.eventedCallbacks&&e.eventedCallbacks.forEach((function(t){t()})),e.on("dispose",(function(){e.off(),t.setTimeout((function(){e.eventBusEl_=null}),0)})),e}var Ot={state:{},setState:function(t){var e,i=this;return"function"==typeof t&&(t=t()),d(t,(function(t,n){i.state[n]!==t&&((e=e||{})[n]={from:i.state[n],to:t}),i.state[n]=t})),e&&bt(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function xt(t,e){return h(t,Ot),t.state=h({},t.state,e),"function"==typeof t.handleStateChanged&&bt(t)&&t.on("statechanged",t.handleStateChanged),t}var kt=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toLowerCase()}))},Rt=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toUpperCase()}))};function Mt(){for(var t={},e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach((function(e){e&&d(e,(function(e,i){p(e)?(p(t[i])||(t[i]={}),t[i]=Mt(t[i],e)):t[i]=e}))})),t}var Lt=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(t){return t in this.map_},e.delete=function(t){var e=this.has(t);return delete this.map_[t],e},e.set=function(t,e){return this.set_[t]=e,this},e.forEach=function(t,e){for(var i in this.map_)t.call(e,this.map_[i],i,this)},t}(),Dt=t.Map?t.Map:Lt,Nt=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(t){return t in this.set_},e.delete=function(t){var e=this.has(t);return delete this.set_[t],e},e.add=function(t){return this.set_[t]=1,this},e.forEach=function(t,e){for(var i in this.set_)t.call(e,i,i,this)},t}(),Ft=t.Set?t.Set:Nt,Ut=function(){function e(t,e,i){if(!t&&this.play?this.player_=t=this:this.player_=t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Mt({},this.options_),e=this.options_=Mt(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var n=t&&t.id&&t.id()||"no_player";this.id_=n+"_component_"+nt()}this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&It(this,{eventBusKey:this.el_?"el_":null}),xt(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Ft,this.setIntervalIds_=new Ft,this.rafIds_=new Ft,this.namedRafs_=new Dt,this.clearingTimersOnDispose_=!1,!1!==e.initChildren&&this.initChildren(),this.ready(i),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var i=e.prototype;return i.dispose=function(){if(!this.isDisposed_){if(this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),ot.has(this.el_)&&ot.delete(this.el_),this.el_=null),this.player_=null}},i.isDisposed=function(){return Boolean(this.isDisposed_)},i.player=function(){return this.player_},i.options=function(t){return t?(this.options_=Mt(this.options_,t),this.options_):this.options_},i.el=function(){return this.el_},i.createEl=function(t,e,i){return w(t,e,i)},i.localize=function(t,e,i){void 0===i&&(i=t);var n=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),o=r&&r[n],a=n&&n.split("-")[0],s=r&&r[a],u=i;return o&&o[t]?u=o[t]:s&&s[t]&&(u=s[t]),e&&(u=u.replace(/\{(\d+)\}/g,(function(t,i){var n=e[i-1],r=n;return void 0===n&&(r=t),r}))),u},i.contentEl=function(){return this.contentEl_||this.el_},i.id=function(){return this.id_},i.name=function(){return this.name_},i.children=function(){return this.children_},i.getChildById=function(t){return this.childIndex_[t]},i.getChild=function(t){if(t)return this.childNameIndex_[t]},i.getDescendant=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e=e.reduce((function(t,e){return t.concat(e)}),[]);for(var n=this,r=0;r<e.length;r++)if(!(n=n.getChild(e[r]))||!n.getChild)return;return n},i.addChild=function(t,i,n){var r,o;if(void 0===i&&(i={}),void 0===n&&(n=this.children_.length),"string"==typeof t){o=Rt(t);var a=i.componentClass||o;i.name=o;var s=e.getComponent(a);if(!s)throw new Error("Component "+a+" does not exist");if("function"!=typeof s)return null;r=new s(this.player_||this,i)}else r=t;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(n,0,r),r.parentComponent_=this,"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(o=o||r.name&&Rt(r.name()))&&(this.childNameIndex_[o]=r,this.childNameIndex_[kt(o)]=r),"function"==typeof r.el&&r.el()){var u=null;this.children_[n+1]&&(this.children_[n+1].el_?u=this.children_[n+1].el_:_(this.children_[n+1])&&(u=this.children_[n+1])),this.contentEl().insertBefore(r.el(),u)}return r},i.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===t){e=!0,this.children_.splice(i,1);break}if(e){t.parentComponent_=null,this.childIndex_[t.id()]=null,this.childNameIndex_[Rt(t.name())]=null,this.childNameIndex_[kt(t.name())]=null;var n=t.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},i.initChildren=function(){var t=this,i=this.options_.children;if(i){var n,r=this.options_,o=e.getComponent("Tech");(n=Array.isArray(i)?i:Object.keys(i)).concat(Object.keys(this.options_).filter((function(t){return!n.some((function(e){return"string"==typeof e?t===e:t===e.name}))}))).map((function(e){var n,r;return"string"==typeof e?r=i[n=e]||t.options_[n]||{}:(n=e.name,r=e),{name:n,opts:r}})).filter((function(t){var i=e.getComponent(t.opts.componentClass||Rt(t.name));return i&&!o.isTech(i)})).forEach((function(e){var i=e.name,n=e.opts;if(void 0!==r[i]&&(n=r[i]),!1!==n){!0===n&&(n={}),n.playerOptions=t.options_.playerOptions;var o=t.addChild(i,n);o&&(t[i]=o)}}))}},i.buildCSSClass=function(){return""},i.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},i.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},i.$=function(t,e){return $(t,e||this.contentEl())},i.$$=function(t,e){return q(t,e||this.contentEl())},i.hasClass=function(t){return A(this.el_,t)},i.addClass=function(t){C(this.el_,t)},i.removeClass=function(t){P(this.el_,t)},i.toggleClass=function(t,e){I(this.el_,t,e)},i.show=function(){this.removeClass("vjs-hidden")},i.hide=function(){this.addClass("vjs-hidden")},i.lockShowing=function(){this.addClass("vjs-lock-showing")},i.unlockShowing=function(){this.removeClass("vjs-lock-showing")},i.getAttribute=function(t){return k(this.el_,t)},i.setAttribute=function(t,e){R(this.el_,t,e)},i.removeAttribute=function(t){M(this.el_,t)},i.width=function(t,e){return this.dimension("width",t,e)},i.height=function(t,e){return this.dimension("height",t,e)},i.dimensions=function(t,e){this.width(t,!0),this.height(e)},i.dimension=function(t,e,i){if(void 0!==e)return null!==e&&e==e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[t],r=n.indexOf("px");return-1!==r?parseInt(n.slice(0,r),10):parseInt(this.el_["offset"+Rt(t)],10)},i.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if(e=g(this.el_,t),0===(e=parseFloat(e))||isNaN(e)){var i="offset"+Rt(t);e=this.el_[i]}return e},i.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},i.currentWidth=function(){return this.currentDimension("width")},i.currentHeight=function(){return this.currentDimension("height")},i.focus=function(){this.el_.focus()},i.blur=function(){this.el_.blur()},i.handleKeyDown=function(t){this.player_&&(t.stopPropagation(),this.player_.handleKeyDown(t))},i.handleKeyPress=function(t){this.handleKeyDown(t)},i.emitTapEvents=function(){var e,i=0,n=null;this.on("touchstart",(function(r){1===r.touches.length&&(n={pageX:r.touches[0].pageX,pageY:r.touches[0].pageY},i=t.performance.now(),e=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)e=!1;else if(n){var i=t.touches[0].pageX-n.pageX,r=t.touches[0].pageY-n.pageY;Math.sqrt(i*i+r*r)>10&&(e=!1)}}));var r=function(){e=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",(function(r){n=null,!0===e&&t.performance.now()-i<200&&(r.preventDefault(),this.trigger("tap"))}))},i.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,e=vt(this.player(),this.player().reportUserActivity);this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));var i=function(i){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",i),this.on("touchcancel",i)}},i.setTimeout=function(e,i){var n,r=this;return e=vt(this,e),this.clearTimersOnDispose_(),n=t.setTimeout((function(){r.setTimeoutIds_.has(n)&&r.setTimeoutIds_.delete(n),e()}),i),this.setTimeoutIds_.add(n),n},i.clearTimeout=function(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),t.clearTimeout(e)),e},i.setInterval=function(e,i){e=vt(this,e),this.clearTimersOnDispose_();var n=t.setInterval(e,i);return this.setIntervalIds_.add(n),n},i.clearInterval=function(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),t.clearInterval(e)),e},i.requestAnimationFrame=function(e){var i,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),e=vt(this,e),i=t.requestAnimationFrame((function(){n.rafIds_.has(i)&&n.rafIds_.delete(i),e()})),this.rafIds_.add(i),i):this.setTimeout(e,1e3/60)},i.requestNamedAnimationFrame=function(t,e){var i=this;if(!this.namedRafs_.has(t)){this.clearTimersOnDispose_(),e=vt(this,e);var n=this.requestAnimationFrame((function(){e(),i.namedRafs_.has(t)&&i.namedRafs_.delete(t)}));return this.namedRafs_.set(t,n),t}},i.cancelNamedAnimationFrame=function(t){this.namedRafs_.has(t)&&(this.cancelAnimationFrame(this.namedRafs_.get(t)),this.namedRafs_.delete(t))},i.cancelAnimationFrame=function(e){return this.supportsRaf_?(this.rafIds_.has(e)&&(this.rafIds_.delete(e),t.cancelAnimationFrame(e)),e):this.clearTimeout(e)},i.clearTimersOnDispose_=function(){var t=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(e){var i=e[0],n=e[1];t[i].forEach((function(e,i){return t[n](i)}))})),t.clearingTimersOnDispose_=!1})))},e.registerComponent=function(t,i){if("string"!=typeof t||!t)throw new Error('Illegal component name, "'+t+'"; must be a non-empty string.');var n,r=e.getComponent("Tech"),o=r&&r.isTech(i),a=e===i||e.prototype.isPrototypeOf(i.prototype);if(o||!a)throw n=o?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+t+'"; '+n+".");t=Rt(t),e.components_||(e.components_={});var s=e.getComponent("Player");if("Player"===t&&s&&s.players){var u=s.players,l=Object.keys(u);if(u&&l.length>0&&l.map((function(t){return u[t]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return e.components_[t]=i,e.components_[kt(t)]=i,i},e.getComponent=function(t){if(t&&e.components_)return e.components_[t]},e}();Ut.prototype.supportsRaf_="function"==typeof t.requestAnimationFrame&&"function"==typeof t.cancelAnimationFrame,Ut.registerComponent("Component",Ut);var Vt=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};s((function(t){function e(i){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(i)}t.exports=e})),s((function(t){function e(i){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(i)}t.exports=e}));var Bt,jt=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e},Ht=t.navigator&&t.navigator.userAgent||"",Gt=/AppleWebKit\/([\d.]+)/i.exec(Ht),Wt=Gt?parseFloat(Gt.pop()):null,zt=/iPod/i.test(Ht),$t=(Bt=Ht.match(/OS (\d+)_/i))&&Bt[1]?Bt[1]:null,qt=/Android/i.test(Ht),Yt=function(){var t=Ht.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return e&&i?parseFloat(t[1]+"."+t[2]):e||null}(),Kt=qt&&Yt<5&&Wt<537,Xt=/Firefox/i.test(Ht),Zt=/Edg/i.test(Ht),Qt=!Zt&&(/Chrome/i.test(Ht)||/CriOS/i.test(Ht)),Jt=function(){var t=Ht.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),te=function(){var t=/MSIE\s(\d+)\.\d/.exec(Ht),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Ht)&&/rv:11.0/.test(Ht)&&(e=11),e}(),ee=/Safari/i.test(Ht)&&!Qt&&!qt&&!Zt,ie=/Windows/i.test(Ht),ne=y()&&("ontouchstart"in t||t.navigator.maxTouchPoints||t.DocumentTouch&&t.document instanceof t.DocumentTouch),re=/iPad/i.test(Ht)||ee&&ne&&!/iPhone/i.test(Ht),oe=/iPhone/i.test(Ht)&&!re,ae=oe||re||zt,se=(ee||ae)&&!Qt,ue=Object.freeze({__proto__:null,IS_IPOD:zt,IOS_VERSION:$t,IS_ANDROID:qt,ANDROID_VERSION:Yt,IS_NATIVE_ANDROID:Kt,IS_FIREFOX:Xt,IS_EDGE:Zt,IS_CHROME:Qt,CHROME_VERSION:Jt,IE_VERSION:te,IS_SAFARI:ee,IS_WINDOWS:ie,TOUCH_ENABLED:ne,IS_IPAD:re,IS_IPHONE:oe,IS_IOS:ae,IS_ANY_SAFARI:se});function le(t,e,i,n){return function(t,e,i){if("number"!=typeof e||e<0||e>i)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+i+").")}(t,n,i.length-1),i[n][e]}function ce(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:le.bind(null,"start",0,t),end:le.bind(null,"end",1,t)}}function de(t,e){return Array.isArray(t)?ce(t):void 0===t||void 0===e?ce():ce([[t,e]])}function he(t,e){var i,n,r=0;if(!e)return 0;t&&t.length||(t=de(0,0));for(var o=0;o<t.length;o++)i=t.start(o),(n=t.end(o))>e&&(n=e),r+=n-i;return r/e}for(var fe,pe={prefixed:!0},ge=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],me=ge[0],ve=0;ve<ge.length;ve++)if(ge[ve][1]in i){fe=ge[ve];break}if(fe){for(var ye=0;ye<fe.length;ye++)pe[me[ye]]=fe[ye];pe.prefixed=fe[0]!==me[0]}function _e(t){if(t instanceof _e)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:f(t)&&("number"==typeof t.code&&(this.code=t.code),h(this,t)),this.message||(this.message=_e.defaultMessages[this.code]||"")}_e.prototype.code=0,_e.prototype.message="",_e.prototype.status=null,_e.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],_e.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var be=0;be<_e.errorTypes.length;be++)_e[_e.errorTypes[be]]=be,_e.prototype[_e.errorTypes[be]]=be;var Te=function(t,e){var i,n=null;try{i=JSON.parse(t,e)}catch(t){n=t}return[n,i]};function we(t){return null!=t&&"function"==typeof t.then}function Se(t){we(t)&&t.then(null,(function(t){}))}var Ee=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(e,i,n){return t[i]&&(e[i]=t[i]),e}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))})},Ae=function(t){var e=t.$$("track"),i=Array.prototype.map.call(e,(function(t){return t.track}));return Array.prototype.map.call(e,(function(t){var e=Ee(t.track);return t.src&&(e.src=t.src),e})).concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===i.indexOf(t)})).map(Ee))},Ce=function(t,e){return t.forEach((function(t){var i=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return i.addCue(t)}))})),e.textTracks()},Pe=s((function(t,e){function i(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return a[t];var i,o=String(t);return(i=n[o.toLowerCase()])?i:(i=r[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}i.isEventKey=function(t,e){if(t&&"object"==typeof t){var i=t.which||t.keyCode||t.charCode;if(null==i)return!1;if("string"==typeof e){var o;if(o=n[e.toLowerCase()])return o===i;if(o=r[e.toLowerCase()])return o===i}else if("number"==typeof e)return e===i;return!1}};var n=(e=t.exports=i).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
     * Programatically add the following
     */
for(o=97;o<123;o++)n[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)n[o-48]=o;for(o=1;o<13;o++)n["f"+o]=o+111;for(o=0;o<10;o++)n["numpad "+o]=o+96;var a=e.names=e.title={};for(o in n)a[n[o]]=o;for(var s in r)n[s]=r[s]})),Ie=(Pe.code,Pe.codes,Pe.aliases,Pe.names,Pe.title,function(e){function n(t,i){var n;return(n=e.call(this,t,i)||this).opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=w("div",{className:"vjs-modal-dialog-content"},{role:"document"}),n.descEl_=w("p",{className:"vjs-modal-dialog-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),S(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}jt(n,e);var r=n.prototype;return r.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,e.prototype.dispose.call(this)},r.buildCSSClass=function(){return"vjs-modal-dialog vjs-hidden "+e.prototype.buildCSSClass.call(this)},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},r.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},r.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,i=this.getChild("closeButton");if(e&&!i){var n=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(i,"close",this.close)}!e&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(t){var e=this.contentEl(),i=e.parentNode,n=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(e),this.empty(),G(e,t),this.trigger("modalfill"),n?i.insertBefore(e,n):i.appendChild(e);var r=this.getChild("closeButton");r&&i.appendChild(r.el_)},r.empty=function(){this.trigger("beforemodalempty"),B(this.contentEl()),this.trigger("modalempty")},r.content=function(t){return void 0!==t&&(this.content_=t),this.content_},r.conditionalFocus_=function(){var t=i.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus())},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},r.handleKeyDown=function(t){if(t.stopPropagation(),Pe.isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(Pe.isEventKey(t,"Tab")){for(var e,n=this.focusableEls_(),r=this.el_.querySelector(":focus"),o=0;o<n.length;o++)if(r===n[o]){e=o;break}i.activeElement===this.el_&&(e=0),t.shiftKey&&0===e?(n[n.length-1].focus(),t.preventDefault()):t.shiftKey||e!==n.length-1||(n[0].focus(),t.preventDefault())}},r.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(function(e){return(e instanceof t.HTMLAnchorElement||e instanceof t.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof t.HTMLInputElement||e instanceof t.HTMLSelectElement||e instanceof t.HTMLTextAreaElement||e instanceof t.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof t.HTMLIFrameElement||e instanceof t.HTMLObjectElement||e instanceof t.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")}))},n}(Ut));Ie.prototype.options_={pauseOnOpen:!0,temporary:!0},Ut.registerComponent("ModalDialog",Ie);var Oe=function(t){function e(e){var i;void 0===e&&(e=[]),(i=t.call(this)||this).tracks_=[],Object.defineProperty(Vt(i),"length",{get:function(){return this.tracks_.length}});for(var n=0;n<e.length;n++)i.addTrack(e[n]);return i}jt(e,t);var i=e.prototype;return i.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this}))},i.removeTrack=function(t){for(var e,i=0,n=this.length;i<n;i++)if(this[i]===t){(e=this[i]).off&&e.off(),this.tracks_.splice(i,1);break}e&&this.trigger({track:e,type:"removetrack",target:this})},i.getTrackById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},e}(_t);for(var xe in Oe.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Oe.prototype.allowedEvents_)Oe.prototype["on"+xe]=null;var ke=function(t,e){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&e.id!==t[i].id&&(t[i].enabled=!1)},Re=function(t){function e(e){var i;void 0===e&&(e=[]);for(var n=e.length-1;n>=0;n--)if(e[n].enabled){ke(e,e[n]);break}return(i=t.call(this,e)||this).changing_=!1,i}jt(e,t);var i=e.prototype;return i.addTrack=function(e){var i=this;e.enabled&&ke(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){i.changing_||(i.changing_=!0,ke(i,e),i.changing_=!1,i.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},e}(Oe),Me=function(t,e){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&e.id!==t[i].id&&(t[i].selected=!1)},Le=function(t){function e(e){var i;void 0===e&&(e=[]);for(var n=e.length-1;n>=0;n--)if(e[n].selected){Me(e,e[n]);break}return(i=t.call(this,e)||this).changing_=!1,Object.defineProperty(Vt(i),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),i}jt(e,t);var i=e.prototype;return i.addTrack=function(e){var i=this;e.selected&&Me(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){i.changing_||(i.changing_=!0,Me(i,e),i.changing_=!1,i.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},e}(Oe),De=function(t){function e(){return t.apply(this,arguments)||this}jt(e,t);var i=e.prototype;return i.addTrack=function(e){var i=this;t.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return i.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return i.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},i.removeTrack=function(e){t.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(Oe),Ne=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,i=t.length;e<i;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},e.getTrackElementByTrack_=function(t){for(var e,i=0,n=this.trackElements_.length;i<n;i++)if(t===this.trackElements_[i].track){e=this.trackElements_[i];break}return e},e.removeTrackElement_=function(t){for(var e=0,i=this.trackElements_.length;e<i;e++)if(t===this.trackElements_[e]){this.trackElements_[e].track&&"function"==typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"==typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},t}(),Fe=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(t){var e=this.length||0,i=0,n=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<n)for(i=e;i<n;i++)r.call(this,i)},e.getCueById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},t}(),Ue={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Ve={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Be={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},je={disabled:"disabled",hidden:"hidden",showing:"showing"},He=function(t){function e(e){var i;void 0===e&&(e={}),i=t.call(this)||this;var n={id:e.id||"vjs_track_"+nt(),kind:e.kind||"",label:e.label||"",language:e.language||""},r=function(t){Object.defineProperty(Vt(i),t,{get:function(){return n[t]},set:function(){}})};for(var o in n)r(o);return i}return jt(e,t),e}(_t),Ge=function(e){var n=["protocol","hostname","port","pathname","search","hash","host"],r=i.createElement("a");r.href=e;var o,a=""===r.host&&"file:"!==r.protocol;a&&((o=i.createElement("div")).innerHTML='<a href="'+e+'"></a>',r=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),i.body.appendChild(o));for(var s={},u=0;u<n.length;u++)s[n[u]]=r[n[u]];return"http:"===s.protocol&&(s.host=s.host.replace(/:80$/,"")),"https:"===s.protocol&&(s.host=s.host.replace(/:443$/,"")),s.protocol||(s.protocol=t.location.protocol),a&&i.body.removeChild(o),s},We=function(t){if(!t.match(/^https?:\/\//)){var e=i.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},ze=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(e)return e.pop().toLowerCase()}return""},$e=function(e,i){void 0===i&&(i=t.location);var n=Ge(e);return(":"===n.protocol?i.protocol:n.protocol)+n.host!==i.protocol+i.host},qe=Object.freeze({__proto__:null,parseUrl:Ge,getAbsoluteURL:We,getFileExtension:ze,isCrossOrigin:$e}),Ye=function(t){var e=Ke.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}
/**
     * @license
     * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
     * Copyright (c) 2014 David Björklund
     * Available under the MIT license
     * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
     */,Ke=Object.prototype.toString,Xe=Je,Ze=Je;function Qe(t,e,i){var n=t;return Ye(e)?(i=e,"string"==typeof t&&(n={uri:t})):n=u({},e,{uri:t}),n.callback=i,n}function Je(t,e,i){return ti(e=Qe(t,e,i))}function ti(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,i=function(i,n,r){e||(e=!0,t.callback(i,n,r))};function n(){var t=void 0;if(t=u.response?u.response:u.responseText||function(t){try{if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML}catch(t){}return null}(u),g)try{t=JSON.parse(t)}catch(t){}return t}function r(t){return clearTimeout(l),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,m)}function o(){if(!s){var e;clearTimeout(l),e=t.useXDR&&void 0===u.status?200:1223===u.status?204:u.status;var r=m,o=null;return 0!==e?(r={body:n(),statusCode:e,method:d,headers:{},url:c,rawRequest:u},u.getAllResponseHeaders&&(r.headers=function(t){var e={};return t?(t.trim().split("\n").forEach((function(t){var i=t.indexOf(":"),n=t.slice(0,i).trim().toLowerCase(),r=t.slice(i+1).trim();void 0===e[n]?e[n]=r:Array.isArray(e[n])?e[n].push(r):e[n]=[e[n],r]})),e):e}(u.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),i(o,r,r.body)}}var a,s,u=t.xhr||null;u||(u=t.cors||t.useXDR?new Je.XDomainRequest:new Je.XMLHttpRequest);var l,c=u.url=t.uri||t.url,d=u.method=t.method||"GET",h=t.body||t.data,f=u.headers=t.headers||{},p=!!t.sync,g=!1,m={body:void 0,headers:{},statusCode:0,method:d,url:c,rawRequest:u};if("json"in t&&!1!==t.json&&(g=!0,f.accept||f.Accept||(f.Accept="application/json"),"GET"!==d&&"HEAD"!==d&&(f["content-type"]||f["Content-Type"]||(f["Content-Type"]="application/json"),h=JSON.stringify(!0===t.json?h:t.json))),u.onreadystatechange=function(){4===u.readyState&&setTimeout(o,0)},u.onload=o,u.onerror=r,u.onprogress=function(){},u.onabort=function(){s=!0},u.ontimeout=r,u.open(d,c,!p,t.username,t.password),p||(u.withCredentials=!!t.withCredentials),!p&&t.timeout>0&&(l=setTimeout((function(){if(!s){s=!0,u.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",r(t)}}),t.timeout)),u.setRequestHeader)for(a in f)f.hasOwnProperty(a)&&u.setRequestHeader(a,f[a]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(u.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(u),u.send(h||null),u}Je.XMLHttpRequest=t.XMLHttpRequest||function(){},Je.XDomainRequest="withCredentials"in new Je.XMLHttpRequest?Je.XMLHttpRequest:t.XDomainRequest,function(t,e){for(var i=0;i<t.length;i++)e(t[i])}(["get","put","post","patch","head","delete"],(function(t){Je["delete"===t?"del":t]=function(e,i,n){return(i=Qe(e,i,n)).method=t.toUpperCase(),ti(i)}})),Xe.default=Ze;var ei=function(e,i){var n=new t.WebVTT.Parser(t,t.vttjs,t.WebVTT.StringDecoder()),o=[];n.oncue=function(t){i.addCue(t)},n.onparsingerror=function(t){o.push(t)},n.onflush=function(){i.trigger({type:"loadeddata",target:i})},n.parse(e),o.length>0&&(t.console&&t.console.groupCollapsed&&t.console.groupCollapsed("Text Track parsing errors for "+i.src),o.forEach((function(t){return r.error(t)})),t.console&&t.console.groupEnd&&t.console.groupEnd()),n.flush()},ii=function(e,i){var n={uri:e},o=$e(e);o&&(n.cors=o);var a="use-credentials"===i.tech_.crossOrigin();a&&(n.withCredentials=a),Xe(n,vt(this,(function(e,n,o){if(e)return r.error(e,n);i.loaded_=!0,"function"!=typeof t.WebVTT?i.tech_&&i.tech_.any(["vttjsloaded","vttjserror"],(function(t){if("vttjserror"!==t.type)return ei(o,i);r.error("vttjs failed to load, stopping trying to process "+i.src)})):ei(o,i)})))},ni=function(e){function i(t){var i;if(void 0===t&&(t={}),!t.tech)throw new Error("A tech was not provided.");var n=Mt(t,{kind:Be[t.kind]||"subtitles",language:t.language||t.srclang||""}),r=je[n.mode]||"disabled",o=n.default;"metadata"!==n.kind&&"chapters"!==n.kind||(r="hidden"),(i=e.call(this,n)||this).tech_=n.tech,i.cues_=[],i.activeCues_=[],i.preload_=!1!==i.tech_.preloadTextTracks;var a=new Fe(i.cues_),s=new Fe(i.activeCues_),u=!1,l=vt(Vt(i),(function(){this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1)}));return"disabled"!==r&&i.tech_.ready((function(){i.tech_.on("timeupdate",l)}),!0),Object.defineProperties(Vt(i),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return r},set:function(t){var e=this;je[t]&&(r=t,this.preload_||"disabled"===r||0!==this.cues.length||ii(this.src,this),"disabled"!==r?this.tech_.ready((function(){e.tech_.on("timeupdate",l)}),!0):this.tech_.off("timeupdate",l),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return s;for(var t=this.tech_.currentTime(),e=[],i=0,n=this.cues.length;i<n;i++){var r=this.cues[i];(r.startTime<=t&&r.endTime>=t||r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t)&&e.push(r)}if(u=!1,e.length!==this.activeCues_.length)u=!0;else for(var o=0;o<e.length;o++)-1===this.activeCues_.indexOf(e[o])&&(u=!0);return this.activeCues_=e,s.setCues_(this.activeCues_),s},set:function(){}}}),n.src?(i.src=n.src,i.preload_||(i.loaded_=!0),(i.preload_||o||"subtitles"!==n.kind&&"captions"!==n.kind)&&ii(i.src,Vt(i))):i.loaded_=!0,i}jt(i,e);var n=i.prototype;return n.addCue=function(e){var i=e;if(t.vttjs&&!(e instanceof t.vttjs.VTTCue)){for(var n in i=new t.vttjs.VTTCue(e.startTime,e.endTime,e.text),e)n in i||(i[n]=e[n]);i.id=e.id,i.originalCue_=e}for(var r=this.tech_.textTracks(),o=0;o<r.length;o++)r[o]!==this&&r[o].removeCue(i);this.cues_.push(i),this.cues.setCues_(this.cues_)},n.removeCue=function(t){for(var e=this.cues_.length;e--;){var i=this.cues_[e];if(i===t||i.originalCue_&&i.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},i}(He);ni.prototype.allowedEvents_={cuechange:"cuechange"};var ri=function(t){function e(e){var i;void 0===e&&(e={});var n=Mt(e,{kind:Ve[e.kind]||""});i=t.call(this,n)||this;var r=!1;return Object.defineProperty(Vt(i),"enabled",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("enabledchange"))}}),n.enabled&&(i.enabled=n.enabled),i.loaded_=!0,i}return jt(e,t),e}(He),oi=function(t){function e(e){var i;void 0===e&&(e={});var n=Mt(e,{kind:Ue[e.kind]||""});i=t.call(this,n)||this;var r=!1;return Object.defineProperty(Vt(i),"selected",{get:function(){return r},set:function(t){"boolean"==typeof t&&t!==r&&(r=t,this.trigger("selectedchange"))}}),n.selected&&(i.selected=n.selected),i}return jt(e,t),e}(He),ai=function(t){function e(e){var i,n;void 0===e&&(e={}),i=t.call(this)||this;var r=new ni(e);return i.kind=r.kind,i.src=r.src,i.srclang=r.language,i.label=r.label,i.default=r.default,Object.defineProperties(Vt(i),{readyState:{get:function(){return n}},track:{get:function(){return r}}}),n=0,r.addEventListener("loadeddata",(function(){n=2,i.trigger({type:"load",target:Vt(i)})})),i}return jt(e,t),e}(_t);ai.prototype.allowedEvents_={load:"load"},ai.NONE=0,ai.LOADING=1,ai.LOADED=2,ai.ERROR=3;var si={audio:{ListClass:Re,TrackClass:ri,capitalName:"Audio"},video:{ListClass:Le,TrackClass:oi,capitalName:"Video"},text:{ListClass:De,TrackClass:ni,capitalName:"Text"}};Object.keys(si).forEach((function(t){si[t].getterName=t+"Tracks",si[t].privateName=t+"Tracks_"}));var ui={remoteText:{ListClass:De,TrackClass:ni,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Ne,TrackClass:ai,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},li=u({},si,ui);ui.names=Object.keys(ui),si.names=Object.keys(si),li.names=[].concat(ui.names).concat(si.names);var ci=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function di(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function hi(t){function e(t,e,i,n){return 3600*(0|t)+60*(0|e)+(0|i)+(0|n)/1e3}var i=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function fi(){this.values=ci(null)}function pi(t,e,i,n){var r=n?t.split(n):[t];for(var o in r)if("string"==typeof r[o]){var a=r[o].split(i);2===a.length&&e(a[0],a[1])}}function gi(t,e,i){var n=t;function r(){var e=hi(t);if(null===e)throw new di(di.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=r(),o(),"--\x3e"!==t.substr(0,3))throw new di(di.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);t=t.substr(3),o(),e.endTime=r(),o(),function(t,e){var n=new fi;pi(t,(function(t,e){switch(t){case"region":for(var r=i.length-1;r>=0;r--)if(i[r].id===e){n.set(t,i[r].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),a=o[0];n.integer(t,a),n.percent(t,a)&&n.set("snapToLines",!1),n.alt(t,a,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start","center","end"]);break;case"position":o=e.split(","),n.percent(t,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start","center","end"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start","center","end","left","right"])}}),/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical","");try{e.line=n.get("line","auto")}catch(t){}e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100);try{e.align=n.get("align","center")}catch(t){e.align=n.get("align","middle")}try{e.position=n.get("position","auto")}catch(t){e.position=n.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},e.align)}e.positionAlign=n.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},e.align)}(t,e)}di.prototype=ci(Error.prototype),di.prototype.constructor=di,di.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},fi.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var mi=i.createElement("textarea"),vi={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},yi={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},_i={v:"title",lang:"lang"},bi={rt:"ruby"};function Ti(t,e){function i(){if(!e)return null;var t,i=e.match(/^([^<]*)(<[^>]*>?)?/);return t=i[1]?i[1]:i[2],e=e.substr(t.length),t}function n(t,e){return!bi[e.localName]||bi[e.localName]===t.localName}function r(e,i){var n=vi[e];if(!n)return null;var r=t.document.createElement(n),o=_i[e];return o&&i&&(r[o]=i.trim()),r}for(var o,a,s=t.document.createElement("div"),u=s,l=[];null!==(o=i());)if("<"!==o[0])u.appendChild(t.document.createTextNode((a=o,mi.innerHTML=a,a=mi.textContent,mi.textContent="",a)));else{if("/"===o[1]){l.length&&l[l.length-1]===o.substr(2).replace(">","")&&(l.pop(),u=u.parentNode);continue}var c,d=hi(o.substr(1,o.length-2));if(d){c=t.document.createProcessingInstruction("timestamp",d),u.appendChild(c);continue}var h=o.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h)continue;if(!(c=r(h[1],h[3])))continue;if(!n(u,c))continue;if(h[2]){var f=h[2].split(".");f.forEach((function(t){var e=/^bg_/.test(t),i=e?t.slice(3):t;if(yi.hasOwnProperty(i)){var n=e?"background-color":"color",r=yi[i];c.style[n]=r}})),c.className=f.join(" ")}l.push(h[1]),u.appendChild(c),u=c}return s}var wi=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Si(t){for(var e=0;e<wi.length;e++){var i=wi[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function Ei(t){var e=[],i="";if(!t||!t.childNodes)return"ltr";function n(t,e){for(var i=e.childNodes.length-1;i>=0;i--)t.push(e.childNodes[i])}function r(t){if(!t||!t.length)return null;var e=t.pop(),i=e.textContent||e.innerText;if(i){var o=i.match(/^.*(\n|\r)/);return o?(t.length=0,o[0]):i}return"ruby"===e.tagName?r(t):e.childNodes?(n(t,e),r(t)):void 0}for(n(e,t);i=r(e);)for(var o=0;o<i.length;o++)if(Si(i.charCodeAt(o)))return"rtl";return"ltr"}function Ai(){}function Ci(t,e,i){Ai.call(this),this.cue=e,this.cueDiv=Ti(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:Ei(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":r=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function Pi(t){var e,i,n,r;if(t.div){i=t.div.offsetHeight,n=t.div.offsetWidth,r=t.div.offsetTop;var o=(o=t.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();t=t.div.getBoundingClientRect(),e=o?Math.max(o[0]&&o[0].height||0,t.height/o.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||i,this.bottom=t.bottom||r+(t.height||i),this.width=t.width||n,this.lineHeight=void 0!==e?e:t.lineHeight}function Ii(t,e,i,n){var r=new Pi(e),o=e.cue,a=function(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,n=0,r=0;r<i.length&&i[r]!==e;r++)"showing"===i[r].mode&&n++;return-1*++n}(o),s=[];if(o.snapToLines){var u;switch(o.vertical){case"":s=["+y","-y"],u="height";break;case"rl":s=["+x","-x"],u="width";break;case"lr":s=["-x","+x"],u="width"}var l=r.lineHeight,c=l*Math.round(a),d=i[u]+l,h=s[0];Math.abs(c)>d&&(c=c<0?-1:1,c*=Math.ceil(d/l)*l),a<0&&(c+=""===o.vertical?i.height:i.width,s=s.reverse()),r.move(h,c)}else{var f=r.lineHeight/i.height*100;switch(o.lineAlign){case"center":a-=f/2;break;case"end":a-=f}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],r=new Pi(e)}var p=function(t,e){for(var r,o=new Pi(t),a=1,s=0;s<e.length;s++){for(;t.overlapsOppositeAxis(i,e[s])||t.within(i)&&t.overlapsAny(n);)t.move(e[s]);if(t.within(i))return t;var u=t.intersectPercentage(i);a>u&&(r=new Pi(t),a=u),t=new Pi(o)}return r||o}(r,s);e.move(p.toCSSCompatValues(i))}function Oi(){}Ai.prototype.applyStyles=function(t,e){for(var i in e=e||this.div,t)t.hasOwnProperty(i)&&(e.style[i]=t[i])},Ai.prototype.formatStyle=function(t,e){return 0===t?0:t+e},Ci.prototype=ci(Ai.prototype),Ci.prototype.constructor=Ci,Pi.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},Pi.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},Pi.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},Pi.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},Pi.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},Pi.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},Pi.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},Pi.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||i}},Oi.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},Oi.convertCueToDOMTree=function(t,e){return t&&e?Ti(t,e):null},Oi.processCues=function(t,e,i){if(!t||!e||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var n=t.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",i.appendChild(n),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(e)){var r=[],o=Pi.getSimpleBoxPosition(n),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var i,s,u=0;u<e.length;u++)s=e[u],i=new Ci(t,s,a),n.appendChild(i.div),Ii(0,i,o,r),s.displayState=i.div,r.push(Pi.getSimpleBoxPosition(i))}()}else for(var s=0;s<e.length;s++)n.appendChild(e[s].displayState)},Oi.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]},Oi.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof di))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function i(){for(var t=e.buffer,i=0;i<t.length&&"\r"!==t[i]&&"\n"!==t[i];)++i;var n=t.substr(0,i);return"\r"===t[i]&&++i,"\n"===t[i]&&++i,e.buffer=t.substr(i),n}function n(t){t.match(/X-TIMESTAMP-MAP/)?pi(t,(function(t,i){switch(t){case"X-TIMESTAMP-MAP":!function(t){var i=new fi;pi(t,(function(t,e){switch(t){case"MPEGT":i.integer(t+"S",e);break;case"LOCA":i.set(t+"L",hi(e))}}),/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}(i)}}),/=/):pi(t,(function(t,i){switch(t){case"Region":!function(t){var i=new fi;if(pi(t,(function(t,e){switch(t){case"id":i.set(t,e);break;case"width":i.percent(t,e);break;case"lines":i.integer(t,e);break;case"regionanchor":case"viewportanchor":var n=e.split(",");if(2!==n.length)break;var r=new fi;if(r.percent("x",n[0]),r.percent("y",n[1]),!r.has("x")||!r.has("y"))break;i.set(t+"X",r.get("x")),i.set(t+"Y",r.get("y"));break;case"scroll":i.alt(t,e,["up"])}}),/=/,/\s/),i.has("id")){var n=new(e.vttjs.VTTRegion||e.window.VTTRegion);n.width=i.get("width",100),n.lines=i.get("lines",3),n.regionAnchorX=i.get("regionanchorX",0),n.regionAnchorY=i.get("regionanchorY",100),n.viewportAnchorX=i.get("viewportanchorX",0),n.viewportAnchorY=i.get("viewportanchorY",100),n.scroll=i.get("scroll",""),e.onregion&&e.onregion(n),e.regionList.push({id:i.get("id"),region:n})}}(i)}}),/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var r;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var o=(r=i()).match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new di(di.Errors.BadSignature);e.state="HEADER"}for(var a=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(a?a=!1:r=i(),e.state){case"HEADER":/:/.test(r)?n(r):r||(e.state="ID");continue;case"NOTE":r||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){e.state="NOTE";break}if(!r)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch(t){e.cue.align="middle"}if(e.state="CUE",-1===r.indexOf("--\x3e")){e.cue.id=r;continue}case"CUE":try{gi(r,e.cue,e.regionList)}catch(t){e.reportOrThrowError(t),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var s=-1!==r.indexOf("--\x3e");if(!r||s&&(a=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(e.state="ID");continue}}}catch(t){e.reportOrThrowError(t),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new di(di.Errors.BadSignature)}catch(t){this.reportOrThrowError(t)}return this.onflush&&this.onflush(),this}};var xi=Oi,ki={"":1,lr:1,rl:1},Ri={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function Mi(t){return"string"==typeof t&&!!Ri[t.toLowerCase()]&&t.toLowerCase()}function Li(t,e,i){this.hasBeenReset=!1;var n="",r=!1,o=t,a=e,s=i,u=null,l="",c=!0,d="auto",h="start",f="auto",p="auto",g=100,m="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(t){n=""+t}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(t){r=!!t}},startTime:{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");o=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");a=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return s},set:function(t){s=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return u},set:function(t){u=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return l},set:function(t){var e=function(t){return"string"==typeof t&&!!ki[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");l=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(t){c=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(t){if("number"!=typeof t&&"auto"!==t)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(t){var e=Mi(t);e?(h=e,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return f},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");f=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return p},set:function(t){var e=Mi(t);e?(p=e,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return g},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");g=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return m},set:function(t){var e=Mi(t);if(!e)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");m=e,this.hasBeenReset=!0}}}),this.displayState=void 0}Li.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Di=Li,Ni={"":!0,up:!0};function Fi(t){return"number"==typeof t&&t>=0&&t<=100}var Ui=function(){var t=100,e=3,i=0,n=100,r=0,o=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!Fi(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(t){if(!Fi(t))throw new Error("RegionAnchorX must be between 0 and 100.");n=t}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(t){if(!Fi(t))throw new Error("RegionAnchorY must be between 0 and 100.");i=t}},viewportAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!Fi(t))throw new Error("ViewportAnchorY must be between 0 and 100.");o=t}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(t){if(!Fi(t))throw new Error("ViewportAnchorX must be between 0 and 100.");r=t}},scroll:{enumerable:!0,get:function(){return a},set:function(t){var e=function(t){return"string"==typeof t&&!!Ni[t.toLowerCase()]&&t.toLowerCase()}(t);!1===e?console.warn("Scroll: an invalid or illegal string was specified."):a=e}}})},Vi=s((function(e){var i=e.exports={WebVTT:xi,VTTCue:Di,VTTRegion:Ui};t.vttjs=i,t.WebVTT=i.WebVTT;var n=i.VTTCue,r=i.VTTRegion,o=t.VTTCue,a=t.VTTRegion;i.shim=function(){t.VTTCue=n,t.VTTRegion=r},i.restore=function(){t.VTTCue=o,t.VTTRegion=a},t.VTTCue||i.shim()}));Vi.WebVTT,Vi.VTTCue,Vi.VTTRegion;var Bi=function(e){function n(t,i){var n;return void 0===t&&(t={}),void 0===i&&(i=function(){}),t.reportTouchActivity=!1,(n=e.call(this,null,t,i)||this).hasStarted_=!1,n.on("playing",(function(){this.hasStarted_=!0})),n.on("loadstart",(function(){this.hasStarted_=!1})),li.names.forEach((function(e){var i=li[e];t&&t[i.getterName]&&(n[i.privateName]=t[i.getterName])})),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(e){!1===t["native"+e+"Tracks"]&&(n["featuresNative"+e+"Tracks"]=!1)})),!1===t.nativeCaptions||!1===t.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.preloadTextTracks=!1!==t.preloadTextTracks,n.autoRemoteTextTracks_=new li.text.ListClass,n.initTrackListeners(),t.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}jt(n,e);var o=n.prototype;return o.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",(function(){return e.setTimeout((function(){return e.triggerSourceset(t)}),1)})),this.trigger({src:t,type:"sourceset"})},o.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},o.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},o.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(vt(this,(function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()})),500)},o.onDurationChange=function(t){this.duration_=this.duration()},o.buffered=function(){return de(0,0)},o.bufferedPercent=function(){return he(this.buffered(),this.duration_)},o.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},o.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},o.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},o.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},o.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.dispose=function(){this.clearTracks(si.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),e.prototype.dispose.call(this)},o.clearTracks=function(t){var e=this;(t=[].concat(t)).forEach((function(t){for(var i=e[t+"Tracks"]()||[],n=i.length;n--;){var r=i[n];"text"===t&&e.removeRemoteTextTrack(r),i.removeTrack(r)}}))},o.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var i=t[e];this.removeRemoteTextTrack(i)}},o.reset=function(){},o.crossOrigin=function(){},o.setCrossOrigin=function(){},o.error=function(t){return void 0!==t&&(this.error_=new _e(t),this.trigger("error")),this.error_},o.played=function(){return this.hasStarted_?de(0,0):de()},o.setScrubbing=function(){},o.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},o.initTrackListeners=function(){var t=this;si.names.forEach((function(e){var i=si[e],n=function(){t.trigger(e+"trackchange")},r=t[i.getterName]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),t.on("dispose",(function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)}))}))},o.addWebVttScript_=function(){var e=this;if(!t.WebVTT)if(i.body.contains(this.el())){if(!this.options_["vtt.js"]&&p(Vi)&&Object.keys(Vi).length>0)return void this.trigger("vttjsloaded");var n=i.createElement("script");n.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",n.onload=function(){e.trigger("vttjsloaded")},n.onerror=function(){e.trigger("vttjserror")},this.on("dispose",(function(){n.onload=null,n.onerror=null})),t.WebVTT=!0,this.el().parentNode.appendChild(n)}else this.ready(this.addWebVttScript_)},o.emulateTextTracks=function(){var t=this,e=this.textTracks(),i=this.remoteTextTracks(),n=function(t){return e.addTrack(t.track)},r=function(t){return e.removeTrack(t.track)};i.on("addtrack",n),i.on("removetrack",r),this.addWebVttScript_();var o=function(){return t.trigger("texttrackchange")},a=function(){o();for(var t=0;t<e.length;t++){var i=e[t];i.removeEventListener("cuechange",o),"showing"===i.mode&&i.addEventListener("cuechange",o)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",(function(){i.off("addtrack",n),i.off("removetrack",r),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(var t=0;t<e.length;t++)e[t].removeEventListener("cuechange",o)}))},o.addTextTrack=function(t,e,i){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(t,e,i,n,r){void 0===r&&(r={});var o=t.textTracks();r.kind=e,i&&(r.label=i),n&&(r.language=n),r.tech=t;var a=new li.text.TrackClass(r);return o.addTrack(a),a}(this,t,e,i)},o.createRemoteTextTrack=function(t){var e=Mt(t,{tech:this});return new ui.remoteTextEl.TrackClass(e)},o.addRemoteTextTrack=function(t,e){var i=this;void 0===t&&(t={});var n=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(r.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==e&&this.ready((function(){return i.autoRemoteTextTracks_.addTrack(n.track)})),n},o.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},o.getVideoPlaybackQuality=function(){return{}},o.requestPictureInPicture=function(){var e=this.options_.Promise||t.Promise;if(e)return e.reject()},o.disablePictureInPicture=function(){return!0},o.setDisablePictureInPicture=function(){},o.setPoster=function(){},o.playsinline=function(){},o.setPlaysinline=function(){},o.overrideNativeAudioTracks=function(){},o.overrideNativeVideoTracks=function(){},o.canPlayType=function(){return""},n.canPlayType=function(){return""},n.canPlaySource=function(t,e){return n.canPlayType(t.type)},n.isTech=function(t){return t.prototype instanceof n||t instanceof n||t===n},n.registerTech=function(t,e){if(n.techs_||(n.techs_={}),!n.isTech(e))throw new Error("Tech "+t+" must be a Tech");if(!n.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!n.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=Rt(t),n.techs_[t]=e,n.techs_[kt(t)]=e,"Tech"!==t&&n.defaultTechOrder_.push(t),e},n.getTech=function(e){if(e)return n.techs_&&n.techs_[e]?n.techs_[e]:(e=Rt(e),t&&t.videojs&&t.videojs[e]?(r.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),t.videojs[e]):void 0)},n}(Ut);li.names.forEach((function(t){var e=li[t];Bi.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}})),Bi.prototype.featuresVolumeControl=!0,Bi.prototype.featuresMuteControl=!0,Bi.prototype.featuresFullscreenResize=!1,Bi.prototype.featuresPlaybackRate=!1,Bi.prototype.featuresProgressEvents=!1,Bi.prototype.featuresSourceset=!1,Bi.prototype.featuresTimeupdateEvents=!1,Bi.prototype.featuresNativeTextTracks=!1,Bi.withSourceHandlers=function(t){t.registerSourceHandler=function(e,i){var n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),void 0===i&&(i=n.length),n.splice(i,0,e)},t.canPlayType=function(e){for(var i,n=t.sourceHandlers||[],r=0;r<n.length;r++)if(i=n[r].canPlayType(e))return i;return""},t.selectSourceHandler=function(e,i){for(var n=t.sourceHandlers||[],r=0;r<n.length;r++)if(n[r].canHandleSource(e,i))return n[r];return null},t.canPlaySource=function(e,i){var n=t.selectSourceHandler(e,i);return n?n.canHandleSource(e,i):""},["seekable","seeking","duration"].forEach((function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(e){var i=t.selectSourceHandler(e,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:r.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=i.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},Ut.registerComponent("Tech",Bi),Bi.registerTech("Tech",Bi),Bi.defaultTechOrder_=[];var ji={},Hi={},Gi={};function Wi(t,e,i){t.setTimeout((function(){return function t(e,i,n,r,o,a){void 0===e&&(e={}),void 0===i&&(i=[]),void 0===o&&(o=[]),void 0===a&&(a=!1);var s=i,u=s[0],l=s.slice(1);if("string"==typeof u)t(e,ji[u],n,r,o,a);else if(u){var c=function(t,e){var i=Hi[t.id()],n=null;if(null==i)return n=e(t),Hi[t.id()]=[[e,n]],n;for(var r=0;r<i.length;r++){var o=i[r],a=o[0],s=o[1];a===e&&(n=s)}return null===n&&(n=e(t),i.push([e,n])),n}(r,u);if(!c.setSource)return o.push(c),t(e,l,n,r,o,a);c.setSource(h({},e),(function(i,s){if(i)return t(e,l,n,r,o,a);o.push(c),t(s,e.type===s.type?l:ji[s.type],n,r,o,a)}))}else l.length?t(e,l,n,r,o,a):a?n(e,o):t(e,ji["*"],n,r,o,!0)}(e,ji[e.type],i,t)}),1)}function zi(t,e,i,n){void 0===n&&(n=null);var r="call"+Rt(i),o=t.reduce(Ki(r),n),a=o===Gi,s=a?null:e[i](o);return function(t,e,i,n){for(var r=t.length-1;r>=0;r--){var o=t[r];o[e]&&o[e](n,i)}}(t,i,s,a),s}var $i={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1},qi={setCurrentTime:1,setMuted:1,setVolume:1},Yi={play:1,pause:1};function Ki(t){return function(e,i){return e===Gi?Gi:i[t]?i[t](e):e}}var Xi={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Zi=function(t){void 0===t&&(t="");var e=ze(t);return Xi[e.toLowerCase()]||""};function Qi(t){if(!t.type){var e=Zi(t.src);e&&(t.type=e)}return t}var Ji=function(t){function e(e,i,n){var r,o=Mt({createEl:!1},i);if(r=t.call(this,e,o,n)||this,i.playerOptions.sources&&0!==i.playerOptions.sources.length)e.src(i.playerOptions.sources);else for(var a=0,s=i.playerOptions.techOrder;a<s.length;a++){var u=Rt(s[a]),l=Bi.getTech(u);if(u||(l=Ut.getComponent(u)),l&&l.isSupported()){e.loadTech_(u);break}}return r}return jt(e,t),e}(Ut);Ut.registerComponent("MediaLoader",Ji);var tn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).emitTapEvents(),n.enable(),n}jt(e,t);var i=e.prototype;return i.createEl=function(e,i,n){void 0===e&&(e="div"),void 0===i&&(i={}),void 0===n&&(n={}),i=h({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},i),"button"===e&&r.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=h({role:"button"},n),this.tabIndex_=i.tabIndex;var o=t.prototype.createEl.call(this,e,i,n);return this.createControlTextEl(o),o},i.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},i.createControlTextEl=function(t){return this.controlTextEl_=w("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},i.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var i=this.localize(t);this.controlText_=t,S(this.controlTextEl_,i),this.nonIconControl||e.setAttribute("title",i)},i.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},i.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("keydown",this.handleKeyDown))},i.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver),this.off("mouseout",this.handleMouseOut),this.off(["tap","click"],this.handleClick),this.off("keydown",this.handleKeyDown)},i.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},i.handleKeyDown=function(e){Pe.isEventKey(e,"Space")||Pe.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(Ut);Ut.registerComponent("ClickableComponent",tn);var en=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).update(),e.on("posterchange",vt(Vt(n),n.update)),n}jt(e,t);var i=e.prototype;return i.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},i.createEl=function(){return w("div",{className:"vjs-poster",tabIndex:-1})},i.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},i.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},i.handleClick=function(t){if(this.player_.controls()){var e=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;!this.player_.tech(!0)||(te||Zt)&&e||this.player_.tech(!0).focus(),this.player_.paused()?Se(this.player_.play()):this.player_.pause()}},e}(tn);Ut.registerComponent("PosterImage",en);var nn={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function rn(t,e){var i;if(4===t.length)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");i=t.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function on(t,e,i){try{t.style[e]=i}catch(t){return}}var an=function(e){function i(i,n,r){var o;o=e.call(this,i,n,r)||this;var a=vt(Vt(o),o.updateDisplay);return i.on("loadstart",vt(Vt(o),o.toggleDisplay)),i.on("texttrackchange",a),i.on("loadedmetadata",vt(Vt(o),o.preselectTrack)),i.ready(vt(Vt(o),(function(){if(i.tech_&&i.tech_.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",a),i.on("playerresize",a),t.addEventListener("orientationchange",a),i.on("dispose",(function(){return t.removeEventListener("orientationchange",a)}));for(var e=this.options_.playerOptions.tracks||[],n=0;n<e.length;n++)this.player_.addRemoteTextTrack(e[n],!0);this.preselectTrack()}}))),o}jt(i,e);var n=i.prototype;return n.preselectTrack=function(){for(var t,e,i,n={captions:1,subtitles:1},r=this.player_.textTracks(),o=this.player_.cache_.selectedLanguage,a=0;a<r.length;a++){var s=r[a];o&&o.enabled&&o.language&&o.language===s.language&&s.kind in n?s.kind===o.kind?i=s:i||(i=s):o&&!o.enabled?(i=null,t=null,e=null):s.default&&("descriptions"!==s.kind||t?s.kind in n&&!e&&(e=s):t=s)}i?i.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},n.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},n.createEl=function(){return e.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},n.clearDisplay=function(){"function"==typeof t.WebVTT&&t.WebVTT.processCues(t,[],this.el_)},n.updateDisplay=function(){var t=this.player_.textTracks(),e=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),e){for(var i=[],n=0;n<t.length;++n){var r=t[n];"showing"===r.mode&&i.push(r)}this.updateForTrack(i)}else{for(var o=null,a=null,s=t.length;s--;){var u=t[s];"showing"===u.mode&&("descriptions"===u.kind?o=u:a=u)}a?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(a)):o&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(o))}},n.updateDisplayState=function(e){for(var i=this.player_.textTrackSettings.getValues(),n=e.activeCues,r=n.length;r--;){var o=n[r];if(o){var a=o.displayState;if(i.color&&(a.firstChild.style.color=i.color),i.textOpacity&&on(a.firstChild,"color",rn(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(a.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&on(a.firstChild,"backgroundColor",rn(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?on(a,"backgroundColor",rn(i.windowColor,i.windowOpacity)):a.style.backgroundColor=i.windowColor),i.edgeStyle&&("dropshadow"===i.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===i.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===i.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===i.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),i.fontPercent&&1!==i.fontPercent){var s=t.parseFloat(a.style.fontSize);a.style.fontSize=s*i.fontPercent+"px",a.style.height="auto",a.style.top="auto"}i.fontFamily&&"default"!==i.fontFamily&&("small-caps"===i.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=nn[i.fontFamily])}}},n.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof t.WebVTT&&!e.every((function(t){return!t.activeCues}))){for(var i=[],n=0;n<e.length;++n)for(var r=e[n],o=0;o<r.activeCues.length;++o)i.push(r.activeCues[o]);t.WebVTT.processCues(t,i,this.el_);for(var a=0;a<e.length;++a){for(var s=e[a],u=0;u<s.activeCues.length;++u){var l=s.activeCues[u].displayState;C(l,"vjs-text-track-cue"),C(l,"vjs-text-track-cue-"+(s.language?s.language:a))}this.player_.textTrackSettings&&this.updateDisplayState(s)}}},i}(Ut);Ut.registerComponent("TextTrackDisplay",an);var sn=function(t){function e(){return t.apply(this,arguments)||this}return jt(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),i=this.localize(e?"Audio Player":"Video Player"),n=w("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[i])}),r=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(n),r},e}(Ut);Ut.registerComponent("LoadingSpinner",sn);var un=function(t){function e(){return t.apply(this,arguments)||this}jt(e,t);var i=e.prototype;return i.createEl=function(t,e,i){void 0===e&&(e={}),void 0===i&&(i={}),e=h({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),i=h({type:"button"},i);var n=Ut.prototype.createEl.call(this,"button",e,i);return this.createControlTextEl(n),n},i.addChild=function(t,e){void 0===e&&(e={});var i=this.constructor.name;return r.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),Ut.prototype.addChild.call(this,t,e)},i.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(e){Pe.isEventKey(e,"Space")||Pe.isEventKey(e,"Enter")?e.stopPropagation():t.prototype.handleKeyDown.call(this,e)},e}(tn);Ut.registerComponent("Button",un);var ln=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).mouseused_=!1,n.on("mousedown",n.handleMouseDown),n}jt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var i=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return Se(e),void(!this.player_.tech(!0)||(te||Zt)&&i||this.player_.tech(!0).focus())}var n=this.player_.getChild("controlBar"),r=n&&n.getChild("playToggle");if(r){var o=function(){return r.focus()};we(e)?e.then(o,(function(){})):this.setTimeout(o,1)}else this.player_.tech(!0).focus()},i.handleKeyDown=function(e){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,e)},i.handleMouseDown=function(t){this.mouseused_=!0},e}(un);ln.prototype.controlText_="Play Video",Ut.registerComponent("BigPlayButton",ln);var cn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).controlText(i&&i.controlText||n.localize("Close")),n}jt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},i.handleKeyDown=function(e){Pe.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,e)},e}(un);Ut.registerComponent("CloseButton",cn);var dn=function(t){function e(e,i){var n;return void 0===i&&(i={}),n=t.call(this,e,i)||this,i.replay=void 0===i.replay||i.replay,n.on(e,"play",n.handlePlay),n.on(e,"pause",n.handlePause),i.replay&&n.on(e,"ended",n.handleEnded),n}jt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},i.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},i.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(un);dn.prototype.controlText_="Play",Ut.registerComponent("PlayToggle",dn);var hn=function(t,e){t=t<0?0:t;var i=Math.floor(t%60),n=Math.floor(t/60%60),r=Math.floor(t/3600),o=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=n=i="-"),(r=r>0||a>0?r+":":"")+(n=((r||o>=10)&&n<10?"0"+n:n)+":")+(i=i<10?"0"+i:i)},fn=hn;function pn(t,e){return void 0===e&&(e=t),fn(t,e)}var gn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on(e,["timeupdate","ended"],n.updateContent),n.updateTextNode_(),n}jt(e,t);var n=e.prototype;return n.createEl=function(){var e=this.buildCSSClass(),i=t.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=w("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),i.appendChild(this.contentEl_),i},n.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},n.updateTextNode_=function(t){var e=this;void 0===t&&(t=0),t=pn(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(e.contentEl_){var t=e.textNode_;e.textNode_=i.createTextNode(e.formattedTime_),e.textNode_&&(t?e.contentEl_.replaceChild(e.textNode_,t):e.contentEl_.appendChild(e.textNode_))}})))},n.updateContent=function(t){},e}(Ut);gn.prototype.labelText_="Time",gn.prototype.controlText_="Time",Ut.registerComponent("TimeDisplay",gn);var mn=function(t){function e(){return t.apply(this,arguments)||this}jt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(t){var e;e=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(e)},e}(gn);mn.prototype.labelText_="Current Time",mn.prototype.controlText_="Current Time",Ut.registerComponent("CurrentTimeDisplay",mn);var vn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on(e,"durationchange",n.updateContent),n.on(e,"loadstart",n.updateContent),n.on(e,"loadedmetadata",n.updateContent),n}jt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(t){var e=this.player_.duration();this.updateTextNode_(e)},e}(gn);vn.prototype.labelText_="Duration",vn.prototype.controlText_="Duration",Ut.registerComponent("DurationDisplay",vn);var yn=function(t){function e(){return t.apply(this,arguments)||this}return jt(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},e}(Ut);Ut.registerComponent("TimeDivider",yn);var _n=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on(e,"durationchange",n.updateContent),n}jt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.createEl=function(){var e=t.prototype.createEl.call(this);return e.insertBefore(w("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},i.updateContent=function(t){var e;"number"==typeof this.player_.duration()&&(e=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(e))},e}(gn);_n.prototype.labelText_="Remaining Time",_n.prototype.controlText_="Remaining Time",Ut.registerComponent("RemainingTimeDisplay",_n);var bn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).updateShowing(),n.on(n.player(),"durationchange",n.updateShowing),n}jt(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=w("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},i.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},i.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(Ut);Ut.registerComponent("LiveDisplay",bn);var Tn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).updateLiveEdgeStatus(),n.player_.liveTracker&&n.on(n.player_.liveTracker,"liveedgechange",n.updateLiveEdgeStatus),n}jt(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=w("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},i.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},i.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},i.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,t.prototype.dispose.call(this)},e}(un);Tn.prototype.controlText_="Seek to live, currently playing live",Ut.registerComponent("SeekToLive",Tn);var wn=function(t,e,i){return t=Number(t),Math.min(i,Math.max(e,isNaN(t)?e:t))},Sn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}jt(e,t);var i=e.prototype;return i.enabled=function(){return this.enabled_},i.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("keydown",this.handleKeyDown),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},i.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("keydown",this.handleKeyDown),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},i.createEl=function(e,i,n){return void 0===i&&(i={}),void 0===n&&(n={}),i.className=i.className+" vjs-slider",i=h({tabIndex:0},i),n=h({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),t.prototype.createEl.call(this,e,i,n)},i.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||Qt||t.preventDefault(),L(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},i.handleMouseMove=function(t){},i.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;D(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},i.update=function(){var t=this;if(this.el_&&this.bar){var e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",(function(){var i=t.vertical()?"height":"width";t.bar.el().style[i]=(100*e).toFixed(2)+"%"}))),e}},i.getProgress=function(){return Number(wn(this.getPercent(),0,1).toFixed(4))},i.calculateDistance=function(t){var e=U(this.el_,t);return this.vertical()?e.y:e.x},i.handleKeyDown=function(e){Pe.isEventKey(e,"Left")||Pe.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):Pe.isEventKey(e,"Right")||Pe.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,e)},i.handleClick=function(t){t.stopPropagation(),t.preventDefault()},i.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(Ut);Ut.registerComponent("Slider",Sn);var En=function(t,e){return wn(t/e*100,0,100).toFixed(2)+"%"},An=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).partEls_=[],n.on(e,"progress",n.update),n}jt(e,t);var n=e.prototype;return n.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),n=w("span",{className:"vjs-control-text"}),r=w("span",{textContent:this.localize("Loaded")}),o=i.createTextNode(": ");return this.percentageEl_=w("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(r),n.appendChild(o),n.appendChild(this.percentageEl_),e},n.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},n.update=function(t){var e=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var t=e.player_.liveTracker,i=e.player_.buffered(),n=t&&t.isLive()?t.seekableEnd():e.player_.duration(),r=e.player_.bufferedEnd(),o=e.partEls_,a=En(r,n);e.percent_!==a&&(e.el_.style.width=a,S(e.percentageEl_,a),e.percent_=a);for(var s=0;s<i.length;s++){var u=i.start(s),l=i.end(s),c=o[s];c||(c=e.el_.appendChild(w()),o[s]=c),c.dataset.start===u&&c.dataset.end===l||(c.dataset.start=u,c.dataset.end=l,c.style.left=En(u,r),c.style.width=En(l-u,r))}for(var d=o.length;d>i.length;d--)e.el_.removeChild(o[d-1]);o.length=i.length}))},e}(Ut);Ut.registerComponent("LoadProgressBar",An);var Cn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).update=yt(vt(Vt(n),n.update),30),n}jt(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},i.update=function(t,e,i){var n=F(this.el_),r=N(this.player_.el()),o=t.width*e;if(r&&n){var a=t.left-r.left+o,s=t.width-o+(r.right-t.right),u=n.width/2;a<u?u+=u-a:s<u&&(u=s),u<0?u=0:u>n.width&&(u=n.width),this.el_.style.right="-"+u+"px",this.write(i)}},i.write=function(t){S(this.el_,t)},i.updateTime=function(t,e,i,n){var r=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var o,a=r.player_.duration();if(r.player_.liveTracker&&r.player_.liveTracker.isLive()){var s=r.player_.liveTracker.liveWindow(),u=s-e*s;o=(u<1?"":"-")+pn(u,s)}else o=pn(i,a);r.update(t,e,o),n&&n()}))},e}(Ut);Ut.registerComponent("TimeTooltip",Cn);var Pn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).update=yt(vt(Vt(n),n.update),30),n}jt(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=function(t,e){var i=this.getChild("timeTooltip");if(i){var n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(t,e,n)}},e}(Ut);Pn.prototype.options_={children:[]},ae||qt||Pn.prototype.options_.children.push("timeTooltip"),Ut.registerComponent("PlayProgressBar",Pn);var In=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).update=yt(vt(Vt(n),n.update),30),n}jt(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(t,e){var i=this,n=e*this.player_.duration();this.getChild("timeTooltip").updateTime(t,e,n,(function(){i.el_.style.left=t.width*e+"px"}))},e}(Ut);In.prototype.options_={children:["timeTooltip"]},Ut.registerComponent("MouseTimeDisplay",In);var On=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).setEventHandlers_(),n}jt(e,t);var n=e.prototype;return n.setEventHandlers_=function(){this.update_=vt(this,this.update),this.update=yt(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],this.enableInterval_),this.on(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in i&&"visibilityState"in i&&this.on(i,"visibilitychange",this.toggleVisibility_)},n.toggleVisibility_=function(t){i.hidden?this.disableInterval_(t):(this.enableInterval_(),this.update())},n.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},n.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&"ended"!==t.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},n.update=function(e){var i=this,n=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",(function(){var t=i.player_.ended()?i.player_.duration():i.getCurrentTime_(),e=i.player_.liveTracker,r=i.player_.duration();e&&e.isLive()&&(r=i.player_.liveTracker.liveCurrentTime()),i.percent_!==n&&(i.el_.setAttribute("aria-valuenow",(100*n).toFixed(2)),i.percent_=n),i.currentTime_===t&&i.duration_===r||(i.el_.setAttribute("aria-valuetext",i.localize("progress bar timing: currentTime={1} duration={2}",[pn(t,r),pn(r,r)],"{1} of {2}")),i.currentTime_=t,i.duration_=r),i.bar&&i.bar.update(N(i.el()),i.getProgress())})),n},n.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},n.getPercent=function(){var t,e=this.getCurrentTime_(),i=this.player_.liveTracker;return i&&i.isLive()?(t=(e-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t},n.handleMouseDown=function(e){W(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},n.handleMouseMove=function(t){if(W(t)){var e,i=this.calculateDistance(t),n=this.player_.liveTracker;if(n&&n.isLive()){if(i>=.99)return void n.seekToLiveEdge();var r=n.seekableStart(),o=n.liveCurrentTime();if((e=r+i*n.liveWindow())>=o&&(e=o),e<=r&&(e=r+.1),e===1/0)return}else(e=i*this.player_.duration())===this.player_.duration()&&(e-=.1);this.player_.currentTime(e)}},n.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},n.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},n.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Se(this.player_.play()):this.update_()},n.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},n.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},n.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},n.handleKeyDown=function(e){if(Pe.isEventKey(e,"Space")||Pe.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(Pe.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(0);else if(Pe.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.duration());else if(/^[0-9]$/.test(Pe(e))){e.preventDefault(),e.stopPropagation();var i=10*(Pe.codes[Pe(e)]-Pe.codes[0])/100;this.player_.currentTime(this.player_.duration()*i)}else Pe.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()-60)):Pe.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.player_.currentTime(this.player_.currentTime()+60)):t.prototype.handleKeyDown.call(this,e)},n.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableInterval_),this.off(this.player_,["ended","pause","waiting"],this.disableInterval_),"hidden"in i&&"visibilityState"in i&&this.off(i,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(Sn);On.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},ae||qt||On.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Ut.registerComponent("SeekBar",On);var xn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).handleMouseMove=yt(vt(Vt(n),n.handleMouseMove),30),n.throttledHandleMouseSeek=yt(vt(Vt(n),n.handleMouseSeek),30),n.enable(),n}jt(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var i=e.getChild("playProgressBar"),n=e.getChild("mouseTimeDisplay");if(i||n){var r=e.el(),o=F(r),a=U(r,t).x;a=wn(a,0,1),n&&n.update(o,a),i&&i.update(o,e.getProgress())}}},i.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},i.enabled=function(){return this.enabled_},i.disable=function(){this.children().forEach((function(t){return t.disable&&t.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},i.enable=function(){this.children().forEach((function(t){return t.enable&&t.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},i.handleMouseDown=function(t){var e=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},i.handleMouseUp=function(t){var e=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(Ut);xn.prototype.options_={children:["seekBar"]},Ut.registerComponent("ProgressControl",xn);var kn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on(e,["enterpictureinpicture","leavepictureinpicture"],n.handlePictureInPictureChange),n.on(e,["disablepictureinpicturechanged","loadedmetadata"],n.handlePictureInPictureEnabledChange),n.disable(),n}jt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},n.handlePictureInPictureEnabledChange=function(){i.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},n.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},n.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(un);kn.prototype.controlText_="Picture-in-Picture",Ut.registerComponent("PictureInPictureToggle",kn);var Rn=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this).on(e,"fullscreenchange",r.handleFullscreenChange),!1===i[e.fsApi_.fullscreenEnabled]&&r.disable(),r}jt(e,t);var n=e.prototype;return n.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},n.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},n.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(un);Rn.prototype.controlText_="Fullscreen",Ut.registerComponent("FullscreenToggle",Rn);var Mn=function(t){function e(){return t.apply(this,arguments)||this}return jt(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(Ut);Ut.registerComponent("VolumeLevel",Mn);var Ln=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on("slideractive",n.updateLastVolume_),n.on(e,"volumechange",n.updateARIAAttributes),e.ready((function(){return n.updateARIAAttributes()})),n}jt(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},i.handleMouseDown=function(e){W(e)&&t.prototype.handleMouseDown.call(this,e)},i.handleMouseMove=function(t){W(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},i.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},i.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},i.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},i.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},i.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},i.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",(function(){0===t.player_.volume()&&t.player_.lastVolume_(e)}))},e}(Sn);Ln.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Ln.prototype.playerEvent="volumechange",Ut.registerComponent("VolumeBar",Ln);var Dn=function(t){function e(e,i){var n;return void 0===i&&(i={}),i.vertical=i.vertical||!1,(void 0===i.volumeBar||p(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),n=t.call(this,e,i)||this,function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))}(Vt(n),e),n.throttledHandleMouseMove=yt(vt(Vt(n),n.handleMouseMove),30),n.on("mousedown",n.handleMouseDown),n.on("touchstart",n.handleMouseDown),n.on(n.volumeBar,["focus","slideractive"],(function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")})),n.on(n.volumeBar,["blur","sliderinactive"],(function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")})),n}jt(e,t);var i=e.prototype;return i.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},i.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},i.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},i.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(Ut);Dn.prototype.options_={children:["volumeBar"]},Ut.registerComponent("VolumeControl",Dn);var Nn=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))}(Vt(n),e),n.on(e,["loadstart","volumechange"],n.update),n}jt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){var e=this.player_.volume(),i=this.player_.lastVolume_();if(0===e){var n=i<.1?.1:i;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},i.update=function(t){this.updateIcon_(),this.updateControlText_()},i.updateIcon_=function(){var t=this.player_.volume(),e=3;ae&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var i=0;i<4;i++)P(this.el_,"vjs-vol-"+i);C(this.el_,"vjs-vol-"+e)},i.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},e}(un);Nn.prototype.controlText_="Mute",Ut.registerComponent("MuteToggle",Nn);var Fn=function(t){function e(e,i){var n;return void 0===i&&(i={}),void 0!==i.inline?i.inline=i.inline:i.inline=!0,(void 0===i.volumeControl||p(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),(n=t.call(this,e,i)||this).on(e,["loadstart"],n.volumePanelState_),n.on(n.muteToggle,"keyup",n.handleKeyPress),n.on(n.volumeControl,"keyup",n.handleVolumeControlKeyUp),n.on("keydown",n.handleKeyPress),n.on("mouseover",n.handleMouseOver),n.on("mouseout",n.handleMouseOut),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}jt(e,t);var n=e.prototype;return n.sliderActive_=function(){this.addClass("vjs-slider-active")},n.sliderInactive_=function(){this.removeClass("vjs-slider-active")},n.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},n.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},n.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},n.handleVolumeControlKeyUp=function(t){Pe.isEventKey(t,"Esc")&&this.muteToggle.focus()},n.handleMouseOver=function(t){this.addClass("vjs-hover"),ct(i,"keyup",vt(this,this.handleKeyPress))},n.handleMouseOut=function(t){this.removeClass("vjs-hover"),dt(i,"keyup",vt(this,this.handleKeyPress))},n.handleKeyPress=function(t){Pe.isEventKey(t,"Esc")&&this.handleMouseOut()},e}(Ut);Fn.prototype.options_={children:["muteToggle","volumeControl"]},Ut.registerComponent("VolumePanel",Fn);var Un=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,i&&(n.menuButton_=i.menuButton),n.focusedChild_=-1,n.on("keydown",n.handleKeyDown),n.boundHandleBlur_=vt(Vt(n),n.handleBlur),n.boundHandleTapClick_=vt(Vt(n),n.handleTapClick),n}jt(e,t);var n=e.prototype;return n.addEventListenerForItem=function(t){t instanceof Ut&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},n.removeEventListenerForItem=function(t){t instanceof Ut&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},n.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),t.prototype.removeChild.call(this,e)},n.addItem=function(t){var e=this.addChild(t);e&&this.addEventListenerForItem(e)},n.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=w(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),ct(i,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),i},n.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},n.handleBlur=function(t){var e=t.relatedTarget||i.activeElement;if(!this.children().some((function(t){return t.el()===e}))){var n=this.menuButton_;n&&n.buttonPressed_&&e!==n.el().firstChild&&n.unpressButton()}},n.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var e=this.children();if(!Array.isArray(e))return;var i=e.filter((function(e){return e.el()===t.target}))[0];if(!i)return;"CaptionSettingsMenuItem"!==i.name()&&this.menuButton_.focus()}},n.handleKeyDown=function(t){Pe.isEventKey(t,"Left")||Pe.isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(Pe.isEventKey(t,"Right")||Pe.isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},n.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},n.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},n.focus=function(t){void 0===t&&(t=0);var e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(Ut);Ut.registerComponent("Menu",Un);var Vn=function(t){function e(e,n){var r;void 0===n&&(n={}),(r=t.call(this,e,n)||this).menuButton_=new un(e,n),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var o=un.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+o,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"keydown",r.handleKeyDown),r.on(r.menuButton_,"mouseenter",(function(){r.addClass("vjs-hover"),r.menu.show(),ct(i,"keyup",vt(Vt(r),r.handleMenuKeyUp))})),r.on("mouseleave",r.handleMouseLeave),r.on("keydown",r.handleSubmenuKeyDown),r}jt(e,t);var n=e.prototype;return n.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},n.createMenu=function(){var t=new Un(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=w("li",{className:"vjs-menu-title",innerHTML:Rt(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;var i=new Ut(this.player_,{el:e});t.addItem(i)}if(this.items=this.createItems(),this.items)for(var n=0;n<this.items.length;n++)t.addItem(this.items[n]);return t},n.createItems=function(){},n.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},n.buildWrapperCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+un.prototype.buildCSSClass()+" "+t.prototype.buildCSSClass.call(this)},n.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},n.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},n.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},n.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},n.handleMouseLeave=function(t){this.removeClass("vjs-hover"),dt(i,"keyup",vt(this,this.handleMenuKeyUp))},n.focus=function(){this.menuButton_.focus()},n.blur=function(){this.menuButton_.blur()},n.handleKeyDown=function(t){Pe.isEventKey(t,"Esc")||Pe.isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),Pe.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(Pe.isEventKey(t,"Up")||Pe.isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},n.handleMenuKeyUp=function(t){(Pe.isEventKey(t,"Esc")||Pe.isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},n.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},n.handleSubmenuKeyDown=function(t){(Pe.isEventKey(t,"Esc")||Pe.isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Pe.isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},n.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ae&&b())return;this.menu.focus()}},n.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},n.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},n.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(Ut);Ut.registerComponent("MenuButton",Vn);var Bn=function(t){function e(e,i){var n,r=i.tracks;if((n=t.call(this,e,i)||this).items.length<=1&&n.hide(),!r)return Vt(n);var o=vt(Vt(n),n.update);return r.addEventListener("removetrack",o),r.addEventListener("addtrack",o),n.player_.on("ready",o),n.player_.on("dispose",(function(){r.removeEventListener("removetrack",o),r.removeEventListener("addtrack",o)})),n}return jt(e,t),e}(Vn);Ut.registerComponent("TrackButton",Bn);var jn=["Tab","Esc","Up","Down","Right","Left"],Hn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).selectable=i.selectable,n.isSelected_=i.selected||!1,n.multiSelectable=i.multiSelectable,n.selected(n.isSelected_),n.selectable?n.multiSelectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitemradio"):n.el_.setAttribute("role","menuitem"),n}jt(e,t);var i=e.prototype;return i.createEl=function(e,i,n){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",h({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},i),n)},i.handleKeyDown=function(e){jn.some((function(t){return Pe.isEventKey(e,t)}))||t.prototype.handleKeyDown.call(this,e)},i.handleClick=function(t){this.selected(!0)},i.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(tn);Ut.registerComponent("MenuItem",Hn);var Gn=function(e){function n(n,r){var o,a=r.track,s=n.textTracks();r.label=a.label||a.language||"Unknown",r.selected="showing"===a.mode,(o=e.call(this,n,r)||this).track=a,o.kinds=(r.kinds||[r.kind||o.track.kind]).filter(Boolean);var u,l=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];o.handleTracksChange.apply(Vt(o),e)},c=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];o.handleSelectedLanguageChange.apply(Vt(o),e)};return n.on(["loadstart","texttrackchange"],l),s.addEventListener("change",l),s.addEventListener("selectedlanguagechange",c),o.on("dispose",(function(){n.off(["loadstart","texttrackchange"],l),s.removeEventListener("change",l),s.removeEventListener("selectedlanguagechange",c)})),void 0===s.onchange&&o.on(["tap","click"],(function(){if("object"!=typeof t.Event)try{u=new t.Event("change")}catch(t){}u||(u=i.createEvent("Event")).initEvent("change",!0,!0),s.dispatchEvent(u)})),o.handleTracksChange(),o}jt(n,e);var r=n.prototype;return r.handleClick=function(t){var i=this.track,n=this.player_.textTracks();if(e.prototype.handleClick.call(this,t),n)for(var r=0;r<n.length;r++){var o=n[r];-1!==this.kinds.indexOf(o.kind)&&(o===i?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled"))}},r.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},r.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,e.prototype.dispose.call(this)},n}(Hn);Ut.registerComponent("TextTrackMenuItem",Gn);var Wn=function(t){function e(e,i){return i.track={player:e,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,t.call(this,e,i)||this}jt(e,t);var i=e.prototype;return i.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,r=e.length;n<r;n++){var o=e[n];if(this.options_.kinds.indexOf(o.kind)>-1&&"showing"===o.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)},i.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,r=e.length;n<r;n++){var o=e[n];if(["captions","descriptions","subtitles"].indexOf(o.kind)>-1&&"showing"===o.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Gn);Ut.registerComponent("OffTextTrackMenuItem",Wn);var zn=function(t){function e(e,i){return void 0===i&&(i={}),i.tracks=e.textTracks(),t.call(this,e,i)||this}return jt(e,t),e.prototype.createItems=function(t,e){var i;void 0===t&&(t=[]),void 0===e&&(e=Gn),this.label_&&(i=this.label_+" off"),t.push(new Wn(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<n.length;r++){var o=n[r];if(this.kinds_.indexOf(o.kind)>-1){var a=new e(this.player_,{track:o,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});a.addClass("vjs-"+o.kind+"-menu-item"),t.push(a)}}return t},e}(Bn);Ut.registerComponent("TextTrackButton",zn);var $n=function(t){function e(e,i){var n,r=i.track,o=i.cue,a=e.currentTime();return i.selectable=!0,i.multiSelectable=!1,i.label=o.text,i.selected=o.startTime<=a&&a<o.endTime,(n=t.call(this,e,i)||this).track=r,n.cue=o,r.addEventListener("cuechange",vt(Vt(n),n.update)),n}jt(e,t);var i=e.prototype;return i.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},i.update=function(t){var e=this.cue,i=this.player_.currentTime();this.selected(e.startTime<=i&&i<e.endTime)},e}(Hn);Ut.registerComponent("ChaptersTrackMenuItem",$n);var qn=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}jt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},i.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},i.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_)}}},i.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var i=t[e];if(i.kind===this.kind_)return i}},i.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Rt(this.kind_))},i.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},i.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var i=0,n=e.length;i<n;i++){var r=e[i],o=new $n(this.player_,{track:this.track_,cue:r});t.push(o)}return t},e}(zn);qn.prototype.kind_="chapters",qn.prototype.controlText_="Chapters",Ut.registerComponent("ChaptersButton",qn);var Yn=function(t){function e(e,i,n){var r;r=t.call(this,e,i,n)||this;var o=e.textTracks(),a=vt(Vt(r),r.handleTracksChange);return o.addEventListener("change",a),r.on("dispose",(function(){o.removeEventListener("change",a)})),r}jt(e,t);var i=e.prototype;return i.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!1,n=0,r=e.length;n<r;n++){var o=e[n];if(o.kind!==this.kind_&&"showing"===o.mode){i=!0;break}}i?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(zn);Yn.prototype.kind_="descriptions",Yn.prototype.controlText_="Descriptions",Ut.registerComponent("DescriptionsButton",Yn);var Kn=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}jt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(zn);Kn.prototype.kind_="subtitles",Kn.prototype.controlText_="Subtitles",Ut.registerComponent("SubtitlesButton",Kn);var Xn=function(t){function e(e,i){var n;return i.track={player:e,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",(n=t.call(this,e,i)||this).addClass("vjs-texttrack-settings"),n.controlText(", opens "+i.kind+" settings dialog"),n}return jt(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Gn);Ut.registerComponent("CaptionSettingsMenuItem",Xn);var Zn=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}jt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Xn(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(zn);Zn.prototype.kind_="captions",Zn.prototype.controlText_="Captions",Ut.registerComponent("CaptionsButton",Zn);var Qn=function(t){function e(){return t.apply(this,arguments)||this}return jt(e,t),e.prototype.createEl=function(e,i,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,h({innerHTML:r},i),n)},e}(Gn);Ut.registerComponent("SubsCapsMenuItem",Qn);var Jn=function(t){function e(e,i){var n;return void 0===i&&(i={}),(n=t.call(this,e,i)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)>-1&&(n.label_="captions"),n.menuButton_.controlText(Rt(n.label_)),n}jt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new Xn(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,Qn)},e}(zn);Jn.prototype.kinds_=["captions","subtitles"],Jn.prototype.controlText_="Subtitles",Ut.registerComponent("SubsCapsButton",Jn);var tr=function(t){function e(e,i){var n,r=i.track,o=e.audioTracks();i.label=r.label||r.language||"Unknown",i.selected=r.enabled,(n=t.call(this,e,i)||this).track=r,n.addClass("vjs-"+r.kind+"-menu-item");var a=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.handleTracksChange.apply(Vt(n),e)};return o.addEventListener("change",a),n.on("dispose",(function(){o.removeEventListener("change",a)})),n}jt(e,t);var i=e.prototype;return i.createEl=function(e,i,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r+="</span>",t.prototype.createEl.call(this,e,h({innerHTML:r},i),n)},i.handleClick=function(e){var i=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var n=0;n<i.length;n++){var r=i[n];r.enabled=r===this.track}},i.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(Hn);Ut.registerComponent("AudioTrackMenuItem",tr);var er=function(t){function e(e,i){return void 0===i&&(i={}),i.tracks=e.audioTracks(),t.call(this,e,i)||this}jt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),i=0;i<e.length;i++){var n=e[i];t.push(new tr(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return t},e}(Bn);er.prototype.controlText_="Audio Track",Ut.registerComponent("AudioTrackButton",er);var ir=function(t){function e(e,i){var n,r=i.rate,o=parseFloat(r,10);return i.label=r,i.selected=1===o,i.selectable=!0,i.multiSelectable=!1,(n=t.call(this,e,i)||this).label=r,n.rate=o,n.on(e,"ratechange",n.update),n}jt(e,t);var i=e.prototype;return i.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(Hn);ir.prototype.contentElType="button",Ut.registerComponent("PlaybackRateMenuItem",ir);var nr=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).updateVisibility(),n.updateLabel(),n.on(e,"loadstart",n.updateVisibility),n.on(e,"ratechange",n.updateLabel),n}jt(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=w("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},i.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},i.createMenu=function(){var t=new Un(this.player()),e=this.playbackRates();if(e)for(var i=e.length-1;i>=0;i--)t.addChild(new ir(this.player(),{rate:e[i]+"x"}));return t},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(t){for(var e=this.player().playbackRate(),i=this.playbackRates(),n=i[0],r=0;r<i.length;r++)if(i[r]>e){n=i[r];break}this.player().playbackRate(n)},i.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},i.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},i.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Vn);nr.prototype.controlText_="Playback Rate",Ut.registerComponent("PlaybackRateMenuButton",nr);var rr=function(t){function e(){return t.apply(this,arguments)||this}jt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(Ut);Ut.registerComponent("Spacer",rr);var or=function(t){function e(){return t.apply(this,arguments)||this}jt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(rr);Ut.registerComponent("CustomControlSpacer",or);var ar=function(t){function e(){return t.apply(this,arguments)||this}return jt(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(Ut);ar.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in i&&ar.prototype.options_.children.splice(ar.prototype.options_.children.length-1,0,"pictureInPictureToggle"),Ut.registerComponent("ControlBar",ar);var sr=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on(e,"error",n.open),n}jt(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},i.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Ie);sr.prototype.options_=u({},Ie.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),Ut.registerComponent("ErrorDisplay",sr);var ur=["#000","Black"],lr=["#00F","Blue"],cr=["#0FF","Cyan"],dr=["#0F0","Green"],hr=["#F0F","Magenta"],fr=["#F00","Red"],pr=["#FFF","White"],gr=["#FF0","Yellow"],mr=["1","Opaque"],vr=["0.5","Semi-Transparent"],yr=["0","Transparent"],_r={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ur,pr,fr,dr,lr,gr,hr,cr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[mr,vr,yr]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[pr,ur,fr,dr,lr,gr,hr,cr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[mr,vr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[yr,vr,mr]}};function br(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}_r.windowColor.options=_r.backgroundColor.options;var Tr=function(e){function i(t,i){var n;return i.temporary=!1,(n=e.call(this,t,i)||this).updateDisplay=vt(Vt(n),n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=w("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===i.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",(function(){n.saveSettings(),n.close()})),n.on(n.$(".vjs-default-button"),"click",(function(){n.setDefaults(),n.updateDisplay()})),d(_r,(function(t){n.on(n.$(t.selector),"change",n.updateDisplay)})),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}jt(i,e);var n=i.prototype;return n.dispose=function(){this.endDialog=null,e.prototype.dispose.call(this)},n.createElSelect_=function(t,e,i){var n=this;void 0===e&&(e=""),void 0===i&&(i="label");var r=_r[t],o=r.id.replace("%s",this.id_),a=[e,o].join(" ").trim();return["<"+i+' id="'+o+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(r.label),"</"+i+">",'<select aria-labelledby="'+a+'">'].concat(r.options.map((function(t){var e=o+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+a+" "+e+'">',n.localize(t[1]),"</option>"].join("")}))).concat("</select>").join("")},n.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},n.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},n.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},n.createElColors_=function(){return w("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},n.createElFont_=function(){return w("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},n.createElControls_=function(){var t=this.localize("restore all settings to the default values");return w("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},n.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},n.label=function(){return this.localize("Caption Settings Dialog")},n.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},n.buildCSSClass=function(){return e.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},n.getValues=function(){var t,e,i,n=this;return e=function(t,e,i){var r,o,a=(r=n.$(e.selector),o=e.parser,br(r.options[r.options.selectedIndex].value,o));return void 0!==a&&(t[i]=a),t},void 0===(i={})&&(i=0),c(t=_r).reduce((function(i,n){return e(i,t[n],n)}),i)},n.setValues=function(t){var e=this;d(_r,(function(i,n){!function(t,e,i){if(e)for(var n=0;n<t.options.length;n++)if(br(t.options[n].value,i)===e){t.selectedIndex=n;break}}(e.$(i.selector),t[n],i.parser)}))},n.setDefaults=function(){var t=this;d(_r,(function(e){var i=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=i}))},n.restoreSettings=function(){var e;try{e=JSON.parse(t.localStorage.getItem("vjs-text-track-settings"))}catch(t){r.warn(t)}e&&this.setValues(e)},n.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?t.localStorage.setItem("vjs-text-track-settings",JSON.stringify(e)):t.localStorage.removeItem("vjs-text-track-settings")}catch(t){r.warn(t)}}},n.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},n.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,e=t&&t.subsCapsButton,i=t&&t.captionsButton;e?e.focus():i&&i.focus()},i}(Ie);Ut.registerComponent("TextTrackSettings",Tr);var wr=function(e){function i(i,n){var r,o=n.ResizeObserver||t.ResizeObserver;null===n.ResizeObserver&&(o=!1);var a=Mt({createEl:!o,reportTouchActivity:!1},n);return(r=e.call(this,i,a)||this).ResizeObserver=n.ResizeObserver||t.ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=function(e,i,n,r){var o;void 0===r&&(r=t);var a=function(){var t=this,a=arguments,s=function(){o=null,s=null,n||e.apply(t,a)};!o&&n&&e.apply(t,a),r.clearTimeout(o),o=r.setTimeout(s,i)};return a.cancel=function(){r.clearTimeout(o),o=null},a}((function(){r.resizeHandler()}),100,!1,Vt(r)),o?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(i.el())):(r.loadListener_=function(){if(r.el_&&r.el_.contentWindow){var t=r.debouncedHandler_,e=r.unloadListener_=function(){dt(this,"resize",t),dt(this,"unload",e),e=null};ct(r.el_.contentWindow,"unload",e),ct(r.el_.contentWindow,"resize",t)}},r.one("load",r.loadListener_)),r}jt(i,e);var n=i.prototype;return n.createEl=function(){return e.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},n.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},n.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,e.prototype.dispose.call(this)},i}(Ut);Ut.registerComponent("ResizeManager",wr);var Sr={trackingThreshold:30,liveTolerance:15},Er=function(e){function n(t,n){var r,o=Mt(Sr,n,{createEl:!1});return(r=e.call(this,t,o)||this).reset_(),r.on(r.player_,"durationchange",r.handleDurationchange),te&&"hidden"in i&&"visibilityState"in i&&r.on(i,"visibilitychange",r.handleVisibilityChange),r}jt(n,e);var r=n.prototype;return r.handleVisibilityChange=function(){this.player_.duration()===1/0&&(i.hidden?this.stopTracking():this.startTracking())},r.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var i=Number(t.performance.now().toFixed(4)),n=-1===this.lastTime_?0:(i-this.lastTime_)/1e3;this.lastTime_=i,this.pastSeekEnd_=this.pastSeekEnd()+n;var r=this.liveCurrentTime(),o=this.player_.currentTime(),a=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-o)>this.options_.liveTolerance;this.timeupdateSeen_&&r!==1/0||(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}},r.handleDurationchange=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},r.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLive_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked):(this.one(this.player_,"play",this.handlePlay),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate)))},r.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked)},r.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=!this.skipNextSeeked_&&t>2,this.skipNextSeeked_=!1,this.trackLive_()},r.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},r.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.skipNextSeeked_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLive_),this.off(this.player_,"seeked",this.handleSeeked),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate),this.off(this.player_,"timeupdate",this.seekToLiveEdge)},r.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},r.seekableEnd=function(){for(var t=this.player_.seekable(),e=[],i=t?t.length:0;i--;)e.push(t.end(i));return e.length?e.sort()[e.length-1]:1/0},r.seekableStart=function(){for(var t=this.player_.seekable(),e=[],i=t?t.length:0;i--;)e.push(t.start(i));return e.length?e.sort()[0]:0},r.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?1/0:t-this.seekableStart()},r.isLive=function(){return this.isTracking()},r.atLiveEdge=function(){return!this.behindLiveEdge()},r.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},r.pastSeekEnd=function(){var t=this.seekableEnd();return-1!==this.lastSeekEnd_&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},r.behindLiveEdge=function(){return this.behindLiveEdge_},r.isTracking=function(){return"number"==typeof this.trackingInterval_},r.seekToLiveEdge=function(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.skipNextSeeked_=!0,this.player_.currentTime(this.liveCurrentTime()))},r.dispose=function(){this.off(i,"visibilitychange",this.handleVisibilityChange),this.stopTracking(),e.prototype.dispose.call(this)},n}(Ut);Ut.registerComponent("LiveTracker",Er);var Ar,Cr=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var i=t.$$("source"),n=[],r="";if(!i.length)return!1;for(var o=0;o<i.length;o++){var a=i[o].src;a&&-1===n.indexOf(a)&&n.push(a)}return!!n.length&&(1===n.length&&(r=n[0]),t.triggerSourceset(r),!0)},Pr=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var n=i.createElement(this.nodeName.toLowerCase());n.innerHTML=e;for(var r=i.createDocumentFragment();n.childNodes.length;)r.appendChild(n.childNodes[0]);return this.innerText="",t.Element.prototype.appendChild.call(this,r),this.innerHTML}}),Ir=function(t,e){for(var i={},n=0;n<t.length&&!((i=Object.getOwnPropertyDescriptor(t[n],e))&&i.set&&i.get);n++);return i.enumerable=!0,i.configurable=!0,i},Or=function(e){var i=e.el();if(!i.resetSourceWatch_){var n={},r=function(e){return Ir([e.el(),t.HTMLMediaElement.prototype,t.Element.prototype,Pr],"innerHTML")}(e),o=function(t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var a=t.apply(i,r);return Cr(e),a}};["append","appendChild","insertAdjacentHTML"].forEach((function(t){i[t]&&(n[t]=i[t],i[t]=o(n[t]))})),Object.defineProperty(i,"innerHTML",Mt(r,{set:o(r.set)})),i.resetSourceWatch_=function(){i.resetSourceWatch_=null,Object.keys(n).forEach((function(t){i[t]=n[t]})),Object.defineProperty(i,"innerHTML",r)},e.one("sourceset",i.resetSourceWatch_)}},xr=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?We(t.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return t.Element.prototype.setAttribute.call(this,"src",e),e}}),kr=function(e){if(e.featuresSourceset){var i=e.el();if(!i.resetSourceset_){var n=function(e){return Ir([e.el(),t.HTMLMediaElement.prototype,xr],"src")}(e),r=i.setAttribute,o=i.load;Object.defineProperty(i,"src",Mt(n,{set:function(t){var r=n.set.call(i,t);return e.triggerSourceset(i.src),r}})),i.setAttribute=function(t,n){var o=r.call(i,t,n);return/src/i.test(t)&&e.triggerSourceset(i.src),o},i.load=function(){var t=o.call(i);return Cr(e)||(e.triggerSourceset(""),Or(e)),t},i.currentSrc?e.triggerSourceset(i.currentSrc):Cr(e)||Or(e),i.resetSourceset_=function(){i.resetSourceset_=null,i.load=o,i.setAttribute=r,Object.defineProperty(i,"src",n),i.resetSourceWatch_&&i.resetSourceWatch_()}}}},Rr=function(t,e,i,n){void 0===n&&(n=!0);var r=function(i){return Object.defineProperty(t,e,{value:i,enumerable:!0,writable:!0})},o={configurable:!0,enumerable:!0,get:function(){var t=i();return r(t),t}};return n&&(o.set=r),Object.defineProperty(t,e,o)},Mr=function(e){function n(t,i){var n;n=e.call(this,t,i)||this;var o=t.source,a=!1;if(o&&(n.el_.currentSrc!==o.src||t.tag&&3===t.tag.initNetworkState_)?n.setSource(o):n.handleLateInit_(n.el_),t.enableSourceset&&n.setupSourcesetHandling_(),n.el_.hasChildNodes()){for(var s=n.el_.childNodes,u=s.length,l=[];u--;){var c=s[u];"track"===c.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(c),n.remoteTextTracks().addTrack(c.track),n.textTracks().addTrack(c.track),a||n.el_.hasAttribute("crossorigin")||!$e(c.src)||(a=!0)):l.push(c))}for(var d=0;d<l.length;d++)n.el_.removeChild(l[d])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&a&&r.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),n.restoreMetadataTracksInIOSNativePlayer_(),(ne||oe||Kt)&&!0===t.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}jt(n,e);var o=n.prototype;return o.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),n.disposeMediaElement(this.el_),this.options_=null,e.prototype.dispose.call(this)},o.setupSourcesetHandling_=function(){kr(this)},o.restoreMetadataTracksInIOSNativePlayer_=function(){var t,e=this.textTracks(),i=function(){t=[];for(var i=0;i<e.length;i++){var n=e[i];"metadata"===n.kind&&t.push({track:n,storedMode:n.mode})}};i(),e.addEventListener("change",i),this.on("dispose",(function(){return e.removeEventListener("change",i)}));var n=function i(){for(var n=0;n<t.length;n++){var r=t[n];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",(function(){e.removeEventListener("change",i),e.removeEventListener("change",n),e.addEventListener("change",n)})),this.on("webkitendfullscreen",(function(){e.removeEventListener("change",i),e.addEventListener("change",i),e.removeEventListener("change",n)}))},o.overrideNative_=function(t,e){var i=this;if(e===this["featuresNative"+t+"Tracks"]){var n=t.toLowerCase();this[n+"TracksListeners_"]&&Object.keys(this[n+"TracksListeners_"]).forEach((function(t){i.el()[n+"Tracks"].removeEventListener(t,i[n+"TracksListeners_"][t])})),this["featuresNative"+t+"Tracks"]=!e,this[n+"TracksListeners_"]=null,this.proxyNativeTracksForType_(n)}},o.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},o.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},o.proxyNativeTracksForType_=function(t){var e=this,i=si[t],n=this.el()[i.getterName],r=this[i.getterName]();if(this["featuresNative"+i.capitalName+"Tracks"]&&n&&n.addEventListener){var o={change:function(i){var n={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(n),"text"===t&&e[ui.remoteText.getterName]().trigger(n)},addtrack:function(t){r.addTrack(t.track)},removetrack:function(t){r.removeTrack(t.track)}},a=function(){for(var t=[],e=0;e<r.length;e++){for(var i=!1,o=0;o<n.length;o++)if(n[o]===r[e]){i=!0;break}i||t.push(r[e])}for(;t.length;)r.removeTrack(t.shift())};this[i.getterName+"Listeners_"]=o,Object.keys(o).forEach((function(t){var i=o[t];n.addEventListener(t,i),e.on("dispose",(function(e){return n.removeEventListener(t,i)}))})),this.on("loadstart",a),this.on("dispose",(function(t){return e.off("loadstart",a)}))}},o.proxyNativeTracks_=function(){var t=this;si.names.forEach((function(e){t.proxyNativeTracksForType_(e)}))},o.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var e=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(e,t),n.disposeMediaElement(t),t=e}else{t=i.createElement("video");var r=Mt({},this.options_.tag&&x(this.options_.tag));ne&&!0===this.options_.nativeControlsForTouch||delete r.controls,O(t,h(r,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&R(t,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var o=["loop","muted","playsinline","autoplay"],a=0;a<o.length;a++){var s=o[a],u=this.options_[s];void 0!==u&&(u?R(t,s,s):M(t,s),t[s]=u)}return t},o.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,i=function(){e=!0};this.on("loadstart",i);var n=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready((function(){this.off("loadstart",i),this.off("loadedmetadata",n),e||this.trigger("loadstart")}))}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready((function(){r.forEach((function(t){this.trigger(t)}),this)}))}},o.setScrubbing=function(t){this.isScrubbing_=t},o.setCurrentTime=function(t){try{this.isScrubbing_&&this.el_.fastSeek&&se?this.el_.fastSeek(t):this.el_.currentTime=t}catch(t){r(t,"Video is not ready. (Video.js)")}},o.duration=function(){var t=this;return this.el_.duration===1/0&&qt&&Qt&&0===this.el_.currentTime?(this.on("timeupdate",(function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))})),NaN):this.el_.duration||NaN},o.width=function(){return this.el_.offsetWidth},o.height=function(){return this.el_.offsetHeight},o.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",(function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",e)}))}},o.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=t.navigator&&t.navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},o.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)Se(this.el_.play()),this.setTimeout((function(){t.pause();try{t.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}}),0);else try{t.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},o.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},o.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},o.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},o.reset=function(){n.resetMediaElement(this.el_)},o.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},o.setControls=function(t){this.el_.controls=!!t},o.addTextTrack=function(t,i,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,i,n):e.prototype.addTextTrack.call(this,t,i,n)},o.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return e.prototype.createRemoteTextTrack.call(this,t);var n=i.createElement("track");return t.kind&&(n.kind=t.kind),t.label&&(n.label=t.label),(t.language||t.srclang)&&(n.srclang=t.language||t.srclang),t.default&&(n.default=t.default),t.id&&(n.id=t.id),t.src&&(n.src=t.src),n},o.addRemoteTextTrack=function(t,i){var n=e.prototype.addRemoteTextTrack.call(this,t,i);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},o.removeRemoteTextTrack=function(t){if(e.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var i=this.$$("track"),n=i.length;n--;)t!==i[n]&&t!==i[n].track||this.el().removeChild(i[n])},o.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),t.performance&&"function"==typeof t.performance.now?e.creationTime=t.performance.now():t.performance&&t.performance.timing&&"number"==typeof t.performance.timing.navigationStart&&(e.creationTime=t.Date.now()-t.performance.timing.navigationStart),e},n}(Bi);Rr(Mr,"TEST_VID",(function(){if(y()){var t=i.createElement("video"),e=i.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}})),Mr.isSupported=function(){try{Mr.TEST_VID.volume=.5}catch(t){return!1}return!(!Mr.TEST_VID||!Mr.TEST_VID.canPlayType)},Mr.canPlayType=function(t){return Mr.TEST_VID.canPlayType(t)},Mr.canPlaySource=function(t,e){return Mr.canPlayType(t.type)},Mr.canControlVolume=function(){try{var t=Mr.TEST_VID.volume;return Mr.TEST_VID.volume=t/2+.1,t!==Mr.TEST_VID.volume}catch(t){return!1}},Mr.canMuteVolume=function(){try{var t=Mr.TEST_VID.muted;return Mr.TEST_VID.muted=!t,Mr.TEST_VID.muted?R(Mr.TEST_VID,"muted","muted"):M(Mr.TEST_VID,"muted"),t!==Mr.TEST_VID.muted}catch(t){return!1}},Mr.canControlPlaybackRate=function(){if(qt&&Qt&&Jt<58)return!1;try{var t=Mr.TEST_VID.playbackRate;return Mr.TEST_VID.playbackRate=t/2+.1,t!==Mr.TEST_VID.playbackRate}catch(t){return!1}},Mr.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(i.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(i.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(i.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(i.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return!1}return!0},Mr.supportsNativeTextTracks=function(){return se||ae&&Qt},Mr.supportsNativeVideoTracks=function(){return!(!Mr.TEST_VID||!Mr.TEST_VID.videoTracks)},Mr.supportsNativeAudioTracks=function(){return!(!Mr.TEST_VID||!Mr.TEST_VID.audioTracks)},Mr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(t){var e=t[0],i=t[1];Rr(Mr.prototype,e,(function(){return Mr[i]()}),!0)})),Mr.prototype.movingMediaElementInDOM=!ae,Mr.prototype.featuresFullscreenResize=!0,Mr.prototype.featuresProgressEvents=!0,Mr.prototype.featuresTimeupdateEvents=!0,Mr.patchCanPlayType=function(){Yt>=4&&!Xt&&!Qt&&(Ar=Mr.TEST_VID&&Mr.TEST_VID.constructor.prototype.canPlayType,Mr.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(t)?"maybe":Ar.call(this,t)})},Mr.unpatchCanPlayType=function(){var t=Mr.TEST_VID.constructor.prototype.canPlayType;return Ar&&(Mr.TEST_VID.constructor.prototype.canPlayType=Ar),t},Mr.patchCanPlayType(),Mr.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},Mr.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),i=e.length;i--;)t.removeChild(e[i]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){Mr.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){Mr.prototype["set"+Rt(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(t){Mr.prototype[t]=function(){return this.el_[t]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(t){Mr.prototype["set"+Rt(t)]=function(e){this.el_[t]=e}})),["pause","load","play"].forEach((function(t){Mr.prototype[t]=function(){return this.el_[t]()}})),Bi.withSourceHandlers(Mr),Mr.nativeSourceHandler={},Mr.nativeSourceHandler.canPlayType=function(t){try{return Mr.TEST_VID.canPlayType(t)}catch(t){return""}},Mr.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Mr.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=ze(t.src);return Mr.nativeSourceHandler.canPlayType("video/"+i)}return""},Mr.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)},Mr.nativeSourceHandler.dispose=function(){},Mr.registerSourceHandler(Mr.nativeSourceHandler),Bi.registerTech("Html5",Mr);var Lr=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Dr={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Nr=["tiny","xsmall","small","medium","large","xlarge","huge"],Fr={};Nr.forEach((function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;Fr[t]="vjs-layout-"+e}));var Ur={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Vr=function(e){function n(t,r,a){var s;if(t.id=t.id||r.id||"vjs_video_"+nt(),(r=h(n.getTagSettings(t),r)).initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language)if("function"==typeof t.closest){var u=t.closest("[lang]");u&&u.getAttribute&&(r.language=u.getAttribute("lang"))}else for(var l=t;l&&1===l.nodeType;){if(x(l).hasOwnProperty("lang")){r.language=l.getAttribute("lang");break}l=l.parentNode}if((s=e.call(this,null,r,a)||this).boundDocumentFullscreenChange_=vt(Vt(s),s.documentFullscreenChange_),s.boundFullWindowOnEscKey_=vt(Vt(s),s.fullWindowOnEscKey),s.isFullscreen_=!1,s.log=o(s.id_),s.fsApi_=pe,s.isPosterFromTech_=!1,s.queuedCallbacks_=[],s.isReady_=!1,s.hasStarted_=!1,s.userActive_=!1,s.debugEnabled_=!1,!s.options_||!s.options_.techOrder||!s.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(s.tag=t,s.tagAttributes=t&&x(t),s.language(s.options_.language),r.languages){var c={};Object.getOwnPropertyNames(r.languages).forEach((function(t){c[t.toLowerCase()]=r.languages[t]})),s.languages_=c}else s.languages_=n.prototype.options_.languages;s.resetCache_(),s.poster_=r.poster||"",s.controls_=!!r.controls,t.controls=!1,t.removeAttribute("controls"),s.changingSrc_=!1,s.playCallbacks_=[],s.playTerminatedQueue_=[],t.hasAttribute("autoplay")?s.autoplay(!0):s.autoplay(s.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach((function(t){if("function"!=typeof s[t])throw new Error('plugin "'+t+'" does not exist')})),s.scrubbing_=!1,s.el_=s.createEl(),It(Vt(s),{eventBusKey:"el_"}),s.fsApi_.requestFullscreen&&(ct(i,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_),s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)),s.fluid_&&s.on("playerreset",s.updateStyleEl_);var d=Mt(s.options_);r.plugins&&Object.keys(r.plugins).forEach((function(t){s[t](r.plugins[t])})),r.debug&&s.debug(!0),s.options_.playerOptions=d,s.middleware_=[],s.initChildren(),s.isAudio("audio"===t.nodeName.toLowerCase()),s.controls()?s.addClass("vjs-controls-enabled"):s.addClass("vjs-controls-disabled"),s.el_.setAttribute("role","region"),s.isAudio()?s.el_.setAttribute("aria-label",s.localize("Audio Player")):s.el_.setAttribute("aria-label",s.localize("Video Player")),s.isAudio()&&s.addClass("vjs-audio"),s.flexNotSupported_()&&s.addClass("vjs-no-flex"),ne&&s.addClass("vjs-touch-enabled"),ae||s.addClass("vjs-workinghover"),n.players[s.id_]=Vt(s);var f="7.10.2".split(".")[0];return s.addClass("vjs-v"+f),s.userActive(!0),s.reportUserActivity(),s.one("play",s.listenForUserActivity_),s.on("stageclick",s.handleStageClick_),s.on("keydown",s.handleKeyDown),s.breakpoints(s.options_.breakpoints),s.responsive(s.options_.responsive),s}jt(n,e);var a=n.prototype;return a.dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),dt(i,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),dt(i,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),n.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Hi[this.id()]=null,li.names.forEach((function(e){var i=li[e],n=t[i.getterName]();n&&n.off&&n.off()})),e.prototype.dispose.call(this)},a.createEl=function(){var n,r=this.tag,o=this.playerElIngest_=r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player"),a="video-js"===this.tag.tagName.toLowerCase();o?n=this.el_=r.parentNode:a||(n=this.el_=e.prototype.createEl.call(this,"div"));var s=x(r);if(a){for(n=this.el_=r,r=this.tag=i.createElement("video");n.children.length;)r.appendChild(n.firstChild);A(n,"video-js")||C(n,"video-js"),n.appendChild(r),o=this.playerElIngest_=n,Object.keys(n).forEach((function(t){try{r[t]=n[t]}catch(t){}}))}if(r.setAttribute("tabindex","-1"),s.tabindex="-1",(te||Qt&&ie)&&(r.setAttribute("role","application"),s.role="application"),r.removeAttribute("width"),r.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach((function(t){a&&"class"===t||n.setAttribute(t,s[t]),a&&r.setAttribute(t,s[t])})),r.playerId=r.id,r.id+="_html5_api",r.className="vjs-tech",r.player=n.player=this,this.addClass("vjs-paused"),!0!==t.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=tt("vjs-styles-dimensions");var u=$(".vjs-styles-defaults"),l=$("head");l.insertBefore(this.styleEl_,u?u.nextSibling:l.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var c=r.getElementsByTagName("a"),d=0;d<c.length;d++){var h=c.item(d);C(h,"vjs-hidden"),h.setAttribute("hidden","hidden")}return r.initNetworkState_=r.networkState,r.parentNode&&!o&&r.parentNode.insertBefore(n,r),E(r,n),this.children_.unshift(r),this.el_.setAttribute("lang",this.language_),this.el_=n,n},a.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");"anonymous"===t||"use-credentials"===t?this.techCall_("setCrossOrigin",t):r.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"')},a.width=function(t){return this.dimension("width",t)},a.height=function(t){return this.dimension("height",t)},a.dimension=function(t,e){var i=t+"_";if(void 0===e)return this[i]||0;if(""===e||"auto"===e)return this[i]=void 0,void this.updateStyleEl_();var n=parseFloat(e);isNaN(n)?r.error('Improper value "'+e+'" supplied for for '+t):(this[i]=n,this.updateStyleEl_())},a.fluid=function(t){if(void 0===t)return!!this.fluid_;var e,i;this.fluid_=!!t,bt(this)&&this.off("playerreset",this.updateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),bt(e=function(){this.on("playerreset",this.updateStyleEl_)})?i():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(i))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},a.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},a.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},a.updateStyleEl_=function(){if(!0!==t.VIDEOJS_NO_DYNAMIC_STYLE){var e,i,n,r=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),o=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,i=void 0!==this.height_?this.height_:e*o,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),et(this.styleEl_,"\n      ."+n+" {\n        width: "+e+"px;\n        height: "+i+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*o+"%;\n      }\n    ")}else{var a="number"==typeof this.width_?this.width_:this.options_.width,s="number"==typeof this.height_?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(a>=0&&(u.width=a),s>=0&&(u.height=s))}},a.loadTech_=function(t,e){var i=this;this.tech_&&this.unloadTech_();var n=Rt(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==n&&this.tag&&(Bi.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var o={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};li.names.forEach((function(t){var e=li[t];o[e.getterName]=i[e.privateName]})),h(o,this.options_[n]),h(o,this.options_[r]),h(o,this.options_[t.toLowerCase()]),this.tag&&(o.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var a=Bi.getTech(t);if(!a)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new a(o),this.tech_.ready(vt(this,this.handleTechReady_),!0),Ce(this.textTracksJson_||[],this.tech_),Lr.forEach((function(t){i.on(i.tech_,t,i["handleTech"+Rt(t)+"_"])})),Object.keys(Dr).forEach((function(t){i.on(i.tech_,t,(function(e){0===i.tech_.playbackRate()&&i.tech_.seeking()?i.queuedCallbacks_.push({callback:i["handleTech"+Dr[t]+"_"].bind(i),event:e}):i["handleTech"+Dr[t]+"_"](e)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"fullscreenerror",this.handleTechFullscreenError_),this.on(this.tech_,"enterpictureinpicture",this.handleTechEnterPictureInPicture_),this.on(this.tech_,"leavepictureinpicture",this.handleTechLeavePictureInPicture_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||E(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},a.unloadTech_=function(){var t=this;li.names.forEach((function(e){var i=li[e];t[i.privateName]=t[i.getterName]()})),this.textTracksJson_=Ae(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},a.tech=function(t){return void 0===t&&r.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},a.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mouseup",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},a.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mouseup",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},a.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},a.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},a.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){var i,n=function(){var t=e.muted();e.muted(!0);var i=function(){e.muted(t)};e.playTerminatedQueue_.push(i);var n=e.play();if(we(n))return n.catch(i)};if("any"===t&&!0!==this.muted()?we(i=this.play())&&(i=i.catch(n)):i="muted"===t&&!0!==this.muted()?n():this.play(),we(i))return i.then((function(){e.trigger({type:"autoplay-success",autoplay:t})})).catch((function(i){e.trigger({type:"autoplay-failure",autoplay:t})}))}},a.updateSourceCaches_=function(t){void 0===t&&(t="");var e=t,i="";"string"!=typeof e&&(e=t.src,i=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!i&&(i=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var i=t.cache_.sources.filter((function(t){return t.src===e}));if(i.length)return i[0].type;for(var n=t.$$("source"),r=0;r<n.length;r++){var o=n[r];if(o.type&&o.src&&o.src===e)return o.type}return Zi(e)}(this,e)),this.cache_.source=Mt({},t,{src:e,type:i});for(var n=this.cache_.sources.filter((function(t){return t.src&&t.src===e})),r=[],o=this.$$("source"),a=[],s=0;s<o.length;s++){var u=x(o[s]);r.push(u),u.src&&u.src===e&&a.push(u.src)}a.length&&!n.length?this.cache_.sources=r:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},a.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var i=function(t){return e.updateSourceCaches_(t)},n=this.currentSource().src,r=t.src;n&&!/^blob:/.test(n)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==n)&&(i=function(){}),i(r),t.src||this.tech_.any(["sourceset","loadstart"],(function(t){if("sourceset"!==t.type){var i=e.techGet("currentSrc");e.lastSource_.tech=i,e.updateSourceCaches_(i)}}))}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},a.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},a.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},a.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(t){return t.callback(t.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},a.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var e=this.currentTime();this.on("timeupdate",(function i(){e!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",i))}))},a.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},a.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},a.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},a.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},a.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},a.handleTechFirstPlay_=function(){this.options_.starttime&&(r.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},a.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},a.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},a.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},a.handleTechClick_=function(t){W(t)&&this.controls_&&(this.paused()?Se(this.play()):this.pause())},a.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(e){return e.contains(t.target)}))||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},a.handleTechTap_=function(){this.userActive(!this.userActive())},a.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},a.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},a.handleTechTouchEnd_=function(t){t.preventDefault()},a.handleStageClick_=function(){this.reportUserActivity()},a.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},a.documentFullscreenChange_=function(t){var e=t.target.player;if(!e||e===this){var n=this.el(),r=i[this.fsApi_.fullscreenElement]===n;!r&&n.matches?r=n.matches(":"+this.fsApi_.fullscreen):!r&&n.msMatchesSelector&&(r=n.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}},a.handleTechFullscreenChange_=function(t,e){e&&(e.nativeIOSFullscreen&&this.toggleClass("vjs-ios-native-fs"),this.isFullscreen(e.isFullscreen))},a.handleTechFullscreenError_=function(t,e){this.trigger("fullscreenerror",e)},a.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},a.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},a.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},a.handleTechError_=function(){var t=this.tech_.error();this.error(t)},a.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},a.getCache=function(){return this.cache_},a.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],volume:1}},a.techCall_=function(t,e){this.ready((function(){if(t in qi)return function(t,e,i,n){return e[i](t.reduce(Ki(i),n))}(this.middleware_,this.tech_,t,e);if(t in Yi)return zi(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(t){throw r(t),t}}),!0)},a.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in $i)return function(t,e,i){return t.reduceRight(Ki(i),e[i]())}(this.middleware_,this.tech_,t);if(t in Yi)return zi(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw r("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw r("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw r(e),e}}},a.play=function(){var e=this,i=this.options_.Promise||t.Promise;return i?new i((function(t){e.play_(t)})):this.play_()},a.play_=function(t){var e=this;void 0===t&&(t=Se),this.playCallbacks_.push(t);var i=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!i)return this.waitToPlay_=function(t){e.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(i||!se&&!ae||this.load());var n=this.techGet_("play");null===n?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)},a.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach((function(t){t()}))},a.runPlayCallbacks_=function(t){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],e.forEach((function(e){e(t)}))},a.pause=function(){this.techCall_("pause")},a.paused=function(){return!1!==this.techGet_("paused")},a.played=function(){return this.techGet_("played")||de(0,0)},a.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},a.currentTime=function(t){return void 0!==t?(t<0&&(t=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",t),void(this.cache_.initTime=0)):(this.cache_.initTime=t,this.off("canplay",this.applyInitTime_),void this.one("canplay",this.applyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},a.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},a.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},a.remainingTime=function(){return this.duration()-this.currentTime()},a.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},a.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=de(0,0)),t},a.bufferedPercent=function(){return he(this.buffered(),this.duration())},a.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),i=t.end(t.length-1);return i>e&&(i=e),i},a.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},a.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},a.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},a.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},a.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},a.isFullscreen=function(t){if(void 0!==t){var e=this.isFullscreen_;return this.isFullscreen_=Boolean(t),this.isFullscreen_!==e&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},a.requestFullscreen=function(e){var i=this.options_.Promise||t.Promise;if(i){var n=this;return new i((function(t,i){function r(){n.off("fullscreenerror",a),n.off("fullscreenchange",o)}function o(){r(),t()}function a(t,e){r(),i(e)}n.one("fullscreenchange",o),n.one("fullscreenerror",a);var s=n.requestFullscreenHelper_(e);if(s)return s.then(r,r),s}))}return this.requestFullscreenHelper_()},a.requestFullscreenHelper_=function(t){var e,i=this;if(this.fsApi_.prefixed||(e=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==t&&(e=t)),this.fsApi_.requestFullscreen){var n=this.el_[this.fsApi_.requestFullscreen](e);return n&&n.then((function(){return i.isFullscreen(!0)}),(function(){return i.isFullscreen(!1)})),n}this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):this.enterFullWindow()},a.exitFullscreen=function(){var e=this.options_.Promise||t.Promise;if(e){var i=this;return new e((function(t,e){function n(){i.off("fullscreenerror",o),i.off("fullscreenchange",r)}function r(){n(),t()}function o(t,i){n(),e(i)}i.one("fullscreenchange",r),i.one("fullscreenerror",o);var a=i.exitFullscreenHelper_();if(a)return a.then(n,n),a}))}return this.exitFullscreenHelper_()},a.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var e=i[this.fsApi_.exitFullscreen]();return e&&e.then((function(){return t.isFullscreen(!1)})),e}this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):this.exitFullWindow()},a.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=i.documentElement.style.overflow,ct(i,"keydown",this.boundFullWindowOnEscKey_),i.documentElement.style.overflow="hidden",C(i.body,"vjs-full-window"),this.trigger("enterFullWindow")},a.fullWindowOnEscKey=function(t){Pe.isEventKey(t,"Esc")&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},a.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,dt(i,"keydown",this.boundFullWindowOnEscKey_),i.documentElement.style.overflow=this.docOrigOverflow,P(i.body,"vjs-full-window"),this.trigger("exitFullWindow")},a.disablePictureInPicture=function(t){if(void 0===t)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")},a.isInPictureInPicture=function(t){return void 0!==t?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},a.requestPictureInPicture=function(){if("pictureInPictureEnabled"in i&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},a.exitPictureInPicture=function(){if("pictureInPictureEnabled"in i)return i.exitPictureInPicture()},a.handleKeyDown=function(t){var e,i,n=this.options_.userActions;n&&n.hotkeys&&(e=this.el_.ownerDocument.activeElement,i=e.tagName.toLowerCase(),e.isContentEditable||("input"===i?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type):-1!==["textarea"].indexOf(i))||("function"==typeof n.hotkeys?n.hotkeys.call(this,t):this.handleHotkeys(t)))},a.handleHotkeys=function(t){var e=this.options_.userActions?this.options_.userActions.hotkeys:{},n=e.fullscreenKey,r=void 0===n?function(t){return Pe.isEventKey(t,"f")}:n,o=e.muteKey,a=void 0===o?function(t){return Pe.isEventKey(t,"m")}:o,s=e.playPauseKey,u=void 0===s?function(t){return Pe.isEventKey(t,"k")||Pe.isEventKey(t,"Space")}:s;if(r.call(this,t)){t.preventDefault(),t.stopPropagation();var l=Ut.getComponent("FullscreenToggle");!1!==i[this.fsApi_.fullscreenEnabled]&&l.prototype.handleClick.call(this,t)}else a.call(this,t)?(t.preventDefault(),t.stopPropagation(),Ut.getComponent("MuteToggle").prototype.handleClick.call(this,t)):u.call(this,t)&&(t.preventDefault(),t.stopPropagation(),Ut.getComponent("PlayToggle").prototype.handleClick.call(this,t))},a.canPlayType=function(t){for(var e,i=0,n=this.options_.techOrder;i<n.length;i++){var o=n[i],a=Bi.getTech(o);if(a||(a=Ut.getComponent(o)),a){if(a.isSupported()&&(e=a.canPlayType(t)))return e}else r.error('The "'+o+'" tech is undefined. Skipped browser support check for that tech.')}return""},a.selectSource=function(t){var e,i=this,n=this.options_.techOrder.map((function(t){return[t,Bi.getTech(t)]})).filter((function(t){var e=t[0],i=t[1];return i?i.isSupported():(r.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),o=function(t,e,i){var n;return t.some((function(t){return e.some((function(e){if(n=i(t,e))return!0}))})),n},a=function(t,e){var n=t[0];if(t[1].canPlaySource(e,i.options_[n.toLowerCase()]))return{source:e,tech:n}};return(this.options_.sourceOrder?o(t,n,(e=a,function(t,i){return e(i,t)})):o(n,t,a))||!1},a.src=function(t){var e=this;if(void 0===t)return this.cache_.src||"";var i=function t(e){if(Array.isArray(e)){var i=[];e.forEach((function(e){e=t(e),Array.isArray(e)?i=i.concat(e):f(e)&&i.push(e)})),e=i}else e="string"==typeof e&&e.trim()?[Qi({src:e})]:f(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[Qi(e)]:[];return e}(t);i.length?(this.changingSrc_=!0,this.cache_.sources=i,this.updateSourceCaches_(i[0]),Wi(this,i[0],(function(t,n){var r,o;if(e.middleware_=n,e.cache_.sources=i,e.updateSourceCaches_(t),e.src_(t))return i.length>1?e.src(i.slice(1)):(e.changingSrc_=!1,e.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void e.triggerReady());r=n,o=e.tech_,r.forEach((function(t){return t.setTech&&t.setTech(o)}))}))):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},a.src_=function(t){var e,i,n=this,r=this.selectSource([t]);return!r||(e=r.tech,i=this.techName_,Rt(e)!==Rt(i)?(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready((function(){n.changingSrc_=!1})),!1):(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1}),!0),!1))},a.load=function(){this.techCall_("load")},a.reset=function(){var e=this,i=this.options_.Promise||t.Promise;this.paused()||!i?this.doReset_():Se(this.play().then((function(){return e.doReset_()})))},a.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),bt(this)&&this.trigger("playerreset")},a.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},a.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar,e=t.durationDisplay,i=t.remainingTimeDisplay;e&&e.updateContent(),i&&i.updateContent()},a.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},a.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},a.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},a.currentSource=function(){return this.cache_.source||{}},a.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},a.currentType=function(){return this.currentSource()&&this.currentSource().type||""},a.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},a.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=void 0===e?this.options_.autoplay:e,this.tech_&&this.techCall_("setAutoplay",e)},a.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},a.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},a.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},a.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},a.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},a.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},a.error=function(t){if(void 0===t)return this.error_||null;if(this.options_.suppressNotSupportedError&&t&&4===t.code){var e=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],e),void this.one("loadstart",(function(){this.off(["click","touchstart"],e)}))}if(null===t)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new _e(t),this.addClass("vjs-error"),r.error("(CODE:"+this.error_.code+" "+_e.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error")},a.reportUserActivity=function(t){this.userActivity_=!0},a.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},a.listenForUserActivity_=function(){var t,e,i,n=vt(this,this.reportUserActivity),r=function(e){n(),this.clearInterval(t)};this.on("mousedown",(function(){n(),this.clearInterval(t),t=this.setInterval(n,250)})),this.on("mousemove",(function(t){t.screenX===e&&t.screenY===i||(e=t.screenX,i=t.screenY,n())})),this.on("mouseup",r),this.on("mouseleave",r);var o,a=this.getChild("controlBar");!a||ae||qt||(a.on("mouseenter",(function(t){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout,this.player().options_.inactivityTimeout=0})),a.on("mouseleave",(function(t){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",n),this.on("keyup",n),this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(o);var t=this.options_.inactivityTimeout;t<=0||(o=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),t))}}),250)},a.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},a.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},a.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},a.addTextTrack=function(t,e,i){if(this.tech_)return this.tech_.addTextTrack(t,e,i)},a.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},a.removeRemoteTextTrack=function(t){void 0===t&&(t={});var e=t.track;if(e||(e=t),this.tech_)return this.tech_.removeRemoteTextTrack(e)},a.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},a.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},a.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},a.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},a.languages=function(){return Mt(n.prototype.options_.languages,this.languages_)},a.toJSON=function(){var t=Mt(this.options_),e=t.tracks;t.tracks=[];for(var i=0;i<e.length;i++){var n=e[i];(n=Mt(n)).player=void 0,t.tracks[i]=n}return t},a.createModal=function(t,e){var i=this;(e=e||{}).content=t||"";var n=new Ie(this,e);return this.addChild(n),n.on("dispose",(function(){i.removeChild(n)})),n.open(),n},a.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),i=0;i<Nr.length;i++){var n=Nr[i];if(e<=this.breakpoints_[n]){if(t===n)return;t&&this.removeClass(Fr[t]),this.addClass(Fr[n]),this.breakpoint_=n;break}}},a.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},a.breakpoints=function(t){return void 0===t||(this.breakpoint_="",this.breakpoints_=h({},Ur,t),this.updateCurrentBreakpoint_()),h(this.breakpoints_)},a.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},a.currentBreakpoint=function(){return this.breakpoint_},a.currentBreakpointClass=function(){return Fr[this.breakpoint_]||""},a.loadMedia=function(t,e){var i=this;if(t&&"object"==typeof t){this.reset(),this.cache_.media=Mt(t);var n=this.cache_.media,r=n.artwork,o=n.poster,a=n.src,s=n.textTracks;!r&&o&&(this.cache_.media.artwork=[{src:o,type:Zi(o)}]),a&&this.src(a),o&&this.poster(o),Array.isArray(s)&&s.forEach((function(t){return i.addRemoteTextTrack(t,!1)})),this.ready(e)}},a.getMedia=function(){if(!this.cache_.media){var t=this.poster(),e={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(function(t){return{kind:t.kind,label:t.label,language:t.language,src:t.src}}))};return t&&(e.poster=t,e.artwork=[{src:e.poster,type:Zi(e.poster)}]),e}return Mt(this.cache_.media)},n.getTagSettings=function(t){var e={sources:[],tracks:[]},i=x(t),n=i["data-setup"];if(A(t,"vjs-fill")&&(i.fill=!0),A(t,"vjs-fluid")&&(i.fluid=!0),null!==n){var o=Te(n||"{}"),a=o[0],s=o[1];a&&r.error(a),h(i,s)}if(h(e,i),t.hasChildNodes())for(var u=t.childNodes,l=0,c=u.length;l<c;l++){var d=u[l],f=d.nodeName.toLowerCase();"source"===f?e.sources.push(x(d)):"track"===f&&e.tracks.push(x(d))}return e},a.flexNotSupported_=function(){var t=i.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},a.debug=function(t){if(void 0===t)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},n}(Ut);li.names.forEach((function(t){var e=li[t];Vr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}})),Vr.prototype.crossorigin=Vr.prototype.crossOrigin,Vr.players={};var Br=t.navigator;Vr.prototype.options_={techOrder:Bi.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Br&&(Br.languages&&Br.languages[0]||Br.userLanguage||Br.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(t){Vr.prototype[t]=function(){return this.techGet_(t)}})),Lr.forEach((function(t){Vr.prototype["handleTech"+Rt(t)+"_"]=function(){return this.trigger(t)}})),Ut.registerComponent("Player",Vr);var jr=s((function(t){function e(i,n){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(i,n)}t.exports=e})),Hr=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}},Gr=s((function(t){function e(i,n,r){return Hr()?t.exports=e=Reflect.construct:t.exports=e=function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&jr(r,i.prototype),r},e.apply(null,arguments)}t.exports=e})),Wr={},zr=function(t){return Wr.hasOwnProperty(t)},$r=function(t){return zr(t)?Wr[t]:void 0},qr=function(t,e){t.activePlugins_=t.activePlugins_||{},t.activePlugins_[e]=!0},Yr=function(t,e,i){var n=(i?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},Kr=function(t,e){return e.prototype.name=t,function(){Yr(this,{name:t,plugin:e,instance:null},!0);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];var o=Gr(e,[this].concat(n));return this[t]=function(){return o},Yr(this,o.getEventHash()),o}},Xr=function(){function t(e){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),It(this),delete this.trigger,xt(this,this.constructor.defaultState),qr(e,this.name),this.dispose=vt(this,this.dispose),e.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(t){return void 0===t&&(t={}),t.name=this.name,t.plugin=this.constructor,t.instance=this,t},e.trigger=function(t,e){return void 0===e&&(e={}),ht(this.eventBusEl_,t,this.getEventHash(e))},e.handleStateChanged=function(t){},e.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e.activePlugins_[t]=!1,this.player=this.state=null,e[t]=Kr(t,Wr[t])},t.isBasic=function(e){var i="string"==typeof e?$r(e):e;return"function"==typeof i&&!t.prototype.isPrototypeOf(i.prototype)},t.registerPlugin=function(e,i){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(zr(e))r.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Vr.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof i)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof i+".");return Wr[e]=i,"plugin"!==e&&(t.isBasic(i)?Vr.prototype[e]=function(t,e){var i=function(){Yr(this,{name:t,plugin:e,instance:null},!0);var i=e.apply(this,arguments);return qr(this,t),Yr(this,{name:t,plugin:e,instance:i}),i};return Object.keys(e).forEach((function(t){i[t]=e[t]})),i}(e,i):Vr.prototype[e]=Kr(e,i)),i},t.deregisterPlugin=function(t){if("plugin"===t)throw new Error("Cannot de-register base plugin.");zr(t)&&(delete Wr[t],delete Vr.prototype[t])},t.getPlugins=function(t){var e;return void 0===t&&(t=Object.keys(Wr)),t.forEach((function(t){var i=$r(t);i&&((e=e||{})[t]=i)})),e},t.getPluginVersion=function(t){var e=$r(t);return e&&e.VERSION||""},t}();Xr.getPlugin=$r,Xr.BASE_PLUGIN_NAME="plugin",Xr.registerPlugin("plugin",Xr),Vr.prototype.usingPlugin=function(t){return!!this.activePlugins_&&!0===this.activePlugins_[t]},Vr.prototype.hasPlugin=function(t){return!!zr(t)};var Zr=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jr(t,e)},Qr=function(t){return 0===t.indexOf("#")?t.slice(1):t};function Jr(t,e,i){var n=Jr.getPlayer(t);if(n)return e&&r.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&n.ready(i),n;var o="string"==typeof t?$("#"+Qr(t)):t;if(!_(o))throw new TypeError("The element or ID supplied is not valid. (videojs)");o.ownerDocument.defaultView&&o.ownerDocument.body.contains(o)||r.warn("The element supplied is not included in the DOM"),e=e||{},Jr.hooks("beforesetup").forEach((function(t){var i=t(o,Mt(e));f(i)&&!Array.isArray(i)?e=Mt(e,i):r.error("please return an object in beforesetup hooks")}));var a=Ut.getComponent("Player");return n=new a(o,e,i),Jr.hooks("setup").forEach((function(t){return t(n)})),n}if(Jr.hooks_={},Jr.hooks=function(t,e){return Jr.hooks_[t]=Jr.hooks_[t]||[],e&&(Jr.hooks_[t]=Jr.hooks_[t].concat(e)),Jr.hooks_[t]},Jr.hook=function(t,e){Jr.hooks(t,e)},Jr.hookOnce=function(t,e){Jr.hooks(t,[].concat(e).map((function(e){return function i(){return Jr.removeHook(t,i),e.apply(void 0,arguments)}})))},Jr.removeHook=function(t,e){var i=Jr.hooks(t).indexOf(e);return!(i<=-1||(Jr.hooks_[t]=Jr.hooks_[t].slice(),Jr.hooks_[t].splice(i,1),0))},!0!==t.VIDEOJS_NO_DYNAMIC_STYLE&&y()){var to=$(".vjs-styles-defaults");if(!to){to=tt("vjs-styles-defaults");var eo=$("head");eo&&eo.insertBefore(to,eo.firstChild),et(to,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}function io(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}Z(1,Jr),Jr.VERSION="7.10.2",Jr.options=Vr.prototype.options_,Jr.getPlayers=function(){return Vr.players},Jr.getPlayer=function(t){var e,i=Vr.players;if("string"==typeof t){var n=Qr(t),r=i[n];if(r)return r;e=$("#"+n)}else e=t;if(_(e)){var o=e,a=o.player,s=o.playerId;if(a||i[s])return a||i[s]}},Jr.getAllPlayers=function(){return Object.keys(Vr.players).map((function(t){return Vr.players[t]})).filter(Boolean)},Jr.players=Vr.players,Jr.getComponent=Ut.getComponent,Jr.registerComponent=function(t,e){Bi.isTech(e)&&r.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),Ut.registerComponent.call(Ut,t,e)},Jr.getTech=Bi.getTech,Jr.registerTech=Bi.registerTech,Jr.use=function(t,e){ji[t]=ji[t]||[],ji[t].push(e)},Object.defineProperty(Jr,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Jr.middleware,"TERMINATOR",{value:Gi,writeable:!1,enumerable:!0}),Jr.browser=ue,Jr.TOUCH_ENABLED=ne,Jr.extend=function(t,e){void 0===e&&(e={});var i=function(){t.apply(this,arguments)},n={};for(var r in"object"==typeof e?(e.constructor!==Object.prototype.constructor&&(i=e.constructor),n=e):"function"==typeof e&&(i=e),Zr(i,t),t&&(i.super_=t),n)n.hasOwnProperty(r)&&(i.prototype[r]=n[r]);return i},Jr.mergeOptions=Mt,Jr.bind=vt,Jr.registerPlugin=Xr.registerPlugin,Jr.deregisterPlugin=Xr.deregisterPlugin,Jr.plugin=function(t,e){return r.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Xr.registerPlugin(t,e)},Jr.getPlugins=Xr.getPlugins,Jr.getPlugin=Xr.getPlugin,Jr.getPluginVersion=Xr.getPluginVersion,Jr.addLanguage=function(t,e){var i;return t=(""+t).toLowerCase(),Jr.options.languages=Mt(Jr.options.languages,((i={})[t]=e,i)),Jr.options.languages[t]},Jr.log=r,Jr.createLogger=o,Jr.createTimeRange=Jr.createTimeRanges=de,Jr.formatTime=pn,Jr.setFormatTime=function(t){fn=t},Jr.resetFormatTime=function(){fn=hn},Jr.parseUrl=Ge,Jr.isCrossOrigin=$e,Jr.EventTarget=_t,Jr.on=ct,Jr.one=ft,Jr.off=dt,Jr.trigger=ht,Jr.xhr=Xe,Jr.TextTrack=ni,Jr.AudioTrack=ri,Jr.VideoTrack=oi,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(t){Jr[t]=function(){return r.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),Y[t].apply(null,arguments)}})),Jr.computedStyle=g,Jr.dom=Y,Jr.url=qe,Jr.defineLazyProperty=Rr;var no=io(s((function(t,e){var i,n,r,o,a;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),!(e=e.trim())){if(!i.alwaysNormalize)return t;var r=a.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=a.normalizePath(r.path),a.buildURLFromParts(r)}var o=a.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return i.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=n.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(d)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=i.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=a}))),ro=io(t),oo=function(t,e){return/^[a-z]+:/i.test(e)?e:(/\/\//i.test(t)||(t=no.default.buildAbsoluteURL(ro.default.location&&ro.default.location.href||"",t)),no.default.buildAbsoluteURL(t,e))},ao=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var i=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(i,1),i>-1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=e.length,a=0;a<o;++a)e[a].apply(this,r)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}();function so(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var uo=so(t),lo=function(t){for(var i,n=(i=t,uo.default.atob?uo.default.atob(i):e.from(i,"base64").toString("binary")),r=new Uint8Array(n.length),o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r},co=function(t){function e(){var e;return(e=t.call(this)||this).buffer="",e}return jt(e,t),e.prototype.push=function(t){var e;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},e}(ao),ho=function(t){for(var e,i=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),n={},r=i.length;r--;)""!==i[r]&&((e=/([^=]*)=(.*)/.exec(i[r]).slice(1))[0]=e[0].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^\s+|\s+$/g,""),e[1]=e[1].replace(/^['"](.*)['"]$/g,"$1"),n[e[0]]=e[1]);return n},fo=function(t){function e(){var e;return(e=t.call(this)||this).customParsers=[],e.tagMappers=[],e}jt(e,t);var i=e.prototype;return i.push=function(t){var e,i,n=this;0!==(t=t.trim()).length&&("#"===t[0]?this.tagMappers.reduce((function(e,i){var n=i(t);return n===t?e:e.concat([n])}),[t]).forEach((function(t){for(var r=0;r<n.customParsers.length;r++)if(n.customParsers[r].call(n,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))n.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return i={type:"tag",tagType:"inf"},e[1]&&(i.duration=parseFloat(e[1])),e[2]&&(i.title=e[2]),void n.trigger("data",i);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return i={type:"tag",tagType:"targetduration"},e[1]&&(i.duration=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return i={type:"tag",tagType:"totalduration"},e[1]&&(i.duration=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return i={type:"tag",tagType:"version"},e[1]&&(i.version=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return i={type:"tag",tagType:"media-sequence"},e[1]&&(i.number=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return i={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(i.number=parseInt(e[1],10)),void n.trigger("data",i);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return i={type:"tag",tagType:"playlist-type"},e[1]&&(i.playlistType=e[1]),void n.trigger("data",i);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return i={type:"tag",tagType:"byterange"},e[1]&&(i.length=parseInt(e[1],10)),e[2]&&(i.offset=parseInt(e[2],10)),void n.trigger("data",i);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return i={type:"tag",tagType:"allow-cache"},e[1]&&(i.allowed=!/NO/.test(e[1])),void n.trigger("data",i);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(i={type:"tag",tagType:"map"},e[1]){var o=ho(e[1]);if(o.URI&&(i.uri=o.URI),o.BYTERANGE){var a=o.BYTERANGE.split("@"),s=a[0],u=a[1];i.byterange={},s&&(i.byterange.length=parseInt(s,10)),u&&(i.byterange.offset=parseInt(u,10))}}n.trigger("data",i)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(i={type:"tag",tagType:"stream-inf"},e[1]){if(i.attributes=ho(e[1]),i.attributes.RESOLUTION){var l=i.attributes.RESOLUTION.split("x"),c={};l[0]&&(c.width=parseInt(l[0],10)),l[1]&&(c.height=parseInt(l[1],10)),i.attributes.RESOLUTION=c}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}n.trigger("data",i)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return i={type:"tag",tagType:"media"},e[1]&&(i.attributes=ho(e[1])),void n.trigger("data",i);if(e=/^#EXT-X-ENDLIST/.exec(t))n.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t))n.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))return i={type:"tag",tagType:"program-date-time"},e[1]&&(i.dateTimeString=e[1],i.dateTimeObject=new Date(e[1])),void n.trigger("data",i);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t))return i={type:"tag",tagType:"key"},e[1]&&(i.attributes=ho(e[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void n.trigger("data",i);if(e=/^#EXT-X-START:?(.*)$/.exec(t))return i={type:"tag",tagType:"start"},e[1]&&(i.attributes=ho(e[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),void n.trigger("data",i);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))return i={type:"tag",tagType:"cue-out-cont"},e[1]?i.data=e[1]:i.data="",void n.trigger("data",i);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))return i={type:"tag",tagType:"cue-out"},e[1]?i.data=e[1]:i.data="",void n.trigger("data",i);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))return i={type:"tag",tagType:"cue-in"},e[1]?i.data=e[1]:i.data="",void n.trigger("data",i);n.trigger("data",{type:"tag",data:t.slice(4)})}}}else n.trigger("data",{type:"comment",text:t.slice(1)})})):this.trigger("data",{type:"uri",uri:t}))},i.addParser=function(t){var e=this,i=t.expression,n=t.customType,r=t.dataParser,o=t.segment;"function"!=typeof r&&(r=function(t){return t}),this.customParsers.push((function(t){if(i.exec(t))return e.trigger("data",{type:"custom",data:r(t),customType:n,segment:o}),!0}))},i.addTagMapper=function(t){var e=t.expression,i=t.map;this.tagMappers.push((function(t){return e.test(t)?i(t):t}))},e}(ao),po=function(t){function e(){var e;(e=t.call(this)||this).lineStream=new co,e.parseStream=new fo,e.lineStream.pipe(e.parseStream);var i,n,r=Vt(e),o=[],a={},s=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c=0;e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var d=0;return e.parseStream.on("data",(function(t){var e,h;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(a.byterange=e,e.length=t.length,"offset"in t||(t.offset=d)),"offset"in t&&(a.byterange=e,e.offset=t.offset),d=e.offset+e.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(a.duration=t.duration),0===t.duration&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=o},key:function(){if(t.attributes)if("NONE"!==t.attributes.METHOD)if(t.attributes.URI){if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===t.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(t.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===t.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==t.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):t.attributes.KEYID&&"0x"===t.attributes.KEYID.substring(0,2)?void(this.manifest.contentProtection={"com.widevine.alpha":{attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:lo(t.attributes.URI.split(",")[1])}}):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),n={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(n.iv=t.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else n=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,c=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){i={},t.uri&&(i.uri=t.uri),t.byterange&&(i.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=o,this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes?(a.attributes||(a.attributes={}),u(a.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var i=this.manifest.mediaGroups[t.attributes.TYPE];i[t.attributes["GROUP-ID"]]=i[t.attributes["GROUP-ID"]]||{},e=i[t.attributes["GROUP-ID"]],(h={default:/yes/i.test(t.attributes.DEFAULT)}).default?h.autoselect=!0:h.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(h.language=t.attributes.LANGUAGE),t.attributes.URI&&(h.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(h.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(h.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(h.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=h}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){c+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(o.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),a.dateTimeString=t.dateTimeString,a.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){a.cueOut=t.data},"cue-out-cont":function(){a.cueOutCont=t.data},"cue-in":function(){a.cueIn=t.data}}[t.tagType]||s).call(r)},uri:function(){a.uri=t.uri,o.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),n&&(a.key=n),a.timeline=c,i&&(a.map=i),a={}},comment:function(){},custom:function(){t.segment?(a.custom=a.custom||{},a.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(r)})),e}jt(e,t);var i=e.prototype;return i.push=function(t){this.lineStream.push(t)},i.end=function(){this.lineStream.push("\n")},i.addParser=function(t){this.parseStream.addParser(t)},i.addTagMapper=function(t){this.parseStream.addTagMapper(t)},e}(ao),go=s((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,n=/^application\/dash\+xml/i;e.simpleTypeFromSourceType=function(t){return i.test(t)?"hls":n.test(t)?"dash":"application/vnd.videojs.vhs+json"===t?"vhs-json":null}}));a(go);var mo=go.simpleTypeFromSourceType,vo=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,yo=new RegExp("[\\-\\.0-9"+vo.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),_o=new RegExp("^"+vo.source+yo.source+"*(?::"+vo.source+yo.source+"*)?$");function bo(){}function To(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function wo(t,e,i,n,r,o){for(var a,s=++e,u=0;;){var l=t.charAt(s);switch(l){case"=":if(1===u)a=t.slice(e,s),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(o.warning('attribute value must after "="'),a=t.slice(e,s)),e=s+1,!((s=t.indexOf(l,e))>0))throw new Error("attribute value no end '"+l+"' match");c=t.slice(e,s).replace(/&#?\w+;/g,r),i.add(a,c,e-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');c=t.slice(e,s).replace(/&#?\w+;/g,r),i.add(a,c,e),o.warning('attribute "'+a+'" missed start quot('+l+")!!"),e=s+1,u=5}break;case"/":switch(u){case 0:i.setTagName(t.slice(e,s));case 5:case 6:case 7:u=7,i.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return o.error("unexpected end of input"),0==u&&i.setTagName(t.slice(e,s)),s;case">":switch(u){case 0:i.setTagName(t.slice(e,s));case 5:case 6:case 7:break;case 4:case 1:"/"===(c=t.slice(e,s)).slice(-1)&&(i.closed=!0,c=c.slice(0,-1));case 2:2===u&&(c=a),4==u?(o.warning('attribute "'+c+'" missed quot(")!!'),i.add(a,c.replace(/&#?\w+;/g,r),e)):("http://www.w3.org/1999/xhtml"===n[""]&&c.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),i.add(c,c,e));break;case 3:throw new Error("attribute value missed!!")}return s;case"":l=" ";default:if(l<=" ")switch(u){case 0:i.setTagName(t.slice(e,s)),u=6;break;case 1:a=t.slice(e,s),u=2;break;case 4:var c=t.slice(e,s).replace(/&#?\w+;/g,r);o.warning('attribute "'+c+'" missed quot(")!!'),i.add(a,c,e);case 5:u=6}else switch(u){case 2:i.tagName,"http://www.w3.org/1999/xhtml"===n[""]&&a.match(/^(?:disabled|checked|selected)$/i)||o.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),i.add(a,a,e),e=s,u=1;break;case 5:o.warning('attribute space is required"'+a+'"!!');case 6:u=1,e=s;break;case 3:u=4,e=s;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}s++}}function So(t,e,i){for(var n=t.tagName,r=null,o=t.length;o--;){var a=t[o],s=a.qName,u=a.value;if((h=s.indexOf(":"))>0)var l=a.prefix=s.slice(0,h),c=s.slice(h+1),d="xmlns"===l&&c;else c=s,l=null,d="xmlns"===s&&"";a.localName=c,!1!==d&&(null==r&&(r={},Co(i,i={})),i[d]=r[d]=u,a.uri="http://www.w3.org/2000/xmlns/",e.startPrefixMapping(d,u))}for(o=t.length;o--;)(l=(a=t[o]).prefix)&&("xml"===l&&(a.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==l&&(a.uri=i[l||""]));var h;(h=n.indexOf(":"))>0?(l=t.prefix=n.slice(0,h),c=t.localName=n.slice(h+1)):(l=null,c=t.localName=n);var f=t.uri=i[l||""];if(e.startElement(f,c,n,t),!t.closed)return t.currentNSMap=i,t.localNSMap=r,!0;if(e.endElement(f,c,n),r)for(l in r)e.endPrefixMapping(l)}function Eo(t,e,i,n,r){if(/^(?:script|textarea)$/i.test(i)){var o=t.indexOf("</"+i+">",e),a=t.substring(e+1,o);if(/[&<]/.test(a))return/^script$/i.test(i)?(r.characters(a,0,a.length),o):(a=a.replace(/&#?\w+;/g,n),r.characters(a,0,a.length),o)}return e+1}function Ao(t,e,i,n){var r=n[i];return null==r&&((r=t.lastIndexOf("</"+i+">"))<e&&(r=t.lastIndexOf("</"+i)),n[i]=r),r<e}function Co(t,e){for(var i in t)e[i]=t[i]}function Po(t,e,i,n){switch(t.charAt(e+2)){case"-":return"-"===t.charAt(e+3)?(r=t.indexOf("--\x3e",e+4))>e?(i.comment(t,e+4,r-e-4),r+3):(n.error("Unclosed comment"),-1):-1;default:if("CDATA["==t.substr(e+3,6)){var r=t.indexOf("]]>",e+9);return i.startCDATA(),i.characters(t,e+9,r-e-9),i.endCDATA(),r+3}var o=function(t,e){var i,n=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);i=r.exec(t);)if(n.push(i),i[1])return n}(t,e),a=o.length;if(a>1&&/!doctype/i.test(o[0][0])){var s=o[1][0],u=a>3&&/^public$/i.test(o[2][0])&&o[3][0],l=a>4&&o[4][0],c=o[a-1];return i.startDTD(s,u&&u.replace(/^(['"])(.*?)\1$/,"$2"),l&&l.replace(/^(['"])(.*?)\1$/,"$2")),i.endDTD(),c.index+c[0].length}}return-1}function Io(t,e,i){var n=t.indexOf("?>",e);if(n){var r=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,i.processingInstruction(r[1],r[2]),n+2):-1}return-1}function Oo(t){}function xo(t,e){return t.__proto__=e,t}bo.prototype={parse:function(t,e,i){var n=this.domBuilder;n.startDocument(),Co(e,e={}),function(t,e,i,n,r){function o(t){var e=t.slice(1,-1);return e in i?i[e]:"#"===e.charAt(0)?function(t){if(t>65535){var e=55296+((t-=65536)>>10),i=56320+(1023&t);return String.fromCharCode(e,i)}return String.fromCharCode(t)}(parseInt(e.substr(1).replace("x","0x"))):(r.error("entity not found:"+t),t)}function a(e){if(e>p){var i=t.substring(p,e).replace(/&#?\w+;/g,o);d&&s(p),n.characters(i,0,e-p),p=e}}function s(e,i){for(;e>=l&&(i=c.exec(t));)u=i.index,l=u+i[0].length,d.lineNumber++;d.columnNumber=e-u+1}for(var u=0,l=0,c=/.*(?:\r\n?|\n)|.*$/g,d=n.locator,h=[{currentNSMap:e}],f={},p=0;;){try{var g=t.indexOf("<",p);if(g<0){if(!t.substr(p).match(/^\s*$/)){var m=n.doc,v=m.createTextNode(t.substr(p));m.appendChild(v),n.currentElement=v}return}switch(g>p&&a(g),t.charAt(g+1)){case"/":var y=t.indexOf(">",g+3),_=t.substring(g+2,y),b=h.pop();y<0?(_=t.substring(g+2).replace(/[\s<].*/,""),r.error("end tag name: "+_+" is not complete:"+b.tagName),y=g+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),r.error("end tag name: "+_+" maybe not complete"),y=g+1+_.length);var T=b.localNSMap,w=b.tagName==_;if(w||b.tagName&&b.tagName.toLowerCase()==_.toLowerCase()){if(n.endElement(b.uri,b.localName,_),T)for(var S in T)n.endPrefixMapping(S);w||r.fatalError("end tag name: "+_+" is not match the current start tagName:"+b.tagName)}else h.push(b);y++;break;case"?":d&&s(g),y=Io(t,g,n);break;case"!":d&&s(g),y=Po(t,g,n,r);break;default:d&&s(g);var E=new Oo,A=h[h.length-1].currentNSMap,C=(y=wo(t,g,E,A,o,r),E.length);if(!E.closed&&Ao(t,y,E.tagName,f)&&(E.closed=!0,i.nbsp||r.warning("unclosed xml attribute")),d&&C){for(var P=To(d,{}),I=0;I<C;I++){var O=E[I];s(O.offset),O.locator=To(d,{})}n.locator=P,So(E,n,A)&&h.push(E),n.locator=d}else So(E,n,A)&&h.push(E);"http://www.w3.org/1999/xhtml"!==E.uri||E.closed?y++:y=Eo(t,y,E.tagName,o,n)}}catch(t){r.error("element parse error: "+t),y=-1}y>p?p=y:a(Math.max(g,p)+1)}}(t,e,i,n,this.errorHandler),n.endDocument()}},Oo.prototype={setTagName:function(t){if(!_o.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},add:function(t,e,i){if(!_o.test(t))throw new Error("invalid attribute:"+t);this[this.length++]={qName:t,value:e,offset:i}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},xo({},xo.prototype)instanceof xo||(xo=function(t,e){function i(){}for(e in i.prototype=e,i=new i,t)i[e]=t[e];return i});var ko={XMLReader:bo};function Ro(t,e){for(var i in t)e[i]=t[i]}function Mo(t,e){var i=t.prototype;if(Object.create){var n=Object.create(e.prototype);i.__proto__=n}if(!(i instanceof e)){var r=function(){};r.prototype=e.prototype,Ro(i,r=new r),t.prototype=i=r}i.constructor!=t&&("function"!=typeof t&&console.error("unknow Class:"+t),i.constructor=t)}var Lo={},Do=Lo.ELEMENT_NODE=1,No=Lo.ATTRIBUTE_NODE=2,Fo=Lo.TEXT_NODE=3,Uo=Lo.CDATA_SECTION_NODE=4,Vo=Lo.ENTITY_REFERENCE_NODE=5,Bo=Lo.ENTITY_NODE=6,jo=Lo.PROCESSING_INSTRUCTION_NODE=7,Ho=Lo.COMMENT_NODE=8,Go=Lo.DOCUMENT_NODE=9,Wo=Lo.DOCUMENT_TYPE_NODE=10,zo=Lo.DOCUMENT_FRAGMENT_NODE=11,$o=Lo.NOTATION_NODE=12,qo={},Yo={},Ko=(qo.INDEX_SIZE_ERR=(Yo[1]="Index size error",1),qo.DOMSTRING_SIZE_ERR=(Yo[2]="DOMString size error",2),qo.HIERARCHY_REQUEST_ERR=(Yo[3]="Hierarchy request error",3)),Xo=(qo.WRONG_DOCUMENT_ERR=(Yo[4]="Wrong document",4),qo.INVALID_CHARACTER_ERR=(Yo[5]="Invalid character",5),qo.NO_DATA_ALLOWED_ERR=(Yo[6]="No data allowed",6),qo.NO_MODIFICATION_ALLOWED_ERR=(Yo[7]="No modification allowed",7),qo.NOT_FOUND_ERR=(Yo[8]="Not found",8)),Zo=(qo.NOT_SUPPORTED_ERR=(Yo[9]="Not supported",9),qo.INUSE_ATTRIBUTE_ERR=(Yo[10]="Attribute in use",10));function Qo(t,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,Yo[t]),this.message=Yo[t],Error.captureStackTrace&&Error.captureStackTrace(this,Qo);return i.code=t,e&&(this.message=this.message+": "+e),i}function Jo(){}function ta(t,e){this._node=t,this._refresh=e,ea(this)}function ea(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var i=t._refresh(t._node);ka(t,"length",i.length),Ro(i,t),t._inc=e}}function ia(){}function na(t,e){for(var i=t.length;i--;)if(t[i]===e)return i}function ra(t,e,i,n){if(n?e[na(e,n)]=i:e[e.length++]=i,t){i.ownerElement=t;var r=t.ownerDocument;r&&(n&&da(r,t,n),function(t,e,i){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==i.namespaceURI&&(e._nsMap[i.prefix?i.localName:""]=i.value)}(r,t,i))}}function oa(t,e,i){var n=na(e,i);if(!(n>=0))throw Qo(Xo,new Error(t.tagName+"@"+i));for(var r=e.length-1;n<r;)e[n]=e[++n];if(e.length=r,t){var o=t.ownerDocument;o&&(da(o,t,i),i.ownerElement=null)}}function aa(t){if(this._features={},t)for(var e in t)this._features=t[e]}function sa(){}function ua(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function la(t,e){if(e(t))return!0;if(t=t.firstChild)do{if(la(t,e))return!0}while(t=t.nextSibling)}function ca(){}function da(t,e,i,n){t&&t._inc++,"http://www.w3.org/2000/xmlns/"==i.namespaceURI&&delete e._nsMap[i.prefix?i.localName:""]}function ha(t,e,i){if(t&&t._inc){t._inc++;var n=e.childNodes;if(i)n[n.length++]=i;else{for(var r=e.firstChild,o=0;r;)n[o++]=r,r=r.nextSibling;n.length=o}}}function fa(t,e){var i=e.previousSibling,n=e.nextSibling;return i?i.nextSibling=n:t.firstChild=n,n?n.previousSibling=i:t.lastChild=i,ha(t.ownerDocument,t),e}function pa(t,e,i){var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===zo){var r=e.firstChild;if(null==r)return e;var o=e.lastChild}else r=o=e;var a=i?i.previousSibling:t.lastChild;r.previousSibling=a,o.nextSibling=i,a?a.nextSibling=r:t.firstChild=r,null==i?t.lastChild=o:i.previousSibling=o;do{r.parentNode=t}while(r!==o&&(r=r.nextSibling));return ha(t.ownerDocument||t,t),e.nodeType==zo&&(e.firstChild=e.lastChild=null),e}function ga(){this._nsMap={}}function ma(){}function va(){}function ya(){}function _a(){}function ba(){}function Ta(){}function wa(){}function Sa(){}function Ea(){}function Aa(){}function Ca(){}function Pa(){}function Ia(t,e){var i=[],n=9==this.nodeType?this.documentElement:this,r=n.prefix,o=n.namespaceURI;if(o&&null==r&&null==(r=n.lookupPrefix(o)))var a=[{namespace:o,prefix:null}];return xa(this,i,t,e,a),i.join("")}function Oa(t,e,i){var n=t.prefix||"",r=t.namespaceURI;if(!n&&!r)return!1;if("xml"===n&&"http://www.w3.org/XML/1998/namespace"===r||"http://www.w3.org/2000/xmlns/"==r)return!1;for(var o=i.length;o--;){var a=i[o];if(a.prefix==n)return a.namespace!=r}return!0}function xa(t,e,i,n,r){if(n){if(!(t=n(t)))return;if("string"==typeof t)return void e.push(t)}switch(t.nodeType){case Do:r||(r=[]),r.length;var o=t.attributes,a=o.length,s=t.firstChild,u=t.tagName;i="http://www.w3.org/1999/xhtml"===t.namespaceURI||i,e.push("<",u);for(var l=0;l<a;l++)"xmlns"==(c=o.item(l)).prefix?r.push({prefix:c.localName,namespace:c.value}):"xmlns"==c.nodeName&&r.push({prefix:"",namespace:c.value});for(l=0;l<a;l++){var c;if(Oa(c=o.item(l),0,r)){var d=c.prefix||"",h=c.namespaceURI,f=d?" xmlns:"+d:" xmlns";e.push(f,'="',h,'"'),r.push({prefix:d,namespace:h})}xa(c,e,i,n,r)}if(Oa(t,0,r)&&(d=t.prefix||"",h=t.namespaceURI,f=d?" xmlns:"+d:" xmlns",e.push(f,'="',h,'"'),r.push({prefix:d,namespace:h})),s||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(u)){if(e.push(">"),i&&/^script$/i.test(u))for(;s;)s.data?e.push(s.data):xa(s,e,i,n,r),s=s.nextSibling;else for(;s;)xa(s,e,i,n,r),s=s.nextSibling;e.push("</",u,">")}else e.push("/>");return;case Go:case zo:for(s=t.firstChild;s;)xa(s,e,i,n,r),s=s.nextSibling;return;case No:return e.push(" ",t.name,'="',t.value.replace(/[<&"]/g,ua),'"');case Fo:return e.push(t.data.replace(/[<&]/g,ua));case Uo:return e.push("<![CDATA[",t.data,"]]>");case Ho:return e.push("\x3c!--",t.data,"--\x3e");case Wo:var p=t.publicId,g=t.systemId;if(e.push("<!DOCTYPE ",t.name),p)e.push(' PUBLIC "',p),g&&"."!=g&&e.push('" "',g),e.push('">');else if(g&&"."!=g)e.push(' SYSTEM "',g,'">');else{var m=t.internalSubset;m&&e.push(" [",m,"]"),e.push(">")}return;case jo:return e.push("<?",t.target," ",t.data,"?>");case Vo:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function ka(t,e,i){t[e]=i}qo.INVALID_STATE_ERR=(Yo[11]="Invalid state",11),qo.SYNTAX_ERR=(Yo[12]="Syntax error",12),qo.INVALID_MODIFICATION_ERR=(Yo[13]="Invalid modification",13),qo.NAMESPACE_ERR=(Yo[14]="Invalid namespace",14),qo.INVALID_ACCESS_ERR=(Yo[15]="Invalid access",15),Qo.prototype=Error.prototype,Ro(qo,Qo),Jo.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var i=[],n=0;n<this.length;n++)xa(this[n],i,t,e);return i.join("")}},ta.prototype.item=function(t){return ea(this),this[t]},Mo(ta,Jo),ia.prototype={length:0,item:Jo.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var i=this[e];if(i.nodeName==t)return i}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Qo(Zo);var i=this.getNamedItem(t.nodeName);return ra(this._ownerElement,this,t,i),i},setNamedItemNS:function(t){var e,i=t.ownerElement;if(i&&i!=this._ownerElement)throw new Qo(Zo);return e=this.getNamedItemNS(t.namespaceURI,t.localName),ra(this._ownerElement,this,t,e),e},removeNamedItem:function(t){var e=this.getNamedItem(t);return oa(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var i=this.getNamedItemNS(t,e);return oa(this._ownerElement,this,i),i},getNamedItemNS:function(t,e){for(var i=this.length;i--;){var n=this[i];if(n.localName==e&&n.namespaceURI==t)return n}return null}},aa.prototype={hasFeature:function(t,e){var i=this._features[t.toLowerCase()];return!(!i||e&&!(e in i))},createDocument:function(t,e,i){var n=new ca;if(n.implementation=this,n.childNodes=new Jo,n.doctype=i,i&&n.appendChild(i),e){var r=n.createElementNS(t,e);n.appendChild(r)}return n},createDocumentType:function(t,e,i){var n=new Ta;return n.name=t,n.nodeName=t,n.publicId=e,n.systemId=i,n}},sa.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return pa(this,t,e)},replaceChild:function(t,e){this.insertBefore(t,e),e&&this.removeChild(e)},removeChild:function(t){return fa(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,i,n){var r=new i.constructor;for(var o in i){var a=i[o];"object"!=typeof a&&a!=r[o]&&(r[o]=a)}switch(i.childNodes&&(r.childNodes=new Jo),r.ownerDocument=e,r.nodeType){case Do:var s=i.attributes,u=r.attributes=new ia,l=s.length;u._ownerElement=r;for(var c=0;c<l;c++)r.setAttributeNode(t(e,s.item(c),!0));break;case No:n=!0}if(n)for(var d=i.firstChild;d;)r.appendChild(t(e,d,n)),d=d.nextSibling;return r}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Fo&&t.nodeType==Fo?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var i=e._nsMap;if(i)for(var n in i)if(i[n]==t)return n;e=e.nodeType==No?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var i=e._nsMap;if(i&&t in i)return i[t];e=e.nodeType==No?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)}},Ro(Lo,sa),Ro(Lo,sa.prototype),ca.prototype={nodeName:"#document",nodeType:Go,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==zo){for(var i=t.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,e),i=n}return t}return null==this.documentElement&&t.nodeType==Do&&(this.documentElement=t),pa(this,t,e),t.ownerDocument=this,t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),fa(this,t)},importNode:function(t,e){return function t(e,i,n){var r;switch(i.nodeType){case Do:(r=i.cloneNode(!1)).ownerDocument=e;case zo:break;case No:n=!0}if(r||(r=i.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var o=i.firstChild;o;)r.appendChild(t(e,o,n)),o=o.nextSibling;return r}(this,t,e)},getElementById:function(t){var e=null;return la(this.documentElement,(function(i){if(i.nodeType==Do&&i.getAttribute("id")==t)return e=i,!0})),e},createElement:function(t){var e=new ga;return e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.childNodes=new Jo,(e.attributes=new ia)._ownerElement=e,e},createDocumentFragment:function(){var t=new Aa;return t.ownerDocument=this,t.childNodes=new Jo,t},createTextNode:function(t){var e=new ya;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new _a;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new ba;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var i=new Ca;return i.ownerDocument=this,i.tagName=i.target=t,i.nodeValue=i.data=e,i},createAttribute:function(t){var e=new ma;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Ea;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var i=new ga,n=e.split(":"),r=i.attributes=new ia;return i.childNodes=new Jo,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=t,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=e,r._ownerElement=i,i},createAttributeNS:function(t,e){var i=new ma,n=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=t,i.specified=!0,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=e,i}},Mo(ca,sa),ga.prototype={nodeType:Do,hasAttribute:function(t){return null!=this.getAttributeNode(t)},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var i=this.ownerDocument.createAttribute(t);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===zo?this.insertBefore(t,null):function(t,e){var i=e.parentNode;if(i){var n=t.lastChild;i.removeChild(e),n=t.lastChild}return n=t.lastChild,e.parentNode=t,e.previousSibling=n,e.nextSibling=null,n?n.nextSibling=e:t.firstChild=e,t.lastChild=e,ha(t.ownerDocument,t,e),e}(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);return i&&i.value||""},setAttributeNS:function(t,e,i){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+i,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new ta(this,(function(e){var i=[];return la(e,(function(n){n===e||n.nodeType!=Do||"*"!==t&&n.tagName!=t||i.push(n)})),i}))},getElementsByTagNameNS:function(t,e){return new ta(this,(function(i){var n=[];return la(i,(function(r){r===i||r.nodeType!==Do||"*"!==t&&r.namespaceURI!==t||"*"!==e&&r.localName!=e||n.push(r)})),n}))}},ca.prototype.getElementsByTagName=ga.prototype.getElementsByTagName,ca.prototype.getElementsByTagNameNS=ga.prototype.getElementsByTagNameNS,Mo(ga,sa),ma.prototype.nodeType=No,Mo(ma,sa),va.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Yo[Ko])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,i){i=this.data.substring(0,t)+i+this.data.substring(t+e),this.nodeValue=this.data=i,this.length=i.length}},Mo(va,sa),ya.prototype={nodeName:"#text",nodeType:Fo,splitText:function(t){var e=this.data,i=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},Mo(ya,va),_a.prototype={nodeName:"#comment",nodeType:Ho},Mo(_a,va),ba.prototype={nodeName:"#cdata-section",nodeType:Uo},Mo(ba,va),Ta.prototype.nodeType=Wo,Mo(Ta,sa),wa.prototype.nodeType=$o,Mo(wa,sa),Sa.prototype.nodeType=Bo,Mo(Sa,sa),Ea.prototype.nodeType=Vo,Mo(Ea,sa),Aa.prototype.nodeName="#document-fragment",Aa.prototype.nodeType=zo,Mo(Aa,sa),Ca.prototype.nodeType=jo,Mo(Ca,sa),Pa.prototype.serializeToString=function(t,e,i){return Ia.call(t,e,i)},sa.prototype.toString=Ia;try{Object.defineProperty&&(Object.defineProperty(ta.prototype,"length",{get:function(){return ea(this),this.$$length}}),Object.defineProperty(sa.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case Do:case zo:var i=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&i.push(t(e)),e=e.nextSibling;return i.join("");default:return e.nodeValue}}(this)},set:function(t){switch(this.nodeType){case Do:case zo:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),ka=function(t,e,i){t["$$"+e]=i})}catch(t){}var Ra={DOMImplementation:aa,XMLSerializer:Pa},Ma=s((function(t,e){function i(t){this.options=t||{locator:{}}}function n(){this.cdata=!1}function r(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function o(t){if(t)return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function a(t,e,i){return"string"==typeof t?t.substr(e,i):t.length>=e+i||e?new java.lang.String(t,e,i)+"":t}function s(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}i.prototype.parseFromString=function(t,e){var i=this.options,r=new u,a=i.domBuilder||new n,s=i.errorHandler,l=i.locator,c=i.xmlns||{},d={lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return l&&a.setDocumentLocator(l),r.errorHandler=function(t,e,i){if(!t){if(e instanceof n)return e;t=e}var r={},a=t instanceof Function;function s(e){var n=t[e];!n&&a&&(n=2==t.length?function(i){t(e,i)}:t),r[e]=n&&function(t){n("[xmldom "+e+"]\t"+t+o(i))}||function(){}}return i=i||{},s("warning"),s("error"),s("fatalError"),r}(s,a,l),r.domBuilder=i.domBuilder||a,/\/x?html?$/.test(e)&&(d.nbsp=" ",d.copy="©",c[""]="http://www.w3.org/1999/xhtml"),c.xml=c.xml||"http://www.w3.org/XML/1998/namespace",t?r.parse(t,c,d):r.errorHandler.error("invalid doc source"),a.doc},n.prototype={startDocument:function(){this.doc=(new l).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,i,n){var o=this.doc,a=o.createElementNS(t,i||e),u=n.length;s(this,a),this.currentElement=a,this.locator&&r(this.locator,a);for(var l=0;l<u;l++){t=n.getURI(l);var c=n.getValue(l),d=(i=n.getQName(l),o.createAttributeNS(t,i));this.locator&&r(n.getLocator(l),d),d.value=d.nodeValue=c,a.setAttributeNode(d)}},endElement:function(t,e,i){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var i=this.doc.createProcessingInstruction(t,e);this.locator&&r(this.locator,i),s(this,i)},ignorableWhitespace:function(t,e,i){},characters:function(t,e,i){if(t=a.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(t);else n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&r(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,i){t=a.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&r(this.locator,n),s(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var o=n.createDocumentType(t,e,i);this.locator&&r(this.locator,o),s(this,o)}},warning:function(t){console.warn("[xmldom warning]\t"+t,o(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,o(this.locator))},fatalError:function(t){throw console.error("[xmldom fatalError]\t"+t,o(this.locator)),t}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){n.prototype[t]=function(){return null}}));var u=ko.XMLReader,l=e.DOMImplementation=Ra.DOMImplementation;e.XMLSerializer=Ra.XMLSerializer,e.DOMParser=i})),La=(Ma.DOMImplementation,Ma.XMLSerializer,Ma.DOMParser),Da=function(t){return!!t&&"object"==typeof t},Na=function t(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.reduce((function(e,i){return Object.keys(i).forEach((function(n){Array.isArray(e[n])&&Array.isArray(i[n])?e[n]=e[n].concat(i[n]):Da(e[n])&&Da(i[n])?e[n]=t(e[n],i[n]):e[n]=i[n]})),e}),{})},Fa=function(t){return t.reduce((function(t,e){return t.concat(e)}),[])},Ua=function(t){if(!t.length)return[];for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},Va="INVALID_NUMBER_OF_PERIOD",Ba="DASH_EMPTY_MANIFEST",ja="DASH_INVALID_XML",Ha="NO_BASE_URL",Ga="SEGMENT_TIME_UNSPECIFIED",Wa="UNSUPPORTED_UTC_TIMING_SCHEME",za=function(t){var e=t.baseUrl,i=void 0===e?"":e,n=t.source,r=void 0===n?"":n,o=t.range,a=void 0===o?"":o,s=t.indexRange,u=void 0===s?"":s,l={uri:r,resolvedUri:oo(i||"",r)};if(a||u){var c=(a||u).split("-"),d=parseInt(c[0],10),h=parseInt(c[1],10);l.byterange={length:h-d+1,offset:d}}return l},$a={static:function(t){var e=t.duration,i=t.timescale,n=void 0===i?1:i,r=t.sourceDuration;return{start:0,end:Math.ceil(r/(e/n))}},dynamic:function(t){var e=t.NOW,i=t.clientOffset,n=t.availabilityStartTime,r=t.timescale,o=void 0===r?1:r,a=t.duration,s=t.start,u=void 0===s?0:s,l=t.minimumUpdatePeriod,c=void 0===l?0:l,d=t.timeShiftBufferDepth,h=void 0===d?1/0:d,f=(e+i)/1e3,p=n+u,g=f+c-p,m=Math.ceil(g*o/a),v=Math.floor((f-p-h)*o/a),y=Math.floor((f-p)*o/a);return{start:Math.max(0,v),end:Math.min(m,y)}}},qa=function(t){var e=t.type,i=void 0===e?"static":e,n=t.duration,r=t.timescale,o=void 0===r?1:r,a=t.sourceDuration,s=$a[i](t),u=function(t,e){for(var i=[],n=t;n<e;n++)i.push(n);return i}(s.start,s.end).map(function(t){return function(e,i){var n=t.duration,r=t.timescale,o=void 0===r?1:r,a=t.periodIndex,s=t.startNumber;return{number:(void 0===s?1:s)+e,duration:n/o,timeline:a,time:i*n}}}(t));if("static"===i){var l=u.length-1;u[l].duration=a-n/o*l}return u},Ya=function(t){var e=t.baseUrl,i=t.initialization,n=void 0===i?{}:i,r=t.sourceDuration,o=t.indexRange,a=void 0===o?"":o,s=t.duration;if(!e)throw new Error(Ha);var u=za({baseUrl:e,source:n.sourceURL,range:n.range}),l=za({baseUrl:e,source:e,indexRange:a});if(l.map=u,s){var c=qa(t);c.length&&(l.duration=c[0].duration,l.timeline=c[0].timeline)}else r&&(l.duration=r,l.timeline=0);return l.number=0,[l]},Ka=function(t,e,i){for(var n=t.sidx.map?t.sidx.map:null,r=t.sidx.duration,o=t.timeline||0,a=t.sidx.byterange,s=a.offset+a.length,u=e.timescale,l=e.references.filter((function(t){return 1!==t.referenceType})),c=[],d=s+e.firstOffset,h=0;h<l.length;h++){var f=e.references[h],p=f.referencedSize,g=f.subsegmentDuration,m=Ya({baseUrl:i,timescale:u,timeline:o,periodIndex:o,duration:g,sourceDuration:r,indexRange:d+"-"+(d+p-1)})[0];n&&(m.map=n),c.push(m),d+=p}return t.segments=c,t},Xa=function(t){var e;return(e=t.reduce((function(t,e){var i,n=e.attributes.id+(e.attributes.lang||"");return t[n]?(e.segments[0]&&(e.segments[0].discontinuity=!0),(i=t[n].segments).push.apply(i,e.segments),e.attributes.contentProtection&&(t[n].attributes.contentProtection=e.attributes.contentProtection)):t[n]=e,t}),{}),Object.keys(e).map((function(t){return e[t]}))).map((function(t){var e,i;return t.discontinuityStarts=(e=t.segments,i="discontinuity",e.reduce((function(t,e,n){return e[i]&&t.push(n),t}),[])),t}))},Za=function(t,e){if(void 0===e&&(e={}),!Object.keys(e).length)return t;for(var i in t){var n=t[i];if(n.sidx){var r=n.sidx.uri+"-"+(a=n.sidx.byterange,s=void 0,s=a.offset+a.length-1,a.offset+"-"+s),o=e[r]&&e[r].sidx;n.sidx&&o&&Ka(n,o,n.sidx.resolvedUri)}}var a,s;return t},Qa=function(t){var e,i=t.attributes,n=t.segments,r=t.sidx,o={attributes:(e={NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1};return i.contentProtection&&(o.contentProtection=i.contentProtection),r&&(o.sidx=r),o},Ja=function(t){var e,i=t.attributes,n=t.segments;void 0===n&&(n=[{uri:i.baseUrl,timeline:i.periodIndex,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var r=((e={NAME:i.id,BANDWIDTH:i.bandwidth})["PROGRAM-ID"]=1,e);return i.codecs&&(r.CODECS=i.codecs),{attributes:r,uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:i.baseUrl||"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1}},ts=function(t){var e,i=t.attributes,n=t.segments,r=t.sidx,o={attributes:(e={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1};return i.contentProtection&&(o.contentProtection=i.contentProtection),r&&(o.sidx=r),o},es=function(t,e,i){var n;if(void 0===i&&(i={}),!t.length)return{};var r=t[0].attributes,o=r.sourceDuration,a=r.type,s=void 0===a?"static":a,u=r.suggestedPresentationDelay,l=r.minimumUpdatePeriod,c=Xa(t.filter((function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType}))).map(ts),d=Xa(t.filter((function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType}))),h=t.filter((function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType})),f={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(n={AUDIO:{},VIDEO:{}},n["CLOSED-CAPTIONS"]={},n.SUBTITLES={},n),uri:"",duration:o,playlists:Za(c,i)};return l>=0&&(f.minimumUpdatePeriod=1e3*l),e&&(f.locations=e),"dynamic"===s&&(f.suggestedPresentationDelay=u),d.length&&(f.mediaGroups.AUDIO.audio=function(t,e){var i;void 0===e&&(e={});var n=t.reduce((function(t,n){var r=n.attributes.role&&n.attributes.role.value||"",o=n.attributes.lang||"",a="main";if(o){var s=r?" ("+r+")":"";a=""+n.attributes.lang+s}return t[a]&&t[a].playlists[0].attributes.BANDWIDTH>n.attributes.bandwidth||(t[a]={language:o,autoselect:!0,default:"main"===r,playlists:Za([Qa(n)],e),uri:""},void 0===i&&"main"===r&&((i=n).default=!0)),t}),{});return i||(n[Object.keys(n)[0]].default=!0),n}(d,i)),h.length&&(f.mediaGroups.SUBTITLES.subs=function(t,e){return void 0===e&&(e={}),t.reduce((function(t,i){var n=i.attributes.lang||"text";return t[n]||(t[n]={language:n,default:!1,autoselect:!1,playlists:Za([Ja(i)],e),uri:""}),t}),{})}(h,i)),f},is=function(t,e,i){var n=t.NOW,r=t.clientOffset,o=t.availabilityStartTime,a=t.timescale,s=void 0===a?1:a,u=t.start,l=void 0===u?0:u,c=t.minimumUpdatePeriod,d=(n+r)/1e3+(void 0===c?0:c)-(o+l);return Math.ceil((d*s-e)/i)},ns=function(t,e){for(var i=t.type,n=void 0===i?"static":i,r=t.minimumUpdatePeriod,o=void 0===r?0:r,a=t.media,s=void 0===a?"":a,u=t.sourceDuration,l=t.timescale,c=void 0===l?1:l,d=t.startNumber,h=void 0===d?1:d,f=t.periodIndex,p=[],g=-1,m=0;m<e.length;m++){var v=e[m],y=v.d,_=v.r||0,b=v.t||0;g<0&&(g=b),b&&b>g&&(g=b);var T=void 0;if(_<0){var w=m+1;T=w===e.length?"dynamic"===n&&o>0&&s.indexOf("$Number$")>0?is(t,g,y):(u*c-g)/y:(e[w].t-g)/y}else T=_+1;for(var S=h+p.length+T,E=h+p.length;E<S;)p.push({number:E,duration:y/c,time:g,timeline:f}),g+=y,E++}return p},rs=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,os=function(t,e){return t.replace(rs,function(t){return function(e,i,n,r){if("$$"===e)return"$";if(void 0===t[i])return e;var o=""+t[i];return"RepresentationID"===i?o:(r=n?parseInt(r,10):1,o.length>=r?o:""+new Array(r-o.length+1).join("0")+o)}}(e))},as=function(t,e){var i={RepresentationID:t.id,Bandwidth:t.bandwidth||0},n=t.initialization,r=void 0===n?{sourceURL:"",range:""}:n,o=za({baseUrl:t.baseUrl,source:os(r.sourceURL,i),range:r.range});return function(t,e){return t.duration||e?t.duration?qa(t):ns(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]}(t,e).map((function(e){i.Number=e.number,i.Time=e.time;var n=os(t.media||"",i);return{uri:n,timeline:e.timeline,duration:e.duration,resolvedUri:oo(t.baseUrl||"",n),map:o,number:e.number}}))},ss=function(t,e){var i=t.duration,n=t.segmentUrls,r=void 0===n?[]:n;if(!i&&!e||i&&e)throw new Error(Ga);var o,a=r.map((function(e){return function(t,e){var i=t.baseUrl,n=t.initialization,r=void 0===n?{}:n,o=za({baseUrl:i,source:r.sourceURL,range:r.range}),a=za({baseUrl:i,source:e.media,range:e.mediaRange});return a.map=o,a}(t,e)}));return i&&(o=qa(t)),e&&(o=ns(t,e)),o.map((function(t,e){if(a[e]){var i=a[e];return i.timeline=t.timeline,i.duration=t.duration,i.number=t.number,i}})).filter((function(t){return t}))},us=function(t){var e,i,n=t.attributes,r=t.segmentInfo;r.template?(i=as,e=Na(n,r.template)):r.base?(i=Ya,e=Na(n,r.base)):r.list&&(i=ss,e=Na(n,r.list));var o={attributes:n};if(!i)return o;var a=i(e,r.timeline);if(e.duration){var s=e,u=s.duration,l=s.timescale,c=void 0===l?1:l;e.duration=u/c}else a.length?e.duration=a.reduce((function(t,e){return Math.max(t,Math.ceil(e.duration))}),0):e.duration=0;return o.attributes=e,o.segments=a,r.base&&e.indexRange&&(o.sidx=a[0],o.segments=[]),o},ls=function(t,e){return Ua(t.childNodes).filter((function(t){return t.tagName===e}))},cs=function(t){return t.textContent.trim()},ds=function(t){var e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;var i=e.slice(1),n=i[0],r=i[1],o=i[2],a=i[3],s=i[4],u=i[5];return 31536e3*parseFloat(n||0)+2592e3*parseFloat(r||0)+86400*parseFloat(o||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(u||0)},hs={mediaPresentationDuration:function(t){return ds(t)},availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=t)&&(e+="Z"),Date.parse(e)/1e3;var e},minimumUpdatePeriod:function(t){return ds(t)},suggestedPresentationDelay:function(t){return ds(t)},type:function(t){return t},timeShiftBufferDepth:function(t){return ds(t)},start:function(t){return ds(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?ds(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},fs=function(t){return t&&t.attributes?Ua(t.attributes).reduce((function(t,e){var i=hs[e.name]||hs.DEFAULT;return t[e.name]=i(e.value),t}),{}):{}},ps={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},gs=function(t,e){return e.length?Fa(t.map((function(t){return e.map((function(e){return oo(t,cs(e))}))}))):t},ms=function(t){var e=ls(t,"SegmentTemplate")[0],i=ls(t,"SegmentList")[0],n=i&&ls(i,"SegmentURL").map((function(t){return Na({tag:"SegmentURL"},fs(t))})),r=ls(t,"SegmentBase")[0],o=i||e,a=o&&ls(o,"SegmentTimeline")[0],s=i||r||e,u=s&&ls(s,"Initialization")[0],l=e&&fs(e);l&&u?l.initialization=u&&fs(u):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});var c={template:l,timeline:a&&ls(a,"S").map((function(t){return fs(t)})),list:i&&Na(fs(i),{segmentUrls:n,initialization:fs(u)}),base:r&&Na(fs(r),{initialization:fs(u)})};return Object.keys(c).forEach((function(t){c[t]||delete c[t]})),c},vs=function(t,e,i){return function(n){var r=fs(n),o=gs(e,ls(n,"BaseURL")),a=ls(n,"Role")[0],s={role:fs(a)},u=Na(t,r,s),l=ls(n,"ContentProtection").reduce((function(t,e){var i=fs(e),n=ps[i.schemeIdUri];if(n){t[n]={attributes:i};var r=ls(e,"cenc:pssh")[0];if(r){var o=cs(r),a=o&&lo(o);t[n].pssh=a}}return t}),{});Object.keys(l).length&&(u=Na(u,{contentProtection:l}));var c=ms(n),d=ls(n,"Representation"),h=Na(i,c);return Fa(d.map(function(t,e,i){return function(n){var r=ls(n,"BaseURL"),o=gs(e,r),a=Na(t,fs(n)),s=ms(n);return o.map((function(t){return{segmentInfo:Na(i,s),attributes:Na(a,{baseUrl:t})}}))}}(u,o,h)))}},ys=function(e,i){return function(n,r){var o=gs(i,ls(n,"BaseURL")),a=fs(n),s=parseInt(a.id,10),u=t.isNaN(s)?r:s,l=Na(e,{periodIndex:u}),c=ls(n,"AdaptationSet"),d=ms(n);return Fa(c.map(vs(l,o,d)))}},_s=function(t){if(""===t)throw new Error(Ba);var e=(new La).parseFromString(t,"application/xml"),i=e&&"MPD"===e.documentElement.tagName?e.documentElement:null;if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(ja);return i},bs=function(t,e){void 0===e&&(e={});var i=function(t,e){void 0===e&&(e={});var i=e,n=i.manifestUri,r=void 0===n?"":n,o=i.NOW,a=void 0===o?Date.now():o,s=i.clientOffset,u=void 0===s?0:s,l=ls(t,"Period");if(!l.length)throw new Error(Va);var c=ls(t,"Location"),d=fs(t),h=gs([r],ls(t,"BaseURL"));return d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=a,d.clientOffset=u,c.length&&(d.locations=c.map(cs)),{locations:d.locations,representationInfo:Fa(l.map(ys(d,h)))}}(_s(t),e),n=i.representationInfo.map(us);return es(n,i.locations,e.sidxMapping)},Ts=function(t){return function(t){var e=ls(t,"UTCTiming")[0];if(!e)return null;var i=fs(e);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Wa)}return i}(_s(t))},ws=function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:i.getUint32(4),timescale:i.getUint32(8),earliestPresentationTime:i.getUint32(12),firstOffset:i.getUint32(16)},r=i.getUint16(22);for(e=24;r;e+=12,r--)n.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&i.getUint32(e),subsegmentDuration:i.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&i.getUint32(e+8)});return n},Ss=s((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t instanceof Uint8Array?t:new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0)},n=function(t){if(!t)return"";t=Array.prototype.slice.call(t);var e=String.fromCharCode.apply(null,i(t));try{return decodeURIComponent(escape(e))}catch(t){}return e},r=function(t,e){void 0===e&&(e=0);var n=(t=i(t))[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?n+20:n+10},o=function t(e,o){return void 0===o&&(o=0),(e=i(e)).length-o<10||"ID3"!==n(e.subarray(o,o+3))?o:t(e,o+=r(e,o))},a={aac:function(t){var e=o(t);return t.length>=e+2&&255==(255&t[e])&&224==(224&t[e+1])&&16==(22&t[e+1])},mp3:function(t){var e=o(t);return t.length>=e+2&&255==(255&t[e])&&224==(224&t[e+1])&&2==(6&t[e+1])},webm:function(t){return t.length>=4&&26==(255&t[0])&&69==(255&t[1])&&223==(255&t[2])&&163==(255&t[3])},mp4:function(t){return t.length>=8&&/^(f|s)typ$/.test(n(t.subarray(4,8)))&&!/^ftyp3g$/.test(n(t.subarray(4,10)))},"3gp":function(t){return t.length>=10&&/^ftyp3g$/.test(n(t.subarray(4,10)))},ts:function(t){if(t.length<189&&t.length>=1)return 71===t[0];for(var e=0;e+188<t.length&&e<188;){if(71===t[e]&&71===t[e+188])return!0;e+=1}return!1},flac:function(t){return t.length>=4&&/^fLaC$/.test(n(t.subarray(0,4)))},ogg:function(t){return t.length>=4&&/^OggS$/.test(n(t.subarray(0,4)))}},s=Object.keys(a).filter((function(t){return"ts"!==t})).concat("ts");s.forEach((function(t){var e=a[t];a[t]=function(t){return e(i(t))}})),e.detectContainerForBytes=function(t){t=i(t);for(var e=0;e<s.length;e++){var n=s[e];if(a[n](t))return n}return""},e.getId3Offset=o,e.id3Size=r,e.isLikely=a,e.isLikelyFmp4MediaSegment=function(t){t=i(t);for(var e=0;e<t.length;){var r=(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0;if("moof"===n(t.subarray(e+4,e+8)))return!0;0===r||r+e>t.length?e=t.length:e+=r}return!1}}));a(Ss);var Es=Ss.detectContainerForBytes,As=Ss.getId3Offset,Cs=(Ss.id3Size,Ss.isLikely,Ss.isLikelyFmp4MediaSegment),Ps=s((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t instanceof Uint8Array?t:new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0)};e.bytesToString=function(t){if(!t)return"";t=Array.prototype.slice.call(t);var e=String.fromCharCode.apply(null,i(t));try{return decodeURIComponent(escape(e))}catch(t){}return e},e.concatTypedArrays=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.reduce((function(t,e){return t+=e&&(e.byteLength||e.length)||0}),0),o=new Uint8Array(r),a=0;return e.forEach((function(t){t=i(t),o.set(t,a),a+=t.byteLength})),o},e.isTypedArray=function(t){return ArrayBuffer.isView(t)},e.stringToBytes=function(t,e){return void 0===e&&(e=!1),"string"!=typeof t&&t&&"function"==typeof t.toString&&(t=t.toString()),"string"!=typeof t?[]:(e||(t=unescape(encodeURIComponent(t))),t.split("").map((function(t){return 255&t.charCodeAt(0)})))},e.toUint8=i}));a(Ps),Ps.bytesToString;var Is=Ps.concatTypedArrays,Os=(Ps.isTypedArray,Ps.stringToBytes),xs=Ps.toUint8,ks=27,Rs=15,Ms=21,Ls=function(){this.init=function(){var t={};this.on=function(e,i){t[e]||(t[e]=[]),t[e]=t[e].concat(i)},this.off=function(e,i){var n;return!!t[e]&&(n=t[e].indexOf(i),t[e]=t[e].slice(),t[e].splice(n,1),n>-1)},this.trigger=function(e){var i,n,r,o;if(i=t[e])if(2===arguments.length)for(r=i.length,n=0;n<r;++n)i[n].call(this,arguments[1]);else{for(o=[],n=arguments.length,n=1;n<arguments.length;++n)o.push(arguments[n]);for(r=i.length,n=0;n<r;++n)i[n].apply(this,o)}},this.dispose=function(){t={}}}};Ls.prototype.pipe=function(t){return this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},Ls.prototype.push=function(t){this.trigger("data",t)},Ls.prototype.flush=function(t){this.trigger("done",t)},Ls.prototype.partialFlush=function(t){this.trigger("partialdone",t)},Ls.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},Ls.prototype.reset=function(t){this.trigger("reset",t)};var Ds=function(t,e){var i=1;for(t>e&&(i=-1);Math.abs(e-t)>4294967296;)t+=8589934592*i;return t},Ns=function t(e){var i,n;t.prototype.init.call(this),this.type_=e||"shared",this.push=function(t){"shared"!==this.type_&&t.type!==this.type_||(void 0===n&&(n=t.dts),t.dts=Ds(t.dts,n),t.pts=Ds(t.pts,n),i=t.dts,this.trigger("data",t))},this.flush=function(){n=i,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,i=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ns.prototype=new Ls;var Fs=function(t){var e=31&t[1];return e<<=8,e|=t[2]},Us=function(t){return!!(64&t[1])},Vs=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},Bs=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},js={parseType:function(t,e){var i=Fs(t);return 0===i?"pat":i===e?"pmt":e?"pes":null},parsePat:function(t){var e=Us(t),i=4+Vs(t);return e&&(i+=t[i]+1),(31&t[i+10])<<8|t[i+11]},parsePmt:function(t){var e={},i=Us(t),n=4+Vs(t);if(i&&(n+=t[n]+1),1&t[n+5]){var r;r=3+((15&t[n+1])<<8|t[n+2])-4;for(var o=12+((15&t[n+10])<<8|t[n+11]);o<r;){var a=n+o;e[(31&t[a+1])<<8|t[a+2]]=t[a],o+=5+((15&t[a+3])<<8|t[a+4])}return e}},parsePayloadUnitStartIndicator:Us,parsePesType:function(t,e){switch(e[Fs(t)]){case ks:return"video";case Rs:return"audio";case Ms:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!Us(t))return null;var e=4+Vs(t);if(e>=t.byteLength)return null;var i,n=null;return 192&(i=t[e+7])&&((n={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,n.pts*=4,n.pts+=(6&t[e+13])>>>1,n.dts=n.pts,64&i&&(n.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,n.dts*=4,n.dts+=(6&t[e+18])>>>1)),n},videoPacketContainsKeyFrame:function(t){for(var e=4+Vs(t),i=t.subarray(e),n=0,r=0,o=!1;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}r+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===Bs(31&i[r+3])&&(o=!0);do{n++}while(1!==i[n]&&n<i.length);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===Bs(31&i[r+3])&&(o=!0),r=n-2,n+=3;break;default:n+=3}return i=i.subarray(r),n-=r,r=0,i&&i.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===Bs(31&i[r+3])&&(o=!0),o}},Hs=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Gs=function(t,e){var i=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return i=i>=0?i:0,(16&t[e+5])>>4?i+20:i+10},Ws=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},zs={isLikelyAacData:function(t){var e=function t(e,i){return e.length-i<10||e[i]!=="I".charCodeAt(0)||e[i+1]!=="D".charCodeAt(0)||e[i+2]!=="3".charCodeAt(0)?i:t(e,i+=Gs(e,i))}(t,0);return t.length>=e+2&&255==(255&t[e])&&240==(240&t[e+1])&&16==(22&t[e+1])},parseId3TagSize:Gs,parseAdtsSize:function(t,e){var i=(224&t[e+5])>>5,n=t[e+4]<<3;return 6144&t[e+3]|n|i},parseType:function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},parseSampleRate:function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return Hs[(60&t[e+2])>>>2];e++}return null},parseAacTimestamp:function(t){var e,i,n;e=10,64&t[5]&&(e+=4,e+=Ws(t.subarray(10,14)));do{if((i=Ws(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){n=t.subarray(e+10,e+i+10);for(var r=0;r<n.byteLength;r++)if(0===n[r]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(t,e,i){var n,r="";for(n=e;n<i;n++)r+="%"+("00"+t[n].toString(16)).slice(-2);return r}(n,0,r))){var o=n.subarray(r+1),a=(1&o[3])<<30|o[4]<<22|o[5]<<14|o[6]<<6|o[7]>>>2;return a*=4,a+=3&o[7]}break}}e+=10,e+=i}while(e<t.byteLength);return null}},$s=9e4,qs=(function(t){return 9e4*t},function(t,e){return t*e},function(t){return t/9e4},function(t,e){return t/e},$s),Ys=Ds,Ks={};Ks.ts=js,Ks.aac=zs;var Xs,Zs=$s,Qs=function(t,e,i){for(var n,r,o,a,s=0,u=188,l=!1;u<=t.byteLength;)if(71!==t[s]||71!==t[u]&&u!==t.byteLength)s++,u++;else{switch(n=t.subarray(s,u),Ks.ts.parseType(n,e.pid)){case"pes":r=Ks.ts.parsePesType(n,e.table),o=Ks.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&o&&(a=Ks.ts.parsePesTime(n))&&(a.type="audio",i.audio.push(a),l=!0)}if(l)break;s+=188,u+=188}for(s=(u=t.byteLength)-188,l=!1;s>=0;)if(71!==t[s]||71!==t[u]&&u!==t.byteLength)s--,u--;else{switch(n=t.subarray(s,u),Ks.ts.parseType(n,e.pid)){case"pes":r=Ks.ts.parsePesType(n,e.table),o=Ks.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&o&&(a=Ks.ts.parsePesTime(n))&&(a.type="audio",i.audio.push(a),l=!0)}if(l)break;s-=188,u-=188}},Js=function(t,e,i){for(var n,r,o,a,s,u,l,c=0,d=188,h=!1,f={data:[],size:0};d<t.byteLength;)if(71!==t[c]||71!==t[d])c++,d++;else{switch(n=t.subarray(c,d),Ks.ts.parseType(n,e.pid)){case"pes":if(r=Ks.ts.parsePesType(n,e.table),o=Ks.ts.parsePayloadUnitStartIndicator(n),"video"===r&&(o&&!h&&(a=Ks.ts.parsePesTime(n))&&(a.type="video",i.video.push(a),h=!0),!i.firstKeyFrame)){if(o&&0!==f.size){for(s=new Uint8Array(f.size),u=0;f.data.length;)l=f.data.shift(),s.set(l,u),u+=l.byteLength;if(Ks.ts.videoPacketContainsKeyFrame(s)){var p=Ks.ts.parsePesTime(s);p?(i.firstKeyFrame=p,i.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}f.size=0}f.data.push(n),f.size+=n.byteLength}}if(h&&i.firstKeyFrame)break;c+=188,d+=188}for(c=(d=t.byteLength)-188,h=!1;c>=0;)if(71!==t[c]||71!==t[d])c--,d--;else{switch(n=t.subarray(c,d),Ks.ts.parseType(n,e.pid)){case"pes":r=Ks.ts.parsePesType(n,e.table),o=Ks.ts.parsePayloadUnitStartIndicator(n),"video"===r&&o&&(a=Ks.ts.parsePesTime(n))&&(a.type="video",i.video.push(a),h=!0)}if(h)break;c-=188,d-=188}},tu=function(t){var e={pid:null,table:null},i={};for(var n in function(t,e){for(var i,n=0,r=188;r<t.byteLength;)if(71!==t[n]||71!==t[r])n++,r++;else{switch(i=t.subarray(n,r),Ks.ts.parseType(i,e.pid)){case"pat":e.pid||(e.pid=Ks.ts.parsePat(i));break;case"pmt":e.table||(e.table=Ks.ts.parsePmt(i))}if(e.pid&&e.table)return;n+=188,r+=188}}(t,e),e.table)if(e.table.hasOwnProperty(n))switch(e.table[n]){case ks:i.video=[],Js(t,e,i),0===i.video.length&&delete i.video;break;case Rs:i.audio=[],Qs(t,e,i),0===i.audio.length&&delete i.audio}return i},eu=function(t,e){var i;return(i=Ks.aac.isLikelyAacData(t)?function(t){for(var e,i=!1,n=0,r=null,o=null,a=0,s=0;t.length-s>=3;){switch(Ks.aac.parseType(t,s)){case"timed-metadata":if(t.length-s<10){i=!0;break}if((a=Ks.aac.parseId3TagSize(t,s))>t.length){i=!0;break}null===o&&(e=t.subarray(s,s+a),o=Ks.aac.parseAacTimestamp(e)),s+=a;break;case"audio":if(t.length-s<7){i=!0;break}if((a=Ks.aac.parseAdtsSize(t,s))>t.length){i=!0;break}null===r&&(e=t.subarray(s,s+a),r=Ks.aac.parseSampleRate(e)),n++,s+=a;break;default:s++}if(i)return null}if(null===r||null===o)return null;var u=Zs/r;return{audio:[{type:"audio",dts:o,pts:o},{type:"audio",dts:o+1024*n*u,pts:o+1024*n*u}]}}(t):tu(t))&&(i.audio||i.video)?(function(t,e){if(t.audio&&t.audio.length){var i=e;void 0===i&&(i=t.audio[0].dts),t.audio.forEach((function(t){t.dts=Ys(t.dts,i),t.pts=Ys(t.pts,i),t.dtsTime=t.dts/Zs,t.ptsTime=t.pts/Zs}))}if(t.video&&t.video.length){var n=e;if(void 0===n&&(n=t.video[0].dts),t.video.forEach((function(t){t.dts=Ys(t.dts,n),t.pts=Ys(t.pts,n),t.dtsTime=t.dts/Zs,t.ptsTime=t.pts/Zs})),t.firstKeyFrame){var r=t.firstKeyFrame;r.dts=Ys(r.dts,n),r.pts=Ys(r.pts,n),r.dtsTime=r.dts/Zs,r.ptsTime=r.dts/Zs}}}(i,e),i):null},iu=function(t){return t>>>0},nu=function(t){return("00"+t.toString(16)).slice(-2)},ru=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},ou=iu,au=function t(e,i){var n,r,o,a,s,u=[];if(!i.length)return null;for(n=0;n<e.byteLength;)r=ou(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),o=ru(e.subarray(n+4,n+8)),a=r>1?n+r:e.byteLength,o===i[0]&&(1===i.length?u.push(e.subarray(n+8,a)):(s=t(e.subarray(n+8,a),i.slice(1))).length&&(u=u.concat(s))),n=a;return u},su=iu,uu=nu,lu=function(t,e){var i,n,r;return i=au(e,["moof","traf"]),n=[].concat.apply([],i.map((function(e){return au(e,["tfhd"]).map((function(i){var n,r;return n=su(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),r=t[n]||9e4,(au(e,["tfdt"]).map((function(t){var e,i;return e=t[0],i=su(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(i*=Math.pow(2,32),i+=su(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),i}))[0]||1/0)/r}))}))),r=Math.min.apply(null,n),isFinite(r)?r:0},cu=function(t){var e=au(t,["moov","trak"]),i=[];return e.forEach((function(t){var e,n,r={},o=au(t,["tkhd"])[0];o&&(n=(e=new DataView(o.buffer,o.byteOffset,o.byteLength)).getUint8(0),r.id=0===n?e.getUint32(12):e.getUint32(20));var a=au(t,["mdia","hdlr"])[0];if(a){var s=ru(a.subarray(8,12));r.type="vide"===s?"video":"soun"===s?"audio":s}var u=au(t,["mdia","minf","stbl","stsd"])[0];if(u){var l=u.subarray(8);r.codec=ru(l.subarray(4,8));var c,d=au(l,[r.codec])[0];d&&(/^[a-z]vc[1-9]$/i.test(r.codec)?(c=d.subarray(78),"avcC"===ru(c.subarray(4,8))&&c.length>11?(r.codec+=".",r.codec+=uu(c[9]),r.codec+=uu(c[10]),r.codec+=uu(c[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)&&(c=d.subarray(28),"esds"===ru(c.subarray(4,8))&&c.length>20&&0!==c[19]?(r.codec+="."+uu(c[19]),r.codec+="."+uu(c[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"))}var h=au(t,["mdia","mdhd"])[0];h&&(r.timescale=Xs(h)),i.push(r)})),i},du=(Xs=function(t){var e=0===t[0]?12:20;return su(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])},s((function(e,i){function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var r=n(t),o={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/},a=function(t){return t?t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t,e,i){return"avc1."+("00"+Number(e).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)})):t},s=function(t){return t.map(a)},u=function(t){void 0===t&&(t="");var e=t.split(","),i={};return e.forEach((function(t){t=t.trim(),["video","audio"].forEach((function(e){var n=o[e].exec(t.toLowerCase());if(n&&!(n.length<=1)){var r=t.substring(0,n[1].length),a=t.replace(r,"");i[e]={type:r,details:a}}}))})),i},l=function(t){return void 0===t&&(t=""),o.audio.test(t.trim().toLowerCase())},c=function(t){if(t&&"string"==typeof t){var e=t.toLowerCase().split(",").map((function(t){return a(t.trim())})),i="video";1===e.length&&l(e[0])&&(i="audio");var n="mp4";return e.every((function(t){return o.mp4.test(t)}))?n="mp4":e.every((function(t){return o.webm.test(t)}))?n="webm":e.every((function(t){return o.ogg.test(t)}))&&(n="ogg"),i+"/"+n+';codecs="'+t+'"'}};i.DEFAULT_AUDIO_CODEC="mp4a.40.2",i.DEFAULT_VIDEO_CODEC="avc1.4d400d",i.browserSupportsCodec=function(t){return void 0===t&&(t=""),r.default.MediaSource&&r.default.MediaSource.isTypeSupported&&r.default.MediaSource.isTypeSupported(c(t))||!1},i.codecsFromDefault=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var i=t.mediaGroups.AUDIO[e];if(!i)return null;for(var n in i){var r=i[n];if(r.default&&r.playlists)return u(r.playlists[0].attributes.CODECS)}return null},i.getMimeForCodec=c,i.isAudioCodec=l,i.isVideoCodec=function(t){return void 0===t&&(t=""),o.video.test(t.trim().toLowerCase())},i.mapLegacyAvcCodecs=function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,(function(t){return s([t])[0]}))},i.muxerSupportsCodec=function(t){return void 0===t&&(t=""),t.toLowerCase().split(",").every((function(t){return t=t.trim(),o.muxerVideo.test(t)||o.muxerAudio.test(t)}))},i.parseCodecs=u,i.translateLegacyCodec=a,i.translateLegacyCodecs=s})));a(du);var hu,fu=du.DEFAULT_AUDIO_CODEC,pu=du.DEFAULT_VIDEO_CODEC,gu=du.browserSupportsCodec,mu=du.codecsFromDefault,vu=du.getMimeForCodec,yu=du.isAudioCodec,_u=du.isVideoCodec,bu=(du.mapLegacyAvcCodecs,du.muxerSupportsCodec),Tu=du.parseCodecs,wu=du.translateLegacyCodec,Su=(du.translateLegacyCodecs,oo),Eu=function(t,e,i){return t&&i&&i.responseURL&&e!==i.responseURL?i.responseURL:e},Au=Jr.log,Cu=function(t,e){return t+"-"+e},Pu=function(t){var e=t.manifestString,i=t.customTagParsers,n=void 0===i?[]:i,r=t.customTagMappers,o=void 0===r?[]:r,a=new po;return n.forEach((function(t){return a.addParser(t)})),o.forEach((function(t){return a.addTagMapper(t)})),a.push(e),a.end(),a.manifest},Iu=function(t,e){["AUDIO","SUBTITLES"].forEach((function(i){for(var n in t.mediaGroups[i])for(var r in t.mediaGroups[i][n]){var o=t.mediaGroups[i][n][r];e(o,i,n,r)}}))},Ou=function(t){var e=t.playlist,i=t.uri,n=t.id;e.id=n,i&&(e.uri=i),e.attributes=e.attributes||{}},xu=function(t,e){t.uri=e;for(var i=0;i<t.playlists.length;i++)if(!t.playlists[i].uri){var n="placeholder-uri-"+i;t.playlists[i].uri=n}Iu(t,(function(e,i,n,r){if(e.playlists&&e.playlists.length&&!e.playlists[0].uri){var o="placeholder-uri-"+i+"-"+n+"-"+r,a=Cu(0,o);e.playlists[0].uri=o,e.playlists[0].id=a,t.playlists[a]=e.playlists[0],t.playlists[o]=e.playlists[0]}})),function(t){for(var e=t.playlists.length;e--;){var i=t.playlists[e];Ou({playlist:i,id:Cu(e,i.uri)}),i.resolvedUri=Su(t.uri,i.uri),t.playlists[i.id]=i,t.playlists[i.uri]=i,i.attributes.BANDWIDTH||Au.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(t),function(t){Iu(t,(function(e){e.uri&&(e.resolvedUri=Su(t.uri,e.uri))}))}(t)},ku=Jr.mergeOptions,Ru=Jr.EventTarget,Mu=function(t,e){t.resolvedUri||(t.resolvedUri=Su(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Su(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Su(e,t.map.uri))},Lu=function(t,e){var i=ku(t,{}),n=i.playlists[e.id];if(!n)return null;if(n.segments&&e.segments&&n.segments.length===e.segments.length&&n.endList===e.endList&&n.mediaSequence===e.mediaSequence)return null;var r=ku(n,e);n.segments&&(r.segments=function(t,e,i){var n=e.slice();i=i||0;for(var r=Math.min(t.length,e.length+i),o=i;o<r;o++)n[o-i]=ku(t[o],n[o-i]);return n}(n.segments,e.segments,e.mediaSequence-n.mediaSequence)),r.segments.forEach((function(t){Mu(t,r.resolvedUri)}));for(var o=0;o<i.playlists.length;o++)i.playlists[o].id===e.id&&(i.playlists[o]=r);return i.playlists[e.id]=r,i.playlists[e.uri]=r,i},Du=function(t,e){var i=t.segments[t.segments.length-1];return e&&i&&i.duration?1e3*i.duration:500*(t.targetDuration||10)},Nu=function(e){function i(t,i,n){var r;if(void 0===n&&(n={}),r=e.call(this)||this,!t)throw new Error("A non-empty playlist URL or object is required");var o=n,a=o.withCredentials,s=void 0!==a&&a,u=o.handleManifestRedirects,l=void 0!==u&&u;r.src=t,r.vhs_=i,r.withCredentials=s,r.handleManifestRedirects=l;var c=i.options_;return r.customTagParsers=c&&c.customTagParsers||[],r.customTagMappers=c&&c.customTagMappers||[],r.state="HAVE_NOTHING",r.on("mediaupdatetimeout",(function(){"HAVE_METADATA"===r.state&&(r.state="HAVE_CURRENT_METADATA",r.request=r.vhs_.xhr({uri:Su(r.master.uri,r.media().uri),withCredentials:r.withCredentials},(function(t,e){if(r.request)return t?r.playlistRequestError(r.request,r.media(),"HAVE_METADATA"):void r.haveMetadata({playlistString:r.request.responseText,url:r.media().uri,id:r.media().id})})))})),r}jt(i,e);var n=i.prototype;return n.playlistRequestError=function(t,e,i){var n=e.uri,r=e.id;this.request=null,i&&(this.state=i),this.error={playlist:this.master.playlists[r],status:t.status,message:"HLS playlist request error at URL: "+n+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")},n.haveMetadata=function(e){var i=this,n=e.playlistString,r=e.playlistObject,o=e.url,a=e.id;this.request=null,this.state="HAVE_METADATA";var s=r||Pu({manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers});Ou({playlist:s,uri:o,id:a});var u=Lu(this.master,s);this.targetDuration=s.targetDuration,u?(this.master=u,this.media_=this.master.playlists[a]):this.trigger("playlistunchanged"),this.media().endList||(t.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=t.setTimeout((function(){i.trigger("mediaupdatetimeout")}),Du(this.media(),!!u))),this.trigger("loadedplaylist")},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),t.clearTimeout(this.mediaUpdateTimeout),t.clearTimeout(this.finalRenditionTimeout),this.off()},n.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},n.media=function(e,i){var n=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(t.clearTimeout(this.finalRenditionTimeout),i){var r=e.targetDuration/2*1e3||5e3;this.finalRenditionTimeout=t.setTimeout(this.media.bind(this,e,!1),r)}else{var o=this.state,a=!this.media_||e.id!==this.media_.id;if(this.master.playlists[e.id].endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(a&&(this.trigger("mediachanging"),"HAVE_MASTER"===o?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(a){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},(function(t,i){if(n.request){if(e.resolvedUri=Eu(n.handleManifestRedirects,e.resolvedUri,i),t)return n.playlistRequestError(n.request,e,o);n.haveMetadata({playlistString:i.responseText,url:e.uri,id:e.id}),"HAVE_MASTER"===o?n.trigger("loadedmetadata"):n.trigger("mediachange")}}))}}},n.pause=function(){this.stopRequest(),t.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},n.load=function(e){var i=this;t.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=t.setTimeout((function(){return i.load()}),r)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},n.start=function(){var e=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=t.location.href),this.src.resolvedUri=this.src.uri,void setTimeout((function(){e.setupInitialPlaylist(e.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(t,i){if(e.request){if(e.request=null,t)return e.error={status:i.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:i.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=Eu(e.handleManifestRedirects,e.src,i);var n=Pu({manifestString:i.responseText,customTagParsers:e.customTagParsers,customTagMappers:e.customTagMappers});e.setupInitialPlaylist(n)}}))},n.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},n.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,xu(this.master,this.srcUri()),e.playlists.forEach((function(t){t.segments&&t.segments.forEach((function(e){Mu(e,t.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var i=this.srcUri()||t.location.href;this.master=function(e,i){var n=Cu(0,i),r={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:t.location.href,resolvedUri:t.location.href,playlists:[{uri:i,id:n,resolvedUri:i,attributes:{}}]};return r.playlists[n]=r.playlists[0],r.playlists[i]=r.playlists[0],r}(0,i),this.haveMetadata({playlistObject:e,url:i,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},i}(Ru),Fu=function(t,e){var i,n=[];if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&n.push([t.start(i),t.end(i)]);return Jr.createTimeRanges(n)},Uu=function(t,e){return Fu(t,(function(t,i){return t-.1<=e&&i+.1>=e}))},Vu=function(t,e){return Fu(t,(function(t){return t-1/30>=e}))},Bu=function(t){var e=[];if(!t||!t.length)return"";for(var i=0;i<t.length;i++)e.push(t.start(i)+" => "+t.end(i));return e.join(", ")},ju=function(t){for(var e=[],i=0;i<t.length;i++)e.push({start:t.start(i),end:t.end(i)});return e},Hu=Jr.createTimeRange,Gu=function(t,e,i){if(void 0===e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;var n=function(t,e){var i=0,n=e-t.mediaSequence,r=t.segments[n];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;n--;){if(void 0!==(r=t.segments[n]).end)return{result:i+r.end,precise:!0};if(i+=r.duration,void 0!==r.start)return{result:i+r.start,precise:!0}}return{result:i,precise:!1}}(t,e);if(n.precise)return n.result;var r=function(t,e){for(var i,n=0,r=e-t.mediaSequence;r<t.segments.length;r++){if(void 0!==(i=t.segments[r]).start)return{result:i.start-n,precise:!0};if(n+=i.duration,void 0!==i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}}(t,e);return r.precise?r.result:n.result+i},Wu=function(e,i,n){if(!e)return 0;if("number"!=typeof n&&(n=0),void 0===i){if(e.totalDuration)return e.totalDuration;if(!e.endList)return t.Infinity}return Gu(e,i,n)},zu=function(t,e,i){var n=0;if(e>i){var r=[i,e];e=r[0],i=r[1]}if(e<0){for(var o=e;o<Math.min(0,i);o++)n+=t.targetDuration;e=0}for(var a=e;a<i;a++)n+=t.segments[a].duration;return n},$u=function(t,e){if(!t.segments.length)return 0;var i=t.segments.length,n=t.segments[i-1].duration||t.targetDuration,r="number"==typeof e?e:n+2*t.targetDuration;if(0===r)return i;for(var o=0;i--&&!((o+=t.segments[i].duration)>=r););return Math.max(0,i)},qu=function(t,e,i,n){if(!t||!t.segments)return null;if(t.endList)return Wu(t);if(null===e)return null;e=e||0;var r=i?$u(t,n):t.segments.length;return Gu(t,t.mediaSequence+r,e)},Yu=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Ku=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Xu=function(t){var e=Yu(t);return!t.disabled&&!e},Zu=function(t,e){return e.attributes&&e.attributes[t]},Qu=function(t,e){if(1===t.playlists.length)return!0;var i=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter((function(t){return!!Xu(t)&&(t.attributes.BANDWIDTH||0)<i})).length},Ju={duration:Wu,seekable:function(t,e,i){var n=e||0,r=qu(t,e,!0,i);return null===r?Hu():Hu(n,r)},safeLiveIndex:$u,getMediaInfoForTime:function(t,e,i,n){var r,o=t.segments.length,a=e-n;if(a<0){if(i>0)for(r=i-1;r>=0;r--)if((a+=t.segments[r].duration+1/30)>0)return{mediaIndex:r,startTime:n-zu(t,i,r)};return{mediaIndex:0,startTime:e}}if(i<0){for(r=i;r<0;r++)if((a-=t.targetDuration)<0)return{mediaIndex:0,startTime:e};i=0}for(r=i;r<o;r++)if((a-=t.segments[r].duration+1/30)<0)return{mediaIndex:r,startTime:n+zu(t,i,r)};return{mediaIndex:o-1,startTime:e}},isEnabled:Xu,isDisabled:function(t){return t.disabled},isBlacklisted:Yu,isIncompatible:Ku,playlistEnd:qu,isAes:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},hasAttribute:Zu,estimateSegmentRequestTime:function(t,e,i,n){return void 0===n&&(n=0),Zu("BANDWIDTH",i)?(t*i.attributes.BANDWIDTH-8*n)/e:NaN},isLowestEnabledRendition:Qu},tl=Jr.xhr,el=Jr.mergeOptions,il=function(t,e,i,n){var r="arraybuffer"===t.responseType?t.response:t.responseText;!e&&r&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=r.byteLength||r.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),i.headers&&(t.responseHeaders=i.headers),e&&"ETIMEDOUT"===e.code&&(t.timedout=!0),e||t.aborted||200===i.statusCode||206===i.statusCode||0===i.statusCode||(e=new Error("XHR Failed with a response of: "+(t&&(r||t.responseText)))),n(e,t)},nl=function(){return function t(e,i){e=el({timeout:45e3},e);var n=t.beforeRequest||Jr.Vhs.xhr.beforeRequest;if(n&&"function"==typeof n){var r=n(e);r&&(e=r)}var o=tl(e,(function(t,e){return il(o,t,e,i)})),a=o.abort;return o.abort=function(){return o.aborted=!0,a.apply(o,arguments)},o.uri=e.uri,o.requestTime=Date.now(),o}},rl=function(t){var e,i,n={};return t.byterange&&(n.Range=(e=t.byterange,i=e.offset+e.length-1,"bytes="+e.offset+"-"+i)),n},ol=function(t,e){return t.start(e)+"-"+t.end(e)},al=function(t,e){var i=t.toString(16);return"00".substring(0,2-i.length)+i+(e%2?" ":"")},sl=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},ul=function(t){var e={};return Object.keys(t).forEach((function(i){var n=t[i];ArrayBuffer.isView(n)?e[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[i]=n})),e},ll=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},cl=function(t){return t.resolvedUri},dl=function(t){for(var e=Array.prototype.slice.call(t),i="",n=0;n<e.length/16;n++)i+=e.slice(16*n,16*n+16).map(al).join("")+" "+e.slice(16*n,16*n+16).map(sl).join("")+"\n";return i},hl=Object.freeze({__proto__:null,createTransferableMessage:ul,initSegmentId:ll,segmentKeyId:cl,hexDump:dl,tagDump:function(t){var e=t.bytes;return dl(e)},textRanges:function(t){var e,i="";for(e=0;e<t.length;e++)i+=ol(t,e)+" ";return i}}),fl=function(t){var e=t.playlist,i=t.time,n=void 0===i?void 0:i,r=t.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===n)return r({message:"getProgramTime: playlist and time must be provided"});var o=function(t,e){if(!e||!e.segments||0===e.segments.length)return null;for(var i,n=0,r=0;r<e.segments.length&&!(t<=(n=(i=e.segments[r]).videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration));r++);var o=e.segments[e.segments.length-1];if(o.videoTimingInfo&&o.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>n){if(t>n+.25*o.duration)return null;i=o}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}}(n,e);if(!o)return r({message:"valid programTime was not found"});if("estimate"===o.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:o.estimatedStart});var a={mediaSeconds:n},s=function(t,e){if(!e.dateTimeObject)return null;var i=e.videoTimingInfo.transmuxerPrependedSeconds,n=t-(e.videoTimingInfo.transmuxedPresentationStart+i);return new Date(e.dateTimeObject.getTime()+1e3*n)}(n,o.segment);return s&&(a.programDateTime=s.toISOString()),r(null,a)},pl=function t(e){var i=e.programTime,n=e.playlist,r=e.retryCount,o=void 0===r?2:r,a=e.seekTo,s=e.pauseAfterSeek,u=void 0===s||s,l=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(void 0===i||!n||!a)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!n.endList&&!l.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!function(t){if(!t.segments||0===t.segments.length)return!1;for(var e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0}(n))return c({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri});var d=function(t,e){var i;try{i=new Date(t)}catch(t){return null}if(!e||!e.segments||0===e.segments.length)return null;var n=e.segments[0];if(i<n.dateTimeObject)return null;for(var r=0;r<e.segments.length-1&&(n=e.segments[r],!(i<e.segments[r+1].dateTimeObject));r++);var o,a=e.segments[e.segments.length-1],s=a.dateTimeObject,u=a.videoTimingInfo?(o=a.videoTimingInfo).transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds:a.duration+.25*a.duration;return i>new Date(s.getTime()+1e3*u)?null:(i>s&&(n=a),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:Ju.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})}(i,n);if(!d)return c({message:i+" was not found in the stream"});var h=d.segment,f=function(t,e){var i,n;try{i=new Date(t),n=new Date(e)}catch(t){}var r=i.getTime();return(n.getTime()-r)/1e3}(h.dateTimeObject,i);if("estimate"===d.type)return 0===o?c({message:i+" is not buffered yet. Try again"}):(a(d.estimatedStart+f),void l.one("seeked",(function(){t({programTime:i,playlist:n,retryCount:o-1,seekTo:a,pauseAfterSeek:u,tech:l,callback:c})})));var p=h.start+f;l.one("seeked",(function(){return c(null,l.currentTime())})),u&&l.pause(),a(p)},gl=function(t,e){if(4===t.readyState)return e()},ml=Jr.EventTarget,vl=Jr.mergeOptions,yl=function(t){var e=t.masterXml,i=t.srcUrl,n=t.clientOffset,r=t.sidxMapping,o=bs(e,{manifestUri:i,clientOffset:n,sidxMapping:r});return xu(o,i),o},_l=function(t,e){for(var i=!0,n=vl(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),r=0;r<e.playlists.length;r++){var o=Lu(n,e.playlists[r]);o&&(n=o,i=!1)}return Iu(e,(function(t,e,r,o){if(t.playlists&&t.playlists.length){var a=t.playlists[0].id,s=Lu(n,t.playlists[0]);s&&((n=s).mediaGroups[e][r][o].playlists[0]=n.playlists[a],i=!1)}})),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(i=!1),i?null:n},bl=function(t){var e=t.byterange.offset+t.byterange.length-1;return t.uri+"-"+t.byterange.offset+"-"+e},Tl=function(t,e){var i,n,r={};for(var o in t){var a=t[o].sidx;if(a){var s=bl(a);if(!e[s])break;var u=e[s].sidxInfo;i=u,n=a,(Boolean(!i.map&&!n.map)||Boolean(i.map&&n.map&&i.map.byterange.offset===n.map.byterange.offset&&i.map.byterange.length===n.map.byterange.length))&&i.uri===n.uri&&i.byterange.offset===n.byterange.offset&&i.byterange.length===n.byterange.length&&(r[s]=e[s])}}return r},wl=function(t,e,i,n,r,o){var a={uri:Eu(r.handleManifestRedirects,e.resolvedUri),byterange:e.byterange,playlist:i},s=Jr.mergeOptions(a,{responseType:"arraybuffer",headers:rl(a)});return function(t,e,i){var n,r=[],o=!1,a=function(t,e,n,r){return e.abort(),o=!0,i(t,e,n,r)},s=function(t,e){if(!o){if(t)return a(t,e,"",r);var i=e.responseText.substring(r&&r.byteLength||0,e.responseText.length);if(r=Is(r,Os(i,!0)),n=n||As(r),r.length<10||n&&r.length<n+2)return gl(e,(function(){return a(t,e,"",r)}));var s=Es(r);return"ts"===s&&r.length<188||!s&&r.length<376?gl(e,(function(){return a(t,e,"",r)})):a(null,e,s,r)}},u=e({uri:t,beforeSend:function(t){t.overrideMimeType("text/plain; charset=x-user-defined"),t.addEventListener("progress",(function(e){return e.total,e.loaded,il(t,null,{statusCode:t.status},s)}))}},(function(t,e){return il(u,t,e,s)}));return u}(a.uri,n,(function(e,r,u,l){if(e)return o(e,r);if(!u||"mp4"!==u)return o({status:r.status,message:"Unsupported "+(u||"unknown")+" container type for sidx segment at URL: "+a.uri,response:"",playlist:i,internal:!0,blacklistDuration:1/0,code:2},r);var c=a.byterange,d=c.offset,h=c.length;if(l.length>=h+d)return o(e,{response:l.subarray(d,d+h),status:r.status,uri:r.uri});t.request=n(s,o)}))},Sl=function(e){function i(t,i,n,r){var o;void 0===n&&(n={}),o=e.call(this)||this;var a=n,s=a.withCredentials,u=void 0!==s&&s,l=a.handleManifestRedirects,c=void 0!==l&&l;if(o.vhs_=i,o.withCredentials=u,o.handleManifestRedirects=c,!t)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",(function(){o.refreshXml_()})),o.on("mediaupdatetimeout",(function(){o.refreshMedia_(o.media().id)})),o.state="HAVE_NOTHING",o.loadedPlaylists_={},"string"==typeof t?(o.srcUrl=t,o.sidxMapping_={},Vt(o)):(o.setupChildLoader(r,t),o)}jt(i,e);var n=i.prototype;return n.setupChildLoader=function(t,e){this.masterPlaylistLoader_=t,this.childPlaylist_=e},n.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},t.clearTimeout(this.minimumUpdatePeriodTimeout_),t.clearTimeout(this.mediaRequest_),t.clearTimeout(this.mediaUpdateTimeout),this.off()},n.hasPendingRequest=function(){return this.request||this.mediaRequest_},n.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},n.sidxRequestFinished_=function(t,e,i,n){var r=this;return function(o,a){if(r.request){if(r.request=null,o)return r.error="object"==typeof o?o:{status:a.status,message:"DASH playlist request error at URL: "+t.uri,response:a.response,code:2},i&&(r.state=i),void r.trigger("error");var s=xs(a.response),u=ws(s.subarray(8));return n(e,u)}}},n.media=function(e){var i=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var n=this.state;if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}var r=!this.media_||e.id!==this.media_.id;if(r&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(r&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(r)if(this.media_&&this.trigger("mediachanging"),e.sidx){var o,a;this.masterPlaylistLoader_?(o=this.masterPlaylistLoader_.master,a=this.masterPlaylistLoader_.sidxMapping_):(o=this.master,a=this.sidxMapping_);var s=bl(e.sidx);a[s]={sidxInfo:e.sidx},this.request=wl(this,e.sidx,e,this.vhs_.xhr,{handleManifestRedirects:this.handleManifestRedirects},this.sidxRequestFinished_(e,o,n,(function(t,r){if(!t||!r)throw new Error("failed to request sidx");a[s].sidx=r,i.haveMetadata({startingState:n,playlist:t.playlists[e.id]})})))}else this.mediaRequest_=t.setTimeout(this.haveMetadata.bind(this,{startingState:n,playlist:e}),0)},n.haveMetadata=function(t){var e=t.startingState,i=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[i.id]=i,this.mediaRequest_=null,this.refreshMedia_(i.id),"HAVE_MASTER"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")},n.pause=function(){this.stopRequest(),t.clearTimeout(this.mediaUpdateTimeout),t.clearTimeout(this.minimumUpdatePeriodTimeout_),"HAVE_NOTHING"===this.state&&(this.started=!1)},n.load=function(e){var i=this;t.clearTimeout(this.mediaUpdateTimeout),t.clearTimeout(this.minimumUpdatePeriodTimeout_);var n=this.media();if(e){var r=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=t.setTimeout((function(){return i.load()}),r)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()},n.start=function(){var e=this;this.started=!0,this.masterPlaylistLoader_?this.mediaRequest_=t.setTimeout(this.haveMaster_.bind(this),0):this.request=this.vhs_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(t,i){if(e.request){if(e.request=null,t)return e.error={status:i.status,message:"DASH playlist request error at URL: "+e.srcUrl,responseText:i.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.masterXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?e.masterLoaded_=Date.parse(i.responseHeaders.date):e.masterLoaded_=Date.now(),e.srcUrl=Eu(e.handleManifestRedirects,e.srcUrl,i),e.syncClientServerClock_(e.onClientServerClockSync_.bind(e))}}))},n.syncClientServerClock_=function(t){var e=this,i=Ts(this.masterXml_);return null===i?(this.clientOffset_=this.masterLoaded_-Date.now(),t()):"DIRECT"===i.method?(this.clientOffset_=i.value-Date.now(),t()):void(this.request=this.vhs_.xhr({uri:Su(this.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials},(function(n,r){if(e.request){if(n)return e.clientOffset_=e.masterLoaded_-Date.now(),t();var o;o="HEAD"===i.method?r.responseHeaders&&r.responseHeaders.date?Date.parse(r.responseHeaders.date):e.masterLoaded_:Date.parse(r.responseText),e.clientOffset_=o-Date.now(),t()}})))},n.haveMaster_=function(){this.state="HAVE_MASTER",this.mediaRequest_=null,this.masterPlaylistLoader_?this.media_||this.media(this.childPlaylist_):(this.updateMainManifest_(yl({masterXml:this.masterXml_,srcUrl:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_})),this.trigger("loadedplaylist"))},n.updateMinimumUpdatePeriodTimeout_=function(){var e=this;t.clearTimeout(this.minimumUpdatePeriodTimeout_);var i=function(i){e.minimumUpdatePeriodTimeout_=t.setTimeout((function(){e.trigger("minimumUpdatePeriod")}),i)},n=this.master&&this.master.minimumUpdatePeriod;n>0?i(n):0===n&&(this.media()?i(1e3*this.media().targetDuration):this.one("loadedplaylist",(function(){i(1e3*e.media().targetDuration)})))},n.onClientServerClockSync_=function(){this.haveMaster_(),this.hasPendingRequest()||this.media_||this.media(this.master.playlists[0]),this.updateMinimumUpdatePeriodTimeout_()},n.updateMainManifest_=function(t){if(this.master=t,this.master.locations&&this.master.locations.length){var e=this.master.locations[0];e!==this.srcUrl&&(this.srcUrl=e)}},n.refreshXml_=function(){var t=this;this.request=this.vhs_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},(function(e,i){if(t.request){if(t.request=null,e)return t.error={status:i.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:i.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=i.responseText,t.sidxMapping_=function(t,e,i,n){var r=bs(t,{manifestUri:e,clientOffset:i}),o=Tl(r.playlists,n);return Iu(r,(function(t,e,i,r){if(t.playlists&&t.playlists.length){var a=t.playlists;o=vl(o,Tl(a,n))}})),o}(t.masterXml_,t.srcUrl,t.clientOffset_,t.sidxMapping_);var n=yl({masterXml:t.masterXml_,srcUrl:t.srcUrl,clientOffset:t.clientOffset_,sidxMapping:t.sidxMapping_}),r=_l(t.master,n),o=t.media().sidx;if(r)if(o){var a=bl(o);if(!t.sidxMapping_[a]){var s=t.media();t.request=wl(t,s.sidx,s,t.vhs_.xhr,{handleManifestRedirects:t.handleManifestRedirects},t.sidxRequestFinished_(s,n,t.state,(function(e,i){if(!e||!i)throw new Error("failed to request sidx on minimumUpdatePeriod");t.sidxMapping_[a].sidx=i,t.updateMinimumUpdatePeriodTimeout_(),t.refreshMedia_(t.media().id)})))}}else t.updateMainManifest_(r),t.media_&&(t.media_=t.master.playlists[t.media_.id]);t.updateMinimumUpdatePeriodTimeout_()}}))},n.refreshMedia_=function(e){var i,n,r=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.masterPlaylistLoader_?(i=this.masterPlaylistLoader_.master,n=yl({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_})):(i=this.master,n=yl({masterXml:this.masterXml_,srcUrl:this.srcUrl,clientOffset:this.clientOffset_,sidxMapping:this.sidxMapping_}));var o=_l(i,n);o?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=o:this.master=o,this.media_=o.playlists[e]):(this.media_=i.playlists[e],this.trigger("playlistunchanged")),this.media().endList||(this.mediaUpdateTimeout=t.setTimeout((function(){r.trigger("mediaupdatetimeout")}),Du(this.media(),!!o))),this.trigger("loadedplaylist")},i}(ml),El={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Al=function(t){for(var e=new Uint8Array(new ArrayBuffer(t.length)),i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e.buffer},Cl=[],Pl=function(t){var e=t.transmuxer,i=t.bytes,n=t.audioAppendStart,r=t.gopsToAlignWith,o=t.isPartial,a=t.remux,s=t.onData,u=t.onTrackInfo,l=t.onAudioTimingInfo,c=t.onVideoTimingInfo,d=t.onVideoSegmentTimingInfo,h=t.onId3,f=t.onCaptions,p=t.onDone,g={isPartial:o,buffer:[]};if(e.onmessage=function(t){hu&&("data"===t.data.action&&function(t,e,i){var n=t.data.segment,r=n.type,o=n.initSegment,a=n.captions,s=n.captionStreams,u=n.metadata,l=n.videoFrameDtsTime,c=n.videoFramePtsTime;e.buffer.push({captions:a,captionStreams:s,metadata:u});var d=t.data.segment.boxes||{data:t.data.segment.data},h={type:r,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(o.data,o.byteOffset,o.byteLength)};void 0!==l&&(h.videoFrameDtsTime=l),void 0!==c&&(h.videoFramePtsTime=c),i(h)}(t,g,s),"trackinfo"===t.data.action&&u(t.data.trackInfo),"gopInfo"===t.data.action&&function(t,e){e.gopInfo=t.data.gopInfo}(t,g),"audioTimingInfo"===t.data.action&&l(t.data.audioTimingInfo),"videoTimingInfo"===t.data.action&&c(t.data.videoTimingInfo),"videoSegmentTimingInfo"===t.data.action&&d(t.data.videoSegmentTimingInfo),"id3Frame"===t.data.action&&h([t.data.id3Frame],t.data.id3Frame.dispatchType),"caption"===t.data.action&&f(t.data.caption),"transmuxed"===t.data.type&&(e.onmessage=null,function(t){var e=t.transmuxedData,i=t.callback;e.buffer=[],i(e)}({transmuxedData:g,callback:p}),Il()))},n&&e.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(r)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==a&&e.postMessage({action:"setRemux",remux:a}),i.byteLength){var m=i instanceof ArrayBuffer?i:i.buffer,v=i instanceof ArrayBuffer?0:i.byteOffset;e.postMessage({action:"push",data:m,byteOffset:v,byteLength:i.byteLength},[m])}e.postMessage({action:o?"partialFlush":"flush"})},Il=function(){hu=null,Cl.length&&("function"==typeof(hu=Cl.shift())?hu():Pl(hu))},Ol=function(t,e){t.postMessage({action:e}),Il()},xl=function(t,e){if(!hu)return hu=t,void Ol(e,t);Cl.push(Ol.bind(null,e,t))},kl=function(t){if(!hu)return hu=t,void Pl(t);Cl.push(t)},Rl=function(t){xl("reset",t)},Ml=function(){hu=null,Cl.length=0},Ll=function(t){xl("endTimeline",t)},Dl=2,Nl=-101,Fl=-102,Ul=function(t){t.forEach((function(t){t.abort()}))},Vl=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Nl,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Fl,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Dl,xhr:e}:null},Bl=function(t){var e=t.segment,i=t.bytes,n=t.isPartial,r=t.trackInfoFn,o=t.timingInfoFn,a=t.videoSegmentTimingInfoFn,s=t.id3Fn,u=t.captionsFn,l=t.dataFn,c=t.doneFn,d=e.map&&e.map.tracks||{},h=Boolean(d.audio&&d.video),f=o.bind(null,e,"audio","start"),p=o.bind(null,e,"audio","end"),g=o.bind(null,e,"video","start"),m=o.bind(null,e,"video","end");if(!n&&!e.lastReachedChar){var v=function(t,e){var i=eu(t,e*qs);if(!i)return null;var n={hasVideo:i.video&&2===i.video.length||!1,hasAudio:i.audio&&2===i.audio.length||!1};return n.hasVideo&&(n.videoStart=i.video[0].ptsTime),n.hasAudio&&(n.audioStart=i.audio[0].ptsTime),n}(i,e.baseStartTime);v&&(r(e,{hasAudio:v.hasAudio,hasVideo:v.hasVideo,isMuxed:h}),r=null,v.hasAudio&&!h&&f(v.audioStart),v.hasVideo&&g(v.videoStart),f=null,g=null)}kl({bytes:i,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,isPartial:n,remux:h,onData:function(t){t.type="combined"===t.type?"video":t.type,l(e,t)},onTrackInfo:function(t){r&&(h&&(t.isMuxed=!0),r(e,t))},onAudioTimingInfo:function(t){f&&void 0!==t.start&&(f(t.start),f=null),p&&void 0!==t.end&&p(t.end)},onVideoTimingInfo:function(t){g&&void 0!==t.start&&(g(t.start),g=null),m&&void 0!==t.end&&m(t.end)},onVideoSegmentTimingInfo:function(t){a(t)},onId3:function(t,i){s(e,t,i)},onCaptions:function(t){u(e,[t])},onDone:function(t){c&&!n&&(t.type="combined"===t.type?"video":t.type,c(null,e,t))}})},jl=function(t){var e=t.segment,i=t.bytes,n=t.isPartial,r=t.trackInfoFn,o=t.timingInfoFn,a=t.videoSegmentTimingInfoFn,s=t.id3Fn,u=t.captionsFn,l=t.dataFn,c=t.doneFn,d=new Uint8Array(i);if(Cs(d)){e.isFmp4=!0;var h=e.map.tracks,f={isFmp4:!0,hasVideo:!!h.video,hasAudio:!!h.audio};h.audio&&h.audio.codec&&"enca"!==h.audio.codec&&(f.audioCodec=h.audio.codec),h.video&&h.video.codec&&"encv"!==h.video.codec&&(f.videoCodec=h.video.codec),h.video&&h.audio&&(f.isMuxed=!0),r(e,f);var p=lu(e.map.timescales,d);f.hasAudio&&!f.isMuxed&&o(e,"audio","start",p),f.hasVideo&&o(e,"video","start",p);var g=function(t){l(e,{data:i,type:f.hasAudio&&!f.isMuxed?"audio":"video"}),t&&t.length&&u(e,t),c(null,e,{})};if(!h.video||!i.byteLength||!e.transmuxer)return void g();var m=i instanceof ArrayBuffer?i:i.buffer,v=i instanceof ArrayBuffer?0:i.byteOffset;return e.transmuxer.addEventListener("message",(function t(n){if("mp4Captions"===n.data.action){e.transmuxer.removeEventListener("message",t);var r=n.data.data;e.bytes=i=new Uint8Array(r,r.byteOffset||0,r.byteLength),g(n.data.captions)}})),void e.transmuxer.postMessage({action:"pushMp4Captions",timescales:e.map.timescales,trackIds:[h.video.id],data:m,byteOffset:v,byteLength:i.byteLength},[m])}if(e.transmuxer){if(void 0===e.container&&(e.container=Es(d)),"ts"!==e.container&&"aac"!==e.container)return r(e,{hasAudio:!1,hasVideo:!1}),void c(null,e,{});Bl({segment:e,bytes:i,isPartial:n,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,dataFn:l,doneFn:c})}else c(null,e,{})},Hl=function(t){var e=t.activeXhrs,i=t.decryptionWorker,n=t.trackInfoFn,r=t.timingInfoFn,o=t.videoSegmentTimingInfoFn,a=t.id3Fn,s=t.captionsFn,u=t.dataFn,l=t.doneFn,c=0,d=!1;return function(t,h){if(!d){if(t)return d=!0,Ul(e),l(t,h);if((c+=1)===e.length){if(h.endOfAllRequests=Date.now(),h.encryptedBytes)return function(t){var e,i=t.decryptionWorker,n=t.segment,r=t.trackInfoFn,o=t.timingInfoFn,a=t.videoSegmentTimingInfoFn,s=t.id3Fn,u=t.captionsFn,l=t.dataFn,c=t.doneFn;i.addEventListener("message",(function t(e){if(e.data.source===n.requestId){i.removeEventListener("message",t);var d=e.data.decrypted;n.bytes=new Uint8Array(d.bytes,d.byteOffset,d.byteLength),jl({segment:n,bytes:n.bytes,isPartial:!1,trackInfoFn:r,timingInfoFn:o,videoSegmentTimingInfoFn:a,id3Fn:s,captionsFn:u,dataFn:l,doneFn:c})}})),e=n.key.bytes.slice?n.key.bytes.slice():new Uint32Array(Array.prototype.slice.call(n.key.bytes)),i.postMessage(ul({source:n.requestId,encrypted:n.encryptedBytes,key:e,iv:n.key.iv}),[n.encryptedBytes.buffer,e.buffer])}({decryptionWorker:i,segment:h,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:u,doneFn:l});jl({segment:h,bytes:h.bytes,isPartial:!1,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:u,doneFn:l})}}}},Gl=function(t){var e=t.segment,i=t.progressFn,n=t.trackInfoFn,r=t.timingInfoFn,o=t.videoSegmentTimingInfoFn,a=t.id3Fn,s=t.captionsFn,u=t.dataFn,l=t.handlePartialData;return function(t){var c=t.target;if(!c.aborted){if(l&&!e.key&&c.responseText&&c.responseText.length>=8){var d=Al(c.responseText.substring(e.lastReachedChar||0));!e.lastReachedChar&&Cs(new Uint8Array(d))||(e.lastReachedChar=c.responseText.length,jl({segment:e,bytes:d,isPartial:!0,trackInfoFn:n,timingInfoFn:r,videoSegmentTimingInfoFn:o,id3Fn:a,captionsFn:s,dataFn:u}))}return e.stats=Jr.mergeOptions(e.stats,function(t){var e=t.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return i.bytesReceived=t.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i}(t)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),i(t,e)}}},Wl=function(t){var e=t.xhr,i=t.xhrOptions,n=t.decryptionWorker,r=t.segment,o=t.abortFn,a=t.progressFn,s=t.trackInfoFn,u=t.timingInfoFn,l=t.videoSegmentTimingInfoFn,c=t.id3Fn,d=t.captionsFn,h=t.dataFn,f=t.doneFn,p=t.handlePartialData,g=[],m=Hl({activeXhrs:g,decryptionWorker:n,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,dataFn:h,doneFn:f});if(r.key&&!r.key.bytes){var v=e(Jr.mergeOptions(i,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),function(t,e){return function(i,n){var r=n.response,o=Vl(i,n);if(o)return e(o,t);if(16!==r.byteLength)return e({status:n.status,message:"Invalid HLS key at URL: "+n.uri,code:Dl,xhr:n},t);var a=new DataView(r);return t.key.bytes=new Uint32Array([a.getUint32(0),a.getUint32(4),a.getUint32(8),a.getUint32(12)]),e(null,t)}}(r,m));g.push(v)}if(r.map&&!r.map.bytes){var y=e(Jr.mergeOptions(i,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:rl(r.map)}),function(t){var e=t.segment,i=t.finishProcessingFn;return function(t,n){var r=n.response,o=Vl(t,n);if(o)return i(o,e);if(0===r.byteLength)return i({status:n.status,message:"Empty HLS segment content at URL: "+n.uri,code:Dl,xhr:n},e);e.map.bytes=new Uint8Array(n.response);var a=Es(e.map.bytes);return"mp4"!==a?i({status:n.status,message:"Found unsupported "+(a||"unknown")+" container for initialization segment at URL: "+n.uri,code:Dl,internal:!0,xhr:n},e):(cu(e.map.bytes).forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),i(null,e))}}({segment:r,finishProcessingFn:m}));g.push(y)}var _=Jr.mergeOptions(i,{uri:r.resolvedUri,responseType:"arraybuffer",headers:rl(r)});p&&(_.responseType="text",_.beforeSend=function(t){t.overrideMimeType("text/plain; charset=x-user-defined")});var b=e(_,function(t){var e=t.segment,i=t.finishProcessingFn,n=t.responseType;return function(t,r){var o=r.response,a=Vl(t,r);if(a)return i(a,e);var s="arraybuffer"!==n&&r.responseText?Al(r.responseText.substring(e.lastReachedChar||0)):r.response;return 0===o.byteLength?i({status:r.status,message:"Empty HLS segment content at URL: "+r.uri,code:Dl,xhr:r},e):(e.stats=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}}(r),e.key?e.encryptedBytes=new Uint8Array(s):e.bytes=new Uint8Array(s),i(null,e))}}({segment:r,finishProcessingFn:m,responseType:_.responseType}));b.addEventListener("progress",Gl({segment:r,progressFn:a,trackInfoFn:s,timingInfoFn:u,videoSegmentTimingInfoFn:l,id3Fn:c,captionsFn:d,dataFn:h,handlePartialData:p})),g.push(b);var T={};return g.forEach((function(t){t.addEventListener("loadend",function(t){var e=t.loadendState,i=t.abortFn;return function(t){t.target.aborted&&i&&!e.calledAbortFn&&(i(),e.calledAbortFn=!0)}}({loadendState:T,abortFn:o}))})),function(){return Ul(g)}},zl="undefined"!=typeof window?window:{},$l="undefined"==typeof Symbol?"__target":Symbol(),ql=zl.BlobBuilder||zl.WebKitBlobBuilder||zl.MozBlobBuilder||zl.MSBlobBuilder,Yl=zl.URL||zl.webkitURL||Yl&&Yl.msURL,Kl=zl.Worker;function Xl(t,e){return function(i){var n=this;if(!e)return new Kl(t);if(Kl&&!i){var r=tc(e.toString().replace(/^function.+?{/,"").slice(0,-1));return this[$l]=new Kl(r),function(t,e){if(t&&e){var i=t.terminate;t.objURL=e,t.terminate=function(){t.objURL&&Yl.revokeObjectURL(t.objURL),i.call(t)}}}(this[$l],r),this[$l]}var o={postMessage:function(t){n.onmessage&&setTimeout((function(){n.onmessage({data:t,target:o})}))}};e.call(o),this.postMessage=function(t){setTimeout((function(){o.onmessage({data:t,target:n})}))},this.isThisThread=!0}}if(Kl){var Zl,Ql=tc("self.onmessage = function () {}"),Jl=new Uint8Array(1);try{(Zl=new Kl(Ql)).postMessage(Jl,[Jl.buffer])}catch(t){Kl=null}finally{Yl.revokeObjectURL(Ql),Zl&&Zl.terminate()}}function tc(t){try{return Yl.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch(i){var e=new ql;return e.append(t),Yl.createObjectURL(e.getBlob(type))}}var ec=new Xl("./transmuxer-worker.worker.js",(function(t,e){var i=this;
/*! @name @videojs/http-streaming @version 2.2.4 @license Apache-2.0 */!function(){var t=function(){this.init=function(){var t={};this.on=function(e,i){t[e]||(t[e]=[]),t[e]=t[e].concat(i)},this.off=function(e,i){var n;return!!t[e]&&(n=t[e].indexOf(i),t[e]=t[e].slice(),t[e].splice(n,1),n>-1)},this.trigger=function(e){var i,n,r,o;if(i=t[e])if(2===arguments.length)for(r=i.length,n=0;n<r;++n)i[n].call(this,arguments[1]);else{for(o=[],n=arguments.length,n=1;n<arguments.length;++n)o.push(arguments[n]);for(r=i.length,n=0;n<r;++n)i[n].apply(this,o)}},this.dispose=function(){t={}}}};t.prototype.pipe=function(t){return this.on("data",(function(e){t.push(e)})),this.on("done",(function(e){t.flush(e)})),this.on("partialdone",(function(e){t.partialFlush(e)})),this.on("endedtimeline",(function(e){t.endTimeline(e)})),this.on("reset",(function(e){t.reset(e)})),t},t.prototype.push=function(t){this.trigger("data",t)},t.prototype.flush=function(t){this.trigger("done",t)},t.prototype.partialFlush=function(t){this.trigger("partialdone",t)},t.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)},t.prototype.reset=function(t){this.trigger("reset",t)};var e,n,r,o,a,s,u,l,c,d,h,f,p,g,m,v,y,_,b,T,w,S,E,A,C,P,I,O,x,k,R,M,L,D,N,F,U,V,B,j,H=t,G=Math.pow(2,32)-1;!function(){var t;if(S={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in S)S.hasOwnProperty(t)&&(S[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);E=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),C=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),A=new Uint8Array([0,0,0,1]),P=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),I=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),O={video:P,audio:I},R=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),k=new Uint8Array([0,0,0,0,0,0,0,0]),M=new Uint8Array([0,0,0,0,0,0,0,0]),L=M,D=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),N=M,x=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),e=function(t){var e,i,n=[],r=0;for(e=1;e<arguments.length;e++)n.push(arguments[e]);for(e=n.length;e--;)r+=n[e].byteLength;for(i=new Uint8Array(r+8),new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,i.byteLength),i.set(t,4),e=0,r=8;e<n.length;e++)i.set(n[e],r),r+=n[e].byteLength;return i},n=function(){return e(S.dinf,e(S.dref,R))},r=function(t){return e(S.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},m=function(t){return e(S.hdlr,O[t])},g=function(t){var i=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(i[12]=t.samplerate>>>24&255,i[13]=t.samplerate>>>16&255,i[14]=t.samplerate>>>8&255,i[15]=255&t.samplerate),e(S.mdhd,i)},p=function(t){return e(S.mdia,g(t),m(t.type),s(t))},a=function(t){return e(S.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},s=function(t){return e(S.minf,"video"===t.type?e(S.vmhd,x):e(S.smhd,k),n(),y(t))},u=function(t,i){for(var n=[],r=i.length;r--;)n[r]=b(i[r]);return e.apply(null,[S.moof,a(t)].concat(n))},l=function(t){for(var i=t.length,n=[];i--;)n[i]=h(t[i]);return e.apply(null,[S.moov,d(4294967295)].concat(n).concat(c(t)))},c=function(t){for(var i=t.length,n=[];i--;)n[i]=T(t[i]);return e.apply(null,[S.mvex].concat(n))},d=function(t){var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e(S.mvhd,i)},v=function(t){var i,n,r=t.samples||[],o=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)i=r[n].flags,o[n+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return e(S.sdtp,o)},y=function(t){return e(S.stbl,_(t),e(S.stts,N),e(S.stsc,L),e(S.stsz,D),e(S.stco,M))},_=function(t){return e(S.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===t.type?F(t):U(t))},F=function(t){var i,n,r=t.sps||[],o=t.pps||[],a=[],s=[];for(i=0;i<r.length;i++)a.push((65280&r[i].byteLength)>>>8),a.push(255&r[i].byteLength),a=a.concat(Array.prototype.slice.call(r[i]));for(i=0;i<o.length;i++)s.push((65280&o[i].byteLength)>>>8),s.push(255&o[i].byteLength),s=s.concat(Array.prototype.slice.call(o[i]));if(n=[S.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),e(S.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([r.length],a,[o.length],s))),e(S.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],t.sarRatio){var u=t.sarRatio[0],l=t.sarRatio[1];n.push(e(S.pasp,new Uint8Array([(4278190080&u)>>24,(16711680&u)>>16,(65280&u)>>8,255&u,(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l])))}return e.apply(null,n)},U=function(t){return e(S.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),r(t))},f=function(t){var i=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return e(S.tkhd,i)},b=function(t){var i,n,r,o,a,s;return i=e(S.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(t.baseMediaDecodeTime/(G+1)),s=Math.floor(t.baseMediaDecodeTime%(G+1)),n=e(S.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),"audio"===t.type?(r=w(t,92),e(S.traf,i,n,r)):(o=v(t),r=w(t,o.length+92),e(S.traf,i,n,r,o))},h=function(t){return t.duration=t.duration||4294967295,e(S.trak,f(t),p(t))},T=function(t){var i=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(i[i.length-1]=0),e(S.trex,i)},j=function(t,e){var i=0,n=0,r=0,o=0;return t.length&&(void 0!==t[0].duration&&(i=1),void 0!==t[0].size&&(n=2),void 0!==t[0].flags&&(r=4),void 0!==t[0].compositionTimeOffset&&(o=8)),[0,0,i|n|r|o,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},B=function(t,i){var n,r,o,a,s,u;for(i+=20+16*(a=t.samples||[]).length,o=j(a,i),(r=new Uint8Array(o.length+16*a.length)).set(o),n=o.length,u=0;u<a.length;u++)s=a[u],r[n++]=(4278190080&s.duration)>>>24,r[n++]=(16711680&s.duration)>>>16,r[n++]=(65280&s.duration)>>>8,r[n++]=255&s.duration,r[n++]=(4278190080&s.size)>>>24,r[n++]=(16711680&s.size)>>>16,r[n++]=(65280&s.size)>>>8,r[n++]=255&s.size,r[n++]=s.flags.isLeading<<2|s.flags.dependsOn,r[n++]=s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,r[n++]=61440&s.flags.degradationPriority,r[n++]=15&s.flags.degradationPriority,r[n++]=(4278190080&s.compositionTimeOffset)>>>24,r[n++]=(16711680&s.compositionTimeOffset)>>>16,r[n++]=(65280&s.compositionTimeOffset)>>>8,r[n++]=255&s.compositionTimeOffset;return e(S.trun,r)},V=function(t,i){var n,r,o,a,s,u;for(i+=20+8*(a=t.samples||[]).length,o=j(a,i),(n=new Uint8Array(o.length+8*a.length)).set(o),r=o.length,u=0;u<a.length;u++)s=a[u],n[r++]=(4278190080&s.duration)>>>24,n[r++]=(16711680&s.duration)>>>16,n[r++]=(65280&s.duration)>>>8,n[r++]=255&s.duration,n[r++]=(4278190080&s.size)>>>24,n[r++]=(16711680&s.size)>>>16,n[r++]=(65280&s.size)>>>8,n[r++]=255&s.size;return e(S.trun,n)},w=function(t,e){return"audio"===t.type?V(t,e):B(t,e)},o=function(){return e(S.ftyp,E,A,E,C)};var W,z,$,q,Y,K,X,Z,Q=function(t){return e(S.mdat,t)},J=u,tt=function(t){var e,i=o(),n=l(t);return(e=new Uint8Array(i.byteLength+n.byteLength)).set(i),e.set(n,i.byteLength),e},et=function(t,e){var i={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return i.dataOffset=e,i.compositionTimeOffset=t.pts-t.dts,i.duration=t.duration,i.size=4*t.length,i.size+=t.byteLength,t.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},it=function(t){var e,i,n=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,n.byteLength=0,e=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(i=t[e]).nalUnitType?(n.length&&(n.duration=i.dts-n.dts,r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n)),(n=[i]).byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return r.length&&(!n.duration||n.duration<=0)&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n),r},nt=function(t){var e,i,n=[],r=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=t[0].pts,n.dts=t[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=t[0].pts,r.dts=t[0].dts,e=0;e<t.length;e++)(i=t[e]).keyFrame?(n.length&&(r.push(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration),(n=[i]).nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return r.length&&n.duration<=0&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration,r.push(n),r},rt=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},ot=function(t,e){var i,n,r,o,a,s=e||0,u=[];for(i=0;i<t.length;i++)for(o=t[i],n=0;n<o.length;n++)a=o[n],s+=(r=et(a,s)).size,u.push(r);return u},at=function(t){var e,i,n,r,o,a,s=0,u=t.byteLength,l=t.nalCount,c=new Uint8Array(u+4*l),d=new DataView(c.buffer);for(e=0;e<t.length;e++)for(r=t[e],i=0;i<r.length;i++)for(o=r[i],n=0;n<o.length;n++)a=o[n],d.setUint32(s,a.data.byteLength),s+=4,c.set(a.data,s),s+=a.data.byteLength;return c},st=function(t,e){var i,n=[];return i=et(t,e||0),n.push(i),n},ut=function(t){var e,i,n=0,r=t.byteLength,o=t.length,a=new Uint8Array(r+4*o),s=new DataView(a.buffer);for(e=0;e<t.length;e++)i=t[e],s.setUint32(n,i.data.byteLength),n+=4,a.set(i.data,n),n+=i.data.byteLength;return a},lt=[33,16,5,32,164,27],ct=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],dt=function(t){for(var e=[];t--;)e.push(0);return e},ht=function(){if(!W){var t={96e3:[lt,[227,64],dt(154),[56]],88200:[lt,[231],dt(170),[56]],64e3:[lt,[248,192],dt(240),[56]],48e3:[lt,[255,192],dt(268),[55,148,128],dt(54),[112]],44100:[lt,[255,192],dt(268),[55,163,128],dt(84),[112]],32e3:[lt,[255,192],dt(268),[55,234],dt(226),[112]],24e3:[lt,[255,192],dt(268),[55,255,128],dt(268),[111,112],dt(126),[224]],16e3:[lt,[255,192],dt(268),[55,255,128],dt(268),[111,255],dt(269),[223,108],dt(195),[1,192]],12e3:[ct,dt(268),[3,127,248],dt(268),[6,255,240],dt(268),[13,255,224],dt(268),[27,253,128],dt(259),[56]],11025:[ct,dt(268),[3,127,248],dt(268),[6,255,240],dt(268),[13,255,224],dt(268),[27,255,192],dt(268),[55,175,128],dt(108),[112]],8e3:[ct,dt(268),[3,121,16],dt(47),[7]]};e=t,W=Object.keys(e).reduce((function(t,i){return t[i]=new Uint8Array(e[i].reduce((function(t,e){return t.concat(e)}),[])),t}),{})}var e;return W};K=function(t,e){return z(Y(t,e))},X=function(t,e){return $(q(t),e)},Z=function(t,e,i){return q(i?t:t-e)};var ft=9e4,pt=($=function(t,e){return t*e},q=function(t){return t/9e4}),gt=(Y=function(t,e){return t/e},K),mt=X,vt=Z,yt=z=function(t){return 9e4*t},_t=pt,bt=function(t,e,i,n){var r,o,a,s,u,l=0,c=0,d=0;if(e.length&&(r=gt(t.baseMediaDecodeTime,t.samplerate),o=Math.ceil(ft/(t.samplerate/1024)),i&&n&&(l=r-Math.max(i,n),d=(c=Math.floor(l/o))*o),!(c<1||d>ft/2))){for((a=ht()[t.samplerate])||(a=e[0].data),s=0;s<c;s++)u=e[0],e.splice(0,0,{data:a,dts:u.dts-o,pts:u.pts-o});t.baseMediaDecodeTime-=Math.floor(mt(d,t.samplerate))}},Tt=function(t,e,i){return e.minSegmentDts>=i?t:(e.minSegmentDts=1/0,t.filter((function(t){return t.dts>=i&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)})))},wt=function(t){var e,i,n=[];for(e=0;e<t.length;e++)i=t[e],n.push({size:i.data.byteLength,duration:1024});return n},St=function(t){var e,i,n=0,r=new Uint8Array(function(t){var e,i=0;for(e=0;e<t.length;e++)i+=t[e].data.byteLength;return i}(t));for(e=0;e<t.length;e++)i=t[e],r.set(i.data,n),n+=i.data.byteLength;return r},Et=ft,At=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},Ct=function(t,e){var i,n=t.minSegmentDts;return e||(n-=t.timelineStartInfo.dts),i=t.timelineStartInfo.baseMediaDecodeTime,i+=n,i=Math.max(0,i),"audio"===t.type&&(i*=t.samplerate/Et,i=Math.floor(i)),i},Pt=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},It=function(t){for(var e=0,i={payloadType:-1,payloadSize:0},n=0,r=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)n+=255,e++;for(n+=t[e++];255===t[e];)r+=255,e++;if(r+=t[e++],!i.payload&&4===n){if("GA94"===String.fromCharCode(t[e+3],t[e+4],t[e+5],t[e+6])){i.payloadType=n,i.payloadSize=r,i.payload=t.subarray(e,e+r);break}i.payload=void 0}e+=r,n=0,r=0}return i},Ot=function(t){return 181!==t.payload[0]||49!=(t.payload[1]<<8|t.payload[2])||"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])||3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},xt=function(t,e){var i,n,r,o,a=[];if(!(64&e[0]))return a;for(n=31&e[0],i=0;i<n;i++)o={type:3&e[2+(r=3*i)],pts:t},4&e[r+2]&&(o.ccData=e[r+3]<<8|e[r+4],a.push(o));return a},kt=function(t){for(var e,i,n=t.byteLength,r=[],o=1;o<n-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return t;e=n-r.length,i=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===r[0]&&(a++,r.shift()),i[o]=t[a];return i},Rt=4,Mt=function t(){t.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Ut(0,0),new Ut(0,1),new Ut(1,0),new Ut(1,1)],this.reset(),this.ccStreams_.forEach((function(t){t.on("data",this.trigger.bind(this,"data")),t.on("partialdone",this.trigger.bind(this,"partialdone")),t.on("done",this.trigger.bind(this,"done"))}),this)};(Mt.prototype=new H).push=function(t){var e,i,n;if("sei_rbsp"===t.nalUnitType&&(e=It(t.escapedRBSP)).payloadType===Rt&&(i=Ot(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=xt(t.pts,i),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},Mt.prototype.flushCCStreams=function(t){this.ccStreams_.forEach((function(e){return"flush"===t?e.flush():e.partialFlush()}),this)},Mt.prototype.flushStream=function(t){this.captionPackets_.length?(this.captionPackets_.forEach((function(t,e){t.presortIndex=e})),this.captionPackets_.sort((function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts})),this.captionPackets_.forEach((function(t){t.type<2&&this.dispatchCea608Packet(t)}),this),this.captionPackets_.length=0,this.flushCCStreams(t)):this.flushCCStreams(t)},Mt.prototype.flush=function(){return this.flushStream("flush")},Mt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Mt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(t){t.reset()}))},Mt.prototype.dispatchCea608Packet=function(t){this.setsTextOrXDSActive(t)?this.activeCea608Channel_[t.type]=null:this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},Mt.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},Mt.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)},Mt.prototype.setsTextOrXDSActive=function(t){return 256==(28928&t.ccData)||4138==(30974&t.ccData)||6186==(30974&t.ccData)};var Lt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Dt=function(t){return null===t?"":(t=Lt[t]||t,String.fromCharCode(t))},Nt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ft=function(){for(var t=[],e=15;e--;)t.push("");return t},Ut=function t(e,i){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=i||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,i,n,r,o;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),n=e>>>8,r=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=Ft();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ft();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=Ft()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(n,r))o=Dt((n=(3&n)<<8)|r),this[this.mode_](t.pts,o),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),o=Dt((n=(3&n)<<8)|r),this[this.mode_](t.pts,o),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&r)&&this.addFormatting(t.pts,["i"]),1==(1&r)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var a=Nt.indexOf(7968&e);"rollUp"===this.mode_&&(a-this.rollUpRows_+1<0&&(a=this.rollUpRows_-1),this.setRollUp(t.pts,a)),a!==this.row_&&(this.clearFormatting(t.pts),this.row_=a),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),o=Dt(n),o+=Dt(r),this[this.mode_](t.pts,o),this.column_+=o.length)}else this.lastControlCode_=null}};Ut.prototype=new H,Ut.prototype.flushDisplayed=function(t){var e=this.displayed_.map((function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}})).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},Ut.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ft(),this.nonDisplayed_=Ft(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ut.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ut.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},Ut.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},Ut.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},Ut.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},Ut.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},Ut.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},Ut.prototype.isNormalChar=function(t){return t>=32&&t<=127},Ut.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=Ft(),this.displayed_=Ft()),void 0!==e&&e!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[e-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},Ut.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var i=e.reduce((function(t,e){return t+"<"+e+">"}),"");this[this.mode_](t,i)},Ut.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce((function(t,e){return t+"</"+e+">"}),"");this.formatting_=[],this[this.mode_](t,e)}},Ut.prototype.popOn=function(t,e){var i=this.nonDisplayed_[this.row_];i+=e,this.nonDisplayed_[this.row_]=i},Ut.prototype.rollUp=function(t,e){var i=this.displayed_[this.row_];i+=e,this.displayed_[this.row_]=i},Ut.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},Ut.prototype.paintOn=function(t,e){var i=this.displayed_[this.row_];i+=e,this.displayed_[this.row_]=i};var Vt={CaptionStream:Mt,Cea608Stream:Ut},Bt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},jt=function(t,e){var i=1;for(t>e&&(i=-1);Math.abs(e-t)>4294967296;)t+=8589934592*i;return t},Ht=function t(e){var i,n;t.prototype.init.call(this),this.type_=e||"shared",this.push=function(t){"shared"!==this.type_&&t.type!==this.type_||(void 0===n&&(n=t.dts),t.dts=jt(t.dts,n),t.pts=jt(t.pts,n),i=t.dts,this.trigger("data",t))},this.flush=function(){n=i,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){n=void 0,i=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ht.prototype=new H;var Gt,Wt=Ht,zt=function(t,e,i){var n,r="";for(n=e;n<i;n++)r+="%"+("00"+t[n].toString(16)).slice(-2);return r},$t=function(t,e,i){return decodeURIComponent(zt(t,e,i))},qt=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},Yt={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=$t(t.data,1,e),t.value=$t(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=$t(t.data,1,e),t.url=$t(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,i;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(i=t.data,unescape(zt(i,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(Gt=function(t){var e,i={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},n=0,r=[],o=0;if(Gt.prototype.init.call(this),this.dispatchType=Bt.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(e=0;e<i.descriptor.length;e++)this.dispatchType+=("00"+i.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,a,s,u,l;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(o=0,r.length=0),0===r.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))i.debug&&console.log("Skipping unrecognized metadata packet");else if(r.push(t),o+=t.data.byteLength,1===r.length&&(n=qt(t.data.subarray(6,10)),n+=10),!(o<n)){for(e={data:new Uint8Array(n),frames:[],pts:r[0].pts,dts:r[0].dts},l=0;l<n;)e.data.set(r[0].data.subarray(0,n-l),l),l+=r[0].data.byteLength,o-=r[0].data.byteLength,r.shift();a=10,64&e.data[5]&&(a+=4,a+=qt(e.data.subarray(10,14)),n-=qt(e.data.subarray(16,20)));do{if((s=qt(e.data.subarray(a+4,a+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((u={id:String.fromCharCode(e.data[a],e.data[a+1],e.data[a+2],e.data[a+3]),data:e.data.subarray(a+10,a+s+10)}).key=u.id,Yt[u.id]&&(Yt[u.id](u),"com.apple.streaming.transportStreamTimestamp"===u.owner)){var c=u.data,d=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;d*=4,d+=3&c[7],u.timeStamp=d,void 0===e.pts&&void 0===e.dts&&(e.pts=u.timeStamp,e.dts=u.timeStamp),this.trigger("timestamp",u)}e.frames.push(u),a+=10,a+=s}while(a<n);this.trigger("data",e)}}}).prototype=new H;var Kt,Xt,Zt,Qt=Gt,Jt=Wt;(Kt=function(){var t=new Uint8Array(188),e=0;Kt.prototype.init.call(this),this.push=function(i){var n,r=0,o=188;for(e?((n=new Uint8Array(i.byteLength+e)).set(t.subarray(0,e)),n.set(i,e),e=0):n=i;o<n.byteLength;)71!==n[r]||71!==n[o]?(r++,o++):(this.trigger("data",n.subarray(r,o)),r+=188,o+=188);r<n.byteLength&&(t.set(n.subarray(r),0),e=n.byteLength-r)},this.flush=function(){188===e&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){e=0,this.trigger("reset")}}).prototype=new H,(Xt=function(){var t,e,i,n;Xt.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,n){var r=0;n.payloadUnitStartIndicator&&(r+=t[r]+1),"pat"===n.type?e(t.subarray(r),n):i(t.subarray(r),n)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],n.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=n.pmtPid},i=function(t,e){var i,r;if(1&t[5]){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&t[1])<<8|t[2])-4,r=12+((15&t[10])<<8|t[11]);r<i;){var o=t[r],a=(31&t[r+1])<<8|t[r+2];o===Bt.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=a:o===Bt.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=a:o===Bt.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][a]=o),r+=5+((15&t[r+3])<<8|t[r+4])}e.programMapTable=n.programMapTable}},this.push=function(e){var i={},n=4;if(i.payloadUnitStartIndicator=!!(64&e[1]),i.pid=31&e[1],i.pid<<=8,i.pid|=e[2],(48&e[3])>>>4>1&&(n+=e[n]+1),0===i.pid)i.type="pat",t(e.subarray(n),i),this.trigger("data",i);else if(i.pid===this.pmtPid)for(i.type="pmt",t(e.subarray(n),i),this.trigger("data",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,n,i]):this.processPes_(e,n,i)},this.processPes_=function(t,e,i){i.pid===this.programMapTable.video?i.streamType=Bt.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=Bt.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=t.subarray(e),this.trigger("data",i)}}).prototype=new H,Xt.STREAM_TYPES={h264:27,adts:15},(Zt=function(){var t,e=this,i={data:[],size:0},n={data:[],size:0},r={data:[],size:0},o=function(t,i,n){var r,o,a=new Uint8Array(t.size),s={type:i},u=0,l=0;if(t.data.length&&!(t.size<9)){for(s.trackId=t.data[0].pid,u=0;u<t.data.length;u++)o=t.data[u],a.set(o.data,l),l+=o.data.byteLength;var c,d,h;c=a,(d=s).packetLength=6+(c[4]<<8|c[5]),d.dataAlignmentIndicator=0!=(4&c[6]),192&(h=c[7])&&(d.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,d.pts*=4,d.pts+=(6&c[13])>>>1,d.dts=d.pts,64&h&&(d.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,d.dts*=4,d.dts+=(6&c[18])>>>1)),d.data=c.subarray(9+c[8]),r="video"===i||s.packetLength<=t.size,(n||r)&&(t.size=0,t.data.length=0),r&&e.trigger("data",s)}};Zt.prototype.init.call(this),this.push=function(a){({pat:function(){},pes:function(){var t,e;switch(a.streamType){case Bt.H264_STREAM_TYPE:t=i,e="video";break;case Bt.ADTS_STREAM_TYPE:t=n,e="audio";break;case Bt.METADATA_STREAM_TYPE:t=r,e="timed-metadata";break;default:return}a.payloadUnitStartIndicator&&o(t,e,!0),t.data.push(a),t.size+=a.data.byteLength},pmt:function(){var i={type:"metadata",tracks:[]};null!==(t=a.programMapTable).video&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&i.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),e.trigger("data",i)}})[a.type]()},this.reset=function(){i.size=0,i.data.length=0,n.size=0,n.data.length=0,this.trigger("reset")},this.flushStreams_=function(){o(i,"video"),o(n,"audio"),o(r,"timed-metadata")},this.flush=function(){this.flushStreams_(),this.trigger("done")}}).prototype=new H;var te={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Kt,TransportParseStream:Xt,ElementaryStream:Zt,TimestampRolloverStream:Jt,CaptionStream:Vt.CaptionStream,Cea608Stream:Vt.Cea608Stream,MetadataStream:Qt};for(var ee in Bt)Bt.hasOwnProperty(ee)&&(te[ee]=Bt[ee]);var ie,ne=te,re=ft,oe=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(ie=function(t){var e,i=0;ie.prototype.init.call(this),this.push=function(n){var r,o,a,s,u,l,c=0;if(t||(i=0),"audio"===n.type)for(e?(s=e,(e=new Uint8Array(s.byteLength+n.data.byteLength)).set(s),e.set(n.data,s.byteLength)):e=n.data;c+5<e.length;)if(255===e[c]&&240==(246&e[c+1])){if(o=2*(1&~e[c+1]),r=(3&e[c+3])<<11|e[c+4]<<3|(224&e[c+5])>>5,l=(u=1024*(1+(3&e[c+6])))*re/oe[(60&e[c+2])>>>2],a=c+r,e.byteLength<a)return;if(this.trigger("data",{pts:n.pts+i*l,dts:n.dts+i*l,sampleCount:u,audioobjecttype:1+(e[c+2]>>>6&3),channelcount:(1&e[c+2])<<2|(192&e[c+3])>>>6,samplerate:oe[(60&e[c+2])>>>2],samplingfrequencyindex:(60&e[c+2])>>>2,samplesize:16,data:e.subarray(c+7+o,a)}),i++,e.byteLength===a)return void(e=void 0);e=e.subarray(a)}else c++},this.flush=function(){i=0,this.trigger("done")},this.reset=function(){e=void 0,this.trigger("reset")},this.endTimeline=function(){e=void 0,this.trigger("endedtimeline")}}).prototype=new H;var ae,se,ue,le=ie,ce=function(t){var e=t.byteLength,i=0,n=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+n},this.loadWord=function(){var r=t.byteLength-e,o=new Uint8Array(4),a=Math.min(4,e);if(0===a)throw new Error("no bytes available");o.set(t.subarray(r,r+a)),i=new DataView(o.buffer).getUint32(0),n=8*a,e-=a},this.skipBits=function(t){var r;n>t?(i<<=t,n-=t):(t-=n,t-=8*(r=Math.floor(t/8)),e-=r,this.loadWord(),i<<=t,n-=t)},this.readBits=function(t){var r=Math.min(n,t),o=i>>>32-r;return(n-=r)>0?i<<=r:e>0&&this.loadWord(),(r=t-r)>0?o<<r|this.readBits(r):o},this.skipLeadingZeros=function(){var t;for(t=0;t<n;++t)if(0!=(i&2147483648>>>t))return i<<=t,n-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(se=function(){var t,e,i=0;se.prototype.init.call(this),this.push=function(n){var r;e?((r=new Uint8Array(e.byteLength+n.data.byteLength)).set(e),r.set(n.data,e.byteLength),e=r):e=n.data;for(var o=e.byteLength;i<o-3;i++)if(1===e[i+2]){t=i+5;break}for(;t<o;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}i+3!==t-2&&this.trigger("data",e.subarray(i+3,t-2));do{t++}while(1!==e[t]&&t<o);i=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(i+3,t-2)),i=t-2,t+=3;break;default:t+=3}e=e.subarray(i),t-=i,i=0},this.reset=function(){e=null,i=0,this.trigger("reset")},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(i+3)),e=null,i=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}}).prototype=new H,ue={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(ae=function(){var t,e,i,n,r,o,a,s=new se;ae.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,i=t.pts,n=t.dts,s.push(t))},s.on("data",(function(a){var s={trackId:e,pts:i,dts:n,data:a};switch(31&a[0]){case 5:s.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:s.nalUnitType="sei_rbsp",s.escapedRBSP=r(a.subarray(1));break;case 7:s.nalUnitType="seq_parameter_set_rbsp",s.escapedRBSP=r(a.subarray(1)),s.config=o(s.escapedRBSP);break;case 8:s.nalUnitType="pic_parameter_set_rbsp";break;case 9:s.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",s)})),s.on("done",(function(){t.trigger("done")})),s.on("partialdone",(function(){t.trigger("partialdone")})),s.on("reset",(function(){t.trigger("reset")})),s.on("endedtimeline",(function(){t.trigger("endedtimeline")})),this.flush=function(){s.flush()},this.partialFlush=function(){s.partialFlush()},this.reset=function(){s.reset()},this.endTimeline=function(){s.endTimeline()},a=function(t,e){var i,n=8,r=8;for(i=0;i<t;i++)0!==r&&(r=(n+e.readExpGolomb()+256)%256),n=0===r?n:r},r=function(t){for(var e,i,n=t.byteLength,r=[],o=1;o<n-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(r.push(o+2),o+=2):o++;if(0===r.length)return t;e=n-r.length,i=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===r[0]&&(a++,r.shift()),i[o]=t[a];return i},o=function(t){var e,i,n,r,o,s,u,l,c,d,h,f,p,g=0,m=0,v=0,y=0,_=1;if(i=(e=new ce(t)).readUnsignedByte(),r=e.readUnsignedByte(),n=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),ue[i]&&(3===(o=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(h=3!==o?8:12,p=0;p<h;p++)e.readBoolean()&&a(p<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(s=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===s)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),u=e.readUnsignedExpGolomb(),p=0;p<u;p++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),l=e.readUnsignedExpGolomb(),c=e.readUnsignedExpGolomb(),0===(d=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(g=e.readUnsignedExpGolomb(),m=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb(),y=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:f=[1,1];break;case 2:f=[12,11];break;case 3:f=[10,11];break;case 4:f=[16,11];break;case 5:f=[40,33];break;case 6:f=[24,11];break;case 7:f=[20,11];break;case 8:f=[32,11];break;case 9:f=[80,33];break;case 10:f=[18,11];break;case 11:f=[15,11];break;case 12:f=[64,33];break;case 13:f=[160,99];break;case 14:f=[4,3];break;case 15:f=[3,2];break;case 16:f=[2,1];break;case 255:f=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}f&&(_=f[0]/f[1])}return{profileIdc:i,levelIdc:n,profileCompatibility:r,width:Math.ceil((16*(l+1)-2*g-2*m)*_),height:(2-d)*(c+1)*16-2*v-2*y,sarRatio:f}}}).prototype=new H;var de,he={H264Stream:ae,NalByteStream:se},fe=function(t,e){var i=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return i=i>=0?i:0,(16&t[e+5])>>4?i+20:i+10},pe=function(t){var e=function t(e,i){return e.length-i<10||e[i]!=="I".charCodeAt(0)||e[i+1]!=="D".charCodeAt(0)||e[i+2]!=="3".charCodeAt(0)?i:t(e,i+=fe(e,i))}(t,0);return t.length>=e+2&&255==(255&t[e])&&240==(240&t[e+1])&&16==(22&t[e+1])},ge=fe,me=function(t,e){var i=(224&t[e+5])>>5,n=t[e+4]<<3;return 6144&t[e+3]|n|i};(de=function(){var t=new Uint8Array,e=0;de.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(i){var n,r,o,a,s=0,u=0;for(t.length?(a=t.length,(t=new Uint8Array(i.byteLength+a)).set(t.subarray(0,a)),t.set(i,a)):t=i;t.length-u>=3;)if(t[u]!=="I".charCodeAt(0)||t[u+1]!=="D".charCodeAt(0)||t[u+2]!=="3".charCodeAt(0))if(255!=(255&t[u])||240!=(240&t[u+1]))u++;else{if(t.length-u<7)break;if(u+(s=me(t,u))>t.length)break;o={type:"audio",data:t.subarray(u,u+s),pts:e,dts:e},this.trigger("data",o),u+=s}else{if(t.length-u<10)break;if(u+(s=ge(t,u))>t.length)break;r={type:"timed-metadata",data:t.subarray(u,u+s)},this.trigger("data",r),u+=s}n=t.length-u,t=n>0?t.subarray(u):new Uint8Array},this.reset=function(){t=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){t=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new H;var ve,ye,_e,be,Te=de,we=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Se=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ee=he.H264Stream,Ae=pe,Ce=ft,Pe=function(t,e){var i;if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0},Ie=function(t,e,i,n,r,o){return{start:{dts:t,pts:t+(i-e)},end:{dts:t+(n-e),pts:t+(r-i)},prependedContentDuration:o,baseMediaDecodeTime:t}};(ye=function(t,e){var i=[],n=0,r=0,o=0,a=1/0;e=e||{},ye.prototype.init.call(this),this.push=function(e){Pt(t,e),t&&we.forEach((function(i){t[i]=e[i]})),i.push(e)},this.setEarliestDts=function(t){r=t},this.setVideoBaseMediaDecodeTime=function(t){a=t},this.setAudioAppendStart=function(t){o=t},this.flush=function(){var s,u,l,c,d;0!==i.length?(s=Tt(i,t,r),t.baseMediaDecodeTime=Ct(t,e.keepOriginalTimestamps),bt(t,s,o,a),t.samples=wt(s),l=Q(St(s)),i=[],u=J(n,[t]),c=new Uint8Array(u.byteLength+l.byteLength),n++,c.set(u),c.set(l,u.byteLength),At(t),d=Math.ceil(1024*Ce/t.samplerate),s.length&&this.trigger("timingInfo",{start:s[0].pts,end:s[0].pts+s.length*d}),this.trigger("data",{track:t,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){At(t),i=[],this.trigger("reset")}}).prototype=new H,(ve=function(t,e){var i,n,r=0,o=[],a=[];e=e||{},ve.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){Pt(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.config,t.sps=[e.data],Se.forEach((function(e){t[e]=i[e]}),this)),"pic_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.data,t.pps=[e.data]),o.push(e)},this.flush=function(){for(var i,n,s,u,l,c,d,h,f=0;o.length&&"access_unit_delimiter_rbsp"!==o[0].nalUnitType;)o.shift();if(0===o.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=it(o),(s=nt(i))[0][0].keyFrame||((n=this.getGopForFusion_(o[0],t))?(f=n.duration,s.unshift(n),s.byteLength+=n.byteLength,s.nalCount+=n.nalCount,s.pts=n.pts,s.dts=n.dts,s.duration+=n.duration):s=rt(s)),a.length){var p;if(!(p=e.alignGopsAtEnd?this.alignGopsAtEnd_(s):this.alignGopsAtStart_(s)))return this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");At(t),s=p}Pt(t,s),t.samples=ot(s),l=Q(at(s)),t.baseMediaDecodeTime=Ct(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",s.map((function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}}))),d=s[0],h=s[s.length-1],this.trigger("segmentTimingInfo",Ie(t.baseMediaDecodeTime,d.dts,d.pts,h.dts+h.duration,h.pts+h.duration,f)),this.trigger("timingInfo",{start:s[0].pts,end:s[s.length-1].pts+s[s.length-1].duration}),this.gopCache_.unshift({gop:s.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),o=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),u=J(r,[t]),c=new Uint8Array(u.byteLength+l.byteLength),r++,c.set(u),c.set(l,u.byteLength),this.trigger("data",{track:t,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),o=[],this.gopCache_.length=0,a.length=0,this.trigger("reset")},this.resetStream_=function(){At(t),i=void 0,n=void 0},this.getGopForFusion_=function(e){var i,n,r,o,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)r=(o=this.gopCache_[a]).gop,t.pps&&Pe(t.pps[0],o.pps[0])&&t.sps&&Pe(t.sps[0],o.sps[0])&&(r.dts<t.timelineStartInfo.dts||(i=e.dts-r.dts-r.duration)>=-1e4&&i<=45e3&&(!n||s>i)&&(n=o,s=i));return n?n.gop:null},this.alignGopsAtStart_=function(t){var e,i,n,r,o,s,u,l;for(o=t.byteLength,s=t.nalCount,u=t.duration,e=i=0;e<a.length&&i<t.length&&(n=a[e],r=t[i],n.pts!==r.pts);)r.pts>n.pts?e++:(i++,o-=r.byteLength,s-=r.nalCount,u-=r.duration);return 0===i?t:i===t.length?null:((l=t.slice(i)).byteLength=o,l.duration=u,l.nalCount=s,l.pts=l[0].pts,l.dts=l[0].dts,l)},this.alignGopsAtEnd_=function(t){var e,i,n,r,o,s,u;for(e=a.length-1,i=t.length-1,o=null,s=!1;e>=0&&i>=0;){if(n=a[e],r=t[i],n.pts===r.pts){s=!0;break}n.pts>r.pts?e--:(e===a.length-1&&(o=i),i--)}if(!s&&null===o)return null;if(0===(u=s?i:o))return t;var l=t.slice(u),c=l.reduce((function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t}),{byteLength:0,duration:0,nalCount:0});return l.byteLength=c.byteLength,l.duration=c.duration,l.nalCount=c.nalCount,l.pts=l[0].pts,l.dts=l[0].dts,l},this.alignGopsWith=function(t){a=t}}).prototype=new H,(be=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==(t=t||{}).remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"==typeof t.keepOriginalTimestamps?this.keepOriginalTimestamps=t.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,be.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track,this.pendingBoxes.push(t.boxes)),void("audio"===t.track.type&&(this.audioTrack=t.track,this.pendingBoxes.unshift(t.boxes))))}}).prototype=new H,be.prototype.flush=function(t){var e,i,n,r,o=0,a={captions:[],captionStreams:{},metadata:[],info:{}},s=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(s=this.videoTrack.timelineStartInfo.pts,Se.forEach((function(t){a.info[t]=this.videoTrack[t]}),this)):this.audioTrack&&(s=this.audioTrack.timelineStartInfo.pts,we.forEach((function(t){a.info[t]=this.audioTrack[t]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?a.type=this.pendingTracks[0].type:a.type="combined",this.emittedTracks+=this.pendingTracks.length,n=tt(this.pendingTracks),a.initSegment=new Uint8Array(n.byteLength),a.initSegment.set(n),a.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)a.data.set(this.pendingBoxes[r],o),o+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(e=this.pendingCaptions[r]).startTime=vt(e.startPts,s,this.keepOriginalTimestamps),e.endTime=vt(e.endPts,s,this.keepOriginalTimestamps),a.captionStreams[e.stream]=!0,a.captions.push(e);for(r=0;r<this.pendingMetadata.length;r++)(i=this.pendingMetadata[r]).cueTime=vt(i.pts,s,this.keepOriginalTimestamps),a.metadata.push(i);for(a.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",a),r=0;r<a.captions.length;r++)e=a.captions[r],this.trigger("caption",e);for(r=0;r<a.metadata.length;r++)i=a.metadata[r],this.trigger("id3Frame",i)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},be.prototype.setRemux=function(t){this.remuxTracks=t},(_e=function(t){var e,i,n=this,r=!0;_e.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new ne.MetadataStream,r.aacStream=new Te,r.audioTimestampRolloverStream=new ne.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new ne.TimestampRolloverStream("timed-metadata"),r.adtsStream=new le,r.coalesceStream=new be(t,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",(function(t){r.aacStream.setTimestamp(t.timeStamp)})),r.aacStream.on("data",(function(o){"timed-metadata"!==o.type&&"audio"!==o.type||r.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:n.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new ye(i,t),r.audioSegmentStream.on("timingInfo",n.trigger.bind(n,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream),n.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!e}))})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new ne.MetadataStream,r.packetStream=new ne.TransportPacketStream,r.parseStream=new ne.TransportParseStream,r.elementaryStream=new ne.ElementaryStream,r.timestampRolloverStream=new ne.TimestampRolloverStream,r.adtsStream=new le,r.h264Stream=new Ee,r.captionStream=new ne.CaptionStream,r.coalesceStream=new be(t,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",(function(o){var a;if("metadata"===o.type){for(a=o.tracks.length;a--;)e||"video"!==o.tracks[a].type?i||"audio"!==o.tracks[a].type||((i=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime):(e=o.tracks[a]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime;e&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new ve(e,t),r.videoSegmentStream.on("timelineStartInfo",(function(e){i&&!t.keepOriginalTimestamps&&(i.timelineStartInfo=e,r.audioSegmentStream.setEarliestDts(e.dts-n.baseMediaDecodeTime))})),r.videoSegmentStream.on("processedGopsInfo",n.trigger.bind(n,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",n.trigger.bind(n,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",(function(t){i&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(t)})),r.videoSegmentStream.on("timingInfo",n.trigger.bind(n,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),i&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new ye(i,t),r.audioSegmentStream.on("timingInfo",n.trigger.bind(n,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),n.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!e})}})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",(function(t){t.dispatchType=r.metadataStream.dispatchType,n.trigger("id3Frame",t)})),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(n){var r=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,At(i),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),e&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,At(e),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.setRemux=function(e){var i=this.transmuxPipeline_;t.remux=e,i&&i.coalesceStream&&i.coalesceStream.setRemux(e)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(r){var e=Ae(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new H;var Oe={Transmuxer:_e,VideoSegmentStream:ve,AudioSegmentStream:ye,AUDIO_PROPERTIES:we,VIDEO_PROPERTIES:Se,generateVideoSegmentTimingInfo:Ie}.Transmuxer,xe={Adts:le,h264:he},ke=ft,Re=function t(e,i){var n=[],r=0,o=0,a=0,s=1/0,u=null,l=null;i=i||{},t.prototype.init.call(this),this.push=function(t){Pt(e,t),e&&we.forEach((function(i){e[i]=t[i]})),n.push(t)},this.setEarliestDts=function(t){o=t},this.setVideoBaseMediaDecodeTime=function(t){s=t},this.setAudioAppendStart=function(t){a=t},this.processFrames_=function(){var t,c,d,h,f;0!==n.length&&0!==(t=Tt(n,e,o)).length&&(e.baseMediaDecodeTime=Ct(e,i.keepOriginalTimestamps),bt(e,t,a,s),e.samples=wt(t),d=Q(St(t)),n=[],c=J(r,[e]),r++,e.initSegment=tt([e]),(h=new Uint8Array(c.byteLength+d.byteLength)).set(c),h.set(d,c.byteLength),At(e),null===u&&(l=u=t[0].pts),l+=t.length*(1024*ke/e.samplerate),f={start:u},this.trigger("timingInfo",f),this.trigger("data",{track:e,boxes:h}))},this.flush=function(){this.processFrames_(),this.trigger("timingInfo",{start:u,end:l}),this.resetTiming_(),this.trigger("done","AudioSegmentStream")},this.partialFlush=function(){this.processFrames_(),this.trigger("partialdone","AudioSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","AudioSegmentStream")},this.resetTiming_=function(){At(e),u=null,l=null},this.reset=function(){this.resetTiming_(),n=[],this.trigger("reset")}};Re.prototype=new H;var Me=Re,Le=function t(e,i){var n,r,o,a=0,s=[],u=[],l=null,c=null,d=!0;i=i||{},t.prototype.init.call(this),this.push=function(t){Pt(e,t),void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],Se.forEach((function(t){e[t]=n[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),s.push(t)},this.processNals_=function(t){var n;for(s=u.concat(s);s.length&&"access_unit_delimiter_rbsp"!==s[0].nalUnitType;)s.shift();if(0!==s.length){var r=it(s);if(r.length)if(u=r[r.length-1],t&&(r.pop(),r.duration-=u.duration,r.nalCount-=u.length,r.byteLength-=u.byteLength),r.length){if(this.trigger("timelineStartInfo",e.timelineStartInfo),d){if(!(o=nt(r))[0][0].keyFrame){if(!(o=rt(o))[0][0].keyFrame)return s=[].concat.apply([],r).concat(u),void(u=[]);(r=[].concat.apply([],o)).duration=o.duration}d=!1}for(null===l&&(l=r[0].pts,c=l),c+=r.duration,this.trigger("timingInfo",{start:l,end:c}),n=0;n<r.length;n++){var h=r[n];e.samples=st(h);var f=Q(ut(h));At(e),Pt(e,h),e.baseMediaDecodeTime=Ct(e,i.keepOriginalTimestamps);var p=J(a,[e]);a++,e.initSegment=tt([e]);var g=new Uint8Array(p.byteLength+f.byteLength);g.set(p),g.set(f,p.byteLength),this.trigger("data",{track:e,boxes:g,sequence:a,videoFrameDts:h.dts,videoFramePts:h.pts})}s=[]}else s=[]}},this.resetTimingAndConfig_=function(){n=void 0,r=void 0,l=null,c=null},this.partialFlush=function(){this.processNals_(!0),this.trigger("partialdone","VideoSegmentStream")},this.flush=function(){this.processNals_(!1),this.resetTimingAndConfig_(),this.trigger("done","VideoSegmentStream")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline","VideoSegmentStream")},this.reset=function(){this.resetTimingAndConfig_(),u=[],s=[],d=!0,this.trigger("reset")}};Le.prototype=new H;var De=Le,Ne=pe,Fe=function(t){return t.prototype=new H,t.prototype.init.call(t),t},Ue=function(t,e){t.on("data",e.trigger.bind(e,"data")),t.on("done",e.trigger.bind(e,"done")),t.on("partialdone",e.trigger.bind(e,"partialdone")),t.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),t.on("audioTimingInfo",e.trigger.bind(e,"audioTimingInfo")),t.on("videoTimingInfo",e.trigger.bind(e,"videoTimingInfo")),t.on("trackinfo",e.trigger.bind(e,"trackinfo")),t.on("id3Frame",(function(i){i.dispatchType=t.metadataStream.dispatchType,i.cueTime=pt(i.pts),e.trigger("id3Frame",i)})),t.on("caption",(function(t){e.trigger("caption",t)}))},Ve=function t(e){var i=null,n=!0;e=e||{},t.prototype.init.call(this),e.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.push=function(t){if(n){var r=Ne(t);!r||i&&"aac"===i.type?r||i&&"ts"===i.type||(i=function(t){var e={type:"ts",tracks:{audio:null,video:null},packet:new ne.TransportPacketStream,parse:new ne.TransportParseStream,elementary:new ne.ElementaryStream,timestampRollover:new ne.TimestampRolloverStream,adts:new xe.Adts,h264:new xe.h264.H264Stream,captionStream:new ne.CaptionStream,metadataStream:new ne.MetadataStream};return e.headOfPipeline=e.packet,e.packet.pipe(e.parse).pipe(e.elementary).pipe(e.timestampRollover),e.timestampRollover.pipe(e.h264),e.h264.pipe(e.captionStream),e.timestampRollover.pipe(e.metadataStream),e.timestampRollover.pipe(e.adts),e.elementary.on("data",(function(i){if("metadata"===i.type){for(var n=0;n<i.tracks.length;n++)e.tracks[i.tracks[n].type]||(e.tracks[i.tracks[n].type]=i.tracks[n],e.tracks[i.tracks[n].type].timelineStartInfo.baseMediaDecodeTime=t.baseMediaDecodeTime);e.tracks.video&&!e.videoSegmentStream&&(e.videoSegmentStream=new De(e.tracks.video,t),e.videoSegmentStream.on("timelineStartInfo",(function(i){e.tracks.audio&&!t.keepOriginalTimestamps&&e.audioSegmentStream.setEarliestDts(i.dts-t.baseMediaDecodeTime)})),e.videoSegmentStream.on("timingInfo",e.trigger.bind(e,"videoTimingInfo")),e.videoSegmentStream.on("data",(function(t){e.trigger("data",{type:"video",data:t})})),e.videoSegmentStream.on("done",e.trigger.bind(e,"done")),e.videoSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.videoSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.h264.pipe(e.videoSegmentStream)),e.tracks.audio&&!e.audioSegmentStream&&(e.audioSegmentStream=new Me(e.tracks.audio,t),e.audioSegmentStream.on("data",(function(t){e.trigger("data",{type:"audio",data:t})})),e.audioSegmentStream.on("done",e.trigger.bind(e,"done")),e.audioSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.audioSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.audioSegmentStream.on("timingInfo",e.trigger.bind(e,"audioTimingInfo")),e.adts.pipe(e.audioSegmentStream)),e.trigger("trackinfo",{hasAudio:!!e.tracks.audio,hasVideo:!!e.tracks.video})}})),e.captionStream.on("data",(function(i){var n;n=e.tracks.video&&e.tracks.video.timelineStartInfo.pts||0,i.startTime=vt(i.startPts,n,t.keepOriginalTimestamps),i.endTime=vt(i.endPts,n,t.keepOriginalTimestamps),e.trigger("caption",i)})),(e=Fe(e)).metadataStream.on("data",e.trigger.bind(e,"id3Frame")),e}(e),Ue(i,this)):(i=function(t){var e={type:"aac",tracks:{audio:null},metadataStream:new ne.MetadataStream,aacStream:new Te,audioRollover:new ne.TimestampRolloverStream("audio"),timedMetadataRollover:new ne.TimestampRolloverStream("timed-metadata"),adtsStream:new le(!0)};return e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioRollover).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataRollover).pipe(e.metadataStream),e.metadataStream.on("timestamp",(function(t){e.aacStream.setTimestamp(t.timeStamp)})),e.aacStream.on("data",(function(i){"timed-metadata"!==i.type&&"audio"!==i.type||e.audioSegmentStream||(e.tracks.audio=e.tracks.audio||{timelineStartInfo:{baseMediaDecodeTime:t.baseMediaDecodeTime},codec:"adts",type:"audio"},e.audioSegmentStream=new Me(e.tracks.audio,t),e.audioSegmentStream.on("data",(function(t){e.trigger("data",{type:"audio",data:t})})),e.audioSegmentStream.on("partialdone",e.trigger.bind(e,"partialdone")),e.audioSegmentStream.on("done",e.trigger.bind(e,"done")),e.audioSegmentStream.on("endedtimeline",e.trigger.bind(e,"endedtimeline")),e.audioSegmentStream.on("timingInfo",e.trigger.bind(e,"audioTimingInfo")),e.adtsStream.pipe(e.audioSegmentStream),e.trigger("trackinfo",{hasAudio:!!e.tracks.audio,hasVideo:!!e.tracks.video}))})),(e=Fe(e)).metadataStream.on("data",e.trigger.bind(e,"id3Frame")),e}(e),Ue(i,this)),n=!1}i.headOfPipeline.push(t)},this.flush=function(){i&&(n=!0,i.headOfPipeline.flush())},this.partialFlush=function(){i&&i.headOfPipeline.partialFlush()},this.endTimeline=function(){i&&i.headOfPipeline.endTimeline()},this.reset=function(){i&&i.headOfPipeline.reset()},this.setBaseMediaDecodeTime=function(t){e.keepOriginalTimestamps||(e.baseMediaDecodeTime=t),i&&(i.tracks.audio&&(i.tracks.audio.timelineStartInfo.dts=void 0,i.tracks.audio.timelineStartInfo.pts=void 0,At(i.tracks.audio),i.audioRollover&&i.audioRollover.discontinuity()),i.tracks.video&&(i.videoSegmentStream&&(i.videoSegmentStream.gopCache_=[]),i.tracks.video.timelineStartInfo.dts=void 0,i.tracks.video.timelineStartInfo.pts=void 0,At(i.tracks.video)),i.timestampRollover&&i.timestampRollover.discontinuity())},this.setRemux=function(t){e.remux=t,i&&i.coalesceStream&&i.coalesceStream.setRemux(t)},this.setAudioAppendStart=function(t){i&&i.tracks.audio&&i.audioSegmentStream&&i.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){}};Ve.prototype=new H;var Be=Ve,je=function(t){return t>>>0},He=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},Ge=je,We=function t(e,i){var n,r,o,a,s,u=[];if(!i.length)return null;for(n=0;n<e.byteLength;)r=Ge(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]),o=He(e.subarray(n+4,n+8)),a=r>1?n+r:e.byteLength,o===i[0]&&(1===i.length?u.push(e.subarray(n+8,a)):(s=t(e.subarray(n+8,a),i.slice(1))).length&&(u=u.concat(s))),n=a;return u},ze=je,$e=function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:ze(t[4]<<24|t[5]<<16|t[6]<<8|t[7])};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=ze(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),e},qe=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},Ye=function(t){var e,i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=1&i.flags[2],o=4&i.flags[2],a=1&i.flags[1],s=2&i.flags[1],u=4&i.flags[1],l=8&i.flags[1],c=n.getUint32(4),d=8;for(r&&(i.dataOffset=n.getInt32(d),d+=4),o&&c&&(e={flags:qe(t.subarray(d,d+4))},d+=4,a&&(e.duration=n.getUint32(d),d+=4),s&&(e.size=n.getUint32(d),d+=4),l&&(1===i.version?e.compositionTimeOffset=n.getInt32(d):e.compositionTimeOffset=n.getUint32(d),d+=4),i.samples.push(e),c--);c--;)e={},a&&(e.duration=n.getUint32(d),d+=4),s&&(e.size=n.getUint32(d),d+=4),u&&(e.flags=qe(t.subarray(d,d+4)),d+=4),l&&(1===i.version?e.compositionTimeOffset=n.getInt32(d):e.compositionTimeOffset=n.getUint32(d),d+=4),i.samples.push(e);return i},Ke=function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:i.getUint32(4)},r=1&n.flags[2],o=2&n.flags[2],a=8&n.flags[2],s=16&n.flags[2],u=32&n.flags[2],l=65536&n.flags[0],c=131072&n.flags[0];return e=8,r&&(e+=4,n.baseDataOffset=i.getUint32(12),e+=4),o&&(n.sampleDescriptionIndex=i.getUint32(e),e+=4),a&&(n.defaultSampleDuration=i.getUint32(e),e+=4),s&&(n.defaultSampleSize=i.getUint32(e),e+=4),u&&(n.defaultSampleFlags=i.getUint32(e)),l&&(n.durationIsEmpty=!0),!r&&c&&(n.baseDataOffsetIsMoof=!0),n},Xe=kt,Ze=Vt.CaptionStream,Qe=function(t,e){for(var i=t,n=0;n<e.length;n++){var r=e[n];if(i<r.size)return r;i-=r.size}return null},Je=function(t,e){var i=We(t,["moof","traf"]),n=We(t,["mdat"]),r={},o=[];return n.forEach((function(t,e){var n=i[e];o.push({mdat:t,traf:n})})),o.forEach((function(t){var i,n=t.mdat,o=t.traf,a=We(o,["tfhd"]),s=Ke(a[0]),u=s.trackId,l=We(o,["tfdt"]),c=l.length>0?$e(l[0]).baseMediaDecodeTime:0,d=We(o,["trun"]);e===u&&d.length>0&&(i=function(t,e,i){var n,r,o,a,s=new DataView(t.buffer,t.byteOffset,t.byteLength),u=[];for(r=0;r+4<t.length;r+=o)if(o=s.getUint32(r),r+=4,!(o<=0))switch(31&t[r]){case 6:var l=t.subarray(r+1,r+1+o),c=Qe(r,e);if(n={nalUnitType:"sei_rbsp",size:o,data:l,escapedRBSP:Xe(l),trackId:i},c)n.pts=c.pts,n.dts=c.dts,a=c;else{if(!a){console.log("We've encountered a nal unit without data. See mux.js#233.");break}n.pts=a.pts,n.dts=a.dts}u.push(n)}return u}(n,function(t,e,i){var n=e,r=i.defaultSampleDuration||0,o=i.defaultSampleSize||0,a=i.trackId,s=[];return t.forEach((function(t){var e=Ye(t).samples;e.forEach((function(t){void 0===t.duration&&(t.duration=r),void 0===t.size&&(t.size=o),t.trackId=a,t.dts=n,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=n+t.compositionTimeOffset,n+=t.duration})),s=s.concat(e)})),s}(d,c,s),u),r[u]||(r[u]=[]),r[u]=r[u].concat(i))})),r},ti=function(){var t,e,i,n,r,o,a=!1;this.isInitialized=function(){return a},this.init=function(e){t=new Ze,a=!0,o=!!e&&e.isPartial,t.on("data",(function(t){t.startTime=t.startPts/n,t.endTime=t.endPts/n,r.captions.push(t),r.captionStreams[t.stream]=!0}))},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||i===t[0]&&n===e[i])},this.parse=function(t,o,a){var s;if(!this.isInitialized())return null;if(!o||!a)return null;if(this.isNewInit(o,a))i=o[0],n=a[i];else if(null===i||!n)return e.push(t),null;for(;e.length>0;){var u=e.shift();this.parse(u,o,a)}return null!==(s=function(t,e,i){return null===e?null:{seiNals:Je(t,e)[e],timescale:i}}(t,i,n))&&s.seiNals?(this.pushNals(s.seiNals),this.flushStream(),r):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach((function(e){t.push(e)}))},this.flushStream=function(){if(!this.isInitialized())return null;o?t.partialFlush():t.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],i=null,n=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()},ei=function(t){return"AudioSegmentStream"===t?"audio":"VideoSegmentStream"===t?"video":""},ii=function(){function t(t,e){this.options=e||{},this.self=t,this.init()}var e=t.prototype;return e.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=this.options.handlePartialData?new Be(this.options):new Oe(this.options),this.options.handlePartialData?function(t,e){e.on("data",(function(e){var i={data:e.data.track.initSegment.buffer,byteOffset:e.data.track.initSegment.byteOffset,byteLength:e.data.track.initSegment.byteLength},n={boxes:{data:e.data.boxes.buffer,byteOffset:e.data.boxes.byteOffset,byteLength:e.data.boxes.byteLength},initSegment:i,type:e.type,sequence:e.data.sequence};void 0!==e.data.videoFrameDts&&(n.videoFrameDtsTime=_t(e.data.videoFrameDts)),void 0!==e.data.videoFramePts&&(n.videoFramePtsTime=_t(e.data.videoFramePts)),t.postMessage({action:"data",segment:n},[n.boxes.data,n.initSegment.data])})),e.on("id3Frame",(function(e){t.postMessage({action:"id3Frame",id3Frame:e})})),e.on("caption",(function(e){t.postMessage({action:"caption",caption:e})})),e.on("done",(function(e){t.postMessage({action:"done",type:ei(e)})})),e.on("partialdone",(function(e){t.postMessage({action:"partialdone",type:ei(e)})})),e.on("endedsegment",(function(e){t.postMessage({action:"endedSegment",type:ei(e)})})),e.on("trackinfo",(function(e){t.postMessage({action:"trackinfo",trackInfo:e})})),e.on("audioTimingInfo",(function(e){if(null!==e.start){var i={start:_t(e.start)};e.end&&(i.end=_t(e.end)),t.postMessage({action:"audioTimingInfo",audioTimingInfo:i})}else t.postMessage({action:"audioTimingInfo",audioTimingInfo:e})})),e.on("videoTimingInfo",(function(e){var i={start:_t(e.start)};e.end&&(i.end=_t(e.end)),t.postMessage({action:"videoTimingInfo",videoTimingInfo:i})}))}(this.self,this.transmuxer):function(t,e){e.on("data",(function(e){var i=e.initSegment;e.initSegment={data:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength};var n=e.data;e.data=n.buffer,t.postMessage({action:"data",segment:e,byteOffset:n.byteOffset,byteLength:n.byteLength},[e.data])})),e.on("done",(function(e){t.postMessage({action:"done"})})),e.on("gopInfo",(function(e){t.postMessage({action:"gopInfo",gopInfo:e})})),e.on("videoSegmentTimingInfo",(function(e){var i={start:{decode:_t(e.start.dts),presentation:_t(e.start.pts)},end:{decode:_t(e.end.dts),presentation:_t(e.end.pts)},baseMediaDecodeTime:_t(e.baseMediaDecodeTime)};e.prependedContentDuration&&(i.prependedContentDuration=_t(e.prependedContentDuration)),t.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:i})})),e.on("id3Frame",(function(e){t.postMessage({action:"id3Frame",id3Frame:e})})),e.on("caption",(function(e){t.postMessage({action:"caption",caption:e})})),e.on("trackinfo",(function(e){t.postMessage({action:"trackinfo",trackInfo:e})})),e.on("audioTimingInfo",(function(e){t.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:_t(e.start),end:_t(e.end)}})})),e.on("videoTimingInfo",(function(e){t.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:_t(e.start),end:_t(e.end)}})}))}(this.self,this.transmuxer)},e.pushMp4Captions=function(t){this.captionParser||(this.captionParser=new ti,this.captionParser.init());var e=new Uint8Array(t.data,t.byteOffset,t.byteLength),i=this.captionParser.parse(e,t.trackIds,t.timescales);this.self.postMessage({action:"mp4Captions",captions:i&&i.captions||[],data:e.buffer},[e.buffer])},e.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},e.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},e.push=function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)},e.reset=function(){this.transmuxer.reset()},e.setTimestampOffset=function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(yt(e)))},e.setAudioAppendStart=function(t){this.transmuxer.setAudioAppendStart(Math.ceil(yt(t.appendStart)))},e.setRemux=function(t){this.transmuxer.setRemux(t.remux)},e.flush=function(t){this.transmuxer.flush(),i.postMessage({action:"done",type:"transmuxed"})},e.partialFlush=function(t){this.transmuxer.partialFlush(),i.postMessage({action:"partialdone",type:"transmuxed"})},e.endTimeline=function(){this.transmuxer.endTimeline(),i.postMessage({action:"endedtimeline",type:"transmuxed"})},e.alignGopsWith=function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())},t}();new function(t){t.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new ii(t,e.data.options):(this.messageHandlers||(this.messageHandlers=new ii(t)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(i)}()})),ic=function(t,e){var i=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&i.AUDIO&&t.mediaGroups.AUDIO[i.AUDIO]},nc=function(t,e){var i=e.attributes||{},n=function(t){var e=t.attributes||{};if(e.CODECS)return Tu(e.CODECS)}(e)||{};if(ic(t,e)&&!n.audio&&!function(t,e){if(!ic(t,e))return!0;var i=e.attributes||{},n=t.mediaGroups.AUDIO[i.AUDIO];for(var r in n)if(!n[r].uri&&!n[r].playlists)return!0;return!1}(t,e)){var r=mu(t,i.AUDIO);r&&(n.audio=r.audio)}var o={};return n.video&&(o.video=wu(""+n.video.type+n.video.details)),n.audio&&(o.audio=wu(""+n.audio.type+n.audio.details)),o},rc=function(t){return Jr.log.debug?Jr.log.debug.bind(Jr,"VHS:",t+" >"):function(){}},oc=rc("PlaylistSelector"),ac=function(t){if(t&&t.playlist){var e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})}},sc=function(e,i){if(!e)return"";var n=t.getComputedStyle(e);return n?n[i]:""},uc=function(t,e){var i=t.slice();t.sort((function(t,n){var r=e(t,n);return 0===r?i.indexOf(t)-i.indexOf(n):r}))},lc=function(e,i){var n,r;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||t.Number.MAX_VALUE,i.attributes.BANDWIDTH&&(r=i.attributes.BANDWIDTH),n-(r=r||t.Number.MAX_VALUE)},cc=function(e){var i=e.inbandTextTracks,n=e.metadataArray,r=e.timestampOffset,o=e.videoDuration;if(n){var a=t.WebKitDataCue||t.VTTCue,s=i.metadataTrack_;if(s&&(n.forEach((function(e){var i=e.cueTime+r;!("number"!=typeof i||t.isNaN(i)||i<0)&&i<1/0&&e.frames.forEach((function(t){var e=new a(i,i,t.value||t.url||t.data||"");e.frame=t,e.value=t,function(t){Object.defineProperties(t.frame,{id:{get:function(){return Jr.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return Jr.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return Jr.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})}(e),s.addCue(e)}))})),s.cues&&s.cues.length)){for(var u=s.cues,l=[],c=0;c<u.length;c++)u[c]&&l.push(u[c]);var d=l.reduce((function(t,e){var i=t[e.startTime]||[];return i.push(e),t[e.startTime]=i,t}),{}),h=Object.keys(d).sort((function(t,e){return Number(t)-Number(e)}));h.forEach((function(t,e){var i=d[t],n=Number(h[e+1])||o;i.forEach((function(t){t.endTime=n}))}))}}},dc=function(t,e,i){var n,r;if(i&&i.cues)for(n=i.cues.length;n--;)(r=i.cues[n]).startTime>=t&&r.endTime<=e&&i.removeCue(r)},hc=function(t){return"number"==typeof t&&isFinite(t)},fc=function(t){return t+"TimingInfo"},pc=function(t){var e=t.segmentTimeline,i=t.currentTimeline,n=t.startOfSegment,r=t.buffered;return t.overrideCheck||e!==i?r.length?r.end(r.length-1):n:null},gc=function(t){var e=t.timelineChangeController,i=t.currentTimeline,n=t.segmentTimeline,r=t.loaderType,o=t.audioDisabled;if(i===n)return!1;if("audio"===r){var a=e.lastTimelineChange({type:"main"});return!a||a.to!==n}if("main"===r&&o){var s=e.pendingTimelineChange({type:"audio"});return!s||s.to!==n}return!1},mc=function(e){function i(t,i){var n;if(n=e.call(this)||this,!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return n.bandwidth=t.bandwidth,n.throughput={rate:0,count:0},n.roundTrip=NaN,n.resetStats_(),n.mediaIndex=null,n.hasPlayed_=t.hasPlayed,n.currentTime_=t.currentTime,n.seekable_=t.seekable,n.seeking_=t.seeking,n.duration_=t.duration,n.mediaSource_=t.mediaSource,n.vhs_=t.vhs,n.loaderType_=t.loaderType,n.currentMediaInfo_=void 0,n.startingMediaInfo_=void 0,n.segmentMetadataTrack_=t.segmentMetadataTrack,n.goalBufferLength_=t.goalBufferLength,n.sourceType_=t.sourceType,n.sourceUpdater_=t.sourceUpdater,n.inbandTextTracks_=t.inbandTextTracks,n.state_="INIT",n.handlePartialData_=t.handlePartialData,n.timelineChangeController_=t.timelineChangeController,n.shouldSaveSegmentTimingInfo_=!0,n.checkBufferTimeout_=null,n.error_=void 0,n.currentTimeline_=-1,n.pendingSegment_=null,n.xhrOptions_=null,n.pendingSegments_=[],n.audioDisabled_=!1,n.isPendingTimestampOffset_=!1,n.gopBuffer_=[],n.timeMapping_=0,n.safeAppend_=Jr.browser.IE_VERSION>=11,n.appendInitSegment_={audio:!0,video:!0},n.playlistOfLastInitSegment_={audio:null,video:null},n.callQueue_=[],n.loadQueue_=[],n.metadataQueue_={id3:[],caption:[]},n.activeInitSegmentId_=null,n.initSegments_={},n.cacheEncryptionKeys_=t.cacheEncryptionKeys,n.keyCache_={},n.decrypter_=t.decrypter,n.syncController_=t.syncController,n.syncPoint_={segmentIndex:0,time:0},n.transmuxer_=n.createTransmuxer_(),n.triggerSyncInfoUpdate_=function(){return n.trigger("syncinfoupdate")},n.syncController_.on("syncinfoupdate",n.triggerSyncInfoUpdate_),n.mediaSource_.addEventListener("sourceopen",(function(){n.isEndOfStream_()||(n.ended_=!1)})),n.fetchAtBuffer_=!1,n.logger_=rc("SegmentLoader["+n.loaderType_+"]"),Object.defineProperty(Vt(n),"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t,this.trigger("statechange"))}}),n.sourceUpdater_.on("ready",(function(){n.hasEnoughInfoToAppend_()&&n.processCallQueue_()})),"main"===n.loaderType_&&n.timelineChangeController_.on("pendingtimelinechange",(function(){n.hasEnoughInfoToAppend_()&&n.processCallQueue_()})),"audio"===n.loaderType_&&n.timelineChangeController_.on("timelinechange",(function(){n.hasEnoughInfoToLoad_()&&n.processLoadQueue_(),n.hasEnoughInfoToAppend_()&&n.processCallQueue_()})),n}jt(i,e);var n=i.prototype;return n.createTransmuxer_=function(){var t=new ec;return t.postMessage({action:"init",options:{remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,handlePartialData:this.handlePartialData_}}),t},n.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0},n.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&(this.transmuxer_.terminate(),Ml()),this.resetStats_(),this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},n.setAudio=function(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},n.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},n.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_)},n.checkForAbort_=function(t){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==t:(this.state="READY",!0)},n.error=function(t){return void 0!==t&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_},n.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Rl(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},n.buffered_=function(){if(!this.sourceUpdater_||!this.startingMediaInfo_)return Jr.createTimeRanges();if("main"===this.loaderType_){var t=this.startingMediaInfo_,e=t.hasAudio,i=t.hasVideo,n=t.isMuxed;if(i&&e&&!this.audioDisabled_&&!n)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},n.initSegmentForMap=function(t,e){if(void 0===e&&(e=!1),!t)return null;var i=ll(t),n=this.initSegments_[i];return e&&!n&&t.bytes&&(this.initSegments_[i]=n={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),n||t},n.segmentKey=function(t,e){if(void 0===e&&(e=!1),!t)return null;var i=cl(t),n=this.keyCache_[i];this.cacheEncryptionKeys_&&e&&!n&&t.bytes&&(this.keyCache_[i]=n={resolvedUri:t.resolvedUri,bytes:t.bytes});var r={resolvedUri:(n||t).resolvedUri};return n&&(r.bytes=n.bytes),r},n.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},n.load=function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.playlist=function(t,e){if(void 0===e&&(e={}),t){var i=this.playlist_,n=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,"INIT"===this.state&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0});var r=null;if(i&&(i.id?r=i.id:i.uri&&(r=i.uri)),this.logger_("playlist update ["+r+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==t.uri)return(null!==this.mediaIndex||this.handlePartialData_)&&this.resyncLoader(),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var o=t.mediaSequence-i.mediaSequence;this.logger_("live window shift ["+o+"]"),null!==this.mediaIndex&&(this.mediaIndex-=o),n&&(n.mediaIndex-=o,n.mediaIndex>=0&&(n.segment=t.segments[n.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(i,t)}},n.pause=function(){this.checkBufferTimeout_&&(t.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},n.paused=function(){return null===this.checkBufferTimeout_},n.resetEverything=function(t){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"})},n.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},n.resyncLoader=function(){this.transmuxer_&&Rl(this.transmuxer_),this.mediaIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},n.remove=function(t,e,i){if(void 0===i&&(i=function(){}),e===1/0&&(e=this.duration_()),this.sourceUpdater_&&this.currentMediaInfo_){var n=1,r=function(){0==--n&&i()};for(var o in this.audioDisabled_||(n++,this.sourceUpdater_.removeAudio(t,e,r)),"main"===this.loaderType_&&this.currentMediaInfo_&&this.currentMediaInfo_.hasVideo&&(this.gopBuffer_=function(t,e,i,n){for(var r=Math.ceil((e-n)*qs),o=Math.ceil((i-n)*qs),a=t.slice(),s=t.length;s--&&!(t[s].pts<=o););if(-1===s)return a;for(var u=s+1;u--&&!(t[u].pts<=r););return u=Math.max(u,0),a.splice(u,s-u+1),a}(this.gopBuffer_,t,e,this.timeMapping_),n++,this.sourceUpdater_.removeVideo(t,e,r)),this.inbandTextTracks_)dc(t,e,this.inbandTextTracks_[o]);dc(t,e,this.segmentMetadataTrack_),r()}},n.monitorBuffer_=function(){this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=t.setTimeout(this.monitorBufferTick_.bind(this),1)},n.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&t.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=t.setTimeout(this.monitorBufferTick_.bind(this),500)},n.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.buffered_(),e=this.checkBuffer_(t,this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);e&&(e.timestampOffset=pc({segmentTimeline:e.timeline,currentTimeline:this.currentTimeline_,startOfSegment:e.startOfSegment,buffered:t,overrideCheck:this.isPendingTimestampOffset_}),this.isPendingTimestampOffset_=!1,"number"==typeof e.timestampOffset&&this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loadSegment_(e))}},n.isEndOfStream_=function(t,e){if(void 0===t&&(t=this.mediaIndex),void 0===e&&(e=this.playlist_),!e||!this.mediaSource_)return!1;var i=t+1===e.segments.length;return e.endList&&"open"===this.mediaSource_.readyState&&i},n.checkBuffer_=function(t,e,i,n,r,o){var a=0;t.length&&(a=t.end(t.length-1));var s=Math.max(0,a-r);if(!e.segments.length)return null;if(s>=this.goalBufferLength_())return null;if(!n&&s>=1)return null;var u,l=null,c=!1;if(null===o)l=this.getSyncSegmentCandidate_(e),c=!0;else if(null!==i){var d=e.segments[i];u=d&&d.end?d.end:a,l=i+1}else if(this.fetchAtBuffer_){var h=Ju.getMediaInfoForTime(e,a,o.segmentIndex,o.time);l=h.mediaIndex,u=h.startTime}else{var f=Ju.getMediaInfoForTime(e,r,o.segmentIndex,o.time);l=f.mediaIndex,u=f.startTime}var p=this.generateSegmentInfo_(e,l,u,c);return!p||this.mediaSource_&&this.playlist_&&p.mediaIndex===this.playlist_.segments.length-1&&"ended"===this.mediaSource_.readyState&&!this.seeking_()?void 0:(this.logger_("checkBuffer_ returning "+p.uri,{segmentInfo:p,playlist:e,currentMediaIndex:i,nextMediaIndex:l,startOfSegment:u,isSyncRequest:c}),p)},n.getSyncSegmentCandidate_=function(t){var e=this;if(-1===this.currentTimeline_)return 0;var i=t.segments.map((function(t,e){return{timeline:t.timeline,segmentIndex:e}})).filter((function(t){return t.timeline===e.currentTimeline_}));return i.length?i[Math.min(i.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)},n.generateSegmentInfo_=function(t,e,i,n){if(e<0||e>=t.segments.length)return null;var r,o,a=t.segments[e],s=this.sourceUpdater_.audioBuffered(),u=this.sourceUpdater_.videoBuffered();return s.length&&(r=s.end(s.length-1)-this.sourceUpdater_.audioTimestampOffset()),u.length&&(o=function(t,e,i){if(null==e||!t.length)return[];var n,r=Math.ceil((e-i+3)*qs);for(n=0;n<t.length&&!(t[n].pts>r);n++);return t.slice(n)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),{requestId:"segment-loader-"+Math.random(),uri:a.resolvedUri,mediaIndex:e,isSyncRequest:n,startOfSegment:i,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:a.timeline,duration:a.duration,segment:a,byteLength:0,transmuxer:this.transmuxer_,audioAppendStart:r,gopsToAlignWith:o}},n.abortRequestEarly_=function(t){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),i=t.bandwidth,n=this.pendingSegment_.duration,r=Ju.estimateSegmentRequestTime(n,i,this.playlist_,t.bytesReceived),o=function(t,e,i){return void 0===i&&(i=1),((t.length?t.end(t.length-1):0)-e)/i}(this.buffered_(),e,this.vhs_.tech_.playbackRate())-1;if(r<=o)return!1;var a=function(t){var e=t.master,i=t.currentTime,n=t.bandwidth,r=t.duration,o=t.segmentDuration,a=t.timeUntilRebuffer,s=t.currentTimeline,u=t.syncController,l=e.playlists.filter((function(t){return!Ju.isIncompatible(t)})),c=l.filter(Ju.isEnabled);c.length||(c=l.filter((function(t){return!Ju.isDisabled(t)})));var d=c.filter(Ju.hasAttribute.bind(null,"BANDWIDTH")).map((function(t){var e=u.getSyncPoint(t,r,s,i)?1:2;return{playlist:t,rebufferingImpact:Ju.estimateSegmentRequestTime(o,n,t)*e-a}})),h=d.filter((function(t){return t.rebufferingImpact<=0}));return uc(h,(function(t,e){return lc(e.playlist,t.playlist)})),h.length?h[0]:(uc(d,(function(t,e){return t.rebufferingImpact-e.rebufferingImpact})),d[0]||null)}({master:this.vhs_.playlists.master,currentTime:e,bandwidth:i,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:o,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(a){var s=r-o-a.rebufferingImpact,u=.5;return o<=1/30&&(u=1),!(!a.playlist||a.playlist.uri===this.playlist_.uri||s<u)&&(this.bandwidth=a.playlist.attributes.BANDWIDTH*El.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}},n.handleAbort_=function(){this.mediaRequestsAborted+=1},n.handleProgress_=function(t,e){this.checkForAbort_(e.requestId)||this.abortRequestEarly_(e.stats)||this.trigger("progress")},n.handleTrackInfo_=function(t,e){this.checkForAbort_(t.requestId)||this.abortRequestEarly_(t.stats)||this.checkForIllegalMediaSwitch(e)||(e=e||{},function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;var i=Object.keys(t).sort(),n=Object.keys(e).sort();if(i.length!==n.length)return!1;for(var r=0;r<i.length;r++){var o=i[r];if(o!==n[r])return!1;if(t[o]!==e[o])return!1}return!0}(this.currentMediaInfo_,e)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=e,this.currentMediaInfo_=e,this.logger_("trackinfo update",e),this.trigger("trackinfo")),this.checkForAbort_(t.requestId)||this.abortRequestEarly_(t.stats)||(this.pendingSegment_.trackInfo=e,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))},n.handleTimingInfo_=function(t,e,i,n){if(!this.checkForAbort_(t.requestId)&&!this.abortRequestEarly_(t.stats)){var r=this.pendingSegment_,o=fc(e);r[o]=r[o]||{},r[o][i]=n,this.logger_("timinginfo: "+e+" - "+i+" - "+n),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},n.handleCaptions_=function(e,i){var n=this;if(!this.checkForAbort_(e.requestId)&&!this.abortRequestEarly_(e.stats))if(0!==i.length)if(this.pendingSegment_.hasAppendedData_){var r=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),o={};i.forEach((function(t){o[t.stream]=o[t.stream]||{startTime:1/0,captions:[],endTime:0};var e=o[t.stream];e.startTime=Math.min(e.startTime,t.startTime+r),e.endTime=Math.max(e.endTime,t.endTime+r),e.captions.push(t)})),Object.keys(o).forEach((function(e){var i=o[e],a=i.startTime,s=i.endTime,u=i.captions,l=n.inbandTextTracks_;n.logger_("adding cues from "+a+" -> "+s+" for "+e),function(t,e,i){if(!t[i]){e.trigger({type:"usage",name:"vhs-608"}),e.trigger({type:"usage",name:"hls-608"});var n=e.textTracks().getTrackById(i);t[i]=n||e.addRemoteTextTrack({kind:"captions",id:i,label:i},!1).track}}(l,n.vhs_.tech_,e),dc(a,s,l[e]),function(e){var i=e.inbandTextTracks,n=e.captionArray,r=e.timestampOffset;if(n){var o=t.WebKitDataCue||t.VTTCue;n.forEach((function(t){var e=t.stream;i[e].addCue(new o(t.startTime+r,t.endTime+r,t.text))}))}}({captionArray:u,inbandTextTracks:l,timestampOffset:r})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,i));else this.logger_("SegmentLoader received no captions from a caption event")},n.handleId3_=function(t,e,i){if(!this.checkForAbort_(t.requestId)&&!this.abortRequestEarly_(t.stats))if(this.pendingSegment_.hasAppendedData_){var n=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();!function(t,e,i){t.metadataTrack_||(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=e)}(this.inbandTextTracks_,i,this.vhs_.tech_),cc({inbandTextTracks:this.inbandTextTracks_,metadataArray:e,timestampOffset:n,videoDuration:this.duration_()})}else this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,e,i))},n.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach((function(t){return t()})),this.metadataQueue_.caption.forEach((function(t){return t()})),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},n.processCallQueue_=function(){var t=this.callQueue_;this.callQueue_=[],t.forEach((function(t){return t()}))},n.processLoadQueue_=function(){var t=this.loadQueue_;this.loadQueue_=[],t.forEach((function(t){return t()}))},n.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var t=this.pendingSegment_;return!(!t||this.currentMediaInfo_&&gc({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},n.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready())return!1;var t=this.pendingSegment_;if(!t||!t.trackInfo)return!1;if(!this.handlePartialData_){var e=this.currentMediaInfo_,i=e.hasAudio,n=e.hasVideo,r=e.isMuxed;if(n&&!t.videoTimingInfo)return!1;if(i&&!this.audioDisabled_&&!r&&!t.audioTimingInfo)return!1}return!gc({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})},n.handleData_=function(t,e){if(!this.checkForAbort_(t.requestId)&&!this.abortRequestEarly_(t.stats))if(!this.callQueue_.length&&this.hasEnoughInfoToAppend_()){var i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.segment),"closed"!==this.mediaSource_.readyState){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),i.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),i.isFmp4=t.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger("fmp4"),i.timingInfo.start=i[fc(e.type)].start;else{var n,r="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo;r&&(n=this.handlePartialData_?e.videoFramePtsTime:i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:r,firstVideoFrameTimeForData:n,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}this.updateAppendInitSegmentStatus(i,e.type),this.updateSourceBufferTimestampOffset_(i),i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,e)}}else this.callQueue_.push(this.handleData_.bind(this,t,e))},n.updateAppendInitSegmentStatus=function(t,e){"main"!==this.loaderType_||"number"!=typeof t.timestampOffset||t.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[e]!==t.playlist&&(this.appendInitSegment_[e]=!0)},n.getInitSegmentAndUpdateState_=function(t){var e=t.type,i=t.initSegment,n=t.map,r=t.playlist;if(n){var o=ll(n);if(this.activeInitSegmentId_===o)return null;i=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=o}return i&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=r,this.appendInitSegment_[e]=!!n,this.activeInitSegmentId_=null,i):null},n.appendToSourceBuffer_=function(t){var e=this,i=t.segmentInfo,n=t.type,r=t.initSegment,o=t.data,a=[o],s=o.byteLength;r&&(a.unshift(r),s+=r.byteLength);var u,l,c,d=(c=0,(u={bytes:s,segments:a}).bytes&&(l=new Uint8Array(u.bytes),u.segments.forEach((function(t){l.set(t,c),c+=t.byteLength}))),l);this.sourceUpdater_.appendBuffer({segmentInfo:i,type:n,bytes:d},(function(t){t&&(e.error(n+" append of "+d.length+"b failed for segment #"+i.mediaIndex+" in playlist "+i.playlist.id),e.trigger("appenderror"))}))},n.handleVideoSegmentTimingInfo_=function(t,e){if(this.pendingSegment_&&t===this.pendingSegment_.requestId){var i=this.pendingSegment_.segment;i.videoTimingInfo||(i.videoTimingInfo={}),i.videoTimingInfo.transmuxerPrependedSeconds=e.prependedContentDuration||0,i.videoTimingInfo.transmuxedPresentationStart=e.start.presentation,i.videoTimingInfo.transmuxedPresentationEnd=e.end.presentation,i.videoTimingInfo.baseMediaDecodeTime=e.baseMediaDecodeTime}},n.appendData_=function(t,e){var i=e.type,n=e.data;if(n&&n.byteLength&&("audio"!==i||!this.audioDisabled_)){var r=this.getInitSegmentAndUpdateState_({type:i,initSegment:e.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null});this.appendToSourceBuffer_({segmentInfo:t,type:i,initSegment:r,data:n})}},n.loadSegment_=function(t){var e=this;this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),"number"==typeof t.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(t):this.loadQueue_.push((function(){var i=e.buffered_();"number"==typeof t.timestampOffset&&(t.timestampOffset=pc({segmentTimeline:t.timeline,currentTimeline:e.currentTimeline_,startOfSegment:t.startOfSegment,buffered:i,overrideCheck:!0})),delete t.audioAppendStart;var n=e.sourceUpdater_.audioBuffered();n.length&&(t.audioAppendStart=n.end(n.length-1)-e.sourceUpdater_.audioTimestampOffset()),e.updateTransmuxerAndRequestSegment_(t)}))},n.updateTransmuxerAndRequestSegment_=function(t){this.shouldUpdateTransmuxerTimestampOffset_(t.timestampOffset)&&(this.gopBuffer_.length=0,t.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t.timestampOffset}));var e=this.createSimplifiedSegmentObj_(t);t.abortRequests=Wl({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:e,handlePartialData:this.handlePartialData_,abortFn:this.handleAbort_.bind(this),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleVideoSegmentTimingInfo_.bind(this,t.requestId),captionsFn:this.handleCaptions_.bind(this),id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this)})},n.trimBackBuffer_=function(t){var e=function(t,e,i){var n=e-El.BACK_BUFFER_LENGTH;t.length&&(n=Math.max(n,t.start(0)));var r=e-i;return Math.min(r,n)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);e>0&&this.remove(0,e)},n.createSimplifiedSegmentObj_=function(t){var e=t.segment,i={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith},n=t.playlist.segments[t.mediaIndex];if(n&&n.end&&n.timeline===e.timeline&&(i.baseStartTime=n.end+t.timestampOffset),e.key){var r=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);i.key=this.segmentKey(e.key),i.key.iv=r}return e.map&&(i.map=this.initSegmentForMap(e.map)),i},n.saveTransferStats_=function(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)},n.saveBandwidthRelatedStats_=function(t){this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime,this.pendingSegment_.byteLength=t.bytesReceived},n.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},n.segmentRequestFinished_=function(t,e,i){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,e,i));else if(this.saveTransferStats_(e.stats),this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId){if(t){if(this.pendingSegment_=null,this.state="READY",t.code===Fl)return;return this.pause(),t.code===Nl?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error"))}this.saveBandwidthRelatedStats_(e.stats);var n=this.pendingSegment_;n.endOfAllRequests=e.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=function(t,e,i){if(!e.length)return t;if(i)return e.slice();for(var n=e[0].pts,r=0;r<t.length&&!(t[r].pts>=n);r++);return t.slice(0,r).concat(e)}(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING";var r=this.isEndOfStream_(n.mediaIndex,n.playlist),o=null!==this.mediaIndex,a=n.timeline!==this.currentTimeline_&&n.timeline>0;!n.isFmp4&&(r||o&&a)&&Ll(this.transmuxer_),this.trigger("appending"),this.waitForAppendsToComplete_(n)}},n.setTimeMapping_=function(t){var e=this.syncController_.mappingForTimeline(t);null!==e&&(this.timeMapping_=e)},n.updateMediaSecondsLoaded_=function(t){"number"==typeof t.start&&"number"==typeof t.end?this.mediaSecondsLoaded+=t.end-t.start:this.mediaSecondsLoaded+=t.duration},n.shouldUpdateTransmuxerTimestampOffset_=function(t){return null!==t&&("main"===this.loaderType_&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset())},n.trueSegmentStart_=function(t){var e=t.currentStart,i=t.playlist,n=t.mediaIndex,r=t.firstVideoFrameTimeForData,o=t.currentVideoTimestampOffset,a=t.useVideoTimingInfo,s=t.videoTimingInfo,u=t.audioTimingInfo;if(void 0!==e)return e;if(!a)return u.start;var l=i.segments[n-1];return 0!==n&&l&&void 0!==l.start&&l.end===r+o?s.start:r},n.waitForAppendsToComplete_=function(t){if(!this.currentMediaInfo_)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var e=this.currentMediaInfo_,i=e.hasAudio,n=e.hasVideo,r=e.isMuxed,o="main"===this.loaderType_&&n,a=!this.audioDisabled_&&i&&!r;if(t.waitingOnAppends=0,!t.hasAppendedData_)return t.timingInfo||"number"!=typeof t.timestampOffset||(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),void this.checkAppendsDone_(t);o&&t.waitingOnAppends++,a&&t.waitingOnAppends++,o&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),a&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))},n.checkAppendsDone_=function(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,0===t.waitingOnAppends&&this.handleAppendsDone_())},n.checkForIllegalMediaSwitch=function(t){var e=function(t,e,i){return"main"===t&&e&&i?i.hasAudio||i.hasVideo?e.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.currentMediaInfo_,t);return!!e&&(this.error({message:e,blacklistDuration:1/0}),this.trigger("error"),!0)},n.updateSourceBufferTimestampOffset_=function(t){if(null!==t.timestampOffset&&"number"==typeof t.timingInfo.start&&!t.changedTimestampOffset&&"main"===this.loaderType_){var e=!1;t.timestampOffset-=t.timingInfo.start,t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),e=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),e=!0),e&&this.trigger("timestampoffset")}},n.updateTimingInfoEnd_=function(t){t.timingInfo=t.timingInfo||{};var e="main"===this.loaderType_&&this.currentMediaInfo_.hasVideo&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;e&&(t.timingInfo.end="number"==typeof e.end?e.end:e.start+t.duration)},n.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_;if(this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:"main"===this.loaderType_}),this.logger_(function(t){var e=t.segment,i=e.start,n=e.end,r=t.playlist,o=r.mediaSequence,a=r.id,s=r.segments,u=void 0===s?[]:s,l=t.mediaIndex,c=t.timeline;return["appending ["+l+"] of ["+o+", "+(o+u.length)+"] from playlist ["+a+"]","["+i+" => "+n+"] in timeline ["+c+"]"].join(" ")}(t)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",t.isSyncRequest)this.trigger("syncinfoupdate");else{this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");var e=t.segment;e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration?this.resetEverything():(null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.isEndOfStream_(t.mediaIndex,t.playlist)&&this.endOfStream(),this.trigger("appended"),this.paused()||this.monitorBuffer_())}},n.recordThroughput_=function(t){var e=this.throughput.rate,i=Date.now()-t.endOfAllRequests+1,n=Math.floor(t.byteLength/i*8*1e3);this.throughput.rate+=(n-e)/++this.throughput.count},n.addSegmentMetadataCue_=function(e){if(this.segmentMetadataTrack_){var i=e.segment,n=i.start,r=i.end;if(hc(n)&&hc(r)){dc(n,r,this.segmentMetadataTrack_);var o=t.WebKitDataCue||t.VTTCue,a={custom:i.custom,dateTimeObject:i.dateTimeObject,dateTimeString:i.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:r},s=new o(n,r,JSON.stringify(a));s.value=a,this.segmentMetadataTrack_.addCue(s)}}},i}(Jr.EventTarget);function vc(){}var yc,_c=function(t){return"string"!=typeof t?t:t.replace(/./,(function(t){return t.toUpperCase()}))},bc=["video","audio"],Tc=function(t,e){var i=e[t+"Buffer"];return i&&i.updating||e.queuePending[t]},wc=function t(e,i){if(0!==i.queue.length){var n=0,r=i.queue[n];if("mediaSource"!==r.type){if("mediaSource"!==e&&i.started_&&"closed"!==i.mediaSource.readyState&&!Tc(e,i)){if(r.type!==e){if(null===(n=function(t,e){for(var i=0;i<e.length;i++){var n=e[i];if("mediaSource"===n.type)return null;if(n.type===t)return i}return null}(e,i.queue)))return;r=i.queue[n]}i.queue.splice(n,1),r.action(e,i),r.doneFn?i.queuePending[e]=r:t(e,i)}}else i.updating()||"closed"===i.mediaSource.readyState||(i.queue.shift(),r.action(i),r.doneFn&&r.doneFn(),t("audio",i),t("video",i))}},Sc=function(t,e){var i=e[t+"Buffer"],n=_c(t);i&&(i.removeEventListener("updateend",e["on"+n+"UpdateEnd_"]),i.removeEventListener("error",e["on"+n+"Error_"]),e.codecs[t]=null,e[t+"Buffer"]=null)},Ec=function(t,e){return t&&e&&-1!==Array.prototype.indexOf.call(t.sourceBuffers,e)},Ac=function(t,e){return function(i,n){var r=n[i+"Buffer"];Ec(n.mediaSource,r)&&(n.logger_("Appending segment "+e.mediaIndex+"'s "+t.length+" bytes to "+i+"Buffer"),r.appendBuffer(t))}},Cc=function(t,e){return function(i,n){var r=n[i+"Buffer"];Ec(n.mediaSource,r)&&(n.logger_("Removing "+t+" to "+e+" from "+i+"Buffer"),r.remove(t,e))}},Pc=function(t){return function(e,i){var n=i[e+"Buffer"];Ec(i.mediaSource,n)&&(i.logger_("Setting "+e+"timestampOffset to "+t),n.timestampOffset=t)}},Ic=function(t){return function(e,i){t()}},Oc=function(t){return function(e){if("open"===e.mediaSource.readyState){e.logger_("Calling mediaSource endOfStream("+(t||"")+")");try{e.mediaSource.endOfStream(t)}catch(t){Jr.log.warn("Failed to call media source endOfStream",t)}}}},xc=function(t){return function(e){e.logger_("Setting mediaSource duration to "+t);try{e.mediaSource.duration=t}catch(t){Jr.log.warn("Failed to set media source duration",t)}}},kc=function(){return function(t,e){if("open"===e.mediaSource.readyState){var i=e[t+"Buffer"];if(Ec(e.mediaSource,i)){e.logger_("calling abort on "+t+"Buffer");try{i.abort()}catch(e){Jr.log.warn("Failed to abort on "+t+"Buffer",e)}}}}},Rc=function(t,e){return function(i){var n=_c(t),r=vu(e);i.logger_("Adding "+t+"Buffer with codec "+e+" to mediaSource");var o=i.mediaSource.addSourceBuffer(r);o.addEventListener("updateend",i["on"+n+"UpdateEnd_"]),o.addEventListener("error",i["on"+n+"Error_"]),i.codecs[t]=e,i[t+"Buffer"]=o}},Mc=function(t){return function(e){var i=e[t+"Buffer"];if(Sc(t,e),Ec(e.mediaSource,i)){e.logger_("Removing "+t+"Buffer with codec "+e.codecs[t]+" from mediaSource");try{e.mediaSource.removeSourceBuffer(i)}catch(e){Jr.log.warn("Failed to removeSourceBuffer "+t+"Buffer",e)}}}},Lc=function(t){return function(e,i){var n=i[e+"Buffer"],r=vu(t);Ec(i.mediaSource,n)&&i.codecs[e]!==t&&(i.logger_("changing "+e+"Buffer codec from "+i.codecs[e]+" to "+t),n.changeType(r),i.codecs[e]=t)}},Dc=function(t){var e=t.type,i=t.sourceUpdater,n=t.action,r=t.doneFn,o=t.name;i.queue.push({type:e,action:n,doneFn:r,name:o}),wc(e,i)},Nc=function(t,e){return function(i){if(e.queuePending[t]){var n=e.queuePending[t].doneFn;e.queuePending[t]=null,n&&n(e[t+"Error_"])}wc(t,e)}},Fc=function(e){function i(t){var i;return(i=e.call(this)||this).mediaSource=t,i.sourceopenListener_=function(){return wc("mediaSource",Vt(i))},i.mediaSource.addEventListener("sourceopen",i.sourceopenListener_),i.logger_=rc("SourceUpdater"),i.audioTimestampOffset_=0,i.videoTimestampOffset_=0,i.queue=[],i.queuePending={audio:null,video:null},i.delayedAudioAppendQueue_=[],i.videoAppendQueued_=!1,i.codecs={},i.onVideoUpdateEnd_=Nc("video",Vt(i)),i.onAudioUpdateEnd_=Nc("audio",Vt(i)),i.onVideoError_=function(t){i.videoError_=t},i.onAudioError_=function(t){i.audioError_=t},i.started_=!1,i}jt(i,e);var n=i.prototype;return n.ready=function(){return this.started_},n.createSourceBuffers=function(t){this.ready()||(this.addOrChangeSourceBuffers(t),this.started_=!0,this.trigger("ready"))},n.addSourceBuffer=function(t,e){Dc({type:"mediaSource",sourceUpdater:this,action:Rc(t,e),name:"addSourceBuffer"})},n.abort=function(t){Dc({type:t,sourceUpdater:this,action:kc(t),name:"abort"})},n.removeSourceBuffer=function(t){this.canRemoveSourceBuffer()?Dc({type:"mediaSource",sourceUpdater:this,action:Mc(t),name:"removeSourceBuffer"}):Jr.log.error("removeSourceBuffer is not supported!")},n.canRemoveSourceBuffer=function(){return!Jr.browser.IE_VERSION&&t.MediaSource&&t.MediaSource.prototype&&"function"==typeof t.MediaSource.prototype.removeSourceBuffer},i.canChangeType=function(){return t.SourceBuffer&&t.SourceBuffer.prototype&&"function"==typeof t.SourceBuffer.prototype.changeType},n.canChangeType=function(){return this.constructor.canChangeType()},n.changeType=function(t,e){this.canChangeType()?Dc({type:t,sourceUpdater:this,action:Lc(e),name:"changeType"}):Jr.log.error("changeType is not supported!")},n.addOrChangeSourceBuffers=function(t){var e=this;if(!t||"object"!=typeof t||0===Object.keys(t).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach((function(i){var n=t[i];if(!e.ready())return e.addSourceBuffer(i,n);e.canChangeType()&&e.changeType(i,n)}))},n.appendBuffer=function(t,e){var i=this,n=t.segmentInfo,r=t.type,o=t.bytes;if(this.processedAppend_=!0,"audio"===r&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([t,e]),void this.logger_("delayed audio append of "+o.length+" until video append");if(Dc({type:r,sourceUpdater:this,action:Ac(o,n||{mediaIndex:-1}),doneFn:e,name:"appendBuffer"}),"video"===r){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var a=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+a.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,a.forEach((function(t){i.appendBuffer.apply(i,t)}))}},n.audioBuffered=function(){return Ec(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Jr.createTimeRange()},n.videoBuffered=function(){return Ec(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Jr.createTimeRange()},n.buffered=function(){var t=Ec(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,e=Ec(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return e&&!t?this.audioBuffered():t&&!e?this.videoBuffered():function(t,e){var i=null,n=null,r=0,o=[],a=[];if(!(t&&t.length&&e&&e.length))return Jr.createTimeRange();for(var s=t.length;s--;)o.push({time:t.start(s),type:"start"}),o.push({time:t.end(s),type:"end"});for(s=e.length;s--;)o.push({time:e.start(s),type:"start"}),o.push({time:e.end(s),type:"end"});for(o.sort((function(t,e){return t.time-e.time})),s=0;s<o.length;s++)"start"===o[s].type?2==++r&&(i=o[s].time):"end"===o[s].type&&1==--r&&(n=o[s].time),null!==i&&null!==n&&(a.push([i,n]),i=null,n=null);return Jr.createTimeRanges(a)}(this.audioBuffered(),this.videoBuffered())},n.setDuration=function(t,e){void 0===e&&(e=vc),Dc({type:"mediaSource",sourceUpdater:this,action:xc(t),name:"duration",doneFn:e})},n.endOfStream=function(t,e){void 0===t&&(t=null),void 0===e&&(e=vc),"string"!=typeof t&&(t=void 0),Dc({type:"mediaSource",sourceUpdater:this,action:Oc(t),name:"endOfStream",doneFn:e})},n.removeAudio=function(t,e,i){void 0===i&&(i=vc),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Dc({type:"audio",sourceUpdater:this,action:Cc(t,e),doneFn:i,name:"remove"}):i()},n.removeVideo=function(t,e,i){void 0===i&&(i=vc),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Dc({type:"video",sourceUpdater:this,action:Cc(t,e),doneFn:i,name:"remove"}):i()},n.updating=function(){return!(!Tc("audio",this)&&!Tc("video",this))},n.audioTimestampOffset=function(t){return void 0!==t&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(Dc({type:"audio",sourceUpdater:this,action:Pc(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_},n.videoTimestampOffset=function(t){return void 0!==t&&this.videoBuffer&&this.videoTimestampOffset!==t&&(Dc({type:"video",sourceUpdater:this,action:Pc(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_},n.audioQueueCallback=function(t){this.audioBuffer&&Dc({type:"audio",sourceUpdater:this,action:Ic(t),name:"callback"})},n.videoQueueCallback=function(t){this.videoBuffer&&Dc({type:"video",sourceUpdater:this,action:Ic(t),name:"callback"})},n.dispose=function(){var t=this;this.trigger("dispose"),bc.forEach((function(e){t.abort(e),t.canRemoveSourceBuffer()?t.removeSourceBuffer(e):t[e+"QueueCallback"]((function(){return Sc(e,t)}))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},i}(Jr.EventTarget),Uc=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},Vc=new Uint8Array("\n\n".split("").map((function(t){return t.charCodeAt(0)}))),Bc=function(e){function i(t,i){var n;return void 0===i&&(i={}),(n=e.call(this,t,i)||this).handlePartialData_=!1,n.mediaSource_=null,n.subtitlesTrack_=null,n.loaderType_="subtitle",n.featuresNativeTextTracks_=t.featuresNativeTextTracks,n.shouldSaveSegmentTimingInfo_=!1,n}jt(i,e);var n=i.prototype;return n.createTransmuxer_=function(){return null},n.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return Jr.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,i=t[t.length-1].startTime;return Jr.createTimeRanges([[e,i]])},n.initSegmentForMap=function(t,e){if(void 0===e&&(e=!1),!t)return null;var i=ll(t),n=this.initSegments_[i];if(e&&!n&&t.bytes){var r=Vc.byteLength+t.bytes.byteLength,o=new Uint8Array(r);o.set(t.bytes),o.set(Vc,t.bytes.byteLength),this.initSegments_[i]=n={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:o}}return n||t},n.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},n.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},n.track=function(t){return void 0===t||(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},n.remove=function(t,e){dc(t,e,this.subtitlesTrack_)},n.fillBuffer_=function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e)){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline))return this.syncController_.one("timestampoffset",(function(){t.state="READY",t.paused()||t.monitorBuffer_()})),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(e)}},n.skipEmptySegments_=function(t){for(;t&&t.segment.empty;)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t},n.stopForError=function(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")},n.segmentRequestFinished_=function(e,i,n){var r=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(i.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===Nl&&this.handleTimeout_(),e.code===Fl?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);this.saveBandwidthRelatedStats_(i.stats),this.state="APPENDING",this.trigger("appending");var o=this.pendingSegment_,a=o.segment;if(a.map&&(a.map.bytes=i.map.bytes),o.bytes=i.bytes,"function"!=typeof t.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var s,u=function(){r.subtitlesTrack_.tech_.off("vttjsloaded",s),r.stopForError({message:"Error loading vtt.js"})};return s=function(){r.subtitlesTrack_.tech_.off("vttjserror",u),r.segmentRequestFinished_(e,i,n)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",s),void this.subtitlesTrack_.tech_.one("vttjserror",u)}a.requested=!0;try{this.parseVTTCues_(o)}catch(t){return void this.stopForError({message:t.message})}if(this.updateTimeMapping_(o,this.syncController_.timelines[o.timeline],this.playlist_),o.cues.length?o.timingInfo={start:o.cues[0].startTime,end:o.cues[o.cues.length-1].endTime}:o.timingInfo={start:o.startOfSegment,end:o.startOfSegment+o.duration},o.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");o.byteLength=o.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,o.cues.forEach((function(e){r.remove(e.startTime,e.endTime),r.subtitlesTrack_.addCue(r.featuresNativeTextTracks_?new t.VTTCue(e.startTime,e.endTime,e.text):e)})),this.handleAppendsDone_()}else this.state="READY"},n.handleData_=function(){},n.updateTimingInfoEnd_=function(){},n.parseVTTCues_=function(e){var i,n=!1;"function"==typeof t.TextDecoder?i=new t.TextDecoder("utf8"):(i=t.WebVTT.StringDecoder(),n=!0);var r=new t.WebVTT.Parser(t,t.vttjs,i);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=function(t){e.timestampmap=t},r.onparsingerror=function(t){Jr.log.warn("Error encountered when parsing cues: "+t.message)},e.segment.map){var o=e.segment.map.bytes;n&&(o=Uc(o)),r.parse(o)}var a=e.bytes;n&&(a=Uc(a)),r.parse(a),r.flush()},n.updateTimeMapping_=function(t,e,i){var n=t.segment;if(e)if(t.cues.length){var r=t.timestampmap,o=r.MPEGTS/qs-r.LOCAL+e.mapping;if(t.cues.forEach((function(t){t.startTime+=o,t.endTime+=o})),!i.syncInfo){var a=t.cues[0].startTime,s=t.cues[t.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+t.mediaIndex,time:Math.min(a,s-n.duration)}}}else n.empty=!0},i}(mc),jc=function(t,e){for(var i=t.cues,n=0;n<i.length;n++){var r=i[n];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},Hc=[{name:"VOD",run:function(t,e,i,n,r){return i!==1/0?{time:0,segmentIndex:0}:null}},{name:"ProgramDateTime",run:function(t,e,i,n,r){if(!t.datetimeToDisplayTime)return null;var o=e.segments||[],a=null,s=null;r=r||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.dateTimeObject){var c=l.dateTimeObject.getTime()/1e3+t.datetimeToDisplayTime,d=Math.abs(r-c);if(null!==s&&(0===d||s<d))break;s=d,a={time:c,segmentIndex:u}}}return a}},{name:"Segment",run:function(t,e,i,n,r){var o=e.segments||[],a=null,s=null;r=r||0;for(var u=0;u<o.length;u++){var l=o[u];if(l.timeline===n&&void 0!==l.start){var c=Math.abs(r-l.start);if(null!==s&&s<c)break;(!a||null===s||s>=c)&&(s=c,a={time:l.start,segmentIndex:u})}}return a}},{name:"Discontinuity",run:function(t,e,i,n,r){var o=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var a=null,s=0;s<e.discontinuityStarts.length;s++){var u=e.discontinuityStarts[s],l=e.discontinuitySequence+s+1,c=t.discontinuities[l];if(c){var d=Math.abs(r-c.time);if(null!==a&&a<d)break;(!o||null===a||a>=d)&&(a=d,o={time:c.time,segmentIndex:u})}}return o}},{name:"Playlist",run:function(t,e,i,n,r){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence}:null}}],Gc=function(t){function e(e){var i;return(i=t.call(this)||this).timelines=[],i.discontinuities=[],i.datetimeToDisplayTime=null,i.logger_=rc("SyncController"),i}jt(e,t);var i=e.prototype;return i.getSyncPoint=function(t,e,i,n){var r=this.runStrategies_(t,e,i,n);return r.length?this.selectSyncPoint_(r,{key:"time",value:n}):null},i.getExpiredTime=function(t,e){if(!t||!t.segments)return null;var i=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!i.length)return null;var n=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+zu(t,n.segmentIndex,0))},i.runStrategies_=function(t,e,i,n){for(var r=[],o=0;o<Hc.length;o++){var a=Hc[o],s=a.run(this,t,e,i,n);s&&(s.strategy=a.name,r.push({strategy:a.name,syncPoint:s}))}return r},i.selectSyncPoint_=function(t,e){for(var i=t[0].syncPoint,n=Math.abs(t[0].syncPoint[e.key]-e.value),r=t[0].strategy,o=1;o<t.length;o++){var a=Math.abs(t[o].syncPoint[e.key]-e.value);a<n&&(n=a,i=t[o].syncPoint,r=t[o].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+r+"]: [time:"+i.time+", segmentIndex:"+i.segmentIndex+"]"),i},i.saveExpiredSegmentInfo=function(t,e){for(var i=e.mediaSequence-t.mediaSequence-1;i>=0;i--){var n=t.segments[i];if(n&&void 0!==n.start){e.syncInfo={mediaSequence:t.mediaSequence+i,time:n.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},i.setDateTimeMapping=function(t){if(!this.datetimeToDisplayTime&&t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var e=t.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}},i.saveSegmentTimingInfo=function(t){var e=t.segmentInfo,i=t.shouldSaveTimelineMapping;this.calculateSegmentTimeMapping_(e,e.timingInfo,i)&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:e.segment.start}))},i.timestampOffsetForTimeline=function(t){return void 0===this.timelines[t]?null:this.timelines[t].time},i.mappingForTimeline=function(t){return void 0===this.timelines[t]?null:this.timelines[t].mapping},i.calculateSegmentTimeMapping_=function(t,e,i){var n=t.segment,r=this.timelines[t.timeline];if(null!==t.timestampOffset)r={time:t.startOfSegment,mapping:t.startOfSegment-e.start},i&&(this.timelines[t.timeline]=r,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+r.time+"] [mapping: "+r.mapping+"]")),n.start=t.startOfSegment,n.end=e.end+r.mapping;else{if(!r)return!1;n.start=e.start+r.mapping,n.end=e.end+r.mapping}return!0},i.saveDiscontinuitySyncInfo_=function(t){var e=t.playlist,i=t.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var n=0;n<e.discontinuityStarts.length;n++){var r=e.discontinuityStarts[n],o=e.discontinuitySequence+n+1,a=r-t.mediaIndex,s=Math.abs(a);if(!this.discontinuities[o]||this.discontinuities[o].accuracy>s){var u=void 0;u=a<0?i.start-zu(e,t.mediaIndex,r):i.end+zu(e,t.mediaIndex+1,r),this.discontinuities[o]={time:u,accuracy:s}}}},i.dispose=function(){this.trigger("dispose"),this.off()},e}(Jr.EventTarget),Wc=function(t){function e(){var e;return(e=t.call(this)||this).pendingTimelineChanges_={},e.lastTimelineChanges_={},e}jt(e,t);var i=e.prototype;return i.clearPendingTimelineChange=function(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")},i.pendingTimelineChange=function(t){var e=t.type,i=t.from,n=t.to;return"number"==typeof i&&"number"==typeof n&&(this.pendingTimelineChanges_[e]={type:e,from:i,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]},i.lastTimelineChange=function(t){var e=t.type,i=t.from,n=t.to;return"number"==typeof i&&"number"==typeof n&&(this.lastTimelineChanges_[e]={type:e,from:i,to:n},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]},i.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(Jr.EventTarget),zc=new Xl("./decrypter-worker.worker.js",(function(t,e){var i=this;
/*! @name @videojs/http-streaming @version 2.2.4 @license Apache-2.0 */!function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var e=function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e},n=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e},r=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.off=function(t,e){if(!this.listeners[t])return!1;var i=this.listeners[t].indexOf(e);return this.listeners[t]=this.listeners[t].slice(0),this.listeners[t].splice(i,1),i>-1},e.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),o=e.length,a=0;a<o;++a)e[a].apply(this,r)},e.dispose=function(){this.listeners={}},e.pipe=function(t){this.on("data",(function(e){t.push(e)}))},t}(),o=null,a=function(){function t(t){var e,i,n;o||(o=function(){var t,e,i,n,r,o,a,s,u=[[[],[],[],[],[]],[[],[],[],[],[]]],l=u[0],c=u[1],d=l[4],h=c[4],f=[],p=[];for(t=0;t<256;t++)p[(f[t]=t<<1^283*(t>>7))^t]=t;for(e=i=0;!d[e];e^=n||1,i=p[i]||1)for(o=(o=i^i<<1^i<<2^i<<3^i<<4)>>8^255&o^99,d[e]=o,h[o]=e,s=16843009*f[r=f[n=f[e]]]^65537*r^257*n^16843008*e,a=257*f[o]^16843008*o,t=0;t<4;t++)l[t][e]=a=a<<24^a>>>8,c[t][o]=s=s<<24^s>>>8;for(t=0;t<5;t++)l[t]=l[t].slice(0),c[t]=c[t].slice(0);return u}()),this._tables=[[o[0][0].slice(),o[0][1].slice(),o[0][2].slice(),o[0][3].slice(),o[0][4].slice()],[o[1][0].slice(),o[1][1].slice(),o[1][2].slice(),o[1][3].slice(),o[1][4].slice()]];var r=this._tables[0][4],a=this._tables[1],s=t.length,u=1;if(4!==s&&6!==s&&8!==s)throw new Error("Invalid aes key size");var l=t.slice(0),c=[];for(this._key=[l,c],e=s;e<4*s+28;e++)n=l[e-1],(e%s==0||8===s&&e%s==4)&&(n=r[n>>>24]<<24^r[n>>16&255]<<16^r[n>>8&255]<<8^r[255&n],e%s==0&&(n=n<<8^n>>>24^u<<24,u=u<<1^283*(u>>7))),l[e]=l[e-s]^n;for(i=0;e;i++,e--)n=l[3&i?e:e-4],c[i]=e<=4||i<4?n:a[0][r[n>>>24]]^a[1][r[n>>16&255]]^a[2][r[n>>8&255]]^a[3][r[255&n]]}return t.prototype.decrypt=function(t,e,i,n,r,o){var a,s,u,l,c=this._key[1],d=t^c[0],h=n^c[1],f=i^c[2],p=e^c[3],g=c.length/4-2,m=4,v=this._tables[1],y=v[0],_=v[1],b=v[2],T=v[3],w=v[4];for(l=0;l<g;l++)a=y[d>>>24]^_[h>>16&255]^b[f>>8&255]^T[255&p]^c[m],s=y[h>>>24]^_[f>>16&255]^b[p>>8&255]^T[255&d]^c[m+1],u=y[f>>>24]^_[p>>16&255]^b[d>>8&255]^T[255&h]^c[m+2],p=y[p>>>24]^_[d>>16&255]^b[h>>8&255]^T[255&f]^c[m+3],m+=4,d=a,h=s,f=u;for(l=0;l<4;l++)r[(3&-l)+o]=w[d>>>24]<<24^w[h>>16&255]<<16^w[f>>8&255]<<8^w[255&p]^c[m++],a=d,d=h,h=f,f=p,p=a},t}(),s=function(t){function e(){var e;return(e=t.call(this,r)||this).jobs=[],e.delay=1,e.timeout_=null,e}n(e,t);var i=e.prototype;return i.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},i.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},e}(r),u=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},l=function(){function t(e,i,n,r){var o=t.STEP,a=new Int32Array(e.buffer),l=new Uint8Array(e.byteLength),c=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(a.subarray(c,c+o),i,n,l)),c=o;c<a.length;c+=o)n=new Uint32Array([u(a[c-4]),u(a[c-3]),u(a[c-2]),u(a[c-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(c,c+o),i,n,l));this.asyncStream_.push((function(){
/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */
var t;
/*! @name aes-decrypter @version 3.1.0 @license Apache-2.0 */r(null,(t=l).subarray(0,t.byteLength-t[t.byteLength-1]))}))}return t.prototype.decryptChunk_=function(t,e,i,n){return function(){var r=function(t,e,i){var n,r,o,s,l,c,d,h,f,p=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),g=new a(Array.prototype.slice.call(e)),m=new Uint8Array(t.byteLength),v=new Int32Array(m.buffer);for(n=i[0],r=i[1],o=i[2],s=i[3],f=0;f<p.length;f+=4)l=u(p[f]),c=u(p[f+1]),d=u(p[f+2]),h=u(p[f+3]),g.decrypt(l,c,d,h,v,f),v[f]=u(v[f]^n),v[f+1]=u(v[f+1]^r),v[f+2]=u(v[f+2]^o),v[f+3]=u(v[f+3]^s),n=l,r=c,o=d,s=h;return m}(t,e,i);n.set(r,t.byteOffset)}},e(t,null,[{key:"STEP",get:function(){return 32e3}}]),t}();new function(t){t.onmessage=function(e){var i=e.data,n=new Uint8Array(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),r=new Uint32Array(i.key.bytes,i.key.byteOffset,i.key.byteLength/4),o=new Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4);new l(n,r,o,(function(e,n){var r,o;t.postMessage((r={source:i.source,decrypted:n},o={},Object.keys(r).forEach((function(t){var e=r[t];ArrayBuffer.isView(e)?o[t]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:o[t]=e})),o),[n.buffer])}))}}(i)}()})),$c=function(t){var e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},qc=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Yc=function(t,e){e.activePlaylistLoader=t,t.load()},Kc={AUDIO:function(t,e){return function(){var i=e.segmentLoaders[t],n=e.mediaTypes[t],r=e.blacklistCurrentPlaylist;qc(i,n);var o=n.activeTrack(),a=n.activeGroup(),s=(a.filter((function(t){return t.default}))[0]||a[0]).id,u=n.tracks[s];if(o!==u){for(var l in Jr.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),n.tracks)n.tracks[l].enabled=n.tracks[l]===u;n.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,e){return function(){var i=e.segmentLoaders[t],n=e.mediaTypes[t];Jr.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),qc(i,n);var r=n.activeTrack();r&&(r.mode="disabled"),n.onTrackChanged()}}},Xc={AUDIO:function(t,e,i){if(e){var n=i.tech,r=i.requestOptions,o=i.segmentLoaders[t];e.on("loadedmetadata",(function(){var t=e.media();o.playlist(t,r),(!n.paused()||t.endList&&"none"!==n.preload())&&o.load()})),e.on("loadedplaylist",(function(){o.playlist(e.media(),r),n.paused()||o.load()})),e.on("error",Kc[t](t,i))}},SUBTITLES:function(t,e,i){var n=i.tech,r=i.requestOptions,o=i.segmentLoaders[t],a=i.mediaTypes[t];e.on("loadedmetadata",(function(){var t=e.media();o.playlist(t,r),o.track(a.activeTrack()),(!n.paused()||t.endList&&"none"!==n.preload())&&o.load()})),e.on("loadedplaylist",(function(){o.playlist(e.media(),r),n.paused()||o.load()})),e.on("error",Kc[t](t,i))}},Zc={AUDIO:function(t,e){var i=e.vhs,n=e.sourceType,r=e.segmentLoaders[t],o=e.requestOptions,a=e.master,s=a.mediaGroups,u=a.playlists,l=e.mediaTypes[t],c=l.groups,d=l.tracks,h=e.masterPlaylistLoader;s[t]&&0!==Object.keys(s[t]).length||(s[t]={main:{default:{default:!0}}});var f=function(r){c[r]||(c[r]=[]);var a=u.filter((function(e){return e.attributes[t]===r})),l=function(u){var l=s[t][r][u];a.filter((function(t){return t.resolvedUri===l.resolvedUri})).length&&delete l.resolvedUri;var f=void 0;if(f="vhs-json"===n&&l.playlists?new Nu(l.playlists[0],i,o):l.resolvedUri?new Nu(l.resolvedUri,i,o):l.playlists&&"dash"===n?new Sl(l.playlists[0],i,o,h):null,l=Jr.mergeOptions({id:u,playlistLoader:f},l),Xc[t](t,l.playlistLoader,e),c[r].push(l),void 0===d[u]){var p=new Jr.AudioTrack({id:u,kind:$c(l),enabled:!1,language:l.language,default:l.default,label:u});d[u]=p}};for(var f in s[t][r])l(f)};for(var p in s[t])f(p);r.on("error",Kc[t](t,e))},SUBTITLES:function(t,e){var i=e.tech,n=e.vhs,r=e.sourceType,o=e.segmentLoaders[t],a=e.requestOptions,s=e.master.mediaGroups,u=e.mediaTypes[t],l=u.groups,c=u.tracks,d=e.masterPlaylistLoader;for(var h in s[t])for(var f in l[h]||(l[h]=[]),s[t][h])if(!s[t][h][f].forced){var p=s[t][h][f],g=void 0;if("hls"===r?g=new Nu(p.resolvedUri,n,a):"dash"===r?g=new Sl(p.playlists[0],n,a,d):"vhs-json"===r&&(g=new Nu(p.playlists?p.playlists[0]:p.resolvedUri,n,a)),p=Jr.mergeOptions({id:f,playlistLoader:g},p),Xc[t](t,p.playlistLoader,e),l[h].push(p),void 0===c[f]){var m=i.addRemoteTextTrack({id:f,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:f},!1).track;c[f]=m}}o.on("error",Kc[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var i=e.tech,n=e.master.mediaGroups,r=e.mediaTypes[t],o=r.groups,a=r.tracks;for(var s in n[t])for(var u in o[s]||(o[s]=[]),n[t][s]){var l=n[t][s][u];if(l.instreamId.match(/CC\d/)&&(o[s].push(Jr.mergeOptions({id:u},l)),void 0===a[u])){var c=i.addRemoteTextTrack({id:l.instreamId,kind:"captions",default:l.default&&l.autoselect,language:l.language,label:u},!1).track;a[u]=c}}}},Qc={AUDIO:function(t,e){return function(){var i=e.mediaTypes[t].tracks;for(var n in i)if(i[n].enabled)return i[n];return null}},SUBTITLES:function(t,e){return function(){var i=e.mediaTypes[t].tracks;for(var n in i)if("showing"===i[n].mode||"hidden"===i[n].mode)return i[n];return null}}},Jc=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){Zc[e](e,t)}));var e=t.mediaTypes,i=t.masterPlaylistLoader,n=t.tech,r=t.vhs;["AUDIO","SUBTITLES"].forEach((function(i){e[i].activeGroup=function(t,e){return function(i){var n=e.masterPlaylistLoader,r=e.mediaTypes[t].groups,o=n.media();if(!o)return null;var a=null;return o.attributes[t]&&(a=r[o.attributes[t]]),a=a||r.main,void 0===i?a:null===i?null:a.filter((function(t){return t.id===i.id}))[0]||null}}(i,t),e[i].activeTrack=Qc[i](i,t),e[i].onGroupChanged=function(t,e){return function(){var i=e.segmentLoaders,n=i[t],r=i.main,o=e.mediaTypes[t],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;qc(n,o),s&&(s.playlistLoader?(n.resyncLoader(),Yc(s.playlistLoader,o)):u&&r.resetEverything())}}(i,t),e[i].onGroupChanging=function(t,e){return function(){var i=e.segmentLoaders[t];i.abort(),i.pause()}}(i,t),e[i].onTrackChanged=function(t,e){return function(){var i=e.segmentLoaders,n=i[t],r=i.main,o=e.mediaTypes[t],a=o.activeTrack(),s=o.activeGroup(a),u=o.activePlaylistLoader;if(qc(n,o),s){if("AUDIO"===t){if(!s.playlistLoader)return r.setAudio(!0),void r.resetEverything();n.setAudio(!0),r.setAudio(!1)}u!==s.playlistLoader?(n.track&&n.track(a),n.resetEverything(),Yc(s.playlistLoader,o)):Yc(s.playlistLoader,o)}}}(i,t)}));var o=e.AUDIO.activeGroup();if(o){var a=(o.filter((function(t){return t.default}))[0]||o[0]).id;e.AUDIO.tracks[a].enabled=!0,e.AUDIO.onTrackChanged()}i.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(t){return e[t].onGroupChanged()}))})),i.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(t){return e[t].onGroupChanging()}))}));var s=function(){e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"}),n.trigger({type:"usage",name:"hls-audio-change"})};for(var u in n.audioTracks().addEventListener("change",s),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",(function(){n.audioTracks().removeEventListener("change",s),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)})),n.clearTracks("audio"),e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[u])},td=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],ed=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},id=function(e){function i(i){var n;n=e.call(this)||this;var r=i.src,o=i.handleManifestRedirects,a=i.withCredentials,s=i.tech,u=i.bandwidth,l=i.externVhs,c=i.useCueTags,d=i.blacklistDuration,h=i.enableLowInitialPlaylist,f=i.sourceType,p=i.cacheEncryptionKeys,g=i.handlePartialData;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");yc=l,n.withCredentials=a,n.tech_=s,n.vhs_=s.vhs,n.sourceType_=f,n.useCueTags_=c,n.blacklistDuration=d,n.enableLowInitialPlaylist=h,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:a,handleManifestRedirects:o,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:vc,activeTrack:vc,onGroupChanged:vc,onTrackChanged:vc}})),t}(),n.mediaSource=new t.MediaSource,n.handleDurationChange_=n.handleDurationChange_.bind(Vt(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(Vt(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(Vt(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=Jr.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new Gc(i),n.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new zc,n.sourceUpdater_=new Fc(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new Wc;var m={vhs:n.vhs_,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:u,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:p,handlePartialData:g,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_};return n.masterPlaylistLoader_="dash"===n.sourceType_?new Sl(r,n.vhs_,n.requestOptions_):new Nu(r,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new mc(Jr.mergeOptions(m,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),i),n.audioSegmentLoader_=new mc(Jr.mergeOptions(m,{loaderType:"audio"}),i),n.subtitleSegmentLoader_=new Bc(Jr.mergeOptions(m,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks}),i),n.setupSegmentLoaderListeners_(),td.forEach((function(t){n[t+"_"]=ed.bind(Vt(n),t)})),n.logger_=rc("MPC"),n.triggeredFmp4Usage=!1,n.masterPlaylistLoader_.load(),n}jt(i,e);var n=i.prototype;return n.setupMasterPlaylistLoaderListeners_=function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var e=t.masterPlaylistLoader_.media(),i=1.5*e.targetDuration*1e3;Qu(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=i,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),Jc({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,vhs:t.vhs_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e),t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){t.trigger("selectedinitialmedia")}))})),this.masterPlaylistLoader_.on("loadedplaylist",(function(){var e=t.masterPlaylistLoader_.media();if(!e){var i;if(t.excludeUnsupportedVariants_(),t.enableLowInitialPlaylist&&(i=t.selectInitialPlaylist()),i||(i=t.selectPlaylist()),t.initialMedia_=i,t.masterPlaylistLoader_.media(t.initialMedia_),"vhs-json"!==t.sourceType_||!t.initialMedia_.segments)return;e=t.initialMedia_}t.handleUpdatedMediaPlaylist(e)})),this.masterPlaylistLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)})),this.masterPlaylistLoader_.on("mediachanging",(function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()})),this.masterPlaylistLoader_.on("mediachange",(function(){var e=t.masterPlaylistLoader_.media(),i=1.5*e.targetDuration*1e3;Qu(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=i,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})})),this.masterPlaylistLoader_.on("playlistunchanged",(function(){var e=t.masterPlaylistLoader_.media();t.stuckAtPlaylistEnd_(e)&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))})),this.masterPlaylistLoader_.on("renditiondisabled",(function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})})),this.masterPlaylistLoader_.on("renditionenabled",(function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))},n.handleUpdatedMediaPlaylist=function(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},n.triggerPresenceUsage_=function(t,e){var i=t.mediaGroups||{},n=!0,r=Object.keys(i.AUDIO);for(var o in i.AUDIO)for(var a in i.AUDIO[o])i.AUDIO[o][a].uri||(n=!1);n&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(i.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),yc.Playlist.isAes(e)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),r.length&&Object.keys(i.AUDIO[r[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},n.setupSegmentLoaderListeners_=function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",(function(){var e=t.selectPlaylist(),i=t.masterPlaylistLoader_.media(),n=t.tech_.buffered();(function(t){var e=t.currentPlaylist,i=t.nextPlaylist,n=t.forwardBuffer,r=t.bufferLowWaterLine,o=t.duration;return t.log,i?!e.endList||o<El.MAX_BUFFER_LOW_WATER_LINE||i.attributes.BANDWIDTH<e.attributes.BANDWIDTH||n>=r:(Jr.log.warn("We received no playlist to switch to. Please check your stream."),!1)})({currentPlaylist:i,nextPlaylist:e,forwardBuffer:n.length?n.end(n.length-1)-t.tech_.currentTime():0,bufferLowWaterLine:t.bufferLowWaterLine(),duration:t.duration(),log:t.logger_})&&t.masterPlaylistLoader_.media(e),t.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("progress",(function(){t.trigger("progress")})),this.mainSegmentLoader_.on("error",(function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())})),this.mainSegmentLoader_.on("appenderror",(function(){t.error=t.mainSegmentLoader_.error_,t.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(function(){t.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(function(){t.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(function(){t.error=t.audioSegmentLoader_.error_,t.trigger("error")})),this.mainSegmentLoader_.on("ended",(function(){t.logger_("main segment loader ended"),t.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}));var e=function(){if(!t.sourceUpdater_.ready())return t.tryToCreateSourceBuffers_();var e=t.getCodecsOrExclude_();e&&t.sourceUpdater_.addOrChangeSourceBuffers(e)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",(function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(function(){t.logger_("audioSegmentLoader ended"),t.onEndOfStream()}))},n.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},n.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},n.smoothQualityChange_=function(t){void 0===t&&(t=this.selectPlaylist()),t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())},n.fastQualityChange_=function(t){var e=this;void 0===t&&(t=this.selectPlaylist()),t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetEverything((function(){Jr.browser.IE_VERSION||Jr.browser.IS_EDGE?e.tech_.setCurrentTime(e.tech_.currentTime()+.04):e.tech_.setCurrentTime(e.tech_.currentTime())})))},n.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.tech_.setCurrentTime(t.end(t.length-1)):void 0}},n.setupFirstPlay=function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList){var i=this.seekable();if(!i.length)return!1;if(Jr.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",(function(){t.trigger("firstplay"),t.tech_.setCurrentTime(i.end(0)),t.hasPlayed_=!0})),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(i.end(0))}return this.hasPlayed_=!0,this.load(),!0},n.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var t=this.tech_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,(function(t){}))}this.trigger("sourceopen")},n.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var t=this.inbandTextTracks_.metadataTrack_.cues;if(t&&t.length){var e=this.duration();t[t.length-1].endTime=isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e}}},n.handleDurationChange_=function(){this.tech_.trigger("durationchange")},n.onEndOfStream=function(){var t=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=!this.mainSegmentLoader_.currentMediaInfo_||this.mainSegmentLoader_.currentMediaInfo_.hasVideo?t&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),t&&this.sourceUpdater_.endOfStream()},n.stuckAtPlaylistEnd_=function(t){if(!this.seekable().length)return!1;var e=this.syncController_.getExpiredTime(t,this.duration());if(null===e)return!1;var i=yc.Playlist.playlistEnd(t,e),n=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return i-n<=.1;var o=r.end(r.length-1);return o-n<=.1&&i-o<=.1},n.blacklistCurrentPlaylist=function(t,e){void 0===t&&(t={});var i=t.playlist||this.masterPlaylistLoader_.media();if(e=e||t.blacklistDuration||this.blacklistDuration,!i)return this.error=t,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));var n=this.masterPlaylistLoader_.master.playlists,r=n.filter(Xu),o=1===r.length&&r[0]===i;if(1===n.length&&e!==1/0)return Jr.log.warn("Problem encountered with playlist "+i.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(o);if(o){var a=!1;n.forEach((function(t){if(t!==i){var e=t.excludeUntil;void 0!==e&&e!==1/0&&(a=!0,delete t.excludeUntil)}})),a&&(Jr.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}i.excludeUntil=Date.now()+1e3*e,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var s=this.selectPlaylist();if(!s)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");var u=t.internal?this.logger_:Jr.log.warn,l=t.message?" "+t.message:"";return u((t.internal?"Internal problem":"Problem")+" encountered with playlist "+i.id+"."+l+" Switching to playlist "+s.id+"."),s.attributes.AUDIO!==i.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),s.attributes.SUBTITLES!==i.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]),this.masterPlaylistLoader_.media(s,o)},n.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"])},n.delegateLoaders_=function(t,e){var i=this,n=[],r="all"===t;(r||"main"===t)&&n.push(this.masterPlaylistLoader_);var o=[];(r||"audio"===t)&&o.push("AUDIO"),(r||"subtitle"===t)&&(o.push("CLOSED-CAPTIONS"),o.push("SUBTITLES")),o.forEach((function(t){var e=i.mediaTypes_[t]&&i.mediaTypes_[t].activePlaylistLoader;e&&n.push(e)})),["main","audio","subtitle"].forEach((function(e){var r=i[e+"SegmentLoader_"];!r||t!==e&&"all"!==t||n.push(r)})),n.forEach((function(t){return e.forEach((function(e){"function"==typeof t[e]&&t[e]()}))}))},n.setCurrentTime=function(t){var e=Uu(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},n.duration=function(){if(!this.masterPlaylistLoader_)return 0;var t=this.masterPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:yc.Playlist.duration(t):1/0:0},n.seekable=function(){return this.seekable_},n.onSyncInfoUpdate_=function(){var t;if(this.masterPlaylistLoader_){var e=this.masterPlaylistLoader_.media();if(e){var i=this.syncController_.getExpiredTime(e,this.duration());if(null!==i){var n=this.masterPlaylistLoader_.master.suggestedPresentationDelay,r=yc.Playlist.seekable(e,i,n);if(0!==r.length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(e=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(i=this.syncController_.getExpiredTime(e,this.duration())))return;if(0===(t=yc.Playlist.seekable(e,i,n)).length)return}var o,a;this.seekable_&&this.seekable_.length&&(o=this.seekable_.end(0),a=this.seekable_.start(0)),t?t.start(0)>r.end(0)||r.start(0)>t.end(0)?this.seekable_=r:this.seekable_=Jr.createTimeRanges([[t.start(0)>r.start(0)?t.start(0):r.start(0),t.end(0)<r.end(0)?t.end(0):r.end(0)]]):this.seekable_=r,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===o&&this.seekable_.start(0)===a||(this.logger_("seekable updated ["+Bu(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},n.updateDuration=function(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,t),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(t){var e=this.seekable();if(!e.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<e.end(e.length-1))&&this.sourceUpdater_.setDuration(e.end(e.length-1))}else{var i=this.tech_.buffered(),n=yc.Playlist.duration(this.masterPlaylistLoader_.media());i.length>0&&(n=Math.max(n,i.end(i.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}},n.dispose=function(){var t=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach((function(e){var i=t.mediaTypes_[e].groups;for(var n in i)i[n].forEach((function(t){t.playlistLoader&&t.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},n.master=function(){return this.masterPlaylistLoader_.master},n.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},n.areMediaTypesKnown_=function(){var t=!!this.mediaTypes_.AUDIO.activePlaylistLoader;return!(!this.mainSegmentLoader_.currentMediaInfo_||t&&!this.audioSegmentLoader_.currentMediaInfo_)},n.getCodecsOrExclude_=function(){var t=this,e={main:this.mainSegmentLoader_.currentMediaInfo_||{},audio:this.audioSegmentLoader_.currentMediaInfo_||{}};e.video=e.main;var i=nc(this.master(),this.media()),n={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(n.video=i.video||e.main.videoCodec||pu),e.main.isMuxed&&(n.video+=","+(i.audio||e.main.audioCodec||fu)),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||r)&&(n.audio=i.audio||e.main.audioCodec||e.audio.audioCodec||fu,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),n.audio||n.video){var o,a={};if(["video","audio"].forEach((function(t){if(n.hasOwnProperty(t)&&(r=e[t].isFmp4,s=n[t],!(r?gu(s):bu(s)))){var i=e[t].isFmp4?"browser":"muxer";a[i]=a[i]||[],a[i].push(n[t]),"audio"===t&&(o=i)}var r,s})),r&&o&&this.media().attributes.AUDIO){var s=this.media().attributes.AUDIO;this.master().playlists.forEach((function(e){(e.attributes&&e.attributes.AUDIO)===s&&e!==t.media()&&(e.excludeUntil=1/0)})),this.logger_("excluding audio group "+s+" as "+o+' does not support codec(s): "'+n.audio+'"')}if(!Object.keys(a).length){if(this.sourceUpdater_.ready()&&!this.sourceUpdater_.canChangeType()){var u=[];if(["video","audio"].forEach((function(e){var i=(Tu(t.sourceUpdater_.codecs[e]||"")[e]||{}).type,r=(Tu(n[e]||"")[e]||{}).type;i&&r&&i.toLowerCase()!==r.toLowerCase()&&u.push('"'+t.sourceUpdater_.codecs[e]+'" -> "'+n[e]+'"')})),u.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+u.join(", ")+".",blacklistDuration:1/0,internal:!0})}return n}var l=Object.keys(a).reduce((function(t,e){return t&&(t+=", "),t+=e+' does not support codec(s): "'+a[e].join(",")+'"'}),"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:l,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},n.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.ready()&&this.areMediaTypesKnown_()){var t=this.getCodecsOrExclude_();if(t){this.sourceUpdater_.createSourceBuffers(t);var e=[t.video,t.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(e)}}},n.excludeUnsupportedVariants_=function(){var t=this;this.master().playlists.forEach((function(e){var i=nc(t.master,e);!i.audio||bu(i.audio)||gu(i.audio)||(e.excludeUntil=1/0),!i.video||bu(i.video)||gu(i.video)||(e.excludeUntil=1/0)}))},n.excludeIncompatibleVariants_=function(t){var e=this,i=Tu(t),n=Object.keys(i).length;this.master().playlists.forEach((function(t){if(t.excludeUntil!==1/0){var r={},o=2,a=[],s=nc(e.masterPlaylistLoader_.master,t);if(s.audio||s.video){var u=[s.video,s.audio].filter(Boolean).join(",");r=Tu(u),o=Object.keys(r).length}o!==n&&(a.push('codec count "'+o+'" !== "'+n+'"'),t.excludeUntil=1/0),e.sourceUpdater_.canChangeType()||(r.video&&i.video&&r.video.type.toLowerCase()!==i.video.type.toLowerCase()&&(a.push('video codec "'+r.video.type+'" !== "'+i.video.type+'"'),t.excludeUntil=1/0),r.audio&&i.audio&&r.audio.type.toLowerCase()!==i.audio.type.toLowerCase()&&(t.excludeUntil=1/0,a.push('audio codec "'+r.audio.type+'" !== "'+i.audio.type+'"'))),a.length&&e.logger_("blacklisting "+t.id+": "+a.join(" && "))}}))},n.updateAdCues_=function(e){var i=0,n=this.seekable();n.length&&(i=n.start(0)),function(e,i,n){if(void 0===n&&(n=0),e.segments)for(var r,o=n,a=0;a<e.segments.length;a++){var s=e.segments[a];if(r||(r=jc(i,o+s.duration/2)),r){if("cueIn"in s){r.endTime=o,r.adEndTime=o,o+=s.duration,r=null;continue}if(o<r.endTime){o+=s.duration;continue}r.endTime+=s.duration}else if("cueOut"in s&&((r=new t.VTTCue(o,o+s.duration,s.cueOut)).adStartTime=o,r.adEndTime=o+parseFloat(s.cueOut),i.addCue(r)),"cueOutCont"in s){var u=s.cueOutCont.split("/").map(parseFloat),l=u[0],c=u[1];(r=new t.VTTCue(o,o+s.duration,"")).adStartTime=o-l,r.adEndTime=r.adStartTime+c,i.addCue(r)}o+=s.duration}}(e,this.cueTagsTrack_,i)},n.goalBufferLength=function(){var t=this.tech_.currentTime(),e=El.GOAL_BUFFER_LENGTH,i=El.GOAL_BUFFER_LENGTH_RATE,n=Math.max(e,El.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*i,n)},n.bufferLowWaterLine=function(){var t=this.tech_.currentTime(),e=El.BUFFER_LOW_WATER_LINE,i=El.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(e,El.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*i,n)},i}(Jr.EventTarget),nd=function(t,e,i){var n,r,o,a=t.masterPlaylistController_,s=a[(t.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(a);if(e.attributes.RESOLUTION){var u=e.attributes.RESOLUTION;this.width=u.width,this.height=u.height}this.bandwidth=e.attributes.BANDWIDTH,this.codecs=nc(a.master(),e),this.playlist=e,this.id=i,this.enabled=(n=t.playlists,r=e.id,o=s,function(t){var e=n.master.playlists[r],i=Ku(e),a=Xu(e);return void 0===t?a:(t?delete e.disabled:e.disabled=!0,t===a||i||(o(),t?n.trigger("renditionenabled"):n.trigger("renditiondisabled")),t)})},rd=["seeking","seeked","pause","playing","error"],od=function(){function e(e){var i=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=rc("PlaybackWatcher"),this.logger_("initialize");var n=function(){return i.monitorCurrentTime_()},r=function(){return i.techWaiting_()},o=function(){return i.cancelTimer_()},a=function(){return i.fixesBadSeeks_()},s=this.masterPlaylistController_,u=["main","subtitle","audio"],l={};u.forEach((function(t){l[t]={reset:function(){return i.resetSegmentDownloads_(t)},updateend:function(){return i.checkSegmentDownloads_(t)}},s[t+"SegmentLoader_"].on("appendsdone",l[t].updateend),s[t+"SegmentLoader_"].on("playlistupdate",l[t].reset),i.tech_.on(["seeked","seeking"],l[t].reset)})),this.tech_.on("seekablechanged",a),this.tech_.on("waiting",r),this.tech_.on(rd,o),this.tech_.on("canplay",n),this.dispose=function(){i.logger_("dispose"),i.tech_.off("seekablechanged",a),i.tech_.off("waiting",r),i.tech_.off(rd,o),i.tech_.off("canplay",n),u.forEach((function(t){s[t+"SegmentLoader_"].off("appendsdone",l[t].updateend),s[t+"SegmentLoader_"].off("playlistupdate",l[t].reset),i.tech_.off(["seeked","seeking"],l[t].reset)})),i.checkCurrentTimeTimeout_&&t.clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var i=e.prototype;return i.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&t.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=t.setTimeout(this.monitorCurrentTime_.bind(this),250)},i.resetSegmentDownloads_=function(t){var e=this.masterPlaylistController_[t+"SegmentLoader_"];this[t+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+t+" loader"),this[t+"StalledDownloads_"]=0,this[t+"Buffered_"]=e.buffered_()},i.checkSegmentDownloads_=function(t){var e=this.masterPlaylistController_,i=e[t+"SegmentLoader_"],n=i.buffered_(),r=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t)return!0;if(t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t.start(i)!==e.start(i)||t.end(i)!==e.end(i))return!0;return!1}(this[t+"Buffered_"],n);this[t+"Buffered_"]=n,r?this.resetSegmentDownloads_(t):(this[t+"StalledDownloads_"]++,this.logger_("found #"+this[t+"StalledDownloads_"]+" "+t+" appends that did not increase buffer (possible stalled download)",{playlistId:i.playlist_&&i.playlist_.id,buffered:ju(n)}),this[t+"StalledDownloads_"]<10||(this.logger_(t+" loader stalled download exclusion"),this.resetSegmentDownloads_(t),this.tech_.trigger({type:"usage",name:"vhs-"+t+"-download-exclusion"}),"subtitle"!==t&&e.blacklistCurrentPlaylist({message:"Excessive "+t+" segment downloading detected."},1/0)))},i.checkCurrentTime_=function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+.1>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}},i.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},i.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var t,e=this.seekable(),i=this.tech_.currentTime();if(this.afterSeekableWindow_(e,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(t=e.end(e.length-1)),this.beforeSeekableWindow_(e,i)){var n=e.start(0);t=n+(n===e.end(0)?0:.1)}if(void 0!==t)return this.logger_("Trying to seek outside of seekable at time "+i+" with seekable range "+Bu(e)+". Seeking to "+t+"."),this.tech_.setCurrentTime(t),!0;var r=this.tech_.buffered();return!!function(t){var e=t.buffered,i=t.targetDuration,n=t.currentTime;return!(!e.length||e.end(0)-e.start(0)<2*i||n>e.start(0)||!(e.start(0)-n<i))}({buffered:r,targetDuration:this.media().targetDuration,currentTime:i})&&(t=r.start(0)+.1,this.logger_("Buffered region starts ("+r.start(0)+")  just beyond seek point ("+i+"). Seeking to "+t+"."),this.tech_.setCurrentTime(t),!0)},i.waiting_=function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),i=Uu(e,t);return i.length&&t+3<=i.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+i.start(0)+" -> "+i.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}},i.techWaiting_=function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var i=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var n=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,r=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:e}))return this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var o=Vu(r,e);if(o.length>0){var a=o.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+a+", seeking to "+o.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,e),!0}return!1},i.afterSeekableWindow_=function(t,e,i,n){if(void 0===n&&(n=!1),!t.length)return!1;var r=t.end(t.length-1)+.1;return!i.endList&&n&&(r=t.end(t.length-1)+3*i.targetDuration),e>r},i.beforeSeekableWindow_=function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-.1)},i.videoUnderflow_=function(t){var e=t.videoBuffered,i=t.audioBuffered,n=t.currentTime;if(e){var r;if(e.length&&i.length){var o=Uu(e,n-3),a=Uu(e,n),s=Uu(i,n);s.length&&!a.length&&o.length&&(r={start:o.end(0),end:s.end(0)})}else Vu(e,n).length||(r=this.gapFromVideoUnderflow_(e,n));return!!r&&(this.logger_("Encountered a gap in video from "+r.start+" to "+r.end+". Seeking to current time "+n),!0)}},i.skipTheGap_=function(t){var e=this.tech_.buffered(),i=this.tech_.currentTime(),n=Vu(e,i);this.cancelTimer_(),0!==n.length&&i===t&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",t,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+1/30),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},i.gapFromVideoUnderflow_=function(t,e){for(var i=function(t){if(t.length<2)return Jr.createTimeRanges();for(var e=[],i=1;i<t.length;i++){var n=t.end(i-1),r=t.start(i);e.push([n,r])}return Jr.createTimeRanges(e)}(t),n=0;n<i.length;n++){var r=i.start(n),o=i.end(n);if(e-r<4&&e-r>2)return{start:r,end:o}}return null},e}(),ad={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},sd=function(t){!function t(e,i){var n=0,r=0,o=Jr.mergeOptions(ad,i);e.ready((function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var a=function(){r&&e.currentTime(r)},s=function(t){null!=t&&(r=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(t),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},u=function(){return Date.now()-n<1e3*o.errorInterval?(e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void e.trigger({type:"usage",name:"hls-error-reload-canceled"})):o.getSource&&"function"==typeof o.getSource?(n=Date.now(),o.getSource.call(e,s)):void Jr.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},l=function t(){e.off("loadedmetadata",a),e.off("error",u),e.off("dispose",t)};e.on("error",u),e.on("dispose",l),e.reloadSourceOnError=function(i){l(),t(e,i)}}(this,t)},ud={PlaylistLoader:Nu,Playlist:Ju,utils:hl,STANDARD_PLAYLIST_SELECTOR:function(){var e=this.useDevicePixelRatio&&t.devicePixelRatio||1;return function(e,i,n,r,o){var a={bandwidth:i,width:n,height:r,limitRenditionByPlayerDimensions:o},s=e.playlists.map((function(e){var i=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return{bandwidth:e.attributes.BANDWIDTH||t.Number.MAX_VALUE,width:i,height:n,playlist:e}}));uc(s,(function(t,e){return t.bandwidth-e.bandwidth}));var u=(s=s.filter((function(t){return!Ju.isIncompatible(t.playlist)}))).filter((function(t){return Ju.isEnabled(t.playlist)}));u.length||(u=s.filter((function(t){return!Ju.isDisabled(t.playlist)})));var l=u.filter((function(t){return t.bandwidth*El.BANDWIDTH_VARIANCE<i})),c=l[l.length-1],d=l.filter((function(t){return t.bandwidth===c.bandwidth}))[0];if(!1===o){var h=d||u[0]||s[0];if(h&&h.playlist){var f="sortedPlaylistReps";return d&&(f="bandwidthBestRep"),u[0]&&(f="enabledPlaylistReps"),oc("choosing "+ac(h)+" using "+f+" with options",a),h.playlist}return oc("could not choose a playlist with options",a),null}var p=l.filter((function(t){return t.width&&t.height}));uc(p,(function(t,e){return t.width-e.width}));var g=p.filter((function(t){return t.width===n&&t.height===r}));c=g[g.length-1];var m,v,y,_=g.filter((function(t){return t.bandwidth===c.bandwidth}))[0];_||(v=(m=p.filter((function(t){return t.width>n||t.height>r}))).filter((function(t){return t.width===m[0].width&&t.height===m[0].height})),c=v[v.length-1],y=v.filter((function(t){return t.bandwidth===c.bandwidth}))[0]);var b=y||_||d||u[0]||s[0];if(b&&b.playlist){var T="sortedPlaylistReps";return y?T="resolutionPlusOneRep":_?T="resolutionBestRep":d?T="bandwidthBestRep":u[0]&&(T="enabledPlaylistReps"),oc("choosing "+ac(b)+" using "+T+" with options",a),b.playlist}return oc("could not choose a playlist with options",a),null}(this.playlists.master,this.systemBandwidth,parseInt(sc(this.tech_.el(),"width"),10)*e,parseInt(sc(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var t=this,e=this.playlists.master.playlists.filter(Ju.isEnabled);return uc(e,(function(t,e){return lc(t,e)})),e.filter((function(e){return!!nc(t.playlists.master,e).video}))[0]||null},comparePlaylistBandwidth:lc,comparePlaylistResolution:function(e,i){var n,r;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||t.Number.MAX_VALUE,i.attributes.RESOLUTION&&i.attributes.RESOLUTION.width&&(r=i.attributes.RESOLUTION.width),n===(r=r||t.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&i.attributes.BANDWIDTH?e.attributes.BANDWIDTH-i.attributes.BANDWIDTH:n-r},xhr:nl()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","BACK_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach((function(t){Object.defineProperty(ud,t,{get:function(){return Jr.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),El[t]},set:function(e){Jr.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?Jr.log.warn("value of Vhs."+t+" must be greater than or equal to 0"):El[t]=e}})}));var ld=function(t,e){for(var i=e.media(),n=-1,r=0;r<t.length;r++)if(t[r].id===i.id){n=r;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})};ud.canPlaySource=function(){return Jr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var cd=function(t){var e=t.player,i=t.sourceKeySystems,n=t.media,r=t.audioMedia,o=t.mainPlaylists,a=function(t,e,i){if(!t)return t;var n={video:e&&e.attributes&&e.attributes.CODECS,audio:i&&i.attributes&&i.attributes.CODECS};!n.audio&&n.video&&n.video.split(",").length>1&&n.video.split(",").forEach((function(t){t=t.trim(),yu(t)?n.audio=t:_u(t)&&(n.video=t)}));var r=n.video?'video/mp4;codecs="'+n.video+'"':null,o=n.audio?'audio/mp4;codecs="'+n.audio+'"':null,a={};for(var s in t)a[s]={audioContentType:o,videoContentType:r},e.contentProtection&&e.contentProtection[s]&&e.contentProtection[s].pssh&&(a[s].pssh=e.contentProtection[s].pssh),"string"==typeof t[s]&&(a[s].url=t[s]);return Jr.mergeOptions(t,a)}(i,n,r);a&&(e.currentSource().keySystems=a,!a||e.eme?11!==Jr.browser.IE_VERSION&&e.eme.initializeMediaKeys&&function(t,e){return t.reduce((function(t,i){if(!i.contentProtection)return t;var n=e.reduce((function(t,e){var n=i.contentProtection[e];return n&&n.pssh&&(t[e]={pssh:n.pssh}),t}),{});return Object.keys(n).length&&t.push(n),t}),[])}(r?o.concat([r]):o,Object.keys(i)).forEach((function(t){e.eme.initializeMediaKeys({keySystems:t})})):Jr.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"))},dd=function(){if(!t.localStorage)return null;var e=t.localStorage.getItem("videojs-vhs");if(!e)return null;try{return JSON.parse(e)}catch(t){return null}};ud.supportsNativeHls=function(){if(!i||!i.createElement)return!1;var t=i.createElement("video");return!!Jr.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(e){return/maybe|probably/i.test(t.canPlayType(e))}))}(),ud.supportsNativeDash=!!(i&&i.createElement&&Jr.getTech("Html5").isSupported())&&/maybe|probably/i.test(i.createElement("video").canPlayType("application/dash+xml")),ud.supportsTypeNatively=function(t){return"hls"===t?ud.supportsNativeHls:"dash"===t&&ud.supportsNativeDash},ud.isSupported=function(){return Jr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var hd=function(e){function n(t,n,r){var o;if(o=e.call(this,n,Jr.mergeOptions(r.hls,r.vhs))||this,r.hls&&Object.keys(r.hls).length&&Jr.log.warn("Using hls options is deprecated. Use vhs instead."),n.options_&&n.options_.playerId){var a=Jr(n.options_.playerId);a.hasOwnProperty("hls")||Object.defineProperty(a,"hls",{get:function(){return Jr.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),Vt(o)},configurable:!0}),a.hasOwnProperty("vhs")||Object.defineProperty(a,"vhs",{get:function(){return Jr.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),Vt(o)},configurable:!0}),a.hasOwnProperty("dash")||Object.defineProperty(a,"dash",{get:function(){return Jr.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),Vt(o)},configurable:!0}),o.player_=a}if(o.tech_=n,o.source_=t,o.stats={},o.ignoreNextSeekingEvent_=!1,o.setOptions_(),o.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(o.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return o.on(i,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(t){var e=i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement;e&&e.contains(o.tech_.el())&&o.masterPlaylistController_.smoothQualityChange_()})),o.on(o.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),o.on(o.tech_,"error",(function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()})),o.on(o.tech_,"play",o.play),o}jt(n,e);var r=n.prototype;return r.setOptions_=function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.handlePartialData=this.options_.handlePartialData||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var e=dd();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=El.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===El.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","handlePartialData"].forEach((function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},r.src=function(e,i){var n,r=this;e&&(this.setOptions_(),this.options_.src=0===(n=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(n.substring(n.indexOf(",")+1)):n,this.options_.tech=this.tech_,this.options_.externVhs=ud,this.options_.sourceType=mo(i),this.options_.seekTo=function(t){r.tech_.setCurrentTime(t)},this.masterPlaylistController_=new id(this.options_),this.playbackWatcher_=new od(Jr.mergeOptions(this.options_,{seekable:function(){return r.seekable()},media:function(){return r.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_})),this.masterPlaylistController_.on("error",(function(){var t=Jr.players[r.tech_.options_.playerId],e=r.masterPlaylistController_.error;"object"!=typeof e||e.code?"string"==typeof e&&(e={message:e,code:3}):e.code=3,t.error(e)})),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):ud.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=ud.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t,e=1/(this.bandwidth||1);return t=this.throughput>0?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){Jr.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return r.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return ju(r.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return r.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return r.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return r.tech_.name_},enumerable:!0},duration:{get:function(){return r.tech_.duration()},enumerable:!0},master:{get:function(){return r.playlists.master},enumerable:!0},playerDimensions:{get:function(){return r.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return ju(r.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return r.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",(function(){r.options_.useBandwidthFromLocalStorage&&function(e){if(!t.localStorage)return!1;var i=dd();i=i?Jr.mergeOptions(i,e):e;try{t.localStorage.setItem("videojs-vhs",JSON.stringify(i))}catch(t){return!1}}({bandwidth:r.bandwidth,throughput:Math.round(r.throughput)})})),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var t,e;e=(t=r).playlists,t.representations=function(){return e&&e.master&&e.master.playlists?e.master.playlists.filter((function(t){return!Ku(t)})).map((function(e,i){return new nd(t,e,e.id)})):[]}})),this.masterPlaylistController_.sourceUpdater_.on("ready",(function(){var t=r.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;cd({player:r.player_,sourceKeySystems:r.source_.keySystems,media:r.playlists.media(),audioMedia:t&&t.media(),mainPlaylists:r.playlists.master.playlists})})),this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=t.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_)))},r.setupQualityLevels_=function(){var t=this,e=Jr.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",(function(){var e,i;e=t.qualityLevels_,(i=t).representations().forEach((function(t){e.addQualityLevel(t)})),ld(e,i.playlists)})),this.playlists.on("mediachange",(function(){ld(t.qualityLevels_,t.playlists)})))},n.version=function(){return{"@videojs/http-streaming":"2.2.4","mux.js":"5.6.7","mpd-parser":"0.14.0","m3u8-parser":"4.5.0","aes-decrypter":"3.1.0"}},r.version=function(){return this.constructor.version()},r.canChangeType=function(){return Fc.canChangeType()},r.play=function(){this.masterPlaylistController_.play()},r.setCurrentTime=function(t){this.masterPlaylistController_.setCurrentTime(t)},r.duration=function(){return this.masterPlaylistController_.duration()},r.seekable=function(){return this.masterPlaylistController_.seekable()},r.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&t.URL.revokeObjectURL&&(t.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),e.prototype.dispose.call(this)},r.convertToProgramTime=function(t,e){return fl({playlist:this.masterPlaylistController_.media(),time:t,callback:e})},r.seekToProgramTime=function(t,e,i,n){return void 0===i&&(i=!0),void 0===n&&(n=2),pl({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:n,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:e})},n}(Jr.getComponent("Component")),fd={name:"videojs-http-streaming",VERSION:"2.2.4",canHandleSource:function(t,e){void 0===e&&(e={});var i=Jr.mergeOptions(Jr.options,e);return fd.canPlayType(t.type,i)},handleSource:function(t,e,i){void 0===i&&(i={});var n=Jr.mergeOptions(Jr.options,i);return e.vhs=new hd(t,e,n),Jr.hasOwnProperty("hls")||Object.defineProperty(e,"hls",{get:function(){return Jr.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),e.vhs},configurable:!0}),e.vhs.xhr=nl(),e.vhs.src(t.src,t.type),e.vhs},canPlayType:function(t,e){void 0===e&&(e={});var i=Jr.mergeOptions(Jr.options,e).vhs.overrideNative,n=void 0===i?!Jr.browser.IS_ANY_SAFARI:i,r=mo(t);return!r||ud.supportsTypeNatively(r)&&!n?"":"maybe"}};return gu("avc1.4d400d,mp4a.40.2")&&Jr.getTech("Html5").registerSourceHandler(fd,0),Jr.VhsHandler=hd,Object.defineProperty(Jr,"HlsHandler",{get:function(){return Jr.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),hd},configurable:!0}),Jr.VhsSourceHandler=fd,Object.defineProperty(Jr,"HlsSourceHandler",{get:function(){return Jr.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),fd},configurable:!0}),Jr.Vhs=ud,Object.defineProperty(Jr,"Hls",{get:function(){return Jr.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),ud},configurable:!0}),Jr.use||(Jr.registerComponent("Hls",ud),Jr.registerComponent("Vhs",ud)),Jr.options.vhs=Jr.options.vhs||{},Jr.options.hls=Jr.options.hls||{},Jr.registerPlugin?Jr.registerPlugin("reloadSourceOnError",sd):Jr.plugin("reloadSourceOnError",sd),Jr}(window,document)}).call(this,i(225).Buffer)},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomPathSVGUtil=void 0;var r=n(i(0)),o=function(){function t(){}return t.generateCurveCoords=function(t,e){void 0===e&&(e=!0);for(var i=t,n=this.moveToStartingPoint(i[0]),r=1;r<i.length;r++)n+=this.generateCurveSection(i[r-1],i[r]);return e&&(n+=this.generateCurveSection(i[i.length-1],i[0]),n+=this.closePath()),n},t.generateCurveCoordFromPathSegList=function(t){for(var e=t,i=this.moveToStartingPoint(e.getItem(0)),n=!1,r=1;r<e.numberOfItems;r++){var o=e.getItem(r);"C"===o.pathSegTypeAsLetter&&(i+=this.generateCurveSectionFromPathItem(o)),"z"===o.pathSegTypeAsLetter&&(n=!0)}return n&&(i+=this.closePath()),i},t.moveToStartingPoint=function(t){return"M "+t.x+" "+t.y+" "},t.generateCurveSection=function(t,e){return"C "+(r.default.isUndefined(t.cx2)?t.x:t.cx2)+" "+(r.default.isUndefined(t.cy2)?t.y:t.cy2)+", "+(r.default.isUndefined(e.cx1)?e.x:e.cx1)+" "+(r.default.isUndefined(e.cy1)?e.y:e.cy1)+", "+e.x+" "+e.y+" "},t.generateCurveSectionFromPathItem=function(t){return"C "+t.x1+" "+t.y1+", "+t.x2+" "+t.y2+", "+t.x+" "+t.y+" "},t.closePath=function(){return" Z"},t}();e.CustomPathSVGUtil=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={GOOGLE_API_ID:"Google",BUILTIN_API_ID:"BuiltIn",UPLOADED_API_ID:"Uploaded",DEFAULT_FONT_FAMILY_GUID:"Google|Roboto",DEFAULT_FONT_VARIANT_GUID:"Google|Roboto|400|normal",DEFAULT_FONT_WEIGHT:400,DEFAULT_FONT_STYLE:"normal",FONT_STYLE_ITALIC:"italic",FONT_STYLE_NORMAL:"normal",FONT_STYLE_OBLIQUE:"oblique",EXPERIENCE_FAMILY_GUIDS_KEY:"familyGuids"}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SocialMediaInteraction=void 0;var a=i(48),s=o(i(0)),u=o(i(9)),l=o(i(10)),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_SHARE_PAGE},e.prototype.urlForCurrentPage=function(){var t=s.default.get(this.pageView,"model.pageIndex",0)+1,e=l.default.removeEmbedParams(u.default.buildUri("page_number",t));return window.location.protocol+"//"+window.location.host+e},e.prototype.isValid=function(){return"submit"!==this.trigger&&t.prototype.isValid.call(this)},e}(a.BaseURLInteraction);e.SocialMediaInteraction=c},function(t,e,i){"use strict";var n,r;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(o){if(void 0===(r="function"==typeof(n=o)?n.call(e,i,e,t):n)||(t.exports=r),!0,t.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function i(n){function r(){}function o(e,i,o){if("undefined"!=typeof document){"number"==typeof(o=t({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(i);/^[\{\[]/.test(a)&&(i=a)}catch(t){}i=n.write?n.write(i,e):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,!0!==o[u]&&(s+="="+o[u].split(";")[0]));return document.cookie=e+"="+i+s}}function a(t,i){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),u=s.slice(1).join("=");i||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=e(s[0]);if(u=(n.read||n)(u,l)||e(u),i)try{u=JSON.parse(u)}catch(t){}if(r[l]=u,t===l)break}catch(t){}}return t?r[t]:r}}return r.set=o,r.get=function(t){return a(t,!1)},r.getJSON=function(t){return a(t,!0)},r.remove=function(e,i){o(e,"",t(i,{expires:-1}))},r.defaults={},r.withConverter=i,r}((function(){}))}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={setDimensions:function(t,e){window.cerosScreenDimensions={width:t,height:e}},getDimensions:function(){return window.cerosScreenDimensions}};window.cerosScreenDimensions||n.setDimensions(window.screen.width,window.screen.height),e.default=n},function(t,e,i){"use strict";
/**
 * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).
 * @version v5.2.6
 * @link https://github.com/ten1seven/what-input
 * @license MIT
 */t.exports=function(){return i={},t.m=e=[function(t,e){t.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},specificKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var t=document.documentElement,e=null,i="initial",n=i,r=Date.now(),o="false",a=["button","input","select","textarea"],s=[],u=[16,17,18,91,93],l=[],c={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch",touchend:"touch"},d=!1,h={x:null,y:null},f={2:"touch",3:"touch",4:"mouse"},p=!1;try{var g=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("test",null,g)}catch(g){}var m=function(){if(o=!(t.getAttribute("data-whatpersist")||"false"===document.body.getAttribute("data-whatpersist")))try{window.sessionStorage.getItem("what-input")&&(i=window.sessionStorage.getItem("what-input")),window.sessionStorage.getItem("what-intent")&&(n=window.sessionStorage.getItem("what-intent"))}catch(t){}y("input"),y("intent")},v=function(t){var e=t.which,r=c[t.type];"pointer"===r&&(r=S(t));var o=!l.length&&-1===u.indexOf(e),s=l.length&&-1!==l.indexOf(e),d="keyboard"===r&&e&&(o||s)||"mouse"===r||"touch"===r;if(E(r)&&(d=!1),d&&i!==r&&(w("input",i=r),y("input")),d&&n!==r){var h=document.activeElement;h&&h.nodeName&&(-1===a.indexOf(h.nodeName.toLowerCase())||"button"===h.nodeName.toLowerCase()&&!I(h,"form"))&&(w("intent",n=r),y("intent"))}},y=function(e){t.setAttribute("data-what"+e,"input"===e?i:n),C(e)},_=function(t){var e=c[t.type];"pointer"===e&&(e=S(t)),P(t),(!d&&!E(e)||d&&"wheel"===t.type||"mousewheel"===t.type||"DOMMouseScroll"===t.type)&&n!==e&&(w("intent",n=e),y("intent"))},b=function(i){i.target.nodeName?(e=i.target.nodeName.toLowerCase(),t.setAttribute("data-whatelement",e),i.target.classList&&i.target.classList.length&&t.setAttribute("data-whatclasses",i.target.classList.toString().replace(" ",","))):T()},T=function(){e=null,t.removeAttribute("data-whatelement"),t.removeAttribute("data-whatclasses")},w=function(t,e){if(o)try{window.sessionStorage.setItem("what-"+t,e)}catch(t){}},S=function(t){return"number"==typeof t.pointerType?f[t.pointerType]:"pen"===t.pointerType?"touch":t.pointerType},E=function(t){var e=Date.now(),n="mouse"===t&&"touch"===i&&e-r<200;return r=e,n},A=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},C=function(t){for(var e=0,r=s.length;e<r;e++)s[e].type===t&&s[e].fn.call(void 0,"input"===t?i:n)},P=function(t){h.x!==t.screenX||h.y!==t.screenY?(d=!1,h.x=t.screenX,h.y=t.screenY):d=!0},I=function(t,e){var i=window.Element.prototype;if(i.matches||(i.matches=i.msMatchesSelector||i.webkitMatchesSelector),i.closest)return t.closest(e);do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null};return"addEventListener"in window&&Array.prototype.indexOf&&(c[A()]="mouse",function(){var t=!!p&&{passive:!0};document.addEventListener("DOMContentLoaded",m),window.PointerEvent?(window.addEventListener("pointerdown",v),window.addEventListener("pointermove",_)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",v),window.addEventListener("MSPointerMove",_)):(window.addEventListener("mousedown",v),window.addEventListener("mousemove",_),"ontouchstart"in window&&(window.addEventListener("touchstart",v,t),window.addEventListener("touchend",v))),window.addEventListener(A(),_,t),window.addEventListener("keydown",v),window.addEventListener("keyup",v),window.addEventListener("focusin",b),window.addEventListener("focusout",T)}()),{ask:function(t){return"intent"===t?n:i},element:function(){return e},ignoreKeys:function(t){u=t},specificKeys:function(t){l=t},registerOnChange:function(t,e){s.push({fn:t,type:e||"input"})},unRegisterOnChange:function(t){var e=function(t){for(var e=0,i=s.length;e<i;e++)if(s[e].fn===t)return e}(t);!e&&0!==e||s.splice(e,1)},clearStorage:function(){window.sessionStorage.clear()}}}()}],t.c=i,t.p="",t(0);function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var e,i}()},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0));function o(){this.cache={}}r.default.extend(o.prototype,{get:function(t){return r.default.get(this.cache,t,null)},put:function(t,e){this.cache[t]=e},has:function(t){return r.default.has(this.cache,t)},purgeAll:function(){this.cache={}}}),e.default=o},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=new(n(i(40)).default),a={get:function(t){return o.get(t)},getOriginalWidth:function(t){var e=a.get(t);return r.default.get(e,["original","width"],null)},getOriginalDimensions:function(t){var e=a.get(t),i=r.default.get(e,["original","width"],null),n=r.default.get(e,["original","height"],null);return i&&n?{width:i,height:n}:null},put:function(t,e){o.put(t,e)},putMediaArray:function(t){r.default.each(r.default.keyBy(t,"id"),(function(t,e){o.put(e,t)}))},putImageResource:function(t,e){e.ready()?a.putImageInfo(t,e.getSrc(),e.getWidth(),e.getHeight()):window.console.warn("Tried to put image info into cache from an image resource that was not ready")},putImageInfo:function(t,e,i,n){var r={id:t,url:e,original:{width:i,height:n}};return o.put(t,r),r},purgeAll:function(){o.purgeAll()},has:function(t){return o.has(t)}};e.default=a},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=["width","height","x","y"],a={isValidCropObject:function(t){if(!r.default.isObject(t))return!1;var e=r.default.keys(t);return 0===r.default.xor(e,o).length},createCropDimensionsString:function(t){return a.isValidCropObject(t)?[t.width,t.height,"x"+t.x,"y"+t.y].join(","):""},createOriginalDimensionsFromCropDimensions:function(t,e){return{width:Math.clamp(e.width,1,t.width),height:Math.clamp(e.height,1,t.height)}}};e.default=a},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BlendingModes=e.BlendingModeDisplayName=e.BlendingModeName=void 0;var r,o,a=n(i(0));!function(t){t.NORMAL="normal",t.MULTIPLY="multiply",t.SCREEN="screen",t.OVERLAY="overlay",t.DARKEN="darken",t.LIGHTEN="lighten",t.COLOR_DODGE="color-dodge",t.COLOR_BURN="color-burn",t.HARD_LIGHT="hard-light",t.SOFT_LIGHT="soft-light",t.DIFFERENCE="difference",t.EXCLUSION="exclusion",t.HUE="hue",t.SATURATION="saturation",t.COLOR="color",t.LUMINOSITY="luminosity"}(r=e.BlendingModeName||(e.BlendingModeName={})),function(t){t.NORMAL="Normal",t.MULTIPLY="Multiply",t.SCREEN="Screen",t.OVERLAY="Overlay",t.DARKEN="Darken",t.LIGHTEN="Lighten",t.COLOR_DODGE="Color Dodge",t.COLOR_BURN="Color Burn",t.HARD_LIGHT="Hard Light",t.SOFT_LIGHT="Soft Light",t.DIFFERENCE="Difference",t.EXCLUSION="Exclusion",t.HUE="Hue",t.SATURATION="Saturation",t.COLOR="Color",t.LUMINOSITY="Luminosity"}(o=e.BlendingModeDisplayName||(e.BlendingModeDisplayName={}));var s,u=["image/jpeg","image/jpg","image/png","image/gif"],l=["jpeg","jpg","png","gif"];!function(t){t.PREVIOUS="previous",t.NEXT="next"}(s||(s={}));var c=function(){function t(){}return t.getBlendingModeChoices=function(){return[this.NORMAL,this.DARKEN,this.MULTIPLY,this.COLOR_BURN,this.LIGHTEN,this.SCREEN,this.COLOR_DODGE,this.OVERLAY,this.SOFT_LIGHT,this.HARD_LIGHT,this.DIFFERENCE,this.EXCLUSION]},t.getGroupedBlendingModeChoices=function(){return[[this.NORMAL],[this.DARKEN,this.MULTIPLY,this.COLOR_BURN],[this.LIGHTEN,this.SCREEN,this.COLOR_DODGE],[this.OVERLAY,this.SOFT_LIGHT,this.HARD_LIGHT],[this.DIFFERENCE,this.EXCLUSION]]},t.getDefault=function(){return this.NORMAL.value},t.isDefaultBlendingMode=function(t){return this.getDefault()===t},t.getAdjacentMode=function(t,e){var i=this.getBlendingModeChoices(),n=a.default.findIndex(i,{value:t}),r=0===n,o=n===i.length-1,u=-1===n;return e===s.PREVIOUS?u||r?null:i[n-1].value:u||o?null:i[n+1].value},t.getPreviousMode=function(t){return this.getAdjacentMode(t,s.PREVIOUS)},t.getNextMode=function(t){return this.getAdjacentMode(t,s.NEXT)},t.getTotalModes=function(){return this.getBlendingModeChoices().length},t.isSupportedImageType=function(t,e){if("string"==typeof t)return u.indexOf(t.toLowerCase())>-1;var i=e.split("."),n=i[i.length-1].toLowerCase();return l.indexOf(n)>-1},t.NORMAL={value:r.NORMAL,title:o.NORMAL},t.MULTIPLY={value:r.MULTIPLY,title:o.MULTIPLY},t.SCREEN={value:r.SCREEN,title:o.SCREEN},t.OVERLAY={value:r.OVERLAY,title:o.OVERLAY},t.DARKEN={value:r.DARKEN,title:o.DARKEN},t.LIGHTEN={value:r.LIGHTEN,title:o.LIGHTEN},t.COLOR_DODGE={value:r.COLOR_DODGE,title:o.COLOR_DODGE},t.COLOR_BURN={value:r.COLOR_BURN,title:o.COLOR_BURN},t.HARD_LIGHT={value:r.HARD_LIGHT,title:o.HARD_LIGHT},t.SOFT_LIGHT={value:r.SOFT_LIGHT,title:o.SOFT_LIGHT},t.DIFFERENCE={value:r.DIFFERENCE,title:o.DIFFERENCE},t.EXCLUSION={value:r.EXCLUSION,title:o.EXCLUSION},t.HUE={value:r.HUE,title:o.HUE},t.SATURATION={value:r.SATURATION,title:o.SATURATION},t.COLOR={value:r.COLOR,title:o.COLOR},t.LUMINOSITY={value:r.LUMINOSITY,title:o.LUMINOSITY},t}();e.BlendingModes=c},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(12)),a=n(i(2)),s=n(i(305)),u=n(i(307)),l=n(i(310)),c=n(i(25));t=new o.default.Module({id:"splashScreen",description:"Loading experience including spinner animation",version:"1.0",publishedEvents:{EMBED_WARNING_DISMISSED:"embed_warning_dismissed"},delegate:{loadingViews:[],showLoading:function(t,e){var i,n={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj},o=r.default.extend({startImmediately:!0,whiteLabeling:!0,showPreviewLabel:!1,overlayed:!0},n,e),u=(i=o.theme,c.default.getMostContrasting(i.backgroundColor,i.menuFgColor,i.menuBgColor).toHex()),l=o.theme.backgroundColor;o.overlayed&&(u=o.theme.menuFgColor,l=o.theme.menuBgColor);var d=new s.default({autoContrastForegroundColor:u,foregroundColor:o.theme.menuFgColor,backgroundColor:l,previewLabelBackgroundColor:o.theme.menuBgColor,whiteLabeling:o.whiteLabeling,showPreviewLabel:o.showPreviewLabel,overlayed:o.overlayed});return this.loadingViews.push(d),t.prepend(d.$el),d.render(),o.startImmediately&&d.start(),{destroy:function(){d.destroy()},start:function(){d.start()},stop:function(){d.stop()}}},scale:function(){r.default.each(this.loadingViews,(function(t,e){t.scale()}))},showUnavailableScreen:function(t,e){var i=new u.default;t.append(i.$el)},showDeletedPageWarning:function(e){var i=new l.default({module:t});i.render(),e.append(i.$el)},hideEmbeddedPreviewerWarning:function(t){t.find(".embedded-previewer-warning").hide()}}});e.default=t},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=function(){function t(t,e){this.functionPath=t,this.args=r.default.isArray(e)?e:[e]}return t.prototype.invoke=function(){var t=window,e=r.default.get(window,this.functionPath),i=this.functionPath.split(".").slice(0,-1).join(".");if(i&&(t=r.default.get(t,i)),t&&e&&"function"==typeof e)return e.apply(t,this.args)},t.prototype.toJSON=function(){return{functionPath:this.functionPath,args:this.args}},t.prototype.toString=function(){return JSON.stringify(this.toJSON())},t}();e.default=o},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(4)),s=n(i(12)),u=n(i(2)),l=n(i(181)),c=n(i(22)),d=n(i(3)),h=n(i(9)),f=i(31),p=n(i(93)),g=n(i(65)),m=n(i(296)),v=n(i(18)),y=n(i(10)),_=n(i(13)),b=n(i(14)),T="top",w="bottom",S="scranchor",E="component",A=null,C=null,P=null,I=null,O=null,x=null,k=null;t=new s.default.Module({id:"viewport",description:"",version:"1.0",dependencies:{page:"1.0"},firstPageShown:new r.default.Deferred,publishedEvents:{LONGPRESS:"viewport.longpress",SCALE:"viewport.scale",PAGE_CHANGE:"viewport.page_change",PAGE_CHANGING:"viewport.page_changing",PAGE_BATCH_LOAD_START:"viewport.page_batch_load_start",PAGE_UPDATE:"viewport.page_update",PAGE_ENABLED_CHANGE:"viewport.page_enabled_change",CURRENT_PAGE_DELETED:"viewport.current_page_deleted",TIMED_LIGHTBOX:"viewport.timed.lightbox",TIMED_PRODUCT_PANEL:"viewport.timed.product_panel",TIMED_SHOPPING_CART:"viewport.timed.shopping_cart"},delegate:{init:function(e,i){P=e,k=i.performanceTracker;var n=o.default.extend({module:t,marginTopCallback:function(){return 0},documentVersion:P},i||{});C=new m.default(n);var r=o.default.extend({module:t,documentVersion:P,scaleContext:C},i||{});(A=new l.default(r)).preloadMedia();var s=new p.default(P.getEnabledPageIndexes(),P.isCarousel()),c=h.default.parsePageFromLocation();O=P.getPageInfoByNumberOrSlug(c).number;var d=P.getNearestEnabledPage(O);O===d||u.default.previewMode||(a.default.info("Requesting disabled page",O),O=d),x=s.getPageIndexesToLoad(O-1),this.registerEvents()},triggerExperienceLevelInteractions:function(e){e.get("interactions")&&o.default.each(e.get("interactions"),(function(e){switch(e.action){case"lightbox":setTimeout((function(){t.trigger(t.publishedEvents.TIMED_LIGHTBOX,e)}),1e3*e.delay);break;case"product":setTimeout((function(){t.trigger(t.publishedEvents.TIMED_PRODUCT_PANEL,e)}),1e3*e.delay);break;case"shopping-cart":setTimeout((function(){t.trigger(t.publishedEvents.TIMED_SHOPPING_CART,e)}),1e3*e.delay)}}))},registerEvents:function(){v.default.on("sdk.experience.page.goto",o.default.bind((function(t){this.jumpToPage(t.pageNum,!0)}),this)),v.default.on("sdk.experience.page.next",o.default.bind((function(t){this.nextPage()}),this)),v.default.on("sdk.experience.page.previous",o.default.bind((function(t){this.previousPage()}),this)),v.default.on("sdk.component.video.start",o.default.bind((function(t){this.startVideo(t.componentId)}),this)),v.default.on("sdk.component.video.stop",o.default.bind((function(t){this.stopVideo(t.componentId)}),this)),v.default.on("sdk.component.text.settext",o.default.bind((function(t){this.setComponentText(t.componentId,t.textContent)}),this)),v.default.on("sdk.component.image.seturl",o.default.bind((function(t){this.setImageUrl(t.componentId,t.url,t.useNewImageSize)}),this)),v.default.on("sdk.component.image.reset",o.default.bind((function(t){this.resetImage(t.componentId)}),this)),v.default.on("sdk.component.click",o.default.bind((function(t){this.clickComponent(t.componentId)}),this)),v.default.on("sdk.component.show",o.default.bind((function(t){this.showComponent(t.componentId)}),this)),v.default.on("sdk.component.hide",o.default.bind((function(t){this.hideComponent(t.componentId)}),this)),v.default.on("sdk.layer.show",o.default.bind((function(t){this.showLayer(t.layerId)}),this)),v.default.on("sdk.layer.hide",o.default.bind((function(t){this.hideLayer(t.layerId)}),this)),v.default.on("sdk.page.animations.start",o.default.bind((function(t){this.startPageAnimations(t.pageSlug)}),this)),v.default.on("sdk.page.animations.pause",o.default.bind((function(t){this.pausePageAnimations(t.pageSlug)}),this)),v.default.on("sdk.page.disable",o.default.bind((function(t){this.disablePage(t.pageNum)}),this)),v.default.on("sdk.page.enable",o.default.bind((function(t){this.enablePage(t.pageNum)}),this))},createPageViews:function(){var t=[];g.default.on(g.default.publishedEvents.PAGE_RELOAD,(function(){A.scale()})),(I=P.editorPagesManifest).each(o.default.bind((function(e,i){var n=this.createSinglePageView(e,i);t.push(n)}),this)),this.pageViews=t},createSinglePageView:function(t,e){var i=P.getPages()[e],n=g.default.createPageView(i,{physicalPageNumber:e,enableLoadingThumbnail:!1,enableLoadingSpinner:!0,thumbnail:t.get("thumbnail"),documentVersion:P,scaleContext:C,isRequestedPage:e===O-1});return u.default.previewMode&&i.on("remote",function(){e===A.getCurrentPage().getPageIndex()&&A.mainContentLink.render()}.bind(this)),n},getPageViews:function(){return this.pageViews},scale:function(){A.scalePageComponents()},preloadPageMedia:function(){var t=o.default.map(P.getPages(),(function(t){return C.getPageScaleContext(t)}));P.shouldLazyLoad()?(o.default.each(x,o.default.bind((function(e,i){var n=P.getPages()[e];0===i?k.mark(k.MARKS.PLAYER.HIGH_PRIORITY_IMAGES_START_LOADING):1===i&&k.mark(k.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),a.default.debug("Lazy preloading media for page: "+(e+1));var r=0===i;n.lazyPreloadAllMedia(t[e],r)}),this)),1===x.length&&k.mark(k.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),o.default.each(P.getPages(),(function(e,i){o.default.includes(x,i)||(a.default.debug("Lazy preloading media for page: "+(i+1)),e.lazyPreloadAllMedia(t[i],!1))}))):(k.mark(k.MARKS.PLAYER.HIGH_PRIORITY_IMAGES_START_LOADING),o.default.each(x,o.default.bind((function(e,i){var n=P.getPages()[e],r=t[e];a.default.debug("Preloading visible media for page: "+(e+1)),n.preloadVisibleMedia(r,!0)}),this)),k.mark(k.MARKS.PLAYER.LOW_PRIORITY_IMAGES_START_LOADING),o.default.each(P.getPages(),(function(e,i){o.default.includes(x,i)||(a.default.debug("Preloading visible media for page: "+(i+1)),e.preloadVisibleMedia(t[i],!1))})),o.default.each(P.getPages(),(function(e,i){a.default.debug("Preloading hidden media for page: "+(i+1)),e.preloadHiddenMedia(t[i])})))},renderPages:function(){this.createPageViews(),A.reset(this.pageViews,O),this.preRenderPages(),a.default.debug("Setting up the lazy preRender Defer"),o.default.defer(o.default.bind(t.startLazyPrerender,t));var e=A.showPage(O);return e.done(t.firstPageShown.resolve),e},activateFirstPage:function(){A.getBackgroundImagePromise().done(o.default.bind(A.showBackground,A));var e=A.getCurrentPage();if(A.activatePage(e),t.triggerExperienceLevelInteractions(P),window.location.hash)e.triggerScrollTo(window.location.hash);else if(!u.default.isEmbedded&&d.default.isWindows()){var i="page-"+this.getCurrentPageNumber()+"-top";e.focusArbiter.moveFocusToElement(i)}},preRenderPages:function(){k.mark(k.MARKS.PLAYER.BEGIN_PRERENDERING_PAGES);var t=this.pageViews;t=P.shouldLazyLoad()?[this.pageViews[x[0]]]:o.default.map(x,o.default.bind((function(t){return this.pageViews[t]}),this));var e=[];o.default.each(t,o.default.bind((function(t){t.prerender(),e.push(t.getPrerenderDeferred())}),this)),r.default.when.apply(r.default,e).done(o.default.bind((function(){k.mark(k.MARKS.PLAYER.ALL_PAGES_PRERENDERED)}),this))},isFirstPageReadyToShow:function(){return"resolved"===t.firstPageShown.state()},getFirstPageReadyPromise:function(){return t.firstPageShown},nextPage:function(){A&&A.nextPage()},previousPage:function(){A&&A.previousPage()},jumpToPage:function(t,e){A&&A.jumpToPage(t,e)},show:function(){A&&A.show()},hide:function(){A&&A.hide()},el:function(){return A?A.$el:null},getCurrentPageHeight:function(){if(A){var t=A.getCurrentPage();if(t)return t.getPageHeight()}return null},getCurrentPageSlug:function(){return A?A.currentPageSlug:null},getCurrentPageNumber:function(){return A?A.currentPage:null},isLastPage:function(t){var e=I.length,i=I.at(e-1);return o.default.last(i.uri.split("/"))===t},isFirstPage:function(t){var e=I.at(0);return o.default.last(e.uri.split("/"))===t},scrollTo:function(t,e){var i=A.getCurrentPage(),n=this.getScrollPositionForInteraction(t,e),r=u.default.shouldReduceMotion?0:300;return _.default.hasFeature(b.default.ACCESSIBILITY)&&t===T?e=f.VIEWPORT_TOP_ID:t!==T&&t!==w||(e="page-"+(i.model.pageIndex+1)+"-"+t),i.$pageContainer.animate({scrollTop:n},r,"easeOutCubic",(function(){i.focusArbiter.moveFocusToElement(e)})),{scrollPosition:n,pageHeight:i.model.getPageHeight(P),visibleHeight:i.$pageContainer.height()}},getScrollPositionForInteraction:function(t,e){switch(t){case T:return 0;case w:return A.getCurrentPage().model.getPageHeight(P);case S:var i=A.getCurrentPage().model.getScranchorsForCurrentVariant();return i&&o.default.has(i,e)?i[e]:(a.default.warn("Could not find scranchor for id: "+e),null);case E:var n=A.getCurrentPage().model,r=n.findLayerById(e);return r?"folder"!==r.type||(r=n.constructor.findTopmostFolderContent(r))?r.parentSmartgroup?r.y+r.parentSmartgroup.options.y:r.absoluteY:(a.default.warn("Attempted to scroll to empty folder component: "+e),null):(a.default.warn("Could not find component to scroll to: "+e),null);default:return a.default.warn("Scroll interaction target type is invalid: "+t),null}},shareCurrentPageOnSocial:function(t,e){if(u.default.previewMode)alert("Pages can not be shared as a preview.  Social sharing will be enabled in the published experience.");else if(A){var i=h.default.buildUriForPageNumber(A.currentPage),n=A.getCurrentPage().getThumbnail();this.shareOnSocial(t,window.location.protocol+"//"+window.location.host+i,n)}},shareOnSocial:function(t,e,i){e=y.default.removeEmbedParams(e);var n=o.default.isEmpty(u.default.openGraphUrl)?e:u.default.openGraphUrl;switch(t){case"share-twitter":c.default.shareOnTwitter(n);break;case"share-linkedin":c.default.shareOnLinkedIn(n);break;case"share-pinterest":c.default.shareOnPinterest(n,i);break;case"share-facebook":c.default.shareOnFacebook(e);break;case"share-email":c.default.shareViaEmail(e)}},addClickShield:function(){A&&A.addClickShield()},removeClickShield:function(){A&&A.removeClickShield()},disableGestures:function(){o.default.isFunction(A.disableGestures)&&A.disableGestures()},enableGestures:function(){o.default.isFunction(A.enableGestures)&&A.enableGestures()},getExperienceWidth:function(){return A.getExperienceWidth()},getExperienceHeight:function(){return A.getExperienceHeight()},startVideo:function(t){var e=A.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),i=[t].concat(e);o.default.each(i,(function(t){var e=A.getCurrentPage().findVideo(t);e&&e.play()}))},stopVideo:function(t){var e=A.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),i=[t].concat(e);o.default.each(i,(function(t){var e=A.getCurrentPage().findVideo(t);e&&e.manuallyPause()}))},setComponentText:function(t,e){var i=A.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(i);o.default.each(n,(function(t){var i=A.getCurrentPage().findChildView(t);i&&"text"===i.type&&i.setTextFromSDK(o.default.isNil(e)?"":String(e))}))},setImageUrl:function(t,e,i){var n=A.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),a=[t].concat(n);o.default.each(a,(function(t){var n=A.getCurrentPage().findChildView(t);if(n&&"image"===n.type)if(n.srcOverride=e,n.dimensionsOverride=i,i){var o=new Image;o.onload=function(){var t=n.$innerElement.attr("style"),e=n.$innerElement.attr("alt");n.$innerElement.remove();var i=r.default(o);i.attr("style",t).attr("alt",e),n.$innerElement=r.default(i),n.$el.append(n.$innerElement)},o.src=e}else n.$innerElement.attr("src",e)}))},resetImage:function(t){var e=A.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),i=[t].concat(e);o.default.each(i,(function(t){var e=A.getCurrentPage().findChildView(t);e&&"image"===e.type&&(e.srcOverride=null,e.dimensionsOverride=null,e.render())}))},showLayer:function(t){var e=A.getCurrentPage().model.getAllSmartgroupInstanceLayerIds(t),i=[t].concat(e);A.getCurrentPage().invokeShowAction(i)},hideLayer:function(t){var e=A.getCurrentPage(),i=e.model.getAllSmartgroupInstanceLayerIds(t),n=[t].concat(i);e.invokeHideAction(n)},clickComponent:function(t){var e=A.getCurrentPage(),i=e.model.getAllSmartgroupInstanceComponentIds(t),n=[t].concat(i);o.default.each(n,(function(t){var i=e.findChildView(t);i&&i.simulateClick()}))},showComponent:function(t){var e=A.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),i=[t].concat(e);o.default.each(i,(function(t){var e=A.getCurrentPage().findChildView(t);e&&(e.reset(),e._applyVisibility(!0),e.activateAndRunEntryAnimations())}))},hideComponent:function(t){var e=A.getCurrentPage().model.getAllSmartgroupInstanceComponentIds(t),i=[t].concat(e);o.default.each(i,(function(t){var e=A.getCurrentPage().findChildView(t);e&&e._applyVisibility(!1)}))},startPageAnimations:function(t){var e=A.getCurrentPage();e.model.get("slug")===t&&(e.reset(),e.activateAndRunEntryAnimationsForAllVisible())},pausePageAnimations:function(t){var e=A.getCurrentPage();e.model.get("slug")===t&&e.pauseAnimations()},toggleAnimations:function(){(u.default.shouldReduceMotion=!u.default.shouldReduceMotion,r.default("#main").toggleClass("ceros-no-animate"),u.default.shouldReduceMotion)||A.getCurrentPage().restartRepeatEntryAnimationsForAllVisibleOrViewed()},disablePage:function(t){A.disablePage(t)},enablePage:function(t){A.enablePage(t)},isLayerVisible:function(t){return o.default.some(this.pageViews,(function(e){return e.isChildVisible(t)}))}},startLazyPrerender:function(){a.default.debug("Lazy prerender process starting...");var t=Date.now(),e=[],i=this.getPageViews();o.default.each(x,(function(t){e.push(i[t])})),o.default.each(i,(function(t,i){o.default.includes(x,i)||e.push(t)}));var n=r.default.Deferred().resolve();return o.default.each(e,(function(t){t.isPrerendered()||(n=n.then(o.default.bind(t.startLazyPrerender,t)))})),n.then((function(){a.default.debug("Lazy prerender process complete. Total elapsed time: "+(Date.now()-t)+" ms")})),n.promise()},currentPageNumber:function(){return A.currentPage||1}});e.default=t},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(17)),a=n(i(3)),s=n(i(29));e.default={CONSTANTS:{DEFAULT_VECTOR_IMAGE_MAX_DIM_SIZE:100},calculateWidthForDevicePixelRatio:function(t){return t*a.default.pixelRatio()},calculateDimensions:function(t,e,i,n){var r;if(s.default.isVectorBased(t)){var a=n?this.CONSTANTS.DEFAULT_VECTOR_IMAGE_MAX_DIM_SIZE:Math.min(e,i);r=o.default.scaleBoxToMaxDimension(e,i,a)}else r={width:Math.round(e/2),height:Math.round(i/2)};return r},shouldConstrainImageSize:function(t,e,i,n){return!!(s.default.isVectorBased(t)&&n||s.default.isVectorBased(t)&&(!e||!i))||!s.default.isVectorBased(t)},base64toBlob:function(t,e,i){e=r.default.isString(e)?e:"",i=r.default.isNumber(i)?i:512;for(var n=atob(t),o=[],a=0;a<n.length;a+=i){for(var s=n.slice(a,a+i),u=new Array(s.length),l=0;l<s.length;l++)u[l]=s.charCodeAt(l);var c=new Uint8Array(u);o.push(c)}return new Blob(o,{type:e})},createFileFromBase64:function(t,e,i){return new File([this.base64toBlob(t)],e,{type:i})},isBase64EncodedImage:function(t){return"data:image"===t.slice(0,10)},encodedSvgStringAsBase64:function(t){return"url('data:image/svg+xml;base64,"+(t=btoa(t.trim()))+"')"}}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseURLInteraction=void 0;var s=a(i(0)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"domTagOverride",{get:function(){if("click"===this.trigger&&this.isValid()){var t=s.default.escape(this.constructUrl());return t?{tagName:"a",priority:2,attributes:o(o({},this.customAttributes()),{href:t})}:{tagName:"button",priority:1,attributes:this.customAttributes()}}},enumerable:!1,configurable:!0}),e.prototype.customAttributes=function(){return{}},e}(i(16).BaseInteraction);e.BaseURLInteraction=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.escapeComponentId=void 0;e.escapeComponentId=function(t){return void 0===t&&(t=""),t.replace(/([^\\])\|/g,"$1\\|")}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),a=n(i(4)),s=n(i(2)),u=n(i(3)),l=i(6),c=n(i(69)),d=n(i(106)),h=n(i(107)),f=n(i(10)),p=s.default.mediaDomainMap?r.default.invert(s.default.mediaDomainMap):null,g=[10,20,30,40,50,60,70,80,90,100];e.default=l.AbstractComponentView.extend({type:"video",tagName:"div",className:null,EVENTS:{VIDEO_READY:"video_ready"},isVideoReady:!1,playedOnce:!1,videoSlug:null,$vid:null,videoHandle:null,videoTracker:null,tapToPlay:!0,muted:!1,isAutoPaused:!1,isManuallyPaused:!1,isPinned:void 0,isRewound:!1,initialize:function(){l.AbstractComponentView.prototype.initialize.apply(this),this.areMediaPropertiesSet()&&(this.videoSlug=this.options.video&&this.options.video.substr(this.options.video.lastIndexOf("/")+1),this.isVideoReady=!1,this.posterLoader=this.options.posterLoader,r.default.isUndefined(this.options.tapToPlay)||(this.tapToPlay=this.options.tapToPlay),r.default.isUndefined(this.options.muted)||(this.muted=this.options.muted),this._initializeDom(),s.default.previewMode&&(this.mediaLoadingScreen=new c.default({height:this.options.height,isImage:!1}),this.$el.append(this.mediaLoadingScreen.$el)),this.posterLoader&&(this.posterLoader.onImageLoaded(this.attachMedia,this),s.default.previewMode&&this.posterLoader.onImageLoaded(this.hideMediaLoadingScreen,this)))},hideMediaLoadingScreen:function(){this.mediaLoadingScreen.close()},onActivationStart:function(){this.videoTracker&&this.videoTracker.enableTracking()},areMediaPropertiesSet:function(){return this.options.video&&this.options.poster},attachMedia:function(){var t=new o.default.Deferred;if(this.areMediaPropertiesSet()){var e=this.getPosterFrameResource();e?e.loadNow().done(r.default.bind((function(e){this.$poster.attr("src",e.getSrc()),t.resolve()}),this)):t.resolve()}else t.resolve();return t},getPosterFrameResource:function(){var t=null;return this.posterLoader&&((t=this.posterLoader.getCurrentResource())||a.default.warn("Poster image should have been added to resource loader during preload")),t},_hidePoster:function(){this.$poster&&this.$poster.hide()},_showPoster:function(){this.$poster&&this.$poster.show()},_isPosterShowing:function(){return this.$poster&&"none"!==this.$poster.css("display")},doTriggerOnScroll:function(){return!0},_getPosterFrameSrc:function(){return this.posterLoader?this.posterLoader.getCurrentUrl():""},_initializeDom:function(){this.$poster=o.default("<img>",{width:this.options.width,height:this.options.height,position:"absolute",top:0,left:0}),this.$el.append(this.$poster)},getAriaElement:function(){return this.$poster},onActivationEnd:function(){this.canAutoplay()&&!this.isManuallyPaused?this.play():this._isPosterShowing()&&this._loadVideo()},onExitStart:function(){this._hideVideoAndShowPoster(),this.autoPause(),this._rewindEndedAutoplayingVideo()},_getVideoFormats:function(){throw new Error("Device-specific implementation")},getResolvedVideoUrlForFormat:function(t){var e,i=this.options.videoMedia;if(!r.default.isUndefined(i)&&!r.default.isNull(i)){var n=i.encodings;if(!n[t])return null;e=n[t],e=f.default.makeUrlAbsolute(e),e=f.default.replaceProtocolIfHttpsRequest(e),p&&(e=this.switchAmazonDomainInUrl(e))}return r.default.isUndefined(e)&&(a.default.warn("Resolved video not found!",e),e=this.options.video+"/redirect/"+t),e},switchAmazonDomainInUrl:function(t){var e=t.match(/https?:\/\/(([a-z0-9-]*)\.[^\/]*)/i);if(e){var i=e[1],n=e[2];r.default.has(p,n)&&(t=t.replace(i,p[n]))}return t},_setVideoSources:function(){var t=this._getVideoFormats();r.default.each(t,r.default.bind((function(t){var e=this.getResolvedVideoUrlForFormat(t.format);if(e){var i="video/"+t.type;"hls-playlist"!==t.format&&"dash-playlist"!==t.format||(i="application/"+t.type),this.$vid.append(o.default("<source>",{src:e,type:i}))}}),this))},_isLoopForever:function(){return!0===this.options.videoAutoPlay&&!0===this.options.videoLoop},_isShowControls:function(){return!1===this.options.videoAutoPlay||r.default.isUndefined(this.options.videoHideControls)||!1===this.options.videoHideControls},_hideVideo:function(){this.$vid&&this.$vid.hide()},_showVideo:function(){this.$vid&&this.$vid.show()},_hideVideoAndShowPoster:function(){this.videoHandle&&!this.videoHandle.currentTime&&(this._showPoster(),this.isVideoReady&&this._hideVideo())},_hidePosterAndShowVideo:function(){this.isVideoReady&&this._showVideo(),this._hidePoster()},_isPlaying:function(){return this.videoHandle&&!1===this.videoHandle.ended&&!1===this.videoHandle.paused&&this.videoHandle.currentTime>0},_isEnded:function(){return this.isVideoReady&&this.videoHandle.ended},_setCurrentTime:function(t){this.isVideoReady&&(this.videoHandle.currentTime=t)},reset:function(){l.AbstractComponentView.prototype.reset.apply(this),this.pauseAnyVideoAndRewindAutoPlayingVideo(),this.isRewound&&this.options.videoAutoPlay&&(this.isManuallyPaused=!1)},whenLeavingVisibleBoundaries:function(){r.default.isUndefined(this.isPinned)&&(this.isPinned=this.options.fixedPosition||!(!this.options.parentSmartGroup||!this.options.parentSmartGroup.fixedPosition),!this.isPinned&&this.parentViews&&r.default.each(this.parentViews,r.default.bind((function(t){if(t.options.fixedPosition)return this.isPinned=!0,!1}),this))),this.isPinned||(l.AbstractComponentView.prototype.whenLeavingVisibleBoundaries.apply(this),this.disableVideoTrackingAndAutoPlayingVideo())},disableVideoTrackingAndAutoPlayingVideo:function(){this.disableVideoTracking(),this.options.videoAutoPlay&&this.pauseAnyVideoAndRewindAutoPlayingVideo()},disableVideoTracking:function(){this.videoTracker&&this.videoTracker.disableTracking()},pauseAnyVideoAndRewindAutoPlayingVideo:function(){this.autoPause(),this._rewindEndedAutoplayingVideo()},_rewindEndedAutoplayingVideo:function(){this.options.videoAutoPlay&&this._isEnded()&&(this._setCurrentTime(0),this.isRewound=!0)},loadAndShowVideo:function(){this.isVideoReady?this._hidePosterAndShowVideo():this._loadVideo()},play:function(){this.loadAndShowVideo(),this.videoTracker&&this.videoTracker.enableTracking(),this.isVideoReady?this.videoHandle.play():this.on(this.EVENTS.VIDEO_READY,r.default.bind((function(){this.videoHandle.play()}),this)),this.isRewound=!1},autoPause:function(){this.isVideoReady&&!this.isPaused()&&(this.videoTracker&&this.videoTracker.disableTracking(),this.isAutoPaused=!0,this.videoHandle.pause())},getElementWidth:function(){return this.options.width},getElementHeight:function(){return this.options.height},buildVideoElement:function(){var t={id:this.id,width:this.getElementWidth(),height:this.getElementHeight(),poster:this._getPosterFrameSrc(),preload:"auto","webkit-playsinline":!0,playsinline:!0,type:"application/x-mpegURL"};this.muted&&(t.muted=!0),this._isLoopForever()&&(t.loop=!0),this.$vid=o.default("<video>",t),this.$vid.prop("controls",this._isShowControls()),this.$vid.prop("controlsList","nodownload"),this.$vid.css("display","none"),this.videoHandle=this.$vid[0],this.videoHandle.muted=this.muted,this.videoHandle.autoplay=this.canAutoplay(),u.default.isDesktopSafari()||u.default.isMobileSafari()?this.$vid.css("object-fit","cover"):this.$vid.css("object-fit","fill"),this.$poster.after(this.$vid)},_loadVideo:function(){if(!this.$vid){this.buildVideoElement();var t=new d.default(this.$vid),e=r.default.get(this.options,"videoMedia.duration");this.videoTracker=new h.default(t,e),this._configureVideoEvents(t),this.configurePlatformSpecificEvents(),this.doPlatformSpecificSetup(),this.bindVideoElementPauseAndPlayForManualPauseDetection()}},manuallyPause:function(){this.isVideoReady&&!this.isPaused()&&(this.videoTracker&&this.videoTracker.disableTracking(),this.isAutoPaused=!1,this.videoHandle.pause())},isPaused:function(){return this.$vid[0].paused},_configureVideoEvents:function(t){t.on("play",r.default.bind((function(){this.playedOnce=!0,a.default.debug("Currently playing from src "+t.getCurrentSource())}),this)),this.videoTracker.on(this.videoTracker.EVENTS.PLAY,r.default.bind((function(t){this.triggerEvent(this.getModule().publishedEvents.PAGE_VIDEO_PLAY,t)}),this)),this.options.videoLoop||(this.videoTracker.on(this.videoTracker.EVENTS.PROGRESS_TIME,r.default.bind((function(t){this.triggerEvent(this.getModule().publishedEvents.PAGE_VIDEO_PROGRESS_TIME,t)}),this)),this.videoTracker.on(this.videoTracker.EVENTS.PROGRESS_PERCENT,r.default.bind((function(t){r.default.includes(g,t.progressPercent)&&this.triggerEvent(this.getModule().publishedEvents.PAGE_VIDEO_PROGRESS_PERCENT,t)}),this)))},bindVideoElementPauseAndPlayForManualPauseDetection:function(){this.$vid.bind("pause",r.default.bind((function(t){this.onVideoPause()}),this)),this.$vid.bind("play",r.default.bind((function(t){this.onVideoPlay()}),this))},onVideoPause:function(){this.isManuallyPaused=!this.isAutoPaused},onVideoPlay:function(){this.isManuallyPaused=!1,this.isAutoPaused=!1},triggerEvent:function(t,e){var i=r.default.extend({componentSlug:this.options.id,videoSlug:this.videoSlug,pageSlug:this.options.pageView.model.get("slug")},e);this.getModule().trigger(t,i)},canAutoplay:function(){return!!this.options.videoAutoPlay&&(!this.tapToPlay||this.playedOnce)},_applyRotation:function(t,e,i){},_applyBackground:function(t){},_applyBorder:function(t){},_configureAction:function(){}})},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__decorate||function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&o(e,t,i);return a(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCustomPathComponentView=void 0;var c=l(i(7)),d=l(i(237)),h=l(i(3)),f=u(i(17)),p=i(6),g=i(72),m=i(26),v=i(19),y=l(i(47)),_=l(i(25)),b=i(111),T=function(t){function e(e){var i=t.call(this,e)||this;return i.hasRenderedGradient=!1,i.options=e,i}return r(e,t),e.prototype.callObjectStateInvoker=function(t,e){v.ObjectStateInvoker.invokeScaleableObjectState(this,t,e)},e.prototype._applyRotation=function(e){this.isMaskImage()||t.prototype._applyRotation.call(this,e)},e.prototype._applyBorder=function(t){void 0===t&&(t=this.options.border||{}),this.getShapeElement().css("stroke",t.color||""),this.getShapeElement().css("stroke-width",t.width||0),this.getShapeElement().css("miter-limit",10)},e.prototype.applyMaskProperties=function(){var t,e=this.$el,i=this.options.background;if((null==i?void 0:i.color)&&e.css("background",i.color),(null==i?void 0:i.gradient)&&(null===(t=null==i?void 0:i.gradient)||void 0===t?void 0:t.stops)){var n=i.gradient.angle;e.css("backgroundImage","linear-gradient("+n+"deg,"+_.default.buildStops(i.gradient.stops)+")")}},e.prototype._applyBackground=function(t,e){void 0===t&&(t=this.options.background||{}),void 0===e&&(e=this.options.transition);var i=this.getStopElements(),n=0;this.isMaskImage()&&this.applyMaskProperties(),t.color&&i.css("stop-color",t.color),t.gradient&&(i.first().css("stop-color",t.gradient.stops[0].color),i.last().css("stop-color",t.gradient.stops[1].color),n=t.gradient.angle||0),t.color||t.gradient||i.css("stop-color","transparent"),g.AnimateSVGUtil.renderGradientAnimation(this.getSVGElement(),this.getGradientElement(),n,this.hasRenderedGradient?e:null),this.hasRenderedGradient=!0},e.prototype._applyShadow=function(t,e,i,n,r,o){if(void 0===t&&(t=this.options.shadow),void 0===e&&(e=this.options.rotation),void 0===i&&(i=this.options.border),void 0===n&&(n=this.options.background||{}),void 0===r&&(r=this.options.width),void 0===o&&(o=this.options.height),!h.default.isIE11())return this.applyDropShadow(t,e);var a=this.getShadowParams(t,r,o,e),s=a.shadowX,u=a.shadowY,l=a.shadowBlur,c=a.shadowColor,d=a.filterX,f=a.filterY,p=a.filterWidth,g=a.filterHeight,m=this.getApplyShadowTarget().find("filter");m.attr("x",d+"%"),m.attr("y",f+"%"),m.attr("width",p+"%"),m.attr("height",g+"%"),m.find("feGaussianBlur").attr("stdDeviation",l);var v=m.find("feOffset");v.attr("dx",s),v.attr("dy",u),m.find("feFlood").attr("flood-color",c)},e.prototype._applyOpacity=function(t){void 0===t&&(t=this.getOpacity()),this.$el.css("opacity",t)},e.prototype.getHoverTarget=function(){return this.getPointerEventsTarget()},e.prototype.render=function(){var e=this.options.width,i=this.options.height,n=this.id+"-"+this.type+"-svg",r=this.id+"-"+this.type+"-svg",o=n+"-gradient",a=o+"-stop0",s=o+"-stop1",u=n+"-custom-path-shadow-filter",l="url(#"+o+")",f=h.default.isIE11(),p=f?"url(#"+u+")":"",g=this.calculateTransform(),m=this.renderShape({fill:l,shadow:p,transform:g}),v=c.default.render(d.default,{svgName:n,componentId:r,gradientName:o,gradientStop0Name:a,gradientStop1Name:s,width:e,height:i,subview:m,fill:l,shadowName:u,renderSMILShadow:f});if(this.isMaskImage()){var _=y.default.encodedSvgStringAsBase64(v);this.renderAsMask(_)}else this.$el.empty().html(v);return t.prototype.render.call(this),this.options.ariaLabel||this.hasClickInteraction()||this.hasHoverInteraction()||this.$el.attr("aria-hidden","true"),this.isMaskImage()||this.createAnimationWithTransition(this.getSVGElement(),{placeholder:"0"},{placeholder:"0"},{duration:0,easing:b.Easing.linear,delay:0}),this},e.prototype.renderAsMask=function(t){var e={"-webkit-mask-image":t,"mask-image":t,"-webkit-mask-repeat":"no-repeat","-webkit-mask-position":"0px 0px"};this.$el.css(e)},e.prototype.isMaskImage=function(){var t;return!(!this.options.maskInfo||!(null===(t=this.options.maskInfo)||void 0===t?void 0:t.maskedObjectId))},e.prototype.calculateTransform=function(){if(this.isMaskImage()){this.options.allWidth=void 0,this.options.allHeight=void 0,this._configureAllWidthAllHeight();var t=this.options,e=t.x,i=t.y,n=t.rotation,r=this.options.allWidth,o=this.options.allHeight;if(void 0!==o&&void 0!==r)return"rotate("+n+", "+r/2+", "+o/2+") translate("+e+", "+i+")"}return null},e.prototype.getStop=function(t,e){if(t&&t.gradient&&t.gradient.stops)return t.gradient.stops.find((function(t){return t.stop===e}))},e.prototype.gradientExists=function(t){return!!t&&!!t.gradient},e.prototype.shadowFilterExists=function(t){return t&&void 0!==t.x&&void 0!==t.y&&void 0!==t.color&&void 0!==t.blur},e.prototype._applyPosition=function(e,i){if(void 0===e&&(e=this.options.x),void 0===i&&(i=this.options.y),this.isMaskImage())t.prototype._applyPosition.call(this,0,0);else{var n=this.getApplyPositionTarget();n.css("left",e+"px"),n.css("top",i+"px")}},e.prototype._applyDimensions=function(e,i){this.isMaskImage()?t.prototype._applyDimensions.call(this,this.options.allWidth,this.options.allHeight):t.prototype._applyDimensions.call(this,e,i)},e.prototype.getStopElements=function(){return this.$el.find("stop")},e.prototype.applyTransitionToTarget=function(e){t.prototype.applyTransitionToTarget.call(this,e),this.getShapeElement().css("transition",e),this.getSVGElement().css("transition",e),this.getStopElements().css("transition",e)},e.prototype.getSVGElement=function(){return this.$el.find(".custom-path-component")},e.prototype.getApplyShadowTarget=function(){return this.isMaskImage()&&this.parentViews.length>0?this.parentViews[0].$el:this.getSVGElement()},e.prototype.getGradientElement=function(){return this.$el.find("linearGradient")},e.prototype.getPointerEventsTarget=function(){return this.isMaskImage()?this.$el:this.getShapeElement()},e.prototype.getShadowParams=function(t,e,i,n){void 0===e&&(e=this.options.width),void 0===i&&(i=this.options.height),void 0===n&&(n=this.options.rotation),n=n||0;var r=f.maintainOffsetWhenRotated(n,{x:t.x||0,y:t.y||0}),o=r.x||0,a=r.y||0,s=(t.blur||0)/2,u=t.color||"",l=2*s,c=100*Math.abs(o/e)*-1-20-l,d=100*Math.abs(a/i)*-1-20-l;return{shadowX:o,shadowY:a,shadowBlur:s,shadowColor:u,filterX:c,filterY:d,filterWidth:2*Math.abs(c)+100,filterHeight:2*Math.abs(d)+100}},e.prototype.createAnimationWithTransition=function(t,e,i,n){if(n){var r={};Object.keys(e).forEach((function(t){r[t]={from:i[t],to:e[t]}}));var o=g.AnimateSVGUtil.animatePointsForMultiple(r),a=g.AnimateSVGUtil.getSplineStringFromEasing(n.easing),s=Object.keys(o).map((function(t){return g.AnimateSVGUtil.createAnimationElement(t,!1,o[t],a)}));t.find("animate").remove(),g.AnimateSVGUtil.startNewAnimations(this.getSVGElement(),t,s,n)}else Object.keys(e).forEach((function(i){t.attr(i,e[i])}))},e.prototype.applyPoints=function(t,e){},e.prototype.applyPath=function(t,e,i){void 0===t&&(t=this.options.path)},e=s([m.BackboneShim({className:"custom-path-container shape"})],e)}(p.AbstractComponentView);e.AbstractCustomPathComponentView=T},function(t,e,i){"use strict";var n,r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MODEL_DEFAULTS=e.TextRenderMode=e.properties=e.HTML_TAG_OPTIONS=e.COLUMN_OVERRUN_PADDING_PERCENTAGE=e.DEFAULT_HTML_TAG_NAME=e.DEFAULT_HTML_TAG=void 0;var a=o(i(0));e.DEFAULT_HTML_TAG="p",e.DEFAULT_HTML_TAG_NAME="Paragraph",e.COLUMN_OVERRUN_PADDING_PERCENTAGE=2;var s,u=a.default.range(1,7).map((function(t){return{tag:"h"+t,title:"Header "+t+" <h"+t+">"}}));e.HTML_TAG_OPTIONS=r(u,[{tag:e.DEFAULT_HTML_TAG,title:e.DEFAULT_HTML_TAG_NAME+" <"+e.DEFAULT_HTML_TAG+">"}]),function(t){t.TITLE="title",t.TEXT_CONTENT="textContent",t.TEXT_SPANS="textSpans",t.DEFAULT_SPAN="defaultSpan",t.INDENT="indent",t.VARIANT_GUID="variantGuid",t.VARIANT_NAME="variantName",t.FAMILY_GUID="familyGuid",t.UNDERLINE="underline",t.FONT_COLOR="fontColor",t.FONT_SIZE="fontSize",t.LETTER_SPACING="letterSpacing",t.LEADING="leading",t.TEXT_SHADOW="textShadow",t.AUTO_LEADING="autoLeading",t.JUSTIFY="justify",t.TEXT_TRANSFORM="textTransform",t.COLUMNS="columns",t.COLUMN_GAP="columnGap",t.PADDING_TOP="paddingTop",t.PADDING_RIGHT="paddingRight",t.PADDING_BOTTOM="paddingBottom",t.PADDING_LEFT="paddingLeft",t.SHOW_OVERFLOW="showOverflow",t.SYNCED="synced",t.HTML_TAG="htmlTag",t.HIDDEN_FROM_SCREEN_READERS="hiddenFromScreenReaders",t.HYPERLINK="hyperlink"}(s=e.properties||(e.properties={})),function(t){t.PARAGRAPH="paragraph",t.LINE="line",t.CHAR="char"}(e.TextRenderMode||(e.TextRenderMode={})),e.MODEL_DEFAULTS=((n={})[s.HTML_TAG]=e.DEFAULT_HTML_TAG,n[s.TITLE]="Text",n[s.TEXT_CONTENT]="",n[s.TEXT_SPANS]=[],n[s.DEFAULT_SPAN]=void 0,n[s.INDENT]=0,n[s.JUSTIFY]="left",n[s.COLUMNS]=1,n[s.COLUMN_GAP]=0,n[s.LEADING]=38,n[s.TEXT_SHADOW]={},n[s.AUTO_LEADING]=!0,n[s.TEXT_TRANSFORM]="none",n[s.PADDING_TOP]=0,n[s.PADDING_BOTTOM]=0,n[s.PADDING_RIGHT]=0,n[s.PADDING_LEFT]=0,n[s.SHOW_OVERFLOW]=!0,n[s.SYNCED]=!1,n)},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractCustomPathHoverAreaComponentView=void 0;var o=function(t){function e(e){var i=t.call(this,e)||this;return i.options=e,i}return r(e,t),e.prototype.render=function(){t.prototype.render.call(this);var e=this.renderShapeHoverArea();e.setAttributeNS(null,"fill","none");var i=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.setAttributeNS(null,"overflow","visible"),i.append(e),i.style.width="100%",i.style.height="100%",i.style.display="block",this.$el.append(i),this.renderStroke(),this},e.prototype.renderBorder=function(){},e.prototype.renderStroke=function(){var t=this.options.component.options.border;this.getHoverAreaTarget().css("stroke","transparent"),this.getHoverAreaTarget().css("stroke-width",t.width||0),this.getHoverAreaTarget().css("miter-limit",10)},e.prototype.getHoverAreaTarget=function(){return this.$el.find("svg >")},e}(i(117).HoverAreaComponentView);e.AbstractCustomPathHoverAreaComponentView=o},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(2)),s=n(i(41)),u=[],l={loadImagesForUri:function(t){return l.loadImagesForRestUri("/rest"+t)},loadImagesForRestUri:function(t){return l.loadMediaForRestUri(t,!0)},loadMediaForUri:function(t,e){return l.loadMediaForRestUri("/rest"+t,e)},loadMediaForRestUri:function(t,e){var i=t+"/media";e&&(i+="?imagesOnly=true");var n=r.default.ajax({url:i,type:"GET",dataType:"json"}).then((function(t){s.default.putMediaArray(t)})).fail((function(e,i,n){window.console.warn("Unable to load image info for uri: "+t+" due to error: "+n)}));return u.push(n),n},loadImage:function(t){return r.default.ajax({url:"/rest"+t+"/metadata",type:"GET",dataType:"json"}).then((function(e){if(o.default.isObject(e)){var i=o.default.get(e,"url",null),n=o.default.get(e,["meta","width"],null),r=o.default.get(e,["meta","height"],null);return s.default.putImageInfo(t,i,n,r)}window.console.warn("Unexpected image metadata format")})).fail((function(){window.console.warn("Unable to load info for image: "+t)}))},getMediaInfo:function(t){var e=r.default.Deferred();return s.default.has(t)||!a.default.isStudio?(e.resolve(s.default.get(t)),e.promise()):(r.default.when.apply(r.default,u).always((function(){s.default.has(t)?e.resolve(s.default.get(t)):l.loadImage(t).always((function(){e.resolve(s.default.get(t))}))})),e.promise())},getOriginalWidth:function(t){return l.getMediaInfo(t).then((function(t){return o.default.get(t,["original","width"],null)}))},getOriginalDimensions:function(t){return l.getMediaInfo(t).then((function(t){var e=o.default.get(t,["original","width"]),i=o.default.get(t,["original","height"]);return e&&i?{width:e,height:i}:null}))}};e.default=l},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageEffects=e.EffectName=void 0;var r,o=n(i(0));!function(t){t.CONTRAST="contrast",t.BRIGHTNESS="brightness",t.HUEROTATE="hue-rotate",t.SATURATE="saturate",t.SEPIA="sepia",t.INVERT="invert"}(r=e.EffectName||(e.EffectName={}));var a=function(){function t(){}return t.defaultValueOf=function(e){switch(e){case t.BRIGHTNESS.NAME:return t.BRIGHTNESS.DEFAULT;case t.CONTRAST.NAME:return t.CONTRAST.DEFAULT;case t.HUEROTATE.NAME:return t.HUEROTATE.DEFAULT;case t.SATURATE.NAME:return t.SATURATE.DEFAULT;case t.SEPIA.NAME:return t.SEPIA.DEFAULT;case t.INVERT.NAME:return t.INVERT.DEFAULT;default:return null}},t.getEffectsApplicationOrder=function(){return[this.BRIGHTNESS.NAME,this.CONTRAST.NAME,this.HUEROTATE.NAME,this.SATURATE.NAME,this.SEPIA.NAME,this.INVERT.NAME]},t.computeBrowserImageFilter=function(t){return this.getEffectsApplicationOrder().map((function(e){return t[e]})).join(" ").trim()},t.isDefaultEffects=function(t){return o.default.isEqual(this.getDefaults(),t)},t.getDefaults=function(){var t={};return t[this.BRIGHTNESS.NAME]=this.BRIGHTNESS.DEFAULT,t[this.CONTRAST.NAME]=this.CONTRAST.DEFAULT,t[this.HUEROTATE.NAME]=this.HUEROTATE.DEFAULT,t[this.SATURATE.NAME]=this.SATURATE.DEFAULT,t[this.SEPIA.NAME]=this.SEPIA.DEFAULT,t[this.INVERT.NAME]=this.INVERT.DEFAULT,t},t.BRIGHTNESS={NAME:r.BRIGHTNESS,MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.CONTRAST={NAME:r.CONTRAST,MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.HUEROTATE={NAME:r.HUEROTATE,MIN:-180,MAX:180,DEFAULT:0,UNIT:"deg"},t.SATURATE={NAME:r.SATURATE,MIN:-100,MAX:100,DEFAULT:0,UNIT:"%"},t.SEPIA={NAME:r.SEPIA,MIN:0,MAX:100,DEFAULT:0,UNIT:"%"},t.INVERT={NAME:r.INVERT,MIN:0,MAX:100,DEFAULT:0,UNIT:"%"},t}();e.ImageEffects=a},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(2)),s=n(i(85)),u=!1,l={initialize:function(){!function(){if(!1!==u)return u;if("undefined"==typeof sharejs)throw Error("Unable to connect to ShareJS Server");(u=new sharejs.Connection(a.default.shareJsServer,a.default.sharejsAccessPolicy)).on("error",o.default.bind(l._showErrorInternal,l)),r.default(window).on("unload",(function(){u&&u.disconnect()}))}()},getConnection:function(){return u},_showErrorInternal:function(t){if("Unknown session ID"===t)return!1;var e="There was a problem connecting to the server.";return t&&(e=t).match(/\bOp apply failed/gi)&&(e="Your changes were unable to be saved."),this.showError(e)},showError:function(t){return this.readOnlyConnectionLimitExceededError||window.onerror(t,null,null),u&&(u.disconnect(),u=!1),!0},listenForReadOnlyConnectionLimitError:function(t){t.on("shout",o.default.bind((function(t){if(t){try{t=JSON.parse(t)}catch(t){return}"READONLY_CONNECTION_LIMIT_EXCEEDED"===t.name&&(this.readOnlyConnectionLimitExceededError=!0,s.default.show503())}}),this))}};e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default={NIL:0,ESC:27,SHIFT:16,CTRL:17,LEFT_CMD:91,RIGHT_CMD:93,CMD_FIREFOX:224,ALT:18,RETURN:13,ENTER:13,BACKSPACE:8,DELETE:46,SPACE:32,TAB:9,HOME:36,END:35,RIGHT_ARROW:39,LEFT_ARROW:37,UP_ARROW:38,DOWN_ARROW:40,EQUALS_FF:61,EQUALS_WEBKIT:187,MINUS_FF:173,MINUS_WEBKIT:189,ZERO:48,ONE:49,SEMICOLON:186,SEMICOLON_FIREFOX:59,BRACKET_OPEN:219,BRACKET_CLOSE:221,SINGLE_QUOTE:222,A:65,C:67,D:68,E:69,G:71,H:72,I:73,J:74,K:75,L:76,M:77,P:80,R:82,V:86,X:88,Y:89,Z:90,COMMA:188,PERIOD:190}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(12)),o=n(i(2)),a=n(i(174));t=new r.default.Module({id:"branding",version:"1.0",brandingView:null,publishedEvents:{BRANDING_CEROS_BRANDING_CLICK:"branding.ceros_branding.click"},delegate:{load:function(e){var i=o.default.themeObj.menuFgColor,n=o.default.themeObj.menuBgColor;return this.brandingView=new a.default({module:t,menuBackgroundColor:n,menuForegroundColor:i,menuHoverOpacity:o.default.themeObj.menuHoverOpacity,whiteLabeling:o.default.whiteLabeling}),this},shouldShow:function(){return!o.default.whiteLabeling},el:function(){return this.brandingView.$el},show:function(){this.brandingView&&this.brandingView.show()},getBrandingUrl:function(){return this.brandingView.poweredByUrl}}});e.default=t},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(12)),a=n(i(2)),s=n(i(3)),u=n(i(25)),l=n(i(176));t=new o.default.Module({id:"chrome",description:"Provides a menu bar user interface for the web player",version:"2.0",chromeView:null,publishedEvents:{CHROME_SHARE:"chrome.share",CHROME_SHARE_PAGE:"chrome.share.page",CHROME_SHOPPING_CART:"chrome.shopping_cart",CHROME_TITLE_CLICK:"chrome.title.click"},delegate:{load:function(e){var i={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};this.options=r.default.extend({},i,e);var n=this.options.theme.menuFgColor,o=this.options.theme.menuBgColor,s=u.default.fromHex(n);return s.a=.1,this.chromeView=new l.default({module:t,menuBackgroundColor:o,menuBorderColor:s,menuForegroundColor:n,menuHoverOpacity:this.options.theme.menuHoverOpacity,allowCommerceIntegration:a.default.allowCommerceIntegration,commerceSettings:a.default.commerceSettings,showChromeMenu:this.options.theme.menuEnabled}),this},shouldShow:function(){return!a.default.isEmbedded&&a.default.themeObj.menuEnabled},initiallyHidden:function(){return s.default.mobile()},getHeight:function(){return this.chromeView.getHeight()},el:function(){return this.chromeView.$el},show:function(t){this.chromeView&&this.chromeView.show(t)},hide:function(t){this.chromeView&&this.chromeView.hide(t)},toggle:function(){this.chromeView&&this.chromeView.toggle()},setTitle:function(t){this.chromeView.setTitle(t)},setMenuLinkHrefs:function(t){this.chromeView.setMenuLinkHrefs(t)}}});e.default=t},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(12)),o=n(i(178));t=new r.default.Module({id:"Error",description:"Provides an error display module",version:"1.0",publishedEvents:{},dependencies:{},delegate:{load:function(t){this.errorView=new o.default({title:t.title,message:t.message,imageCssClass:t.imageCssClass})},el:function(){return this.errorView.$el}}});e.default=t},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(12)),a=n(i(2)),s=n(i(25)),u=n(i(15)),l=n(i(180));t=new o.default.Module({id:"flippers",description:"Provides left/right (previous/next) arrows for navigation between pages",version:"1.0",flippersView:null,publishedEvents:{NEXT_PAGE:"flippers.next_page",PREVIOUS_PAGE:"flippers.previous_page"},dependencies:{viewport:"1.0"},delegate:{load:function(e){var i={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};this.options=r.default.extend({},i,e);var n=this.options.theme.menuFgColor,o=this.options.theme.menuBgColor,u=s.default.fromHex(n);u.a=.1,this.flippersView=new l.default({arrowsEnabled:this.options.theme.arrowsEnabled,menuBackgroundColor:o,menuBorderColor:u,menuForegroundColor:n,menuHoverOpacity:this.options.theme.menuHoverOpacity,module:t}),this.registerEvents()},el:function(){if(this.flippersView)return this.flippersView.$el;throw new Error("FlippersView is missing")},show:function(){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.show()},hide:function(){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.hide()},updateScale:function(t){if(!this.flippersView)throw new Error("FlippersView is missing");this.flippersView.scale(t)},determineFlipperState:function(t,e,i){var n=!i||t,r=!i||e;this.updateFlippers(n,r)},updateFlippers:function(t,e){if(!this.flippersView)throw new Error("FlippersView is missing");t?this.flippersView.disablePrevious():this.flippersView.enablePrevious(),e?this.flippersView.disableNext():this.flippersView.enableNext()},updateFlipperHrefs:function(){this.flippersView.replaceHrefs()},registerEvents:function(){u.default.getInstance().on("change",r.default.bind((function(){this.flippersView.scale(null)}),this))}}});e.default=t},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.JsTsViewGlue=void 0;var r=n(i(0)),o=n(i(5));e.JsTsViewGlue=o.default.View.extend({constructor:function(t){this.options=t||{},this.subViews=[],o.default.View.call(this,t)},broadcast:r.default.clone(o.default.Events)})},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ZOOM_LEVELS=e.DEFAULT_ZOOM_LEVEL_INDEX=void 0;var a=o(i(186));e.DEFAULT_ZOOM_LEVEL_INDEX=0,e.ZOOM_LEVELS=[1,1.1,1.25,1.5,1.75,2,2.5,3,4];var s=function(t){function i(){var i=t.call(this)||this;return i.currentZoomLevelPosition=e.DEFAULT_ZOOM_LEVEL_INDEX,i}return r(i,t),i.getInstance=function(){return i.instance||(i.instance=new i),i.instance},i.prototype.hasZoom=function(){return this.currentZoomLevelPosition!==e.DEFAULT_ZOOM_LEVEL_INDEX},i.prototype.canIncrementZoom=function(){return this.currentZoomLevelPosition!==e.ZOOM_LEVELS.length-1},i.prototype.canDecrementZoom=function(){return this.hasZoom()},i.prototype.getCurrentZoom=function(){return e.ZOOM_LEVELS[this.currentZoomLevelPosition]},i.prototype.resetZoom=function(){this.adjustZoom(e.ZOOM_LEVELS[e.DEFAULT_ZOOM_LEVEL_INDEX])},i.prototype.incrementZoom=function(){var t=this.currentZoomLevelPosition+1;t<e.ZOOM_LEVELS.length&&this.adjustZoom(e.ZOOM_LEVELS[t])},i.prototype.decrementZoom=function(){var t=this.currentZoomLevelPosition-1;t>=e.DEFAULT_ZOOM_LEVEL_INDEX&&this.adjustZoom(e.ZOOM_LEVELS[t])},i.prototype.adjustZoom=function(t){var i=e.ZOOM_LEVELS.indexOf(t);i!=this.currentZoomLevelPosition&&(this.currentZoomLevelPosition=i,this.trigger("zoom",t))},i}(a.default);e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={SCALE_EXPERIENCE_TYPE:{SCALE_TO_FOLD:"scale_to_fold",FULL_WIDTH:"full_width",NO_SCALING:"no_scaling"}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(12)),a=n(i(2)),s=i(189);t=new o.default.Module({id:"page",description:"",version:"1.0",dependencies:{splashScreen:"1.0"},publishedEvents:{PAGE_COMPONENT_INTERACTION:"page.component.interaction",PAGE_COMPONENT_HOVER_INTERACTION:"page.component.hover.interaction",PAGE_COMPONENT_CLICKED:"page.component.clicked",PAGE_COMPONENT_FORM_SUBMITTED:"page.component.form_submitted",PAGE_PRELOAD_READY:"page.preload_ready",PAGE_ACTIVATED:"page.activated",PAGE_SCROLL:"page.scroll",PAGE_ACTION_SCROLL_TO:"page.action.scroll_to",PAGE_ACTION_TOGGLE_REDUCED_MOTION:"page.action.toggle_reduced_motion",PAGE_ACTION_GO_TO_PREV_PAGE:"page.action.go_to_prev_page",PAGE_ACTION_GO_TO_NEXT_PAGE:"page.action.go_to_next_page",PAGE_ACTION_GO_TO_PAGE:"page.action.go_to_page",PAGE_ACTION_ENABLE_DISABLE_PAGES:"page.action.enable_disable_pages",PAGE_ACTION_GO_TO_URL:"page.action.go_to_url",PAGE_ACTION_OPEN_LIGHTBOX:"page.action.open_lightbox",PAGE_ACTION_OPEN_PRODUCT_PANEL:"page.action.open_product_panel",PAGE_ACTION_OPEN_SHOPPING_CART:"page.action.open_shopping_cart",PAGE_ACTION_LAYER_VISIBILITY:"page.action.layer_visibility",PAGE_ACTION_INVOKE_ANIMATION:"page.action.invoke.animation",PAGE_ACTION_PLAY_AUDIO:"page.action.play_audio",PAGE_ACTION_SHARE_PAGE:"page.action.share.page",PAGE_ACTION_CHANGE_STATE:"page.component.change_state",PAGE_VIDEO_PLAY:"page.video.play",PAGE_VIDEO_PROGRESS_TIME:"page.video.progress_time",PAGE_VIDEO_PROGRESS_PERCENT:"page.video.progress_percent",PAGE_RELOAD:"page.reload",PAGE_COMPONENT_ANIMATION_START:"page.component.animation.start",PAGE_COMPONENT_ANIMATION_END:"page.component.animation.end",TIMED_INTERACTION:"page.component.timed.interaction"},INTERACTION_TRIGGERS:{CLICK:"click",MOUSEDOWN:"mouseDown",MOUSEUP:"mouseUp",HOVER:"hover",VIEW:"view",SUBMIT:"submit"},delegate:{createPageView:function(e,i){var n={theme:r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj};return i=r.default.extend({enableLoadingThumbnail:!1,enableLoadingSpinner:!1,allowCommerceIntegration:a.default.allowCommerceIntegration},n,i||{}),new s.PageView(r.default.extend(i,{module:t,model:e}))}}});e.default=t},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.WebkitUtils=void 0;var r=i(24),o=n(i(3)),a=function(){function t(){}return t.hardwareAccelerateTransform=function(t){var e={translate3d:{x:0,y:0,z:0}};if("string"==typeof t)return r.CssUtils.setTransformProperty(t,e);r.CssUtils.setTransformToElement(t,e)},t.requiresHardwareAccelerateTransform=function(t,e){return o.default.isDesktopSafari()||o.default.isIos()&&(t||e)},t}();e.WebkitUtils=a},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=i(23);e.default={isHoverInteractionShowingLayers:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showAndStayVisibleCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover],t.action)},isShowLayersOnHoverInteraction:function(t){return t.action===o.ActionTypes.showCanvasTargetsOnHover},isShowLayersInteraction:function(t){return r.default.includes([o.ActionTypes.showCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover],t.action)},isHideLayersInteraction:function(t){return t.action===o.ActionTypes.hideCanvasTargets},isTemporaryHoverInteractionShowingOrHidingLayers:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showCanvasTargetsOnHover,o.ActionTypes.hideCanvasTargets],t.action)},shouldDrawHoverArea:function(t){return t.action===o.ActionTypes.showCanvasTargetsOnHover&&t.createHoverArea},hasCustomFiringHoverAction:function(t){return"hover"===t.trigger&&r.default.includes([o.ActionTypes.showAndStayVisibleCanvasTargets,o.ActionTypes.showCanvasTargetsOnHover,o.ActionTypes.showCanvasTargets,o.ActionTypes.hideCanvasTargets],t.action)}}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FolderView=void 0;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.addStateUnderActiveState=function(t,e,i){var n=this.childViews;n&&n.forEach((function(t){t.addStateUnderActiveState(e,i)}))},e.prototype.invokeObjectState=function(t){this.childViews&&this.childViews.forEach((function(e){e.invokeObjectState(t)}))},e.prototype.revokeObjectState=function(t,e){this.childViews&&this.childViews.forEach((function(i){i.revokeObjectState(t,e)}))},e.prototype.removeAllActiveStates=function(){this.childViews&&this.childViews.forEach((function(t){t.removeAllActiveStates()}))},e.prototype.addActiveState=function(t){this.childViews&&this.childViews.forEach((function(e){e.addActiveState(t)}))},e.prototype.removeActiveState=function(t){this.childViews&&this.childViews.forEach((function(e){e.removeActiveState(t)}))},e.prototype.hasActiveClickStateWithLock=function(){return!!this.childViews&&this.childViews.every((function(t){return t.hasActiveClickStateWithLock()}))},e.prototype.hasActiveCustomStateWithLock=function(){return!!this.childViews&&this.childViews.every((function(t){return t.hasActiveCustomStateWithLock()}))},e}(o(i(198)).default);e.FolderView=a},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(7)),o=n(i(11)),a=n(i(217));e.default=o.default.extend({className:"media-loading",initialize:function(t){this.isImage=t.isImage,this.parentHeight=t.height,this.render()},render:function(){this.$el.html(r.default.render(a.default,{isImage:this.isImage})),this.setIconSize(),this.setSpinnerSize()},setIconSize:function(){var t=Math.floor(.2*this.parentHeight);this.$el.find(".media-loading__media-type-icon").css("font-size",t+"px")},setSpinnerSize:function(){var t=Math.floor(.08*this.parentHeight);this.$el.find(".media-loading__spinner").css({height:t+"px",width:t+"px"})}})},function(t,e,i){"use strict";function n(t){if(null===t)return{top:0,left:0};var e=0,i=0;do{e+=t.offsetLeft,i+=t.offsetTop,t=t.offsetParent}while(t);return{top:i,left:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.getPointerPosition=e.findPosition=e.getBoundingClientRect=e.getOffsetPosition=void 0,e.getOffsetPosition=n,e.getBoundingClientRect=function(t,e){void 0===e&&(e=1);var i=t.getBoundingClientRect();return{top:i.top*e,left:i.left*e,width:i.width*e,height:i.height*e}},e.findPosition=function(t,e){void 0===e&&(e=1);var i=n(t),r=i.top,o=i.left;return{left:Math.round(r)*e,top:Math.round(o)*e}},e.getPointerPosition=function(t,e,i){void 0===i&&(i=1);var n={x:0,y:0},r=t.getBoundingClientRect(),o=r.top,a=r.left,s=r.width,u=r.height,l=e.pageY/i,c=e.pageX/i;return e.changedTouches&&(c=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(o-l+u)/u)),n.x=Math.max(0,Math.min(1,(c-a)/s)),n}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTransformableGroupView=void 0;var a=function(t){function e(e){return t.call(this,e)||this}return r(e,t),Object.defineProperty(e.prototype,"linkInteraction",{get:function(){return this.options.linkInteraction||"smartgroup"===this.options.type},enumerable:!1,configurable:!0}),e.prototype._applyRotation=function(e){this.childrenUseBlendingModes()||t.prototype._applyRotation.call(this,e)},e.prototype.isUsingHoverAreaForMouseOut=function(){return!1},e}(o(i(236)).default);e.AbstractTransformableGroupView=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AnimateSVGUtil=void 0;var n=i(111),r=function(){function t(){}return t.getSplineStringFromEasing=function(t,e){return this.getSplineFromEasing(t,e).map((function(t){return t.join(" ")})).join(";")},t.getSplineFromEasing=function(t,e){var i=this.getBezierPointsForEasing(t);if(!e)return[i];switch(t){case n.Easing.easeInOut:return[[.21,0,.355,.25],[.645,.75,.79,1]];case n.Easing.ease:return[[.125,.05,.1875,.3],[.4375,.775,.625,1]];case n.Easing.easeIn:case n.Easing.easeOut:case n.Easing.linear:default:return[[0,0,i[0],i[1]],[i[2],i[3],1,1]]}},t.getBezierPointsForEasing=function(t){switch(t){case n.Easing.ease:return[.25,.1,.25,1];case n.Easing.easeIn:return[.42,0,1,1];case n.Easing.easeOut:return[0,0,.58,1];case n.Easing.easeInOut:return[.42,0,.58,1];case n.Easing.linear:default:return[0,0,1,1]}},t.animateGradientRotation=function(e,i){var n=t.getRotateKeyframes(e,i).map((function(e){return t.getGradientXYFromAngle(e)}));return{x1:n.map((function(t){return t.x1+"%"})).join(";"),y1:n.map((function(t){return t.y1+"%"})).join(";"),x2:n.map((function(t){return t.x2+"%"})).join(";"),y2:n.map((function(t){return t.y2+"%"})).join(";")}},t.animatePointsForMultiple=function(t){var e=this,i={};return Object.keys(t).forEach((function(n){i[n]=e.animatePointsForSingle([t[n].from,t[n].to])})),i},t.animatePointsForSingle=function(t){return t.join(";")},t.getRotateKeyframes=function(t,e){return e%=360,[t%=360,Math.abs(t-e)>180?(t+(e+360))/2%360:(t+e)/2,e]},t.getGradientXYFromAngle=function(t){var e=t*(Math.PI/180);return{x1:Math.round(50+50*Math.sin(e+Math.PI)),x2:Math.round(50+50*Math.sin(e)),y1:Math.round(50+50*Math.cos(e)),y2:Math.round(50+50*Math.cos(e+Math.PI))}},t.getAngleFromGradientXY=function(t,e,i,n){var r=i-t,o=n-e;return(Math.atan2(o,r)+Math.PI/2)*(180/Math.PI)},t.createAnimationElement=function(t,e,i,n){var r=e?"0;0.5;1":"0;1",o=document.createElementNS("http://www.w3.org/2000/svg","animate");return o.setAttributeNS(null,"attributeName",t),o.setAttributeNS(null,"fill","freeze"),o.setAttributeNS(null,"keyTimes",r),o.setAttributeNS(null,"calcMode","spline"),o.setAttributeNS(null,"values",i),o.setAttributeNS(null,"keySplines",n),o},t.renderGradientAnimation=function(e,i,n,r){if(r){var o=i[0],a=o.x1,s=o.x2,u=o.y1,l=o.y2,c=t.getAngleFromGradientXY(a.animVal.valueInSpecifiedUnits,u.animVal.valueInSpecifiedUnits,s.animVal.valueInSpecifiedUnits,l.animVal.valueInSpecifiedUnits),d=t.animateGradientRotation(c,n),h=t.getSplineStringFromEasing(r.easing,!0),f=Object.keys(d).map((function(e){return t.createAnimationElement(e,!0,d[e],h)}));t.startNewAnimations(e,i,f,r)}else{var p=t.getGradientXYFromAngle(n);i.attr("x1",p.x1+"%").attr("y1",p.y1+"%").attr("x2",p.x2+"%").attr("y2",p.y2+"%")}},t.startNewAnimations=function(t,e,i,n){var r=t&&t.length&&t[0].getCurrentTime?t[0].getCurrentTime():0;i.forEach((function(i){var o,a,s='[attributeName="'+i.getAttribute("attributeName")+'"]',u=e.find(s).last(),l=(n.delay||0)+r;i.setAttributeNS(null,"begin",l+"s");var c=n.duration||0,d=0;if(u){var h=(null===(o=u.attr("begin"))||void 0===o?void 0:o.replace("s",""))||"",f=(null===(a=u.attr("dur"))||void 0===a?void 0:a.replace("s",""))||"",p=(Number.parseFloat(h)||0)+(Number.parseFloat(f)||0)-r;p>0&&(d=p)}c-=d,i.setAttributeNS(null,"dur",c+"s"),e.find(s).remove(),t.find('[attributeName="placeholder"]').remove(),e.append(i)}))},t}();e.AnimateSVGUtil=r},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(4)),a=n(i(8)),s=n(i(247));e.default={reconcileComponentForCurrentVariant:function(t){var e=a.default.getVariant();return this.reconcileComponentForVariant(e,t)},reconcileComponentForVariant:function(t,e){if("desktop"===t)return e;var i=r.default.isObject(e.overrides)&&r.default.isObject(e.overrides[t]),n=!i&&r.default.isObject(e.parentSmartGroup),a="desktop"!==t&&!n;if(i){var u=e.synced?r.default.omit(e.overrides[t],s.default.get(e.type)):e.overrides[t];r.default.extend(e,u)}else a&&o.default.warn("PlayerVariantUtil::reconcileComponentForVariant provided with component missing overrides definition",{variantName:t,componentType:e.type,componentId:e.id});return e}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(4)),o=n(i(0)),a=n(i(1)),s=n(i(2)),u=n(i(35)),l=n(i(248)),c=n(i(112)),d=function(t,e,i,n){var a=t.find(".marker");if(0!==a.length)if(0!==a.position().top){var s=a.position().top+a.height(),u=i/e.unitsPerEm,l=Math.round(u*e.ascent-s),c=t.attr("data-baseline");if(o.default.isUndefined(c)||o.default.isUndefined(l)||parseInt(c,10)!==l)return t.attr("data-baseline",l),void o.default.defer((function(){d(t,e,i,n)}));n.resolve(l)}else o.default.defer((function(){d(t,e,i,n)}));else r.default.info("could not find img baseline marker!")},h=function(t){return'"'+t.replace('"','\\"')+'"'};e.default={resolveFont:function(t){var e=s.default.fontManifest[t];if(e||(e=s.default.fontManifest[u.default.DEFAULT_FONT_VARIANT_GUID])&&r.default.warn("Could not find font in the font manifest. Using default variant.",{variantGuid:t,defaultVariantGuid:u.default.DEFAULT_FONT_VARIANT_GUID}),e){var i=new l.default({family:e.familyName,guid:e.familyGuid,crossAccount:e.crossAccount,api:e.api});return new c.default(e.variantName,{fontFamily:i,familyName:e.familyName,fontWeight:e.fontWeight,fontStyle:e.fontStyle,guid:e.variantGuid,cssFamilyName:e.cssFamilyName,cssUrl:e.cssFileURL,unitsPerEm:e.unitsPerEm,ascent:e.ascent})}throw new Error("Could not find desired font "+t+" or default font "+u.default.DEFAULT_FONT_VARIANT_GUID+" in the font manifest.")},measureFontBaselineOffset:function(t,e,i){var n=new a.default.Deferred;if(e<=1)return n.resolve(0),n.promise();var r=a.default('<div><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF////AAAAVcLTfgAAAAxJREFUeNpiYAAIMAAAAgABT21Z4QAAAABJRU5ErkJggg==" style="position:relative;vertical-align:baseline;" class="marker"/><span>Mq</span></div>').css({width:"auto",height:"auto",lineHeight:i+"px",position:"absolute",top:0,left:0,fontSize:e+"px",fontFamily:h(t.getCssFamilyName()),fontWeight:t.getFontWeight(),fontStyle:t.getFontStyle(),opacity:0}).attr("data-baseline",null);return a.default("body").append(r),d(r,t,e,n),n.done((function(){r.remove()})),n.promise()},formatFamilyNameForCSS:h}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BasePageURLInteraction=void 0;var a=i(48),s=o(i(9)),u=o(i(2)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){if(!u.default.isEmbedded){var t=s.default.parseLayoutFromLocation(),e=this.pageView.documentVersion.getNearestEnabledPage(Math.max(1,this.getTargetPageNumber()));return s.default.buildUri("page_number",e,t)}},e}(a.BaseURLInteraction);e.BasePageURLInteraction=l},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseLayerVisibilityInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.isValid=function(){return!!this.layerTargets&&t.prototype.isValid.call(this)},e}(i(27).BaseVisibilityInteraction);e.BaseLayerVisibilityInteraction=o},function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PAGE_MODES=void 0;var s=a(i(12)),u=a(i(3)),l=a(i(9)),c=a(i(0)),d=a(i(1)),h=a(i(18)),f=o(i(49));e.PAGE_MODES={NUMBER:"page_number",SLUG:"page_slug"};t=new s.default.Module({id:"url-navigation",description:"",version:"1.0",publishedEvents:{POPSTATE:"url-navigation.popstate"},handledEvents:{},dependencies:{},PAGE_MODES:e.PAGE_MODES,delegate:{buildHistoryState:function(e,i,n,r,o){var a={mode:e,pageNumber:null,pageSlug:null,layoutSlug:n,title:r,hash:o};return e===t.PAGE_MODES.NUMBER?a.pageNumber=i:a.pageSlug=i,a},getCurrentHistoryState:function(){var e=t.getWindowContext();if(e.history&&e.history.state&&e.history.state.mode)return e.history.state;var i=l.default.parsePageFromLocation(),n=c.default.isString(i)?t.PAGE_MODES.SLUG:t.PAGE_MODES.NUMBER,r=l.default.parseLayoutFromLocation(),o=e.document.title,a=e.location.hash;return t.buildHistoryState(n,i,r,o,a)},navigateTo:function(e,i,n,r){var o=t.getWindowContext(),a=f.escapeComponentId(o.location.hash);a=a&&d.default(a).parents(".page-viewport").hasClass("top")?o.location.hash:void 0;var s=l.default.buildUri(e,i,n,a);if(s)if(r||(r=o.document.title),c.default.endsWith(o.location.href,s)&&null!==o.history.state)document.title=r;else{if(u.default.html5()&&o.history&&o.history.pushState){var h=t.buildHistoryState(e,i,n,r,a);o.history.pushState(h,r,s)}document.title=r}},navigateToPageNumber:function(e,i){var n=t.getCurrentHistoryState().layoutSlug;t.navigateTo(t.PAGE_MODES.NUMBER,e,n,i)},navigateToLayout:function(e){var i=t.getCurrentHistoryState(),n=i.mode,r=n===t.PAGE_MODES.NUMBER?i.pageNumber:i.pageSlug,o=i.title;t.navigateTo(n,r,e,o)},navigateToPageSlug:function(e,i){var n=t.getCurrentHistoryState().layoutSlug;t.navigateTo(t.PAGE_MODES.SLUG,e,n,i)},bindPopstate:c.default.once((function(){t.getWindowContext().onpopstate=function(e){e.state&&e.state.mode&&h.default.trigger(t.publishedEvents.POPSTATE,e.state)}})),getWindowContext:function(){return window}}});e.default=t},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(12)),a=n(i(2)),s=n(i(3)),u=n(i(15)),l=n(i(298)),c=n(i(10));t=new o.default.Module({id:"lightbox",description:"",version:"1.0",dependencies:{},lightboxView:null,delegate:{load:function(){return this.lightboxView=new l.default({module:t}),this.registerEvents(),this},showLightbox:function(t,e,i,n){var o=r.default.isUndefined(a.default.themeObj)?{}:a.default.themeObj,s=r.default.extend({},this.getBrowserUrlParams(),this.getDefaultUrlParams());this.lightboxView.openLightbox({url:c.default.appendQueryParams(t,s),width:e,height:i,showCloseButton:n,closeButtonBgColor:o.menuBgColor,closeButtonFgColor:o.menuFgColor})},showProduct:function(t){if(!r.default.isEmpty(t)){var e=this.getUrlForProduct(t);r.default.isEmpty(e)||this.lightboxView.openLightbox({url:e,width:a.default.commerceSettings.panelWidth,height:a.default.commerceSettings.panelHeight})}},getUrlForProduct:function(t){var e=a.default.allowCommerceIntegration?a.default.commerceSettings.productUrl:"";if(r.default.isUndefined(e)||r.default.isEmpty(e)||-1===e.indexOf("{id}"))return"";var i=!1;-1!==e.indexOf("?")&&e.indexOf("?")<e.indexOf("{id}")&&(i=!0);var n,o=null,s=t.lastIndexOf("?");s>0&&(o=c.default.getUrlParams(t.substring(s)),t=t.substring(0,s)),n=i?encodeURIComponent(t):t.replace(/[^\/]+/gi,(function(t,e){return encodeURIComponent(t)})),e=e.replace("{id}",n);var u=r.default.extend({},this.getBrowserUrlParams(),o,this.getDefaultUrlParams());return e=c.default.appendQueryParams(e,u)},showShoppingCart:function(){var t=this.getUrlForShoppingCart();r.default.isEmpty(t)||this.lightboxView.openLightbox({url:t,showCloseButton:!0,width:a.default.commerceSettings.panelWidth,height:a.default.commerceSettings.panelHeight})},getUrlForShoppingCart:function(){var t=a.default.allowCommerceIntegration?a.default.commerceSettings.shoppingCartUrl:"";return r.default.isUndefined(t)||r.default.isEmpty(t)?"":c.default.appendQueryParams(t,this.getDefaultUrlParams())},getDefaultUrlParams:function(){return{ceros_device_pixel_ratio:s.default.pixelRatio(),ceros_account_slug:a.default.accountSlug,ceros_app_slug:a.default.appSlug,ceros_issue_slug:a.default.issue.slug,ceros_device_type:s.default.deviceType(),ceros_player_type:s.default.playerType()}},getBrowserUrlParams:function(){var t=c.default.removeEmbedParams(this.getWindowUrl());return c.default.getUrlParams(t)},show:function(){this.lightboxView.show()},hide:function(){this.lightboxView.hide()},deactivate:function(){this.lightboxView.deactivate()},el:function(){return this.lightboxView.$el},iframe:function(){return this.lightboxView.$("iframe")[0]},getWindowUrl:function(){return window.location.href},registerEvents:function(){u.default.getInstance().on("change",this.lightboxView.setSizeAndPosition,this.lightboxView)}}});e.default=t},function(t,e,i){"use strict";(function(){window.Modernizr=function(t,e,i){var n,r,o={},a=e.documentElement,s="modernizr",u=e.createElement(s),l=u.style,c=" -webkit- -moz- -o- -ms- ".split(" "),d={},h=[],f=h.slice,p=function(t,i,n,r){var o,u,l,c,d=e.createElement("div"),h=e.body,f=h||e.createElement("body");if(parseInt(n,10))for(;n--;)(l=e.createElement("div")).id=r?r[n]:s+(n+1),d.appendChild(l);return o=["&#173;",'<style id="s',s,'">',t,"</style>"].join(""),d.id=s,(h?d:f).innerHTML+=o,f.appendChild(d),h||(f.style.background="",f.style.overflow="hidden",c=a.style.overflow,a.style.overflow="hidden",a.appendChild(f)),u=i(d,t),h?d.parentNode.removeChild(d):(f.parentNode.removeChild(f),a.style.overflow=c),!!u},g={}.hasOwnProperty;function m(t){l.cssText=t}function v(t,e){return typeof t===e}for(var y in r=v(g,"undefined")||v(g.call,"undefined")?function(t,e){return e in t&&v(t.constructor.prototype[e],"undefined")}:function(t,e){return g.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=f.call(arguments,1),n=function(){if(this instanceof n){var r=function(){};r.prototype=e.prototype;var o=new r,a=e.apply(o,i.concat(f.call(arguments)));return Object(a)===a?a:o}return e.apply(t,i.concat(f.call(arguments)))};return n}),d.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},d.touch=function(){var i;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?i=!0:p(["@media (",c.join("touch-enabled),("),s,")","{#modernizr{top:9px;position:absolute}}"].join(""),(function(t){i=9===t.offsetTop})),i},d.video=function(){var t=e.createElement("video"),i=!1;try{(i=!!t.canPlayType)&&((i=new Boolean(i)).ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),i.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),i.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(t){}return i},d)r(d,y)&&(n=y.toLowerCase(),o[n]=d[y](),h.push((o[n]?"":"no-")+n));return o.addTest=function(t,e){if("object"==typeof t)for(var n in t)r(t,n)&&o.addTest(n,t[n]);else{if(t=t.toLowerCase(),o[t]!==i)return o;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(a.className+=" "+(e?"":"no-")+t),o[t]=e}return o},m(""),u=null,function(t,e){var i,n,r=t.html5||{},o=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,a=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,s=0,u={};function l(){var t=f.elements;return"string"==typeof t?t.split(" "):t}function c(t){var e=u[t._html5shiv];return e||(e={},s++,t._html5shiv=s,u[s]=e),e}function d(t,i,r){return i||(i=e),n?i.createElement(t):(r||(r=c(i)),(s=r.cache[t]?r.cache[t].cloneNode():a.test(t)?(r.cache[t]=r.createElem(t)).cloneNode():r.createElem(t)).canHaveChildren&&!o.test(t)?r.frag.appendChild(s):s);var s}function h(t){t||(t=e);var r=c(t);return!f.shivCSS||i||r.hasCSS||(r.hasCSS=!!function(t,e){var i=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",n.insertBefore(i.lastChild,n.firstChild)}(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),n||function(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return f.shivMethods?d(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+l().join().replace(/\w+/g,(function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'}))+");return n}")(f,e.frag)}(t,r),t}!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",i="hidden"in t,n=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){i=!0,n=!0}}();var f={elements:r.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==r.shivCSS,supportsUnknownElements:n,shivMethods:!1!==r.shivMethods,type:"default",shivDocument:h,createElement:d,createDocumentFragment:function(t,i){if(t||(t=e),n)return t.createDocumentFragment();for(var r=(i=i||c(t)).frag.cloneNode(),o=0,a=l(),s=a.length;o<s;o++)r.createElement(a[o]);return r}};t.html5=f,h(e)}(this,e),o._version="2.6.2",o._prefixes=c,o.testStyles=p,o}.call(window,this,this.document),t.exports=window.Modernizr}).call(window)},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(81)),a=function(t,e){return o.default.call(this,e),this.url=t,e&&e.makeCORSCompatible&&this.image.setAttribute("crossOrigin","anonymous"),this.image.onload=r.default.bind((function(){this.resourceReady.resolve(this)}),this),this.image.onerror=r.default.bind((function(){this.resourceReady.reject()}),this),this.image.src=t,this};(a.prototype=Object.create(o.default.prototype)).constructor=a,e.default=a},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=function(t){this.resourceReady=r.default.Deferred(),this.image=new Image,this.data=this.image,t&&t.useCorsAnonymous&&(this.image.crossOrigin="Anonymous")};o.prototype={onload:function(){return this.resourceReady.done.apply(this.resourceReady,arguments),this.resourceReady},onerror:function(){return this.resourceReady.fail.apply(this.resourceReady,arguments),this.resourceReady},ready:function(){return"resolved"===this.resourceReady.state()},getPromise:function(){return this.resourceReady.promise()},getImage:function(){return this.image},getWidth:function(){return this.image.width},getHeight:function(){return this.image.height},remove:function(){delete this.image},getSrc:function(){return this.image.src}},e.default=o},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(140)),s=n(i(29)),u=n(i(40)),l=n(i(83)),c=function(t){this.url=t,this.vectorImageResourceCache=new u.default,this.objectUrlPromiseCache=new u.default,this.xmlString=null,this.resourceReady=r.default.Deferred(),this.loadImageXML(t).done(o.default.bind((function(t){this.xmlString=t,this.resourceReady.resolve(this)}),this)).fail(o.default.bind((function(){this.resourceReady.reject()}),this))};o.default.extend(c.prototype,{vectorImageResourceCache:null,objectUrlPromiseCache:null,getPromise:function(){return this.resourceReady.promise()},getOrCreateImageResource:function(t){var e=this.getCacheKey(t);if(this.imageResourceCacheHas(e))return this.getFromImageResourceCache(e);var i=this.createObjectURL(t),n=new a.default(i);return this.putInImageResourceCache(e,n),n},getImageResource:function(t){var e=this.getCacheKey(t);return this.getFromImageResourceCache(e)},imageResourceCacheHas:function(t){return this.vectorImageResourceCache.has(t)},getFromImageResourceCache:function(t){return this.vectorImageResourceCache.get(t)},putInImageResourceCache:function(t,e){this.vectorImageResourceCache.put(t,e)},objectUrlPromiseCacheHas:function(t){return this.objectUrlPromiseCache.has(t)},getFromObjectUrlPromiseCache:function(t){return this.objectUrlPromiseCache.get(t)},putInObjectUrlPromiseCache:function(t,e){this.objectUrlPromiseCache.put(t,e)},getCacheKey:function(t){return o.default.has(t,"gradient")?"gradient|"+o.default.get(t,"gradient.angle",null)+"|"+o.default.get(t,"gradient.stops[0].color",null)+"|"+o.default.get(t,"gradient.stops[1].color",null)+"|"+o.default.get(t,"backgroundHasBeenSet",null):"solid|"+o.default.get(t,"color",null)+"|"+o.default.get(t,"backgroundHasBeenSet",!1)},createObjectURL:function(t){var e=this.getCacheKey(t);if(this.objectUrlPromiseCacheHas(e))return this.getFromObjectUrlPromiseCache(e);var i=r.default.Deferred();return this.resourceReady.done(o.default.bind((function(){var e=this.createXMLDoc(t);if(e){var n=s.default.createObjectURL(e);i.resolve(n)}else i.reject()}),this)),this.resourceReady.fail(i.reject),this.putInObjectUrlPromiseCache(e,i),i},createBlob:function(t){var e=r.default.Deferred();return this.resourceReady.done(o.default.bind((function(){var i=this.createXMLDoc(t);if(i){var n=s.default.createBlob(i);e.resolve(n)}else e.reject()}),this)),this.resourceReady.fail(e.reject),e},createImageElement:function(t,e){return this.createObjectURL(t).then((function(t){return s.default.createImageElement(t,e)}))},createXMLDoc:function(t,e,i){var n,o=l.default.randomId();this.xmlString=s.default.renameCssClassesAndIds(this.xmlString,o);try{n=r.default.parseXML(this.xmlString)}catch(t){}if(!n||!r.default.isXMLDoc(n))return null;s.default.handleTitle(n,e,i);var a="CerosGradient_"+o,u={angle:0,stops:[{color:"#d1d1d1"},{color:"#d1d1d1"}]};t&&(t.color?s.default.updateSVGColorStyle(n,t.color):t.gradient?(u=t.gradient,s.default.updateSVGColorStyle(n,"url(#"+a+")")):t.backgroundHasBeenSet&&s.default.updateSVGColorStyle(n,"rgba(0,0,0,0)")),s.default.addLinearGradient(n,a,u),s.default.removeIllegalNodes(n);var c=s.default.getImageAspectRatio(n);return c&&c.width>0&&c.height>0&&s.default.setViewportDimensions(n,c.width,c.height),n},preventXss:function(t){var e=/\b(on\w+=[\w|\(|\)|\'|\"| ]+)[ |\>|\/]/i,i=t.match(e);if(i){for(;i;)i=(t=t.replace(i[1]," ")).match(e);t=t.replace(/\s\s+/g," ").replace(" >",">")}return t},loadImageXML:function(t){var e=r.default.Deferred();if(s.default.isDataURL(t))if(s.default.isVectorDataURL(t)){var i=s.default.convertToXMLString(t);e.resolve(i)}else e.reject();else{var n=this;r.default.ajax({type:"GET",url:t,dataType:"text",cache:!0,success:function(t){t=n.preventXss(t),e.resolve(t)},error:function(){e.reject()}})}return e},getVectorImageResourceCache:function(){return this.vectorImageResourceCache},getObjectUrlPromiseCache:function(){return this.objectUrlPromiseCache}}),e.default=c},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),a={textareaFitContent:function(t,e){e=e||{};var i=function(){t.height(0);var i=t.prop("scrollHeight")+2;e.min&&(i=Math.max(e.min,i)),e.max&&(i=Math.min(e.max,i)),t.height(i).toggle().toggle()};(t=o.default(t)).on("input",i),r.default.defer(i)},selectAllOrDragTextInInput:function(t){var e=function(){this.select()};o.default(t.target).one("mouseup",e),setTimeout((function(){o.default(t.target).off("mouseup",e)}),500)},randomId:function(){return"id"+Math.random().toString(16).substr(2,9)}};e.default=a},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),a=n(i(5)),s=n(i(15)),u=n(i(38)),l="ceros-embedded-viewport:",c={PING:"ping",READY:"ready",POSITION:"position",SCROLL_TO:"scroll-to",UPDATE_POSITION:"update-position",GOTO_URL:"goto-url",VARIANT_DETECTION:"variant-detection",GLOBAL_FUNCTION_INVOKE:"global-function"},d=r.default.extend({EVENTS:c},a.default.Events),h=function(t){var e=null;try{e=JSON.parse(t.originalEvent.data)}catch(t){}if(e&&e.event&&e.event.substr(0,l.length)===l)switch(e.event.substr(l.length)){case c.PING:g();break;case c.POSITION:!function(t){t.screenWidth&&t.screenHeight&&u.default.setDimensions(t.screenWidth,t.screenHeight),s.default.getInstance().setPositionData(t),d.trigger(c.UPDATE_POSITION,t)}(e)}},f=function(t,e){var i=JSON.stringify(r.default.extend({event:l+t},e));window.parent.postMessage(i,"*")},p=null,g=function(){f(c.READY,{issueSlug:p})};d=r.default.extend(d,{init:function(t){p=t,g(),o.default(window).on("message",h)},announceScrollTo:function(t){f(c.SCROLL_TO,t)},announceGotoUrl:function(t,e){f(c.GOTO_URL,{url:t,urlOpenInNewWindow:e})},invokeGlobalFunctions:function(t){f(c.GLOBAL_FUNCTION_INVOKE,{globalFunctions:t})},announceVariantDetection:function(t){!function(t){f(c.VARIANT_DETECTION,{variant:t})}(t)}}),e.default=d},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(4)),o=n(i(0)),a=n(i(1)),s=n(i(3)),u=n(i(2)),l=n(i(5)),c=n(i(21)),d=n(i(146)),h=n(i(148)),f=n(i(149)),p=n(i(44)),g=n(i(59)),m=n(i(58)),v=n(i(61)),y=n(i(46)),_=n(i(78)),b=n(i(60)),T=null,w=o.default.extend({},l.default.Events,{publishedEvents:{PLAYER_DOCUMENT_SHOWN:"player.document.shown"},setupInitialDom:function(){var t=a.default("html");s.default.mobile()?t.addClass("mobile"):t.addClass("desktop"),s.default.msie?t.addClass("msie"+s.default.msieVersion()):t.addClass("non-msie"),t.addClass(s.default.renderingEngine()),t.addClass(s.default.orientation()),s.default.retina()&&t.addClass("retina"),a.default(window).on(s.default.supportsOrientationChange()?"orientationchange":"resize",o.default.debounce(o.default.bind((function(){t.removeClass("portrait landscape"),t.addClass(s.default.orientation())}),this),100)),this.appendAccessibilityStyleOverrides();var e=a.default("body"),i=a.default("#main");g.default.shouldShow()&&i.append('<div id="chrome"></div>'),i.append('<div id="viewport"></div>'),i.append('<div id="flippers"></div>'),e.append('<div id="lightbox"></div>')},appendAccessibilityStyleOverrides:function(){u.default.shouldReduceMotion&&a.default("#main").addClass("ceros-no-animate")},attachModuleViews:function(t){a.default("#viewport").replaceWith(y.default.el()),a.default("#flippers").replaceWith(v.default.el()),a.default("#lightbox").replaceWith(_.default.el()),a.default("#main").append(m.default.el()),u.default.isEmbedded||(a.default("#chrome").replaceWith(g.default.el()),g.default.setTitle(t.get("title")))},setupAdaptiveLayoutsPreviewerSelectionView:function(){this.isUsingNativeTouchDevice()||this.initPreviewerSelectionView()},setupAdaptiveLayoutsPreviewerFrameView:function(){this.previewerFrame=this.initPreviewerFrameView()},setupAdaptiveLayoutsPreviewerTouchDeviceView:function(){this.isUsingNativeTouchDevice()&&!c.default.fullScreenMode&&c.default.setFullScreenMode(!0)},isUsingNativeTouchDevice:function(){return s.default.deviceType()!==s.default.DEVICE_TYPE_DESKTOP},showPreviewerFadingMessage:function(){var t=this.isUsingNativeTouchDevice();u.default.previewMode&&u.default.allowAdaptiveLayouts&&!t&&this.previewerFrame.showFadingHelpMessage()},showInfo:function(t){var e=a.default("#information-bar-container");0==e.length&&(a.default("body").append('<div id="information-bar-container"></div>'),e=a.default("#information-bar-container"));new f.default({el:e}).showMessage(t)},initPreviewerSelectionView:function(){return new d.default({el:".previewer-selection-header"})},initPreviewerFrameView:function(){return new h.default({el:".adaptive-layouts-frame"})},showDocument:function(){g.default.shouldShow()&&(g.default.show(),g.default.initiallyHidden()&&g.default.hide()),m.default.shouldShow()&&m.default.show(),a.default("#main").addClass("document"),y.default.show(),v.default.show(),this.hideLoadingExperience(),this.trigger(this.publishedEvents.PLAYER_DOCUMENT_SHOWN)},showLoadingExperience:function(){T=p.default.showLoading(a.default("#main"),{whiteLabeling:u.default.whiteLabeling,showPreviewLabel:u.default.previewMode,overlayed:!1})},hideLoadingExperience:function(){T?T.destroy():r.default.warn("Showing document but never showed the loading experience")},show404:function(){this.showError({title:"Sorry, page not found",message:"Please check the url and<br/>try again"})},show503:function(){this.showError({title:"Previewer for this experience is currently unavailable due to an excessive number of requests",message:"Please try again later",imageCssClass:"error503"})},showError:function(t){this.hideLoadingExperience(),b.default.load(t),a.default("html").css({height:"100%"}),a.default("body").empty().css({display:"block",height:"100%"}).append(b.default.el())}});e.default=w},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(57)),a={isMetaKeyPressed:function(t){return r.default.isMac()?t.metaKey:t.ctrlKey},isAltKeyPressed:function(t){return t.altKey||t.which===o.default.ALT&&"keydown"===t.type},isCtrlKeyPressed:function(t){return t.ctrlKey},isCtrlOnWindowsOrAltOnMacsPressed:function(t){return r.default.isWindows()?t.ctrlKey:this.isAltKeyPressed(t)},isSemicolonKeyPressed:function(t){var e=r.default.mozilla?o.default.SEMICOLON_FIREFOX:o.default.SEMICOLON;return t.which===e},isMacCtrlKeyPressed:function(t){return!!r.default.isMac()&&t.ctrlKey},isDeleteKeyPressed:function(t){return t.which===o.default.DELETE},isBackspaceKeyPressed:function(t){return t.which===o.default.BACKSPACE},isEscKeyPressed:function(t){return t.which===o.default.ESC},isEnterKeyPressed:function(t){return t.which===o.default.ENTER},isArrowKey:function(t){return t==o.default.RIGHT_ARROW||t==o.default.LEFT_ARROW||t==o.default.UP_ARROW||t==o.default.DOWN_ARROW},isShiftKeyPressed:function(t){return t.shiftKey||t.which===o.default.SHIFT},isAKeyPressed:function(t){return t.which===o.default.A},isEKeyPressed:function(t){return t.which===o.default.E},isGKeyPressed:function(t){return t.which===o.default.G},isRKeyPressed:function(t){return t.which===o.default.R},isOptionRPressed:function(t){return a.isAltKeyPressed(t)&&a.isRKeyPressed(t)},isCommandZPressed:function(t){return a.isMetaKeyPressed(t)&&t.which===o.default.Z},isUndoCombinationPressed:function(t){return a.isCommandZPressed(t)&&!t.shiftKey},isCommandYPressed:function(t){return a.isMetaKeyPressed(t)&&t.which===o.default.Y},isCommandShiftQuotePressed:function(t){return a.isMetaKeyPressed(t)&&a.isShiftKeyPressed(t)&&t.which===o.default.SINGLE_QUOTE},isAltLPressed:function(t){return a.isAltKeyPressed(t)&&t.which===o.default.L},isCommandShiftZPressed:function(t){return a.isCommandZPressed(t)&&t.shiftKey},isRedoCombinationPressed:function(t){return a.isCommandYPressed(t)||a.isCommandShiftZPressed(t)},isHKeyPressed:function(t){return t.which===o.default.H},isPKeyPressed:function(t){return t.which===o.default.P},isInputNavigation:function(t){return-1!==[o.default.DELETE,o.default.BACKSPACE,o.default.TAB,o.default.ESCAPE,o.default.ENTER,o.default.SHIFT,o.default.CTRL,o.default.LEFT_CMD].indexOf(t.which)||-1!==[o.default.A,o.default.C,o.default.R,o.default.X,o.default.Z].indexOf(t.which)&&this.isMetaKeyPressed(t)||-1!==[o.default.HOME,o.default.END,o.default.LEFT_ARROW,o.default.RIGHT_ARROW].indexOf(t.which)},isZoomCommand:function(t){return this.isMetaKeyPressed(t)&&(t.which===o.default.EQUALS_WEBKIT||t.which===o.default.EQUALS_FF||t.which===o.default.MINUS_WEBKIT||t.which===o.default.MINUS_FF||t.which===o.default.ONE||t.which===o.default.ZERO)},isInteger:function(t){return t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105},isLetter:function(t){return t.keyCode>=65&&t.keyCode<=90},isSpace:function(t){return t.which===o.default.SPACE},isCharOrNumber:function(t){return a.isInteger(t)||a.isLetter(t)||a.isSpace(t)}};e.default=a},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a=n(i(0)),s=n(i(12)),u=n(i(152));t=new s.default.Module({id:"analytics",description:"Provides an interface for tracking statistics on the analytics service.",version:"1.0",delegate:(r={},o=a.default.functionsIn(u.default),a.default.each(o,(function(t){"_"!=t.substr(0,1)&&(r[t]=a.default.bind(u.default[t],u.default))})),r)});e.default=t},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(37)),o=i(159),a=i(160);e.default={setExperienceTrackingCookie:function(t,e,i){this.setCookie(o.CookieName.CEROS_EXPERIENCE_TRACKING,t,e,i,!1)},setDomainTrackingCookie:function(t,e,i){this.setCookie(o.CookieName.CEROS_DOMAIN_TRACKING,t,e,i,!1)},setCerosUserCookie:function(t,e,i){this.setCookie(o.CookieName.CEROS_USER,t,e,i,!0)},getExperienceTrackingCookieData:function(){return this.getCookieData(o.CookieName.CEROS_EXPERIENCE_TRACKING)},getDomainTrackingCookieData:function(){return this.getCookieData(o.CookieName.CEROS_DOMAIN_TRACKING)},getCerosUserCookie:function(){return this.getCookieData(o.CookieName.CEROS_USER)},deleteExperienceTrackingCookie:function(t,e){this.deleteCookie(o.CookieName.CEROS_EXPERIENCE_TRACKING,t,e)},deleteDomainTrackingCookie:function(t,e){this.deleteCookie(o.CookieName.CEROS_DOMAIN_TRACKING,t,e)},deleteCerosUserCookie:function(t,e){this.deleteCookie(o.CookieName.CEROS_USER,t,e)},getCookieData:function(t){var e=r.default.get(t);if(e){var i=decodeURIComponent(e);try{return JSON.parse(i)}catch(e){this.parseError(t,e)}}return{}},setCookie:function(t,e,i,n,o){e=encodeURIComponent(JSON.stringify(e)),o=!!a.DataUtils.isNullOrUndefined(o)||o,r.default.set(t,e,{expires:365,path:i||"/",domain:n||"",samesite:"lax",secure:o})},deleteCookie:function(t,e,i){r.default.remove(t,{path:e||"/",domain:i||""})},parseError:function(t,e){var i=(new Date).getTime();i-(this.lastParseError||0)>36e5&&(window.Rollbar.error("Unable to parse "+t+" cookie data, the content was malformed. Exception was: "+e),this.lastParseError=i)}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=function(){function t(t){this.options=t||{},this.enabled=!!t.enabled}return t.prototype.isEnabled=function(){return this.enabled},t.prototype.sendEvent=function(t,e){return r.default.Deferred().resolve()},t.prototype.updateScale=function(t){},t}();e.default=o},function(t,e,i){"use strict";var n;
/*! Hammer.JS - v2.0.8 - 2016-04-23
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(r,o,a,s){var u,l=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),d=Math.round,h=Math.abs,f=Date.now;function p(t,e,i){return setTimeout(T(t,i),e)}function g(t,e,i){return!!Array.isArray(t)&&(m(t,i[e],i),!0)}function m(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function v(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=r.console&&(r.console.warn||r.console.log);return o&&o.call(r.console,n,i),t.apply(this,arguments)}}u="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}:Object.assign;var y=v((function(t,e,i){for(var n=Object.keys(e),r=0;r<n.length;)(!i||i&&void 0===t[n[r]])&&(t[n[r]]=e[n[r]]),r++;return t}),"extend","Use `assign`."),_=v((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function b(t,e,i){var n,r=e.prototype;(n=t.prototype=Object.create(r)).constructor=t,n._super=r,i&&u(n,i)}function T(t,e){return function(){return t.apply(e,arguments)}}function w(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function S(t,e){return void 0===t?e:t}function E(t,e,i){m(I(e),(function(e){t.addEventListener(e,i,!1)}))}function A(t,e,i){m(I(e),(function(e){t.removeEventListener(e,i,!1)}))}function C(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function P(t,e){return t.indexOf(e)>-1}function I(t){return t.trim().split(/\s+/g)}function O(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function x(t){return Array.prototype.slice.call(t,0)}function k(t,e,i){for(var n=[],r=[],o=0;o<t.length;){var a=e?t[o][e]:t[o];O(r,a)<0&&n.push(t[o]),r[o]=a,o++}return i&&(n=e?n.sort((function(t,i){return t[e]>i[e]})):n.sort()),n}function R(t,e){for(var i,n,r=e[0].toUpperCase()+e.slice(1),o=0;o<l.length;){if((n=(i=l[o])?i+r:e)in t)return n;o++}}var M=1;function L(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var D="ontouchstart"in r,N=void 0!==R(r,"PointerEvent"),F=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),U=["x","y"],V=["clientX","clientY"];function B(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){w(t.options.enable,[t])&&i.handler(e)},this.init()}function j(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,o=1&e&&n-r==0,a=12&e&&n-r==0;i.isFirst=!!o,i.isFinal=!!a,o&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=H(e));r>1&&!i.firstMultiple?i.firstMultiple=H(e):1===r&&(i.firstMultiple=!1);var o=i.firstInput,a=i.firstMultiple,s=a?a.center:o.center,u=e.center=G(n);e.timeStamp=f(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=q(s,u),e.distance=$(s,u),function(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(r=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y});e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}(i,e),e.offsetDirection=z(e.deltaX,e.deltaY);var l=W(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=h(l.x)>h(l.y)?l.x:l.y,e.scale=a?(c=a.pointers,d=n,$(d[0],d[1],V)/$(c[0],c[1],V)):1,e.rotation=a?function(t,e){return q(e[1],e[0],V)+q(t[1],t[0],V)}(a.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,r,o,a=t.lastInterval||e,s=e.timeStamp-a.timeStamp;if(8!=e.eventType&&(s>25||void 0===a.velocity)){var u=e.deltaX-a.deltaX,l=e.deltaY-a.deltaY,c=W(s,u,l);n=c.x,r=c.y,i=h(c.x)>h(c.y)?c.x:c.y,o=z(u,l),t.lastInterval=e}else i=a.velocity,n=a.velocityX,r=a.velocityY,o=a.direction;e.velocity=i,e.velocityX=n,e.velocityY=r,e.direction=o}(i,e);var c,d;var p=t.element;C(e.srcEvent.target,p)&&(p=e.srcEvent.target);e.target=p}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function H(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:d(t.pointers[i].clientX),clientY:d(t.pointers[i].clientY)},i++;return{timeStamp:f(),pointers:e,center:G(e),deltaX:t.deltaX,deltaY:t.deltaY}}function G(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var i=0,n=0,r=0;r<e;)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:d(i/e),y:d(n/e)}}function W(t,e,i){return{x:e/t||0,y:i/t||0}}function z(t,e){return t===e?1:h(t)>=h(e)?t<0?2:4:e<0?8:16}function $(t,e,i){i||(i=U);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function q(t,e,i){i||(i=U);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(L(this.element),this.evWin,this.domHandler)}};var Y={mousedown:1,mousemove:2,mouseup:4};function K(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,B.apply(this,arguments)}b(K,B,{handler:function(t){var e=Y[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var X={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Z={2:"touch",3:"pen",4:"mouse",5:"kinect"},Q="pointerdown",J="pointermove pointerup pointercancel";function tt(){this.evEl=Q,this.evWin=J,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(Q="MSPointerDown",J="MSPointerMove MSPointerUp MSPointerCancel"),b(tt,B,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=X[n],o=Z[t.pointerType]||t.pointerType,a="touch"==o,s=O(e,t.pointerId,"pointerId");1&r&&(0===t.button||a)?s<0&&(e.push(t),s=e.length-1):12&r&&(i=!0),s<0||(e[s]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(s,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function it(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,B.apply(this,arguments)}function nt(t,e){var i=x(t.touches),n=x(t.changedTouches);return 12&e&&(i=k(i.concat(n),"identifier",!0)),[i,n]}b(it,B,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var i=nt.call(this,t,e);12&e&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var rt={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ot(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},B.apply(this,arguments)}function at(t,e){var i=x(t.touches),n=this.targetIds;if(3&e&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,o,a=x(t.changedTouches),s=[],u=this.target;if(o=i.filter((function(t){return C(t.target,u)})),1===e)for(r=0;r<o.length;)n[o[r].identifier]=!0,r++;for(r=0;r<a.length;)n[a[r].identifier]&&s.push(a[r]),12&e&&delete n[a[r].identifier],r++;return s.length?[k(o.concat(s),"identifier",!0),s]:void 0}b(ot,B,{handler:function(t){var e=rt[t.type],i=at.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});function st(){B.apply(this,arguments);var t=T(this.handler,this);this.touch=new ot(this.manager,t),this.mouse=new K(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ut(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,lt.call(this,e)):12&t&&lt.call(this,e)}function lt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout((function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)}),2500)}}function ct(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],o=Math.abs(e-r.x),a=Math.abs(i-r.y);if(o<=25&&a<=25)return!0}return!1}b(st,B,{handler:function(t,e,i){var n="touch"==i.pointerType,r="mouse"==i.pointerType;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)ut.call(this,e,i);else if(r&&ct.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var dt=R(c.style,"touchAction"),ht=void 0!==dt,ft=function(){if(!ht)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){t[i]=!e||r.CSS.supports("touch-action",i)})),t}();function pt(t,e){this.manager=t,this.set(e)}pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ht&&this.manager.element.style&&ft[t]&&(this.manager.element.style[dt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return m(this.manager.recognizers,(function(e){w(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(P(t,"none"))return"none";var e=P(t,"pan-x"),i=P(t,"pan-y");if(e&&i)return"none";if(e||i)return e?"pan-x":"pan-y";if(P(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,r=P(n,"none")&&!ft.none,o=P(n,"pan-y")&&!ft["pan-y"],a=P(n,"pan-x")&&!ft["pan-x"];if(r){var s=1===t.pointers.length,u=t.distance<2,l=t.deltaTime<250;if(s&&u&&l)return}if(!a||!o)return r||o&&6&i||a&&24&i?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function gt(t){this.options=u({},this.defaults,t||{}),this.id=M++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function mt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function vt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function yt(t,e){var i=e.manager;return i?i.get(t):t}function _t(){gt.apply(this,arguments)}function bt(){_t.apply(this,arguments),this.pX=null,this.pY=null}function Tt(){_t.apply(this,arguments)}function wt(){gt.apply(this,arguments),this._timer=null,this._input=null}function St(){_t.apply(this,arguments)}function Et(){_t.apply(this,arguments)}function At(){gt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ct(t,e){return(e=e||{}).recognizers=S(e.recognizers,Ct.defaults.preset),new Pt(t,e)}gt.prototype={defaults:{},set:function(t){return u(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)||(t=yt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===O(e,t=yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=yt(t,this);var e=O(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<8&&n(e.options.event+mt(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=8&&n(e.options.event+mt(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=u({},t);if(!w(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},b(_t,gt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=6&e,r=this.attrTest(t);return n&&(8&i||!r)?16|e:n||r?4&i?8|e:2&e?4|e:2:32}}),b(bt,_t,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,o=t.deltaX,a=t.deltaY;return r&e.direction||(6&e.direction?(r=0===o?1:o<0?2:4,i=o!=this.pX,n=Math.abs(t.deltaX)):(r=0===a?1:a<0?8:16,i=a!=this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},attrTest:function(t){return _t.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=vt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),b(Tt,_t,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),b(wt,gt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!n||!i||12&t.eventType&&!r)this.reset();else if(1&t.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),b(St,_t,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),b(Et,_t,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return bt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return 30&i?e=t.overallVelocity:6&i?e=t.overallVelocityX:24&i&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&h(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=vt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),b(At,gt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(n&&r&&i){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||$(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ct.VERSION="2.0.8",Ct.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[St,{enable:!1}],[Tt,{enable:!1},["rotate"]],[Et,{direction:6}],[bt,{direction:6},["swipe"]],[At],[At,{event:"doubletap",taps:2},["tap"]],[wt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Pt(t,e){var i;this.options=u({},Ct.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(N?tt:F?ot:D?st:K))(i,j),this.touchAction=new pt(this,this.options.touchAction),It(this,!0),m(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function It(t,e){var i,n=t.element;n.style&&(m(t.options.cssProps,(function(r,o){i=R(n.style,o),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}Pt.prototype={set:function(t){return u(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,r=e.curRecognizer;(!r||r&&8&r.state)&&(r=e.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],2===e.stopped||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&14&i.state&&(r=e.curRecognizer=i),o++}},get:function(t){if(t instanceof gt)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=O(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var i=this.handlers;return m(I(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var i=this.handlers;return m(I(t),(function(t){e?i[t]&&i[t].splice(O(i[t],e),1):delete i[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var i=o.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&It(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},u(Ct,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Pt,Input:B,TouchAction:pt,TouchInput:ot,MouseInput:K,PointerEventInput:tt,TouchMouseInput:st,SingleTouchInput:it,Recognizer:gt,AttrRecognizer:_t,Tap:At,Pan:bt,Swipe:Et,Pinch:Tt,Rotate:St,Press:wt,on:E,off:A,each:m,merge:_,extend:y,assign:u,inherit:b,bindFn:T,prefixed:R}),(void 0!==r?r:"undefined"!=typeof self?self:{}).Hammer=Ct,void 0===(n=function(){return Ct}.call(e,i,e,t))||(t.exports=n)}(window,document)},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o={mergeDelegates:function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];if(r.default.isObject(i))for(var n in i)r.default.isFunction(i[n])?t[n]=r.default.bind(i[n],t):t[n]=i[n]}}};e.default=o},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=null;e.default={getScrollbarWidth:function(){if(!r.default.isNull(o))return o;var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",t.appendChild(i);var n=i.offsetWidth;return t.parentNode.removeChild(t),o=e-n}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=function(t,e){this.lookBehind=1,this.lookAhead=1,this.isCircular=e,this.pageIndexes=t.sort((function(t,e){return t-e}))};o.prototype={getPageIndexesToLoad:function(t){var e,i=null,n=!1;r.default.each(this.pageIndexes,r.default.bind((function(e,r){return e===t?(i=r,n=!0,!1):e>t?(i=r,!1):void 0}),this)),n?e=this.pageIndexes:(e=this.pageIndexes.slice(),null===i&&(i=e.length),e.splice(i,0,t));var o,a=[],s=i;for(o=0;o<this.lookBehind;o++){if(-1===--s){if(!this.isCircular)break;s=e.length-1}a.push(e[s])}var u=[];for(s=i,o=0;o<this.lookAhead;o++){if(++s===e.length){if(!this.isCircular)break;s=0}u.push(e[s])}return this.combinePageIndexArrays(e[i],a,u)},combinePageIndexArrays:function(t,e,i){for(var n=[t],o=0;o<i.length||o<e.length;)o<i.length&&n.push(i[o]),o<e.length&&n.push(e[o]),o++;return r.default.uniq(n)}},e.default=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__rest||function(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]])}return i},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToObjectInteraction=void 0;var u=i(95),l=s(i(0)),c=s(i(13)),d=s(i(14)),h=function(t){function e(e,i){var n=e.layerTargets,r=a(e,["layerTargets"]),s=l.default.get(n,0);return t.call(this,o(o({},r),{scrollTargetType:"component",scrollTargetScranchor:s}),i)||this}return r(e,t),e.prototype.isValid=function(){if(!c.default.hasFeature(d.default.ACCESSIBILITY)||!this.scrollTargetScranchor)return!1;var t=this.pageView.model.findLayerById(this.scrollTargetScranchor);return Boolean(t&&!t.fixedPosition)},e.prototype.customAttributes=function(){if(this.isValid()){var t=this.pageView.model.findLayerById(this.scrollTargetScranchor);if("folder"===t.type){var e=this.pageView.model.constructor.findTopmostFolderContent(t);if(e)return{"aria-flowto":e.id}}}return{}},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.layerTargets=e.scrollTargetScranchor?[e.scrollTargetScranchor]:[],delete e.scrollTargetScranchor,delete e.scrollTargetType,e},e}(u.ScrollToInteraction);e.ScrollToObjectInteraction=h},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollToInteraction=void 0;var a=o(i(0)),s=i(48),u=i(31),l=o(i(2)),c=o(i(13)),d=o(i(14)),h=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.scrollTargetType=e.scrollTargetType||"",n.scrollTargetScranchor=e.scrollTargetScranchor,n}return r(e,t),e.prototype.constructUrl=function(){var t=c.default.hasFeature(d.default.ACCESSIBILITY);if(!l.default.isEmbedded)return t&&"top"===this.scrollTargetType?"#"+u.VIEWPORT_TOP_ID:"top"===this.scrollTargetType||"bottom"===this.scrollTargetType?"#page-"+(this.pageView.model.pageIndex+1)+"-"+this.scrollTargetType:"#"+(this.scrollTargetScranchor||"")},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_SCROLL_TO},e.prototype.isValid=function(){switch(this.scrollTargetType){case"top":case"bottom":return!0;case"scranchor":return!!this.scrollTargetScranchor&&!a.default.isEmpty(this.scrollTargetScranchor);default:return!1}},e}(s.BaseURLInteraction);e.ScrollToInteraction=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorUtils=void 0;var n=function(){function t(){}return t.intToHex=function(t){return("0"+t.toString(16)).slice(-2)},t.fixRange=function(t){return Math.min(Math.max(Math.ceil(t),0),255)},t.isRgb=function(t){return!!t.match(/^rgb/)},t.rgb=function(t){var e=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)||[],i=e[1],n=e[2],r=e[3];return{r:Number(i),g:Number(n),b:Number(r)}},t.hexToRgb=function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t)||[],i=e[1],n=e[2],r=e[3];return{r:parseInt(i,16),g:parseInt(n,16),b:parseInt(r,16)}},t.lightenDarkenColor=function(t,e){var i=this.colorToRGB(t),n=i.r,r=i.g,o=i.b;return"#"+this.intToHex(this.fixRange(n+e))+this.intToHex(this.fixRange(r+e))+this.intToHex(this.fixRange(o+e))},t.hsp=function(t){var e=this.isRgb(t)?this.rgb(t):this.hexToRgb(t),i=e.r,n=e.g,r=e.b;return Math.sqrt(i*i*.299+n*n*.587+r*r*.114)},t.colorToRGB=function(t){return this.isRgb(t)?this.rgb(t):this.hexToRgb(t)},t.isDark=function(t){return this.hsp(t)<=127.5},t.isLight=function(t){return this.hsp(t)>127.5},t.lighten=function(t,e){return this.lightenDarkenColor(t,e/100*255)},t.darken=function(t,e){return this.lightenDarkenColor(t,e/100*255*-1)},t}();e.ColorUtils=n},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(11));e.default=r.default.extend({initiallyVisible:!0,mediaHasBeenLoaded:!0,childViews:null,keepVisibleForScreenReaders:!1,wasShownByFocusInteraction:!1,exitAnimations:[],cancelHide:!1,initialize:function(){r.default.prototype.initialize.call(this),this.parentViews=[],this.visible=this.options.visible,this.initiallyVisible=this.options.visible,this.mediaHasBeenLoaded=this.options.visible},close:function(){},preloadMedia:function(){},preloadMediaNow:function(){},attachMedia:function(){},scaleComponent:function(){},doCustomScaling:function(){},getRatioForCustomScaling:function(){return 1},onAttach:function(){},pauseAnimations:function(){},resumeAnimations:function(){},reset:function(){},getExtents:function(){},getId:function(){return this.id},isInitiallyVisible:function(){return this.initiallyVisible},runAllChildViewExitAnimaions:function(){},areAllParentsVisible:function(){},childrenUseBlendingModes:function(){return!1},hasActiveBlendingMode:function(){return!1},isMaskImage:function(){return!1}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(4)),o=n(i(1)),a=n(i(0)),s=n(i(5)),u=n(i(192)),l=n(i(91)),c=n(i(193)),d=i(66),h=n(i(194)),f="undefined"!=typeof WebKitAnimationEvent?"webkitAnimationEnd":"undefined"!=typeof AnimationEvent?"animationend":null,p="undefined"!=typeof WebKitAnimationEvent?"webkitAnimationStart":"undefined"!=typeof AnimationEvent?"animationstart":null,g=function(t){var e=o.default.extend({$el:null,name:"unknown"},t||{});this.$el=e.$el,this.name=e.name,this.compiled=!1,this.tweens=[],this.eventState={},this.runClass=null,this.pauseClass=null,this.initialState={},this.finalState={},this.loop=!1,this.useSrOnlyClassInsteadDisplayChange=!1,this.requiresHardwareAcceleration=e.requiresHardwareAcceleration};g.EASING={EASE:"ease",EASE_IN:"ease-in",EASE_OUT:"ease-out",EASE_IN_OUT:"ease-in-out",LINEAR:"linear"},g.RUNNING_STATE="running",g.COMPLETE_STATE="complete",g.START_EVENT="start",g.PAUSE_EVENT="pause",g.RESUME_EVENT="resume",g.END_EVENT="end",l.default.mergeDelegates(g,c.default),a.default.extend(g.prototype,s.default.Events,{add:function(t){return this.compiled?(r.default.warn("Animation already compiled!"),this):(this.tweens.push(t),this)},compile:function(){if(this.compiled)return this;if(a.default.isEmpty(this.tweens))return this;var t=u.default.generate(this.tweens);return this.runClass=t.runClass,this.pauseClass=t.pauseClass,this._buildRestingStates(),this.compiled=!0,this},precompile:function(t){if(a.default.isUndefined(t)||(this.$el=t),!a.default.isNull(this.$el)){var e={};a.default.each(["opacity","left","top","transform"],a.default.bind((function(t){e[t]=this.$el.css(t)}),this)),e["transform-origin"]=this.$el.get(0).style.transformOrigin,this.initialState=e}},_buildRestingStates:function(){a.default.each(this.tweens,a.default.bind((function(t){this.initialState[t.property]=t.frames["0%"],this.finalState[t.property]=t.frames["100%"]}),this)),a.default.has(this.finalState,"transform")&&this.requiresHardwareAcceleration&&(this.finalState.transform=d.WebkitUtils.hardwareAccelerateTransform(this.finalState.transform))},resetToInitialState:function(){a.default.isNull(this.$el)||this.$el.css(this.initialState)},setToFinalState:function(){a.default.isNull(this.$el)||this.$el.css(this.finalState)},isRunning:function(){return!a.default.isNull(this.$el)&&this.$el.hasClass(this.runClass)},isPaused:function(){return!a.default.isNull(this.$el)&&this.$el.hasClass(this.pauseClass)},play:function(t){if(this.compile(),a.default.isUndefined(t)||(this.$el=t),!a.default.isNull(this.$el))return u.default.flush(),this.eventState={},this.$el.bind(f,a.default.bind((function(t){t.originalEvent.target===this.$el[0]&&(this.eventState[t.originalEvent.animationName]=!1),a.default.every(a.default.values(this.eventState),(function(t){return!t}))&&this.finish()}),this)),this.$el.bind(p,a.default.bind((function(t){t.originalEvent.target===this.$el[0]&&(this.eventState[t.originalEvent.animationName]=!0)}),this)),this.$el[0].offsetWidth,"none"===this.$el.css("display")&&this.$el.show(),this.$el.addClass(this.runClass),this.trigger(g.START_EVENT),this},pause:function(){this.compiled&&!a.default.isNull(this.$el)&&this.isRunning()&&!this.isPaused()&&(this.$el.addClass(this.pauseClass),this.trigger(g.PAUSE_EVENT))},resume:function(){this.compiled&&!a.default.isNull(this.$el)&&this.isPaused()&&(this.$el.removeClass(this.pauseClass),this.trigger(g.RESUME_EVENT))},finish:function(){this.$el.css(this.finalState),"0"===this.$el.css("opacity")&&(this.useSrOnlyClassInsteadDisplayChange?this.$el.addClass("sr-only"):this.$el.hide()),this.cleanup(),this.trigger(g.END_EVENT)},cleanup:function(){this.compiled&&!a.default.isNull(this.$el)&&this.$el.off(f).off(p).removeClass(this.runClass).removeClass(this.pauseClass)},isInProgress:function(){return this.$el.hasClass(this.runClass)},isEntryAnimation:function(){return h.default.isEntryAnimation(this.name)},setLoop:function(t){this.loop=t},isLooping:function(){return this.loop},keepVisibleForScreenReaders:function(){this.useSrOnlyClassInsteadDisplayChange=!0},restoreHideBehavior:function(){this.useSrOnlyClassInsteadDisplayChange=!1}}),e.default=g},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleBoundaries=void 0;var n=function(){function t(t,e,i,n){this.hasXBoundaries=!1,this.topY=t,this.bottomY=e,null!=i&&null!=n&&(this.hasXBoundaries=!0,this.leftX=i,this.rightX=n)}return t.prototype.getEntryAnimationVisibleBoundaries=function(e,i){var n=this.topY,r=this.bottomY,o=this.leftX,a=this.rightX;return n>0&&(n+=50),r<e&&(r-=50),this.hasXBoundaries&&(o>0&&(o+=50),a<i&&(a-=50)),new t(n,r,o,a)},t}();e.VisibleBoundaries=n},function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FocusArbiter=void 0;var s=a(i(1)),u=a(i(39)),l=o(i(49)),c=i(31),d=function(){function t(t){this.pageView=t}return t.prototype.searchFoldersForTarget=function(t){var e=this.pageView.model.findLayerById(t);if(e&&"folder"===e.type){var i=this.pageView.model.constructor.findTopmostFolderContent(e);if(i)return this.pageView.$pageContainer.find("#"+l.escapeComponentId(i.id))}return s.default()},t.prepareTargetOutlineForFocus=function(e){return("keyboard"!==u.default.ask()||!e.is("button, a")&&isNaN(Number(e.attr("tabindex"))))&&(e.addClass(t.HIDDEN_OUTLINE_CLASS_NAME),e.off("blur.outline").on("blur.outline",(function(){e.off("blur.outline"),e.removeClass(t.HIDDEN_OUTLINE_CLASS_NAME)}))),e},t.prototype.prepareTargetOpacityForFocus=function(e){if("none"===e.css("display")){var i=e.attr("aria-hidden");e.off("blur.opacity").on("blur.opacity",(function(){e.off("blur.opacity"),e.removeClass(t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME),i?e.attr("aria-hidden",i):e.removeAttr("aria-hidden")})).addClass(t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME).attr("aria-hidden","true")}return e},t.prototype.prepareTargetTabIndexForFocus=function(t){var e=t.attr("tabindex");return e&&"0"!==e?t:t.attr("tabindex",-1).off("blur.tabindex").on("blur.tabindex",(function(){t.off("blur.tabindex"),e?t.attr("tabindex",e):t.removeAttr("tabindex")}))},t.prototype.moveFocusToElement=function(e){if(e){var i,n="#"+l.escapeComponentId(e);(i=n==="#"+c.VIEWPORT_TOP_ID?s.default(n):this.pageView.$pageContainer.find(n)).length||(i=this.searchFoldersForTarget(e)),i.length&&(i=this.prepareTargetOpacityForFocus(i),i=t.prepareTargetOutlineForFocus(i),(i=this.prepareTargetTabIndexForFocus(i)).get(0).focus({preventScroll:!0}))}},t.HIDDEN_OUTLINE_CLASS_NAME="outline-hidden",t.FAKELY_HIDDEN_COMPONENT_CLASS_NAME="fakely-hidden",t}();e.FocusArbiter=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectState=void 0;var n=function(){function t(t){this.state=t.state,this.config=t}return t.prototype.hasTransitionChange=function(){return void 0!==this.config.transition},t.prototype.hasPositionChange=function(){return void 0!==this.config.deltaX&&0!==this.config.deltaX||void 0!==this.config.deltaY&&0!==this.config.deltaY},t.prototype.hasDimensionsChange=function(){return void 0!==this.config.width||void 0!==this.config.height},t.prototype.hasOpacityChange=function(){return void 0!==this.config.opacity},t.prototype.hasRotationChange=function(){return void 0!==this.config.rotation},t.prototype.hasBorderChange=function(){return void 0!==this.config.border},t.prototype.hasShadowChange=function(){return void 0!==this.config.shadow},t.prototype.hasBackgroundChange=function(){return void 0!==this.config.background},t.prototype.hasEffectsChange=function(){return void 0!==this.config.effects},t.prototype.hasFlipChange=function(){return void 0!==this.config.flipHorizontal||void 0!==this.config.flipVertical},t.prototype.hasBlendingModeChange=function(){return void 0!==this.config.blendingMode},t.prototype.hasFontChange=function(){return void 0!==this.config.defaultSpan},t.prototype.hasJustificationChange=function(){return void 0!==this.config.justify},t.prototype.hasStrokeChange=function(){return void 0!==this.config.lineWidth||void 0!==this.config.color},t.prototype.hasLinePositionChange=function(){return(this.hasPositionChange()||void 0!==this.config.deltaX2&&0!==this.config.deltaX2||void 0!==this.config.deltaY2&&0!==this.config.deltaY2)&&(this.config.deltaX!==this.config.deltaX2||this.config.deltaY!==this.config.deltaY2)},t.prototype.hasLineHeightChange=function(){return void 0!==this.config.leading},t.prototype.hasPathChange=function(){return void 0!==this.config.path},t.prototype.hasChangesComparedTo=function(e){return{transition:this.compareProperty(t.prototype.hasTransitionChange,e),position:this.compareProperty(t.prototype.hasPositionChange,e),dimension:this.compareProperty(t.prototype.hasDimensionsChange,e),opacity:this.compareProperty(t.prototype.hasOpacityChange,e),rotation:this.compareProperty(t.prototype.hasRotationChange,e),border:this.compareProperty(t.prototype.hasBorderChange,e),shadow:this.compareProperty(t.prototype.hasShadowChange,e),background:this.compareProperty(t.prototype.hasBackgroundChange,e),effects:this.compareProperty(t.prototype.hasEffectsChange,e),flip:this.compareProperty(t.prototype.hasFlipChange,e),blendingMode:this.compareProperty(t.prototype.hasBlendingModeChange,e),font:this.compareProperty(t.prototype.hasFontChange,e),justify:this.compareProperty(t.prototype.hasJustificationChange,e),stroke:this.compareProperty(t.prototype.hasStrokeChange,e),linePosition:this.compareProperty(t.prototype.hasLinePositionChange,e),lineHeight:this.compareProperty(t.prototype.hasLineHeightChange,e),path:this.compareProperty(t.prototype.hasPathChange,e)}},t.prototype.compareProperty=function(t,e){return t.call(this)||!!e&&t.call(e)},t}();e.ObjectState=n},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=i(6);e.default=o.AbstractComponentView.extend({type:"form-component",onAttach:function(){o.AbstractComponentView.prototype.onAttach.call(this),this.renderForm()},applyChanges:function(t){o.AbstractComponentView.prototype.applyChanges.call(this,t),this.renderForm()},getContainerDivId:function(){return"form-component-"+this.options.id.replace("|","_")},getContainerClassName:function(){return"form-component-"+(this.options.originalObjectId||this.options.id)},renderForm:function(){throw new Error("renderForm not implemented.")},handleSubmit:function(t){throw new Error("handleSubmit not implemented.")},triggerSubmitInteractions:function(t,e){var i=this.getModule(),n=this.getValidInteractionsByTrigger(i.INTERACTION_TRIGGERS.SUBMIT);i.trigger(i.publishedEvents.PAGE_COMPONENT_FORM_SUBMITTED,this.addComponentAndClickDataToEvent({formOrigin:t,formOriginAccountId:e,formOriginFormId:this.options.formId,formOriginFormName:this.options.formName,interactionTriggered:!r.default.isEmpty(n)})),r.default.isEmpty(n)||r.default.each(n,r.default.bind((function(t){"url"===t.action||"page-goto"===t.action||"page-next"===t.action||"page-prev"===t.action||"scroll-to"===t.action?r.default.defer(r.default.bind((function(){this._triggerClickAction(null,t)}),this)):this._triggerClickAction(null,t)}),this))},_applyBorder:function(){},_applyBackground:function(){},_applyShadow:function(){},_applyOpacity:function(){}})},function(t,e,i){},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(4)),o=n(i(1)),a=n(i(0)),s=i(105),u=n(i(13)),l=n(i(14));e.default=s.AbstractImageComponentView.extend({type:"image",image:null,srcOverride:null,dimensionsOverride:!1,initialize:function(){this.imageReadyPromises={},s.AbstractImageComponentView.prototype.initialize.call(this)},_applyShadow:function(t,e){t=a.default.isNil(t)?this.options.shadow:t,e=a.default.isNil(e)?this.options.rotation:e,this.applyDropShadow(t,e)},getApplyBorderTarget:function(){return this.$innerElement},attachMedia:function(){if(this.srcOverride)return this.attachImageSrc(this.srcOverride);if(!this.imageLoader)return this.attachImageSrc("");var t=this.imageLoader.getCurrentResource();return t?t.loadNow().then(a.default.bind((function(t){return this.attachImageSrc(t.getSrc())}),this)):(r.default.warn("Image should have been added to resource loader during preload"),o.default.Deferred().resolve(null).promise())},attachImageSrc:function(t){var e=this.imageReadyPromises[t];return e?(this.$innerElement.attr("src",t),e.promise()):(e=this.imageReadyPromises[t]=o.default.Deferred(),this.$innerElement.on("load",a.default.bind((function(){this.addAltText(this.$innerElement),e.resolve()}),this)),this.$innerElement.on("error",a.default.bind((function(){this.addAltText(this.$innerElement)}),this)),this.$innerElement.attr("src",t),e.promise())},_applyBackground:function(t){},addAltText:function(t){var e=this.options.altText;e||(e=u.default.hasFeature(l.default.ACCESSIBILITY)?"":void 0),t.attr("alt",e)},applyTransitionToTarget:function(t){this.getApplyShadowTarget().css("transition",t),this.$el.css("transition",t),this.$innerElement.css("transition",t)}})},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractImageComponentView=void 0;var a=o(i(0)),s=o(i(1)),u=o(i(3)),l=i(6),c=i(24),d=o(i(2)),h=o(i(69)),f=i(66),p=i(19),g=function(t){function e(e){var i=t.call(this,e)||this;return i.effects=e.effects,i.imageLoader=e.imageLoader,i.blendingMode=e.blendingMode,i.dimensionsOverride=!1,i.$innerElement=null,i}return r(e,t),e.prototype.initialize=function(){t.prototype.initialize.call(this,this.options),d.default.previewMode&&(this.mediaLoadingScreen=new h.default({height:this.options.height,isImage:!0}),this.$el.append(this.mediaLoadingScreen.$el))},e.prototype.render=function(){return a.default.isNull(this.$innerElement)&&(this.$innerElement=s.default("<img/>"),this.$innerElement.css("display","block"),this.hasShadow(this.options.shadow)?u.default.isIos()&&this.options.shadow.blur&&c.CssUtils.setTransformToElement(this.$innerElement,{translateZ:0}):(u.default.isDesktopSafari()&&f.WebkitUtils.hardwareAccelerateTransform(this.$innerElement),u.default.isIos()&&this.options.fixedPosition&&f.WebkitUtils.hardwareAccelerateTransform(this.$innerElement)),this.$el.append(this.$innerElement)),this.dimensionsOverride||this.setDimensionsAsAttributes(this.$innerElement,this.options.width,this.options.height),this.isFlipped()&&this._applyImageFlip({flipHorizontal:this.options.flipHorizontal,flipVertical:this.options.flipVertical}),t.prototype.render.call(this),this.imageLoader&&(this.imageLoader.onLowResImageLoaded(this.attachMedia,this),this.imageLoader.onImageLoaded(this.attachMedia,this),d.default.previewMode&&(this.imageLoader.onLowResImageLoaded(this.hideMediaLoadingScreen,this),this.imageLoader.onImageLoaded(this.hideMediaLoadingScreen,this))),a.default.isNil(this.effects)||this._applyImageEffects(this.effects,!1),a.default.isNil(this.blendingMode)||this._applyBlendingMode(this.blendingMode),this},e.prototype.callObjectStateInvoker=function(t,e){p.ObjectStateInvoker.invokeAbstractImageObjectState(this,t,e)},e.prototype.hideMediaLoadingScreen=function(){this.mediaLoadingScreen.close()},e.prototype._applyImageEffects=function(t,e){t=a.default.isNil(t)?this.effects:t;var i=this.getApplyShadowTarget(),n=i.css("filter"),r="";if(n){var o=n.match(/drop-shadow\(.*\)/g);o&&(r=o[0])}var s="";a.default.isNil(t)||(s=c.CssUtils.computeEffect(t,e)),i.css("filter",s+" "+r),i.css("-webkit-filter",s+" "+r)},e.prototype._applyImageFlip=function(t){a.default.isEmpty(t)&&(t={});var e=(a.default.isNil(t.flipHorizontal)?this.options.flipHorizontal:t.flipHorizontal)?-1:1,i=(a.default.isNil(t.flipVertical)?this.options.flipVertical:t.flipVertical)?-1:1;c.CssUtils.setTransformToElement(this.$innerElement,{scale:{x:e,y:i}})},e.prototype._applyBlendingMode=function(t){t=a.default.isNil(t)?this.blendingMode:t,this.$innerElement.parent().css("mix-blend-mode",t)},e.prototype.getApplyDimensionsTarget=function(){return this.$innerElement},e.prototype.getApplyShadowTarget=function(){return this.$innerElement},e.prototype.getHoverTarget=function(){return this.$innerElement},e.prototype.getAnimateElements=function(){return this.$innerElement.find("animate, animateTransform")},e}(l.AbstractComponentView);e.AbstractImageComponentView=g},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(220)),a=function(t){this.$videoElement=t};r.default.extend(a.prototype,o.default,{on:function(t,e){this.$videoElement.on(t,e)},getPosition:function(){return this.$videoElement[0].currentTime},getLength:function(){return this.$videoElement[0].duration},isPlaying:function(){return!1===this.$videoElement[0].ended&&!1===this.$videoElement[0].paused&&this.$videoElement[0].currentTime>0},getCurrentSource:function(){return this.$videoElement[0].currentSrc}}),e.default=a},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(5)),a=function(t,e){this.video=t,this.loadedMetaData=!1,this.playedVideoBeforeMetaDataLoaded=!1,this.sentInitialPlayEvent=!1,this.progressPercents=[],this.isPlaying=!1,this.isTransitioningToPaused=!1,this.videoLength=e||!1,this.enabled=!0,this.currentPosition=0,this.lastPosition=0,this.progressStartPosition=0,this.isWindowVisible="hidden"!==document.visibilityState,this.addEventListeners()};a.prototype=r.default.extend({},o.default.Events,{EVENTS:{PLAY:"play",PROGRESS_TIME:"progress_time",PROGRESS_PERCENT:"progress_percent"},enableTracking:function(){this.enabled||(this.enabled=!0,this.isWindowVisible&&this.restartProgressTracking())},disableTracking:function(){this.enabled&&(this.isWindowVisible&&this.triggerProgressEvent(this.lastPosition),this.enabled=!1)},addEventListeners:function(){document.addEventListener("visibilitychange",r.default.bind((function(){"hidden"===document.visibilityState?(this.isWindowVisible=!1,this.enabled&&this.triggerProgressEvent(this.lastPosition)):"visible"===document.visibilityState&&(this.isWindowVisible=!0,this.enabled&&this.restartProgressTracking())}),this));var t=this;r.default.each("loadedmetadata,timeupdate".split(","),(function(e){t.video.on(e,(function(){switch(t.currentPosition=t.video.getPosition(),t.videoLength&&(t.currentPosition=Math.min(t.currentPosition,t.videoLength)),t.isTransitioningToPaused=t.isPlaying&&!t.video.isPlaying(),t.isPlaying=t.video.isPlaying(),e){case"loadedmetadata":t.handleLoadedMetadataEvent();break;case"timeupdate":t.handleTimeUpdateEvent();break;default:throw new Error("Missing handler function for video event: "+e)}t.lastPosition=t.currentPosition}))}))},handleLoadedMetadataEvent:function(){this.loadedMetaData=!0,this.videoLength||!this.video.getLength()||this.video.getLength()===1/0||isNaN(this.video.getLength())||(this.videoLength=this.video.getLength()),this.playedVideoBeforeMetaDataLoaded&&(this.triggerPlayEvent(),this.sentInitialPlayEvent=!0)},sendInitialPlayEvent:function(){this.sentInitialPlayEvent||this.playedVideoBeforeMetaDataLoaded||(this.loadedMetaData?(this.triggerPlayEvent(),this.sentInitialPlayEvent=!0):this.playedVideoBeforeMetaDataLoaded=!0)},triggerPlayEvent:function(){this.triggerEvent(this.EVENTS.PLAY,{videoPosition:this.sanitizeVideoPosition(this.currentPosition)})},handleTimeUpdateEvent:function(){this.isPlaying&&this.sendInitialPlayEvent(),this.enabled&&this.isWindowVisible&&(this.currentPosition<this.lastPosition||Math.abs(this.currentPosition-this.lastPosition)>1?this.triggerProgressEvent(this.lastPosition):(this.isTransitioningToPaused||this.currentPosition-this.progressStartPosition>=10)&&this.triggerProgressEvent(),(this.isPlaying||this.isTransitioningToPaused)&&this.trackProgressPercent())},trackProgressPercent:function(){var t=this.videoLength?Math.floor(this.videoLength):this.videoLength;if(t&&100!==this.progressPercents.length){var e=Math.round(this.currentPosition/t*100);e=Math.max(1,Math.min(100,e));var i=1;t<100&&(i=Math.ceil(100/t));for(var n=0;n<i&&(this.addProgressPercentViewed(e),!(--e<=0));n++);}},addProgressPercentViewed:function(t){if(!r.default.includes(this.progressPercents,t)){this.progressPercents.push(t);var e=this.progressPercents.length;this.triggerEvent(this.EVENTS.PROGRESS_PERCENT,{progressPercent:e})}},triggerProgressEvent:function(t){var e=(t=t||this.currentPosition)-this.progressStartPosition;e>.1&&this.triggerEvent(this.EVENTS.PROGRESS_TIME,{videoPosition:this.sanitizeVideoPosition(this.progressStartPosition),videoPlayTime:this.round(e)}),this.restartProgressTracking()},triggerEvent:function(t,e){this.videoLength&&(e.videoLength=this.round(this.videoLength)),this.trigger(t,e)},restartProgressTracking:function(){this.progressStartPosition=this.currentPosition},round:function(t){return Math.round(100*t)/100},sanitizeVideoPosition:function(t){var e=this.round(t);return e<0&&(e=0),e}}),e.default=a},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(2)),s=i(71);e.default=s.AbstractTransformableGroupView.extend({initialize:function(){s.AbstractTransformableGroupView.prototype.initialize.call(this),this.$el.addClass("group"),this.childViews={}},render:function(){s.AbstractTransformableGroupView.prototype.render.call(this),this.renderSROnlyText()},renderSROnlyText:function(){if(this.hasAccessibilityFeature){if(a.default.previewMode){var t=this.$el.children(":first");t.hasClass("group-sr-only-text")&&t.remove()}if(this.options.screenReaderOnlyText){var e=r.default("<p>").addClass("sr-only group-sr-only-text").text(this.options.screenReaderOnlyText);this.$el.prepend(e)}}},addParentView:function(t){s.AbstractTransformableGroupView.prototype.addParentView.call(this,t),o.default.each(this.childViews,(function(e){e.addParentView(t)}))},areAllParentsVisible:function(){return o.default.every(this.parentViews,(function(t){return t.visible}))},prepareGroupForBlendingModes:function(){var t,e=this.$el.css("left"),i=this.$el.css("top"),n=this.options.width,o=this.options.height,a=this;(t=this.hasClickInteraction()?r.default('<button class="wrapper-for-blending-modes" data-for="'+this.id+'"></button>'):r.default('<div class="wrapper-for-blending-modes" data-for="'+this.id+'"></div>')).css("position","absolute"),t.css("left",e),t.css("top",i),this.hasClickInteraction()&&(t.on("focus",(function(){var t=r.default('[data-for="'+a.id+'"]');t.css("width",n+"px"),t.css("height",o+"px")})),t.on("blur",(function(){var t=r.default('[data-for="'+a.id+'"]');t.css("width","1px"),t.css("height","1px")})),t.on("click",(function(t){t.originalEvent.target===t.currentTarget&&a.$el.click()}))),this.$el.wrapAll(t),this.$el.css("display","contents")}})},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&a(e,t,i);return s(e,t),e},l=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CustomShapeComponentView=void 0;var d=c(i(7)),h=c(i(110)),f=i(51),p=i(34),g=c(i(3)),m=u(i(17)),v=i(72),y=i(19),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="custom-shape",e.maxPoints=0,e.currentPath="",e}return r(e,t),e.prototype.renderShape=function(t){var e,i,n,r=this;if(void 0===t&&(t={}),this.options.path){var a=this.options.path.length,s=(null===(e=this.options.states)||void 0===e?void 0:e.length)?this.options.states.reduce((function(t,e){var i,n;return((null===(i=t.config.path)||void 0===i?void 0:i.length)||0)>((null===(n=e.config.path)||void 0===n?void 0:n.length)||0)?t:e})):void 0;this.maxPoints=Math.max(a,(null===(i=null==s?void 0:s.config.path)||void 0===i?void 0:i.length)||0),this.options.path=this.forcePathToUseMaxPoints(this.options.path,this.options.isClosedPath),null===(n=this.options.states)||void 0===n||n.forEach((function(t){t.config.path&&(t.config.path=r.forcePathToUseMaxPoints(t.config.path,t.config.isClosedPath))}))}var u=p.CustomPathSVGUtil.generateCurveCoords(this.options.path,this.options.isClosedPath);return this.currentPath=u,d.default.render(h.default,o({path:u},t))},e.prototype.renderShapeHoverArea=function(){var t=p.CustomPathSVGUtil.generateCurveCoords(this.options.path,this.options.isClosedPath),e=document.createElementNS("http://www.w3.org/2000/svg","polygon");return e.setAttributeNS(null,"path",t),e},e.prototype.getShapeElement=function(){return this.$el.find("path")},e.prototype.applyPath=function(t,e,i){void 0===t&&(t=this.options.path),void 0===e&&(e=this.options.isClosedPath),void 0===i&&(i=this.options.transition);var n=p.CustomPathSVGUtil.generateCurveCoords(t,e);if(g.default.isBrowserChrome()||g.default.edge)this.getShapeElement().css("d","path('"+n+"')");else{if(i){var r=this.getShapeElement(),o=r[0].animatedPathSegList;o&&(this.currentPath=p.CustomPathSVGUtil.generateCurveCoordFromPathSegList(o));var a=v.AnimateSVGUtil.animatePointsForSingle([this.currentPath,n]),s=v.AnimateSVGUtil.createAnimationElement("d",!1,a,v.AnimateSVGUtil.getSplineStringFromEasing(i.easing));v.AnimateSVGUtil.startNewAnimations(this.getSVGElement(),r,[s],i)}else this.getShapeElement().attr("d",n);this.currentPath=n}},e.prototype.forcePathToUseMaxPoints=function(t,e){var i=this.maxPoints-t.length;if(0===i)return t;for(var n=l(t),r=t.length,o=i/r%1,a=Math.floor(i/r),s=function(t){var i=t===n.length,r=i&&e,o=n[t-1],a=i?r?n[0]:o:n[t],s=m.splitBezierCurveAtPoint(o,a,.5),u=[s.left,s.center];i||u.push(s.right),n.splice.apply(n,l([t-1,i?3:2],u)),r&&n.splice(0,1,s.right)},u=0,c=0,d=1;d<=r;d++){if((c+=o)>=.5)s(u+d),u++,c--;for(var h=0;h<a;h++){s(u+d),u++}if(d===r&&u<i)s(u+d),u++}return n},e.prototype.callObjectStateInvoker=function(t,e){y.ObjectStateInvoker.invokeSVGShapeObjectState(this,t,e)},e}(f.AbstractCustomPathComponentView);e.CustomShapeComponentView=_},function(t,e){t.exports='<path\n  d="{{path}}"\n  fill="{{fill}}"\n  stroke-linecap="butt"\n  stroke-linejoin="miter"\n  pointer-events="auto"\n  filter="{{shadow}}"\n  transform="{{transform}}"\n  >\n  </path>\n'},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Easing=void 0,function(t){t.ease="ease",t.linear="linear",t.easeIn="ease-in",t.easeOut="ease-out",t.easeInOut="ease-in-out"}(e.Easing||(e.Easing={}))},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),a=n(i(35)),s=function(t,e){e=e||{},this.name=t,this.fontFamily=e.fontFamily,this.familyName=e.familyName,this.fontWeight=e.fontWeight,this.fontStyle=e.fontStyle,this.guid=e.guid,this.metrics=e.metrics,this.webFontStylesLoaded=!!e.webFontStylesLoaded,this.metricsUrl=e.metricsUrl,this.cssFamilyName=e.cssFamilyName||e.familyName,this.crossAccount=!!e.crossAccount,this.cssUrl=e.cssUrl,this.unitsPerEm=e.unitsPerEm,this.ascent=e.ascent};s.prototype={getFontFamily:function(){return this.fontFamily},getName:function(){return this.name},getCssFamilyName:function(){return this.cssFamilyName},getFontStyle:function(){return this.fontStyle},getFontWeight:function(){return this.fontWeight},getGuid:function(){return this.guid},isItalic:function(){return this.fontStyle===a.default.FONT_STYLE_ITALIC},isUploaded:function(){return this.fontFamily.isUploaded()},isBuiltIn:function(){return this.fontFamily.isBuiltIn()},getMetricsUrl:function(){return this.metricsUrl?(new o.default.Deferred).resolve(this.metricsUrl):o.default.ajax({url:"/rest/v1/font/font-metrics",dataType:"json",data:{variantGuids:[this.guid]}}).then(r.default.bind((function(t){return this.metricsUrl=t[0].metricsFileURL,this.metricsUrl}),this))},getMetrics:function(){return this.metrics?o.default.Deferred().resolve(this.metrics):(this.metricsLoadingDeferred||(this.metricsLoadingDeferred=new o.default.Deferred,this.getMetricsUrl().then(r.default.bind((function(t){o.default.ajax({url:t,dataType:"json",cache:!0}).done(r.default.bind((function(t){this.metrics=t,this.metricsLoadingDeferred.resolve(t)}),this)).fail(r.default.bind((function(t){this.metricsLoadingDeferred.reject(t)}),this))}),this))),this.metricsLoadingDeferred.promise())},setWebFontStylesLoaded:function(){this.webFontStylesLoaded=!0}},e.default=s},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(5)),a=n(i(4)),s=n(i(20)),u=n(i(74)),l=n(i(251)),c=function(t){if(this.variants=[],t.defaultSpan){var e=this.getVariant(t.defaultSpan);this.variants.push(e)}r.default.each(t.textSpans,r.default.bind((function(e){var i=r.default.extend({},t.defaultSpan,e),n=this.getVariant(i);this.variants.push(n)}),this)),r.default.each(t.states,r.default.bind((function(e){if(e.defaultSpan){var i=r.default.extend({},t.defaultSpan,e.defaultSpan),n=this.getVariant(i);this.variants.push(n)}}),this)),this.variants=r.default.uniq(this.variants),this.resources=null};r.default.extend(c.prototype,o.default.Events,{getVariant:function(t){return u.default.resolveFont(t.variantGuid)},getAllVariants:function(){return this.variants},load:function(){null===this.resources&&(this.resources={},r.default.each(this.variants,r.default.bind((function(t){if(t.isBuiltIn())this.trigger("variant-loaded",t);else if(t.isUploaded()){var e=s.default.addCustomWebFont(t.getCssFamilyName(),t.cssUrl,void 0);e.getPromise().done(r.default.bind((function(){this.trigger("variant-loaded",t)}),this)),e.getPromise().fail(r.default.bind((function(){this.trigger("variant-failed",t)}),this)),this.resources[t.guid]=e}else{var i=t.getFontFamily().getFamilyName()+":"+l.default.buildGoogleVariantName(t.getFontWeight(),t.getFontStyle()),n=s.default.addGoogleWebFont(i);n.getPromise().done(r.default.bind((function(){this.trigger("variant-loaded",t)}),this)),n.getPromise().fail(r.default.bind((function(){this.trigger("variant-failed",t)}),this)),this.resources[t.guid]=n}}),this)))},loadNow:function(){this.load(),r.default.each(this.resources,(function(t){t.loadNow()}))},onVariantLoaded:function(t,e){r.default.each(this.getAllLoadedVariants(),(function(i){t.call(e,i)})),this.on("variant-loaded",t,e)},onLoadFail:function(t,e){this.hasFailedVariant()&&t.call(e),this.on("variant-failed",t,e)},getAllLoadedVariants:function(){return null===this.resources?(a.default.warn("Variants were never loaded"),[]):r.default.filter(this.variants,r.default.bind((function(t){return!!t.isBuiltIn()||r.default.has(this.resources,t.guid)&&"resolved"===this.resources[t.guid].getPromise().state()}),this))},hasFailedVariant:function(){return null===this.resources?(a.default.warn("Variants were never loaded"),!1):r.default.some(this.variants,r.default.bind((function(t){return!t.isBuiltIn()&&(r.default.has(this.resources,t.guid)&&"rejected"===this.resources[t.guid].getPromise().state())}),this))}}),e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionFactory=void 0;var n=i(0),r=i(254),o=i(255),a=i(256),s=i(257),u=i(258),l=i(259),c=i(260),d=i(261),h=i(95),f=i(262),p=i(263),g=i(264),m=i(265),v=i(266),y=i(267),_=i(268),b=i(269),T=i(270),w=i(271),S=i(272),E=i(273),A=i(274),C=i(94),P=i(275),I=i(276),O=i(23),x=i(278),k=function(){function t(){}return t.constructorFor=function(t){switch(t){case O.ActionTypes.nextPage:return o.NextPageInteraction;case O.ActionTypes.prevPage:return f.PreviousPageInteraction;case O.ActionTypes.gotoPage:return d.GoToPageInteraction;case O.ActionTypes.url:return r.GoToURLInteraction;case O.ActionTypes.scrollTo:return h.ScrollToInteraction;case O.ActionTypes.scrollToObject:return C.ScrollToObjectInteraction;case O.ActionTypes.changeState:return I.ChangeStateInteraction;case O.ActionTypes.showOnly:return b.ShowComponentInteraction;case O.ActionTypes.hideOnly:return _.HideComponentInteraction;case O.ActionTypes.toggleCanvasTargets:return g.ToggleLayersInteraction;case O.ActionTypes.enableDisablePage:return T.PageVisibilityInteraction;case O.ActionTypes.lightbox:return w.LightboxVisibilityInteraction;case O.ActionTypes.product:return S.ProductPanelVisibilityInteraction;case O.ActionTypes.shoppingCart:return E.ShoppingCartVisibilityInteraction;case O.ActionTypes.fullscreen:return A.FullScreenInteraction;case O.ActionTypes.showCanvasTargetsOnHover:case O.ActionTypes.showCanvasTargets:case O.ActionTypes.showAndStayVisibleCanvasTargets:return y.ShowLayersInteraction;case O.ActionTypes.hideCanvasTargets:case O.ActionTypes.hideAndStayHiddenCanvasTargets:return p.HideLayersInteraction;case O.ActionTypes.cycleNext:return v.CycleNextInteraction;case O.ActionTypes.cyclePrevious:return m.CyclePreviousInteraction;case O.ActionTypes.email:return s.ShareEmailInteraction;case O.ActionTypes.facebook:return u.ShareFacebookInteraction;case O.ActionTypes.twitter:return c.ShareTwitterInteraction;case O.ActionTypes.pinterest:return l.SharePinterestInteraction;case O.ActionTypes.linkedin:return a.ShareLinkedInInteraction;case O.ActionTypes.toggleReducedMotion:return P.ToggleReducedMotionInteraction;default:return x.InvalidInteraction}},t.initializeInteractions=function(e,i){var r=[];if(!n.get(e,"length"))return r;for(var o=0,a=e;o<a.length;o++){var s=a[o];if(s.trigger&&s.action){var u=t.constructorFor(s.action);r.push(new u(s,i))}}return r},t}();e.InteractionFactory=k},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=function(){function t(t,e){this.parentItem=t,this.model=e,this.childViews=[],this.view=null}return t.prototype.isScranchor=function(){return"scranchor"===this.model.type},t.prototype.isSmartgroupLayer=function(){return this.model&&!r.default.isUndefined(this.model.smartgroupId)},t.prototype.isFolder=function(){return this.model&&"folder"===this.model.type},t.prototype.isGroup=function(){return this.model&&"group"===this.model.type||this.isMaskGroup()},t.prototype.isMaskGroup=function(){return this.model&&"mask-group"===this.model.type},t.prototype.findParentSmartgroupOrGroupModel=function(){for(var t=null,e=this;null!==e;){if(e.isSmartgroupLayer()||e.isGroup()){t=e.model;break}e=e.parentItem}return t},t.prototype.setView=function(t){this.view=t,this.parentItem.childViews.push(t)},t}();e.default=o},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(50)),o=new Map;e.default={find:function(t,e){return o.has(t)||function(t){o.set(t,new Map);var e=function(i){for(var n,a=0,s=i;a<s.length;a++){var u=s[a],l=o.get(t);l.set(u.id,u),u instanceof r.default&&(null===(n=u.el)||void 0===n?void 0:n.id)&&l.set(u.el.id,u),u.childViews&&e(u.childViews)}};e(t)}(t),o.get(t).get(e)||null},reset:function(){o.clear()}}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__decorate||function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAreaComponentView=void 0;var s=i(26),u=a(i(291)),l=i(24),c=function(t){function e(e){var i=t.call(this,e)||this;return i.options=e,i.id="hover-area-"+i.options.component.id,i}return r(e,t),e.prototype.render=function(){return t.prototype.render.call(this),this.$el.attr("id",this.id),this.$el.css("pointer-events","none"),this.$el.css("position","absolute"),void 0!==this.options.component.zIndex&&this.setZIndex(this.options.component.zIndex+1),this.setWidthAndHeight(),this.updatePosition(),this.updateRotation(),this.renderBorder(),this},e.prototype.renderBorder=function(){var t=this.options.component.options.border;t&&(t.width&&(this.$el.css("borderWidth",t.width+"px"),this.$el.css("borderStyle","solid"),this.$el.css("borderColor","transparent")),this.$el.css("borderRadius",this.options.component.getBorderRadius(t)))},e.prototype.setInitialZIndex=function(t){this.setZIndex(t),this.zIndex=t},e.prototype.setZIndex=function(t){this.$el.css("z-index",t)},e.prototype.setWidthAndHeight=function(){this.$el.css("width",this.options.component.options.width),this.$el.css("height",this.options.component.options.height)},e.prototype.updatePosition=function(){this.$el.css("left",this.options.component.options.x+"px"),this.$el.css("top",this.options.component.options.y+"px")},e.prototype.updateRotation=function(){this.options.component.options.rotation&&l.CssUtils.setTransformToElement(this.$el,{rotate:this.options.component.options.rotation})},e.prototype.activate=function(){this.getHoverAreaTarget().css("pointer-events","all")},e.prototype.deactivate=function(){this.getHoverAreaTarget().css("pointer-events","none")},e.prototype.isHovered=function(t){var e=this.getHoverAreaTarget()[0];return!!((null==e?void 0:e.matches(":hover"))||t&&t.target&&t.target===e)},e.prototype.getHoverAreaTarget=function(){return this.$el},e=o([s.BackboneShim({className:"hover-area"})],e)}(u.default);e.HoverAreaComponentView=c},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(4)),s=n(i(12)),u=n(i(2)),l=n(i(18)),c=n(i(9)),d=n(i(119)),h=n(i(8)),f=n(i(73)),p=["sdk.experience.container.ready","sdk.experience.container.scrolled","sdk.experience.container.resized","sdk.experience.page.goto","sdk.experience.page.next","sdk.experience.page.previous","sdk.component.video.start","sdk.component.video.stop","sdk.component.text.settext","sdk.component.image.seturl","sdk.component.image.reset","sdk.component.click","sdk.component.show","sdk.component.hide","sdk.layer.show","sdk.layer.hide","sdk.page.animations.start","sdk.page.animations.pause","sdk.page.disable","sdk.page.enable","sdk.context.get.value"],g=function(t,e){e=JSON.stringify(e),t.postMessage(e,"*")},m=function(t,e){var i={name:"ceros.sdk.player:"+t,version:"1.1.0",params:e};u.default.isEmbedded&&g(parent,i),g(window,i)},v=function(t){if(t=t.originalEvent,o.default.isString(t.data)&&-1!==t.data.indexOf("ceros.sdk.player:")){var e,i,n={};try{n=JSON.parse(t.data)}catch(t){return void a.default.debug("Error processing message: "+t)}if(n.name){if(n.name=(e=n.name,i=new RegExp("^ceros.sdk.player:"),e.replace(i,"")),-1===p.indexOf(n.name))return void a.default.debug("Received message that is not an SDK event: "+n.name);l.default.trigger(n.name,n.params)}}},y=function(){var t={},e=function(e,i,n){n&&!o.default.isEmpty(n)&&o.default.each(n,(function(n){t[n]||(t[n]={pages:[],syncedObjects:[],smartgroups:[],layers:[],components:[]}),t[n][e].push(i)}))};this.addPageTags=function(t,i){e("pages",t,i)},this.addSyncedObjectTags=function(t,i){e("syncedObjects",t,i),e("smartgroups",t,i)},this.addLayerTags=function(t,i){e("layers",t,i)},this.addComponentTags=function(t,i){e("components",t,i)},this.getTags=function(){return t}};t=new s.default.Module({id:"sdk-backend",description:"The API for the player SDK.",version:"1.0",delegate:{experienceID:null,initialize:function(t,e,i){if(o.default.isUndefined(window.postMessage))a.default.warn("This browser does not support inter-frame communication.");else{a.default.debug("Embedded Player SDK listening for inter-frame messages."),r.default(window).on("message",v);var n=this.buildExperienceData(t,e,i);this.experienceID=t.get("slug"),this.registerEvents(),m("ready",n)}},buildExperienceData:function(t,e,i){var n=new y,r=this.buildPages(e,n),o=this.buildSyncedObjects(e.get("smartgroups"),n),a={experienceId:t.get("slug"),experienceAlias:u.default.issueAliasSlug,experienceTitle:t.get("title"),currentPageNumber:e.getPageInfoByNumberOrSlug(c.default.parsePageFromLocation()).number,documentVersion:u.default.docVersion,allPageData:r,allSyncedObjectData:o,allSmartgroupData:o,tags:n.getTags(),userToken:i};return a.documentVersion.viewportWidth=e.get("viewportWidth"),a.documentVersion.viewportHeight=e.get("viewportHeight"),a},buildSyncedObjects:function(t,e){var i=[],n=this;return o.default.each(t,o.default.bind((function(t){var r=[];t.layerHierarchies&&(r=n.buildLayers(t.layerHierarchies.desktop,e,void 0,t.layerDictionary,t)),i.push({id:t.id,payload:t.sdkPayload,tags:t.sdkTags,layers:r})}),this)),i},buildPages:function(t,e){var i=[];return o.default.each(t.getPages(),o.default.bind((function(n,r){var o=[];n.get("layerHierarchies")&&(o=this.buildLayers(n.get("layerHierarchies")[h.default.getVariant()],e,n.getSlug(),n.get("layerDictionary"))),i.push({pageSlug:n.getSlug(),pageNumber:n.getPageIndex()+1,payload:n.getSdkPayload(),tags:n.getSdkTags(),layers:o,width:n.getPageWidth(t),height:n.getPageHeight(t),enabled:!n.getDisabled()}),e.addPageTags(n.getSlug(),n.getSdkTags())}),this)),i},buildLayers:function(t,e,i,n,r){var s=[],u=this;return t&&o.default.each(t,(function(t){var l=function t(s){var l=s.items,c=o.default.cloneDeep(n[s.id]);if(c){if(r&&(c.parentSmartGroup=r),f.default.reconcileComponentForCurrentVariant(c),c.items=l,delete c.parentSmartGroup,c.smartgroupId)return e.addSyncedObjectTags(c.id,c.sdkTags),{id:c.id,syncedObjectId:c.smartgroupId,smartgroupId:c.smartgroupId,tags:c.sdkTags,payload:c.sdkPayload,pageSlug:i,objects:[]};if("folder"===c.type||"group"===c.type){e.addLayerTags(c.id,c.sdkTags);var d=[];return o.default.each(c.items,(function(e){var i=t(e);i&&d.push(i)})),{id:c.id,payload:c.sdkPayload,items:d,tags:c.sdkTags,pageSlug:i,type:c.type}}return u.buildComponent(c,e,i)}a.default.warn("SDKLayersCollection: Layer from hierarchy not found in dictionary",{hierarchyLayer:s})}(t);l&&s.push(l)})),s},buildComponent:function(t,e,i){var n,r=t.id;switch(e.addComponentTags(t.id,t.sdkTags),e.addLayerTags(t.id,t.sdkTags),t.type){case"hotspot-component":n="hotspot";break;case"image-component":n="image";break;case"line-component":n="line";break;case"shape-component":n="shape";break;case"text-component":n="text";break;case"video-widget":n="video"}var o={id:r,type:n,payload:t.sdkPayload,tags:t.sdkTags,x:t.x,y:t.y,width:t.width,height:t.height,pageSlug:i};return"text"===n&&(o.textContent=t.textContent),"image"===n&&t.imageLoader&&(o.fullResolutionUrl=t.imageLoader.getFullResolutionUrl(),o.url=t.imageLoader.getCurrentUrl()),o},registerEvents:function(){l.default.on("page.action.share.page",o.default.bind((function(t){this.announceSocialShare(t.componentSlug,t.action)}),this)),l.default.on("page.component.clicked",o.default.bind((function(t){this.announceComponentClick(t.componentSlug)}),this)),l.default.on("page.component.animation.start",o.default.bind((function(t){this.announceAnimationStarted(t)}),this)),l.default.on("page.component.animation.end",o.default.bind((function(t){this.announceAnimationEnded(t)}),this)),l.default.on("sdk.context.get.value",o.default.bind((function(t){this.getContextValue(t.name)}),this))},announcePageChanged:function(t){m("page.changed",{pageNum:t,experienceId:this.experienceID})},announcePageChanging:function(t){m("page.changing",{pageNum:t,experienceId:this.experienceID})},announceSocialShare:function(t,e){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),m("social.share",{componentId:t,shareType:e,experienceId:this.experienceID})},announceComponentClick:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),m("component.clicked",{componentId:t,experienceId:this.experienceID})},announceLayersShown:function(t){t=o.default.map(t,d.default.extractObjectIdFromSmartgroupInstanceId),o.default.each(t,o.default.bind((function(t){m("layer.shown",{layerId:t,experienceId:this.experienceID})}),this))},announceLayersHidden:function(t){t=o.default.map(t,d.default.extractObjectIdFromSmartgroupInstanceId),o.default.each(t,o.default.bind((function(t){m("layer.hidden",{layerId:t,experienceId:this.experienceID})}),this))},announceVideoPlayed:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),m("video.played",{componentId:t,experienceId:this.experienceID})},announceAnimationStarted:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),m("animation.started",{componentId:t,experienceId:this.experienceID})},announceAnimationEnded:function(t){t=d.default.extractObjectIdFromSmartgroupInstanceId(t),m("animation.ended",{componentId:t,experienceId:this.experienceID})},getContextValue:function(t){var e=u.default?o.default.get(u.default,t):"";m("context.value.response",{variableName:t,variableValue:e})},announceScrollTo:function(t){m("scroll.to",{scrollPosition:t.scrollPosition,pageHeight:t.pageHeight,experienceId:this.experienceID,innerHeight:window.innerHeight})},announceTimedInteraction:function(t){m("timed.interaction.fired",t)},getNewTagMap:function(){return new y}}});e.default=t},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(5)),s=n(i(2)),u=n(i(4)),l=n(i(56)),c=n(i(300)),d=n(i(113)),h=n(i(121)),f=n(i(122)),p=n(i(304)),g=n(i(41)),m=n(i(54)),v=n(i(8)),y=n(i(73)),_={},b=a.default.Model.extend({idAttribute:"slug",urlRoot:"/{api-version}/account/{scope}/pages",defaults:{sdkTags:[],sdkPayload:""},initialize:function(t,e){a.default.Model.prototype.initialize.call(this,t,e),this.documentVersion=e.documentVersion,this.pageIndex=e.pageIndex},fetch:function(t){if(t=t||{},s.default.previewMode)return this._fetchFromShareJS();this._finishLoading();var e=new r.default.Deferred;return e.resolve(),e.promise()},getSlug:function(){return this.get("slug")},getSdkTags:function(){return this.get("sdkTags")},getSdkPayload:function(){return this.get("sdkPayload")},getDisabled:function(){return this.get("disabled")},getPageWidth:function(t){if(o.default.isUndefined(t))throw new Error("Document Version Model is required.");return t.getExperienceWidth()},getPageHeight:function(t){if(o.default.isUndefined(t))throw new Error("Document Version Model is required.");var e=this.getOverHeight(),i=t.getExperienceHeight();return e>i?e:i},getOverHeight:function(){return this.getOverrideablePropertyForCurrentVariant("overHeight")},_fetchFromShareJS:function(){var t=new r.default.Deferred;l.default.getConnection().openExisting(this._getDocumentName(),o.default.bind((function(e,i){if(e)throw u.default.error(e),t.reject(e),Error(e);i.on("remoteop",o.default.bind((function(t){this._processRemoteOps(i,t)}),this)),l.default.listenForReadOnlyConnectionLimitError(i),this.setDocSnapshotAndReconciledLayers(i.snapshot),this.documentVersion.on("resolveMedia",o.default.bind(this.refetchMedia,this,i)),t.resolve()}),this));var e=this._loadResolvedMedia();return r.default.when(t,e).done(o.default.bind((function(){this._finishLoading()}),this))},reconcileLayers:function(t,e){var i=this,n=[],r=v.default.getVariant();return o.default.reduce(t,(function(t,n){var a=o.default.cloneDeep(e[n.id]);return a&&(y.default.reconcileComponentForVariant(r,a),n.items&&n.items.length>0&&(a.items=i.reconcileLayers(n.items,e)),t.push(a)),t}),n),i.setReconciledVariant(r),n},getScranchorsForCurrentVariant:function(){var t=v.default.getVariant(),e=this.get("scranchors");"desktop"!==t&&(e=this.get("overrides")[t].scranchors||e);return e},setReconciledVariant:function(t){this.reconciledVariant=t},getReconciledVariant:function(){return this.reconciledVariant},_finishLoading:function(){if(!this.get("layers")){var t=this.get("layerHierarchies")[v.default.getVariant()],e=this.get("layerDictionary"),i=this.reconcileLayers(t,e);this.set("layers",i)}this.documentVersion.on("reload",this.resolveSmartgroupsAndMedia,this),this.resolveSmartgroupsAndMedia(),this.trigger("loaded")},_loadResolvedMedia:function(){return m.default.loadMediaForUri(this.getUri())},resolveSmartgroupsAndMedia:function(t){var e=this,i=t||e.get("layers")||[];o.default.each(i,(function(t){return t.smartgroupId?e.resolveSmartgroupReference(t):t.items&&t.items.length>0?e.resolveSmartgroupsAndMedia(t.items):e.resolveObjectMedia(t),t})),e.mediaPreloader=new p.default(e.documentVersion,e.get("layers"))},refetchMedia:function(t){this._loadResolvedMedia().done(o.default.bind((function(e){g.default.putMediaArray(e),this.setDocSnapshotAndReconciledLayers(t.snapshot),this.set("media",e),this.resolveSmartgroupsAndMedia(),this.trigger("reload")}),this))},resolveSmartgroupReference:function(t){var e=this,i=this.documentVersion.getSmartgroupDefinition(t.smartgroupId);i?t.layers=o.default.map(i.layerHierarchies.desktop,o.default.bind((function(n){return n=function n(a){var s=i.layerDictionary[a.id];return(a=r.default.extend(!0,{},s,a)).id=b.buildSmartgroupInstanceObjectId(t.id,a.id),a.parentSmartGroup=t,"folder"===a.type?a.items=o.default.map(a.items,n):e.resolveObjectInSmartgroup(a,t.id),a}(n)}),this)):u.default.warn("Smartgroup "+t.smartgroupId+" could not be resolved")},resolveObjectInSmartgroup:function(t,e){t.originalObjectId=t.id,t.interactions&&o.default.each(t.interactions,o.default.bind((function(t){t.layerTargets&&(t.layerTargets=o.default.map(t.layerTargets,o.default.bind((function(t){return b.buildSmartgroupInstanceObjectId(e,t)}),this)))}),this)),this.resolveObjectMedia(t)},resolveObjectMedia:function(t){var e=null;switch(t.type){case"image-component":(e=g.default.get(t.image))&&(t.imageLoader=c.default.create(t,e));break;case"video-widget":(e=g.default.get(t.poster))&&(t.posterLoader=c.default.create(t,e)),t.videoMedia=g.default.get(t.video);break;case"text-component":t.fontLoader=new d.default(t),t.textMode=this.documentVersion.getTextMode()}},lazyPreloadAllMedia:function(t,e){this.mediaPreloader.lazyPreloadAllMedia(t,e)},preloadVisibleMedia:function(t,e){this.mediaPreloader.preloadVisibleMedia(t,e)},preloadImages:function(t){this.mediaPreloader.preloadImages(t)},preloadHiddenMedia:function(t){this.mediaPreloader.preloadHiddenMedia(t)},getlazyLoadingVerticalBreakpoint:function(){return this.mediaPreloader.getlazyLoadingVerticalBreakpoint()},_processRemoteOps:function(t,e){for(var i={},n=!1,r=!1,a=0;a<e.length;a++){var s=e[a];if(f.default.isLayerHierarchiesMoveOrDelete(s))r=!0;else if(!f.default.isLayerDictionaryDelete(s)&&!f.default.isBlacklistedPagePropertyForPreviewOps(s)){var u=f.default.getComponentFromOp(t,s);if(u&&delete _[u.id],f.default.isMediaReloadRequiredForComponent(s,u)){n=!0;break}!u||f.default.isPageReloadRequiredForComponent(s,u)?r=!0:i[u.id]=JSON.parse(JSON.stringify(u))}}n?this.refetchMedia(t):r?this.triggerPageReload(t):o.default.each(i,o.default.bind((function(t,e){this.trigger("remote",{id:e,options:t})}),this))},setDocSnapshotAndReconciledLayers:function(t){var e=JSON.parse(JSON.stringify(t));this.set(e,{silent:!0});var i=this.reconcileLayers(o.default.cloneDeep(e.layerHierarchies[v.default.getVariant()]),e.layerDictionary);this.set("layers",i)},triggerPageReload:function(t){this.setDocSnapshotAndReconciledLayers(t.snapshot),this.resolveSmartgroupsAndMedia(),this.trigger("reload")},_getDocumentName:function(){return this.getUri().replace(/\//g,"_")},getPageIndex:function(){return this.pageIndex},getAllSmartgroupInstanceLayerIds:function(t,e){return this.getAllSmartgroupInstanceComponentIds(t,e)},getAllSmartgroupInstanceComponentIds:function(t,e){var i=e||this.get("layerDictionary"),n=o.default.filter(i,"smartgroupId");return o.default.reduce(n,o.default.bind((function(e,i){var n=this.getSmartgroupLayerDictionary(i.smartgroupId);return o.default.some(n,(function(e){return e.id===t}))&&e.push(b.buildSmartgroupInstanceObjectId(i.id,t)),e}),this),[])},getSmartgroupLayerDictionary:function(t){return o.default.get(this.documentVersion.getSmartgroupDefinition(t),"layerDictionary")},getUri:function(){return a.default.Model.prototype.url.call(this).replace(/\{api-version\}/,s.default.apiVersion).replace(/\{scope\}/,s.default.accountSlug)},updateLayerDictionaryFromRemoteChange:function(t){var e=this.get("layerDictionary");e[t.id]=o.default.cloneDeep(t.options),this.set("layerDictionary",e)},findLayerById:function(t){if(!t)return null;if(!_.hasOwnProperty(t)){var e=function(i){for(var n=0;n<o.default.get(i,"length");++n){if(i[n].id===t)return i[n];if(i[n].items||i[n].layers){var r=i[n].items||i[n].layers,a=e(r);if(a)return a}}return null};_[t]=e(this.get("layers"))}return _[t]}},{layerIsComponentWithId:function(t,e){return"folder"===e.type?o.default.some(e.items,o.default.partial(b.layerIsComponentWithId,t)):e.id===t},buildSmartgroupInstanceObjectId:function(t,e){return t+"|"+e},extractObjectIdFromSmartgroupInstanceId:function(t){var e=t.indexOf("|");return-1!==e&&(t=t.substr(e+1)),t},findTopmostFolderContent:function(t){for(var e=null,i=0;i<o.default.get(t,"items.length",0);++i){var n=t.items[i];"folder"===n.type&&(n=b.findTopmostFolderContent(n)),e?n.y===e.y?e=n.y<e.y?n:e:n.y<e.y&&(e=n):e=n}return e}});o.default.extend(b.prototype,h.default),e.default=b},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(5)),a=n(i(4)),s=function(t,e){this.componentWidth=t.width,this.componentHeight=t.height,this.componentId=t.id,this.currentResource=null,this.url=e.url};r.default.extend(s.prototype,o.default.Events,{IMAGE_LOADED_EVENT:"image-loaded",LOW_RES_IMAGE_LOADED_EVENT:"low-res-image-loaded",url:null,loadLowRes:function(t){throw"implement loadLowRes in subclasses"},load:function(t){throw"implement load in subclasses"},getCurrentUrl:function(){throw"implement getCurrentUrl in subclasses"},loadNow:function(t){this.load(t),this.currentResource&&this.currentResource.loadNow()},loadLowResNow:function(t){this.loadLowRes(t),this.currentResource&&this.currentResource.loadNow()},onImageLoaded:function(t,e){this.currentResource?("resolved"===this.currentResource.getPromise().state()&&t.call(e),this.bind(this.IMAGE_LOADED_EVENT,t,e)):a.default.warn("No resource was ever loaded",{componentId:this.componentId})},onLowResImageLoaded:function(t,e){this.currentResource?("resolved"===this.currentResource.getPromise().state()&&t.call(e),this.bind(this.LOW_RES_IMAGE_LOADED_EVENT,t,e)):a.default.warn("No resource was ever loaded",{componentId:this.componentId})},getFullResolutionUrl:function(){return this.url},getCurrentResource:function(){return this.currentResource}}),e.default=s},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(8));e.default={getOverrideablePropertyForCurrentVariant:function(t){var e=o.default.getVariant();if("desktop"===e)return this.get(t);var i=this.get("overrides");return r.default.get(i,[e,t])}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(8)),a=n(i(303)),s=["image","background","backgroundHasBeenSet","crop"],u=["video","poster"],l=["guides","autosnap","name","thumbnailUrl"];e.default={isMediaReloadRequiredForComponent:function(t,e){if(e)if(this.isComponentCreation(t)){var i=this.getLayerTypeFromLayer(e);if(r.default.includes(["smartgroup_definition","folder","group"],i)||this.isMediaComponentWithMediaPropertiesSet(e))return!0}else if(this.isComponentUpdate(t)){return this.someOpPropertySuchThat(t,r.default.bind((function(t){return this.isMediaProperty(e,t)||"visible"===t}),this))}return!1},isMediaReloadRequiredForOp:function(t,e){var i=this.getComponentFromOp(t,e);return this.isMediaReloadRequiredForComponent(e,i)},someOpPropertySuchThat:function(t,e){var i=o.default.getVariant();if("desktop"===i)return e(this.getPropertyNameFromPath(t.p));var n=this.getPropertyNamesFromOverridesOp(t,i);return r.default.some(n,e)},isPageReloadRequiredForComponent:function(t,e){if(e){if(this.isInvalidGlyphMetricsOp(t,e))return!1;if(this.isComponentCreation(t))return!0;if(this.isComponentUpdate(t)){var i=!1;return r.default.includes(t.p,"interactions")&&r.default.each(t.oi,(function(t){!t||"view"!==t.trigger||"cycle-previous"!==t.action&&"cycle-next"!==t.action||(i=!0)})),this.someOpPropertySuchThat(t,(function(t){("video-widget"===e.type&&r.default.includes(["height","width"],t)||"smartgroup"===e.type&&r.default.includes(["x","y","height","width"],t)||"opacity"===t||"mask-group"===e.type||"blendingMode"===t||"fixedPosition"===t)&&(i=!0)})),i}throw"Wrong Op Type passed"}return!0},isInvalidGlyphMetricsOp:function(t,e){return"text-component"===e.type&&r.default.has(t,"oi")&&!r.default.has(t,"od")&&r.default.includes(t.p,"glyphMetrics")},isComponentCreation:function(t){return!!r.default.isArray(t.p)&&(2===t.p.length&&"layerDictionary"===t.p[0]&&!r.default.isUndefined(t.oi)&&r.default.isUndefined(t.od))},isLayerHierarchiesChange:function(t){return"layerHierarchies"===t.p[0]},isLayerHierarchiesMoveOrDelete:function(t){return"layerHierarchies"===t.p[0]&&!r.default.isUndefined(t.ld)},isLayerDictionaryDelete:function(t){return!a.default.isUpdateForLazyAddedField(t)&&("layerDictionary"===t.p[0]&&!r.default.isUndefined(t.od)&&r.default.isUndefined(t.oi))},isComponentUpdate:function(t){return!!r.default.isArray(t.p)&&(!!a.default.isUpdateForLazyAddedField(t)||!(2!==t.p.length&&3!==t.p.length||"layerDictionary"!==t.p[0]||r.default.isUndefined(t.oi)||r.default.isUndefined(t.od)))},getPropertyNameFromPath:function(t){var e;return t.length>2&&r.default.isString(r.default.last(t))&&(e=r.default.last(t)),e},getPropertyNamesFromOverridesOp:function(t,e){if(r.default.isUndefined(t.oi)||r.default.isUndefined(t.od))throw"Cannot get properties changed without old and new objects";var i=t.oi[e],n=t.od[e],o=r.default.union(r.default.keys(i),r.default.keys(n));return r.default.filter(o,(function(t){return!r.default.isEqual(i[t],n[t])}))},getComponentFromOp:function(t,e){if(!("layerDictionary"!==e.p[0]||r.default.isUndefined(e.oi)&&r.default.isUndefined(e.od))){var i=r.default.slice(e.p,0,2).join(".");return r.default.at(t.snapshot,i)[0]}return null},getLayerTypeFromLayer:function(t){return t.type?t.type:void 0!==t.layers?"smartgroup_definition":void 0},isMediaProperty:function(t,e){return!!t&&("image-component"===t.type?r.default.includes(s,e):"video-widget"===t.type&&r.default.includes(u,e))},isMediaComponentWithMediaPropertiesSet:function(t){return t&&("image-component"===t.type&&t.image||"video-widget"===t.type&&t.video&&t.poster)},isBlacklistedPagePropertyForPreviewOps:function(t){return!("layerDictionary"===t.p[0]||!r.default.includes(l,t.p[0]))}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1));i(124),i(79),i(125),i(129),i(130),i(133),i(134);var o=n(i(135));i(316),r.default((function(){o.default.run()}))},function(t,e,i){"use strict";(function(t){Math.toRad=function(t){return t*(Math.PI/180)},Math.toDeg=function(t){return t*(180/Math.PI)},Math.format=function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},Math.dot=function(t,e,i,n){return t*i+e*n},Math.hit=function(t,e,i,n,r,o,a){return a?t>=i-r/2&&t<=i-r/2+r&&e>=n-o/2&&e<=n-o/2+o:t>=i&&t<=i+r&&e>=n&&e<=n+o},Math.boxhit=function(t,e,i,n,r,o,a,s){return!(t+i<r)&&(!(t>r+a)&&(!(e+n<o)&&!(e>o+s)))},Math.clamp=function(t,e,i){return t<e?e:t>i?i:t},Math.rotateCoord=function(t,e,i,n,r){3===arguments.length&&(t=arguments[0].getX(),e=arguments[0].getY(),i=arguments[1].getX(),n=arguments[1].getY(),r=arguments[2]);var o=t-i,a=e-n;return t=Math.cos(r)*o+Math.sin(r)*a,e=-Math.sin(r)*o+Math.cos(r)*a,t+=i,e+=n,new window.CerosMath.Point(t,e)},Math.oneRotatedBoxHit=function(t,e,i,n,r,o,a,s,u){var l=t+i/2,c=e+n/2;r*=-1;var d=Math.rotateCoord(t,e,l,c,r),h=d.x,f=d.y,p=(d=Math.rotateCoord(t+i,e,l,c,r)).x,g=d.y,m=(d=Math.rotateCoord(t,e+n,l,c,r)).x,v=d.y,y=(d=Math.rotateCoord(t+i,e+n,l,c,r)).x,_=d.y,b=o,T=o+s,w=a,S=a+u;if(h<b&&p<b&&m<b&&y<b)return!1;if(h>T&&p>T&&m>T&&y>T)return!1;if(f<w&&g<w&&v<w&&_<w)return!1;if(f>S&&g>S&&v>S&&_>S)return!1;var E=-1*(g-f),A=p-h,C=Math.dot(E,A,b-h,w-f),P=Math.dot(E,A,T-h,w-f),I=Math.dot(E,A,b-h,S-f),O=Math.dot(E,A,T-h,S-f);return!(C<=0&&P<=0&&I<=0&&O<=0)&&(E=-1*(_-g),A=y-p,C=Math.dot(E,A,b-p,w-g),P=Math.dot(E,A,T-p,w-g),I=Math.dot(E,A,b-p,S-g),O=Math.dot(E,A,T-p,S-g),!(C<=0&&P<=0&&I<=0&&O<=0)&&(E=-1*(v-_),A=m-y,C=Math.dot(E,A,b-y,w-_),P=Math.dot(E,A,T-y,w-_),I=Math.dot(E,A,b-y,S-_),O=Math.dot(E,A,T-y,S-_),!(C<=0&&P<=0&&I<=0&&O<=0)&&(E=-1*(f-v),A=h-m,C=Math.dot(E,A,b-m,w-v),P=Math.dot(E,A,T-m,w-v),I=Math.dot(E,A,b-m,S-v),O=Math.dot(E,A,T-m,S-v),!(C<=0&&P<=0&&I<=0&&O<=0))))},Math.angleBetweenLines=function(t,e){var i={x:t.x2-t.x1,y:t.y2-t.y1},n={x:e.x2-e.x1,y:e.y2-e.y1},r=Math.dot(i.x,i.y,n.x,n.y),o=i.x*n.y-i.y*n.x;return Math.atan2(o,r)},t.Math=Math}).call(this,i(28))},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0));i(127),i(128),function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),o=window.setTimeout((function(){e(n+r)}),r);return t=n+r,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),function(){try{new Uint8Array(1);return}catch(t){}function t(t,e){return this.slice(t,e)}function e(t,e){arguments.length<2&&(e=0);for(var i=0,n=t.length;i<n;++i,++e)this[e]=255&t[i]}function i(i){var n;if("number"==typeof i){n=new Array(i);for(var r=0;r<i;++r)n[r]=0}else n=i.slice(0);return n.subarray=t,n.buffer=n,n.byteLength=n.length,n.set=e,"object"==typeof i&&i.buffer&&(n.buffer=i.buffer),n}window.Uint8Array=i,window.Uint32Array=i,window.Int32Array=i}(),"undefined"==typeof console&&(window.console={log:function(){},warn:function(){},error:function(){},info:function(){},debug:function(){}}),Math.toRad=function(t){return t*(Math.PI/180)},Math.toDeg=function(t){return t*(180/Math.PI)},Math.format=function(t,e){return Math.round(t*Math.pow(10,e))/Math.pow(10,e)},Math.hit=function(t,e,i,n,r,o,a){return a?t>=i-r/2&&t<=i-r/2+r&&e>=n-o/2&&e<=n-o/2+o:t>=i&&t<=i+r&&e>=n&&e<=n+o},Math.boxhit=function(t,e,i,n,r,o,a,s){return(t>=r&&t<=r+a||t+i>=r&&t+i<=r+a)&&(e>=o&&e<=o+s||e+n>=o&&e+n<=o+s)},Math.clamp=function(t,e,i){return t<e?e:t>i?i:t},Math.rotateCoord=function(t,e,i,n,r){var o=t-i,a=e-n;return t=Math.cos(r)*o+Math.sin(r)*a,e=-Math.sin(r)*o+Math.cos(r)*a,{x:t+=i,y:e+=n}},Math.pointInPoly=function(t,e,i){var n,r,o=!1,a=t.length;for(n=0,r=a-1;n<a;r=n++)t[n].y>i!=t[r].y>i&&e<(t[r].x-t[n].x)*(i-t[n].y)/(t[r].y-t[n].y)+t[n].x&&(o=!o);return o},Object.create||(Object.create=function(t,e){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object prototype may only be an Object: "+t);if(null===t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");if(void 0!==e)throw new Error("This browser's implementation of Object.create is a shim and doesn't support a second argument.");function i(){}return i.prototype=t,new i}),!r.default.omitBy&&r.default.omit&&(r.default.omitBy=r.default.omit),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(t){t.hasOwnProperty("append")||Object.defineProperty(t,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=Array.prototype.slice.call(arguments),e=document.createDocumentFragment();t.forEach((function(t){var i=t instanceof Node;e.appendChild(i?t:document.createTextNode(String(t)))})),this.appendChild(e)}})})),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector)},function(t,e,i){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){"use strict";
/*!
 * jQuery-ajaxTransport-XDomainRequest - v1.0.4 - 2015-03-05
 * https://github.com/MoonScript/jQuery-ajaxTransport-XDomainRequest
 * Copyright (c) 2015 Jason Moon (@JSONMOON)
 * Licensed MIT (/blob/master/LICENSE.txt)
 */var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=!0;if(!r.default.support.cors&&r.default.ajaxTransport&&window.XDomainRequest||(o=!1),o){var a=/^(https?:)?\/\//i,s=/^get|post$/i,u=new RegExp("^(//|"+location.protocol+")","i");r.default.ajaxTransport("* text html xml json",(function(t,e,i){if(t.crossDomain&&t.async&&s.test(t.type)&&a.test(t.url)&&u.test(t.url)){var n=null;return{send:function(i,o){var a="",s=(e.dataType||"").toLowerCase();n=new XDomainRequest,/^\d+$/.test(e.timeout)&&(n.timeout=e.timeout),n.ontimeout=function(){o(500,"timeout")},n.onload=function(){var t="Content-Length: "+n.responseText.length+"\r\nContent-Type: "+n.contentType,e={code:200,message:"success"},i={text:n.responseText};try{if("html"===s||/text\/html/i.test(n.contentType))i.html=n.responseText;else if("json"===s||"text"!==s&&/\/json/i.test(n.contentType))try{i.json=JSON.parse(n.responseText)}catch(t){e.code=500,e.message="parseerror"}else if("xml"===s||"text"!==s&&/\/xml/i.test(n.contentType)){var r=new ActiveXObject("Microsoft.XMLDOM");r.async=!1;try{r.loadXML(n.responseText)}catch(t){r=void 0}if(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)throw e.code=500,e.message="parseerror","Invalid XML: "+n.responseText;i.xml=r}}catch(t){throw t}finally{o(e.code,e.message,i,t)}},n.onprogress=function(){},n.onerror=function(){o(500,"error",{text:n.responseText})},e.data&&(a="string"===r.default.type(e.data)?e.data:r.default.param(e.data)),n.open(t.type,t.url),n.send(a)},abort:function(){n&&n.abort()}}}}))}e.default=r.default},function(t,e,i){"use strict";!function(){var t=e,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function n(t){this.message=t}n.prototype=new Error,n.prototype.name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var e,r,o=String(t),a=0,s=i,u="";o.charAt(0|a)||(s="=",a%1);u+=s.charAt(63&e>>8-a%1*8)){if((r=o.charCodeAt(a+=3/4))>255)throw new n("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|r}return u}),t.atob||(t.atob=function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,a=0,s=0,u="";o=e.charAt(s++);~o&&(r=a%4?64*r+o:o,a++%4)?u+=String.fromCharCode(255&r>>(-2*a&6)):0)o=i.indexOf(o);return u})}()},function(t,e,i){"use strict";var n,r;n=[i(1)],void 0===(r=function(t){return function(t){void 0!==t.easing&&(t.easing.jswing=t.easing.swing);var e=Math.pow,i=Math.sqrt,n=Math.sin,r=Math.cos,o=Math.PI,a=1.70158,s=1.525*a,u=2*o/3,l=2*o/4.5;function c(t){var e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375}t.extend(t.easing,{def:"easeOutQuad",swing:function(e){return t.easing[t.easing.def](e)},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return 1-(1-t)*(1-t)},easeInOutQuad:function(t){return t<.5?2*t*t:1-e(-2*t+2,2)/2},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1-e(1-t,3)},easeInOutCubic:function(t){return t<.5?4*t*t*t:1-e(-2*t+2,3)/2},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1-e(1-t,4)},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-e(-2*t+2,4)/2},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1-e(1-t,5)},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1-e(-2*t+2,5)/2},easeInSine:function(t){return 1-r(t*o/2)},easeOutSine:function(t){return n(t*o/2)},easeInOutSine:function(t){return-(r(o*t)-1)/2},easeInExpo:function(t){return 0===t?0:e(2,10*t-10)},easeOutExpo:function(t){return 1===t?1:1-e(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:t<.5?e(2,20*t-10)/2:(2-e(2,-20*t+10))/2},easeInCirc:function(t){return 1-i(1-e(t,2))},easeOutCirc:function(t){return i(1-e(t-1,2))},easeInOutCirc:function(t){return t<.5?(1-i(1-e(2*t,2)))/2:(i(1-e(-2*t+2,2))+1)/2},easeInElastic:function(t){return 0===t?0:1===t?1:-e(2,10*t-10)*n((10*t-10.75)*u)},easeOutElastic:function(t){return 0===t?0:1===t?1:e(2,-10*t)*n((10*t-.75)*u)+1},easeInOutElastic:function(t){return 0===t?0:1===t?1:t<.5?-e(2,20*t-10)*n((20*t-11.125)*l)/2:e(2,-20*t+10)*n((20*t-11.125)*l)/2+1},easeInBack:function(t){return 2.70158*t*t*t-a*t*t},easeOutBack:function(t){return 1+2.70158*e(t-1,3)+a*e(t-1,2)},easeInOutBack:function(t){return t<.5?e(2*t,2)*(7.189819*t-s)/2:(e(2*t-2,2)*((s+1)*(2*t-2)+s)+2)/2},easeInBounce:function(t){return 1-c(1-t)},easeOutBounce:c,easeInOutBounce:function(t){return t<.5?(1-c(1-2*t))/2:(1+c(2*t-1))/2}})}(t)}.apply(e,n))||(t.exports=r)},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(3)),s="backgroundImage",u=document.createElement("div"),l=u.style,c=/^(.*?)(:?linear-gradient)(\()([0-9]+)deg,([^,]+) ([0-9]+)%,([^,]+) ([0-9]+)%(\))(.*?)$/i;if(l.cssText="background-image: linear-gradient(red, blue);",r.default.support.linearGradient=!!/(^|\s)linear-gradient/.test(l.backgroundImage)&&"linear-gradient",u=l=null,!r.default.support.linearGradient){r.default.cssNumber[s]=!0;r.default.cssHooks[s]={set:function(t,e){var i=c.exec(e);if(o.default.isEmpty(i))t.style[s]=e;else{i[0];var n=i[4],r=i[5],u=i[6],l=i[7],d=i[8];t.style[s]=function(t,e,i,n,r,o,s){var u="";return a.default.webkit?u="-webkit-":a.default.mozilla&&(u="-moz-"),u+("linear-gradient("+(i=90-parseInt(i,10))+"deg,"+n+" "+r+"%,"+o+" "+s+"%)")}(0,0,n,r,u,l,d)}}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=navigator.userAgent||navigator.vendor||window.opera,/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4)));e.default={isMobile:r}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o="Microsoft Edge",a="mozilla",s="webkit",u="trident",l={browser:function(t){var e,i={name:"unknown",version:"unknown",engine:null,isMsie:function(){return"MSIE"===this.name},isEdge:function(){return o===this.name},msieVersion:function(){return!!this.isMsie()&&Math.floor(this.version)},isWebkit:function(){return s===this.engine},isMozilla:function(){return a===this.engine},isTrident:function(){return u===this.engine}};return(e=t.match(/(PhantomJS)\/([0-9.]*)/))||(e=t.match(/(jsdom)\/([0-9.]*)/))?(i.name=e[1],i.version=e[2],i.engine=s):(e=t.match(/(Edge)\/([0-9.]*)/))?(i.name=o,i.version=e[2],i.engine=u):(e=t.match(/(Firefox)\/([0-9.]*)/))?(i.name=e[1],i.version=e[2],i.engine=a):(e=t.match(/(Chrome|CriOS)\/([0-9.]*)/))?(i.name=e[1],i.version=e[2],i.engine=s):/Safari/.test(t)?(e=t.match(/(Version)\/([0-9.]*)/))&&(i.name=(/Mobile/.test(t)?"Mobile ":"")+"Safari",i.version=e[2],i.engine=s):(e=t.match(/(Silk)\/([0-9.]*)/))?(i.name=e[1],i.version=e[2],i.engine=s):(e=t.match(/(MSIE) ([0-9]+)/))?(i.name=e[1],i.version=e[2],i.engine=u):(e=t.match(/Trident\/[0-9.]+;.*rv:([0-9.]*)/))&&(i.name="MSIE",i.version=e[1],i.engine=u),r.default.isNull(i.engine)&&t.match(/(webkit)[ \/]([\w.]+)/i)&&(i.engine=s),i}};e.default=l},function(t,e,i){"use strict";(function(t){!function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){i(1),i(61),i(62),i(63),i(64),i(65),i(66),i(67),i(68),i(69),i(70),i(71),i(72),i(73),i(74),i(75),i(78),i(81),i(83),i(85),i(86),i(87),i(88),i(90),i(91),i(93),i(101),i(102),i(103),i(104),i(112),i(113),i(115),i(116),i(117),i(119),i(120),i(121),i(122),i(123),i(124),i(126),i(127),i(128),i(129),i(135),i(136),i(138),i(139),i(140),i(144),i(145),i(147),i(148),i(150),i(151),i(152),i(153),i(154),i(161),i(163),i(164),i(165),i(167),i(168),i(170),i(171),i(173),i(174),i(175),i(176),i(177),i(178),i(179),i(180),i(181),i(182),i(183),i(186),i(187),i(189),i(191),i(192),i(193),i(194),i(195),i(197),i(199),i(201),i(202),i(204),i(205),i(207),i(208),i(209),i(210),i(212),i(213),i(214),i(215),i(216),i(217),i(218),i(220),i(221),i(222),i(223),i(224),i(225),i(226),i(227),i(228),i(229),i(231),i(232),i(233),i(234),i(243),i(244),i(245),i(246),i(247),i(248),i(249),i(250),i(251),i(252),i(253),i(254),i(255),i(256),i(257),i(258),i(261),i(263),i(264),i(265),i(266),i(268),i(271),i(272),i(273),i(274),i(278),i(279),i(281),i(282),i(283),i(284),i(285),i(286),i(287),i(288),i(290),i(291),i(292),i(295),i(296),i(297),i(298),i(299),i(300),i(301),i(302),i(303),i(304),i(305),i(306),i(307),i(313),i(314),i(315),i(316),i(317),i(318),i(319),i(320),i(321),i(322),i(323),i(324),i(325),i(326),i(327),i(328),i(329),i(330),i(331),i(332),i(333),i(334),i(335),i(336),i(337),i(338),i(339),i(340),i(341),i(342),i(343),i(344),i(345),i(346),i(348),i(349),i(350),i(351),i(352),i(353),i(355),i(357),i(358),i(360),i(361),i(362),i(364),i(365),i(366),i(367),i(368),i(369),i(370),i(371),i(373),i(374),i(375),i(376),i(378),i(379),i(380),i(381),i(382),i(383),i(384),i(385),i(386),i(387),i(388),i(389),i(390),i(392),i(395),i(396),i(397),i(398),i(400),i(401),i(403),i(404),i(405),i(406),i(407),i(408),i(410),i(411),i(412),i(413),i(415),i(416),i(417),i(418),i(419),i(421),i(422),i(423),i(424),i(425),i(426),i(427),i(428),i(429),i(430),i(431),i(432),i(433),i(434),i(435),i(437),i(438),i(439),i(440),i(441),i(442),i(443),i(444),i(445),i(447),i(448),i(449),i(451),i(452),i(453),i(454),i(455),i(456),i(457),i(458),i(459),i(460),i(461),i(462),i(463),i(464),i(465),i(466),i(467),i(468),i(469),i(470),i(471),i(472),i(473),i(474),i(475),i(476),i(477),i(478),i(479),i(480),i(481),i(482),i(484),i(485),i(486),i(487),i(488),i(492),t.exports=i(491)},function(t,e,i){var n=i(2),r=i(3),o=i(23),a=i(5),s=i(45),u=i(6),l=i(15),c=i(46),d=i(14),h=i(20),f=i(47),p=i(9),g=i(13),m=i(8),v=i(48),y=i(50),_=i(36),b=i(52),T=i(43),w=i(4),S=i(19),E=i(7),A=i(18),C=i(21),P=i(22),I=i(29),O=i(31),x=i(30),k=i(53),R=i(54),M=i(55),L=i(56),D=i(27),N=i(57).forEach,F=I("hidden"),U=k("toPrimitive"),V=D.set,B=D.getterFor("Symbol"),j=Object.prototype,H=r.Symbol,G=r.JSON,W=G&&G.stringify,z=w.f,$=S.f,q=b.f,Y=E.f,K=P("symbols"),X=P("op-symbols"),Z=P("string-to-symbol-registry"),Q=P("symbol-to-string-registry"),J=P("wks"),tt=r.QObject,et=!tt||!tt.prototype||!tt.prototype.findChild,it=a&&u((function(){return 7!=v($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=z(j,e);n&&delete j[e],$(t,e,i),n&&t!==j&&$(j,e,n)}:$,nt=function(t,e){var i=K[t]=v(H.prototype);return V(i,{type:"Symbol",tag:t,description:e}),a||(i.description=e),i},rt=s&&"symbol"==typeof H.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof H},ot=function(t,e,i){t===j&&ot(X,e,i),h(t);var n=g(e,!0);return h(i),l(K,n)?(i.enumerable?(l(t,F)&&t[F][n]&&(t[F][n]=!1),i=v(i,{enumerable:m(0,!1)})):(l(t,F)||$(t,F,m(1,{})),t[F][n]=!0),it(t,n,i)):$(t,n,i)},at=function(t,e){h(t);var i=p(e),n=y(i).concat(ct(i));return N(n,(function(e){a&&!st.call(i,e)||ot(t,e,i[e])})),t},st=function(t){var e=g(t,!0),i=Y.call(this,e);return!(this===j&&l(K,e)&&!l(X,e))&&(!(i||!l(this,e)||!l(K,e)||l(this,F)&&this[F][e])||i)},ut=function(t,e){var i=p(t),n=g(e,!0);if(i!==j||!l(K,n)||l(X,n)){var r=z(i,n);return!r||!l(K,n)||l(i,F)&&i[F][n]||(r.enumerable=!0),r}},lt=function(t){var e=q(p(t)),i=[];return N(e,(function(t){l(K,t)||l(O,t)||i.push(t)})),i},ct=function(t){var e=t===j,i=q(e?X:p(t)),n=[];return N(i,(function(t){!l(K,t)||e&&!l(j,t)||n.push(K[t])})),n};s||(C((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=x(t),i=function(t){this===j&&i.call(X,t),l(this,F)&&l(this[F],e)&&(this[F][e]=!1),it(this,e,m(1,t))};return a&&et&&it(j,e,{configurable:!0,set:i}),nt(e,t)}).prototype,"toString",(function(){return B(this).tag})),E.f=st,S.f=ot,w.f=ut,_.f=b.f=lt,T.f=ct,a&&($(H.prototype,"description",{configurable:!0,get:function(){return B(this).description}}),o||C(j,"propertyIsEnumerable",st,{unsafe:!0})),R.f=function(t){return nt(k(t),t)}),n({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:H}),N(y(J),(function(t){M(t)})),n({target:"Symbol",stat:!0,forced:!s},{for:function(t){var e=String(t);if(l(Z,e))return Z[e];var i=H(e);return Z[e]=i,Q[i]=e,i},keyFor:function(t){if(!rt(t))throw TypeError(t+" is not a symbol");if(l(Q,t))return Q[t]},useSetter:function(){et=!0},useSimple:function(){et=!1}}),n({target:"Object",stat:!0,forced:!s,sham:!a},{create:function(t,e){return void 0===e?v(t):at(v(t),e)},defineProperty:ot,defineProperties:at,getOwnPropertyDescriptor:ut}),n({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:lt,getOwnPropertySymbols:ct}),n({target:"Object",stat:!0,forced:u((function(){T.f(1)}))},{getOwnPropertySymbols:function(t){return T.f(f(t))}}),G&&n({target:"JSON",stat:!0,forced:!s||u((function(){var t=H();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}))},{stringify:function(t){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=e=n[1],(d(e)||void 0!==t)&&!rt(t))return c(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!rt(e))return e}),n[1]=e,W.apply(G,n)}}),H.prototype[U]||A(H.prototype,U,H.prototype.valueOf),L(H,"Symbol"),O[F]=!0},function(t,e,i){var n=i(3),r=i(4).f,o=i(18),a=i(21),s=i(25),u=i(32),l=i(44);t.exports=function(t,e){var i,c,d,h,f,p=t.target,g=t.global,m=t.stat;if(i=g?n:m?n[p]||s(p,{}):(n[p]||{}).prototype)for(c in e){if(h=e[c],d=t.noTargetGet?(f=r(i,c))&&f.value:i[c],!l(g?c:p+(m?".":"#")+c,t.forced)&&void 0!==d){if(typeof h==typeof d)continue;u(h,d)}(t.sham||d&&d.sham)&&o(h,"sham",!0),a(i,c,h,t)}}},function(e,i){var n=function(t){return t&&t.Math==Math&&t};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()},function(t,e,i){var n=i(5),r=i(7),o=i(8),a=i(9),s=i(13),u=i(15),l=i(16),c=Object.getOwnPropertyDescriptor;e.f=n?c:function(t,e){if(t=a(t),e=s(e,!0),l)try{return c(t,e)}catch(t){}if(u(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,i){var n=i(6);t.exports=!n((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,i){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,o=r&&!n.call({1:2},1);e.f=o?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,i){var n=i(10),r=i(12);t.exports=function(t){return n(r(t))}},function(t,e,i){var n=i(6),r=i(11),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?o.call(t,""):Object(t)}:Object},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,i){var n=i(14);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var n=i(5),r=i(6),o=i(17);t.exports=!n&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,e,i){var n=i(3),r=i(14),o=n.document,a=r(o)&&r(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e,i){var n=i(5),r=i(19),o=i(8);t.exports=n?function(t,e,i){return r.f(t,e,o(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(5),r=i(16),o=i(20),a=i(13),s=Object.defineProperty;e.f=n?s:function(t,e,i){if(o(t),e=a(e,!0),o(i),r)try{return s(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n=i(14);t.exports=function(t){if(!n(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,i){var n=i(3),r=i(22),o=i(18),a=i(15),s=i(25),u=i(26),l=i(27),c=l.get,d=l.enforce,h=String(u).split("toString");r("inspectSource",(function(t){return u.call(t)})),(t.exports=function(t,e,i,r){var u=!!r&&!!r.unsafe,l=!!r&&!!r.enumerable,c=!!r&&!!r.noTargetGet;"function"==typeof i&&("string"!=typeof e||a(i,"name")||o(i,"name",e),d(i).source=h.join("string"==typeof e?e:"")),t!==n?(u?!c&&t[e]&&(l=!0):delete t[e],l?t[e]=i:o(t,e,i)):l?t[e]=i:s(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||u.call(this)}))},function(t,e,i){var n=i(23),r=i(24);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.3.3",mode:n?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,i){var n=i(3),r=i(25),o=n["__core-js_shared__"]||r("__core-js_shared__",{});t.exports=o},function(t,e,i){var n=i(3),r=i(18);t.exports=function(t,e){try{r(n,t,e)}catch(i){n[t]=e}return e}},function(t,e,i){var n=i(22);t.exports=n("native-function-to-string",Function.toString)},function(t,e,i){var n,r,o,a=i(28),s=i(3),u=i(14),l=i(18),c=i(15),d=i(29),h=i(31),f=s.WeakMap;if(a){var p=new f,g=p.get,m=p.has,v=p.set;n=function(t,e){return v.call(p,t,e),e},r=function(t){return g.call(p,t)||{}},o=function(t){return m.call(p,t)}}else{var y=d("state");h[y]=!0,n=function(t,e){return l(t,y,e),e},r=function(t){return c(t,y)?t[y]:{}},o=function(t){return c(t,y)}}t.exports={set:n,get:r,has:o,enforce:function(t){return o(t)?r(t):n(t,{})},getterFor:function(t){return function(e){var i;if(!u(e)||(i=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}}},function(t,e,i){var n=i(3),r=i(26),o=n.WeakMap;t.exports="function"==typeof o&&/native code/.test(r.call(o))},function(t,e,i){var n=i(22),r=i(30),o=n("keys");t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++i+n).toString(36)}},function(t,e){t.exports={}},function(t,e,i){var n=i(15),r=i(33),o=i(4),a=i(19);t.exports=function(t,e){for(var i=r(e),s=a.f,u=o.f,l=0;l<i.length;l++){var c=i[l];n(t,c)||s(t,c,u(e,c))}}},function(t,e,i){var n=i(34),r=i(36),o=i(43),a=i(20);t.exports=n("Reflect","ownKeys")||function(t){var e=r.f(a(t)),i=o.f;return i?e.concat(i(t)):e}},function(t,e,i){var n=i(35),r=i(3),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(n[t])||o(r[t]):n[t]&&n[t][e]||r[t]&&r[t][e]}},function(t,e,i){t.exports=i(3)},function(t,e,i){var n=i(37),r=i(42).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){var n=i(15),r=i(9),o=i(38).indexOf,a=i(31);t.exports=function(t,e){var i,s=r(t),u=0,l=[];for(i in s)!n(a,i)&&n(s,i)&&l.push(i);for(;e.length>u;)n(s,i=e[u++])&&(~o(l,i)||l.push(i));return l}},function(t,e,i){var n=i(9),r=i(39),o=i(41),a=function(t){return function(e,i,a){var s,u=n(e),l=r(u.length),c=o(a,l);if(t&&i!=i){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===i)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,i){var n=i(40),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){var n=i(40),r=Math.max,o=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):o(i,e)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(6),r=/#|\.prototype\./,o=function(t,e){var i=s[a(t)];return i==l||i!=u&&("function"==typeof e?n(e):!!e)},a=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},function(t,e,i){var n=i(6);t.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(t,e,i){var n=i(11);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){var n=i(12);t.exports=function(t){return Object(n(t))}},function(t,e,i){var n=i(20),r=i(49),o=i(42),a=i(31),s=i(51),u=i(17),l=i(29)("IE_PROTO"),c=function(){},d=function(){var t,e=u("iframe"),i=o.length;for(e.style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),d=t.F;i--;)delete d.prototype[o[i]];return d()};t.exports=Object.create||function(t,e){var i;return null!==t?(c.prototype=n(t),i=new c,c.prototype=null,i[l]=t):i=d(),void 0===e?i:r(i,e)},a[l]=!0},function(t,e,i){var n=i(5),r=i(19),o=i(20),a=i(50);t.exports=n?Object.defineProperties:function(t,e){o(t);for(var i,n=a(e),s=n.length,u=0;s>u;)r.f(t,i=n[u++],e[i]);return t}},function(t,e,i){var n=i(37),r=i(42);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){var n=i(34);t.exports=n("document","documentElement")},function(t,e,i){var n=i(9),r=i(36).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(n(t))}},function(t,e,i){var n=i(3),r=i(22),o=i(30),a=i(45),s=n.Symbol,u=r("wks");t.exports=function(t){return u[t]||(u[t]=a&&s[t]||(a?s:o)("Symbol."+t))}},function(t,e,i){e.f=i(53)},function(t,e,i){var n=i(35),r=i(15),o=i(54),a=i(19).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});r(e,t)||a(e,t,{value:o.f(t)})}},function(t,e,i){var n=i(19).f,r=i(15),o=i(53)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,i){var n=i(58),r=i(10),o=i(47),a=i(39),s=i(60),u=[].push,l=function(t){var e=1==t,i=2==t,l=3==t,c=4==t,d=6==t,h=5==t||d;return function(f,p,g,m){for(var v,y,_=o(f),b=r(_),T=n(p,g,3),w=a(b.length),S=0,E=m||s,A=e?E(f,w):i?E(f,0):void 0;w>S;S++)if((h||S in b)&&(y=T(v=b[S],S,_),t))if(e)A[S]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return S;case 2:u.call(A,v)}else if(c)return!1;return d?-1:l||c?c:A}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},function(t,e,i){var n=i(59);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,i){var n=i(14),r=i(46),o=i(53)("species");t.exports=function(t,e){var i;return r(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!r(i.prototype)?n(i)&&null===(i=i[o])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},function(t,e,i){var n=i(2),r=i(5),o=i(3),a=i(15),s=i(14),u=i(19).f,l=i(32),c=o.Symbol;if(r&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var d={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new c(t):void 0===t?c():c(t);return""===t&&(d[e]=!0),e};l(h,c);var f=h.prototype=c.prototype;f.constructor=h;var p=f.toString,g="Symbol(test)"==String(c("test")),m=/^Symbol\((.*)\)[^)]+$/;u(f,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(a(d,t))return"";var i=g?e.slice(7,-1):e.replace(m,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:h})}},function(t,e,i){i(55)("asyncIterator")},function(t,e,i){i(55)("hasInstance")},function(t,e,i){i(55)("isConcatSpreadable")},function(t,e,i){i(55)("iterator")},function(t,e,i){i(55)("match")},function(t,e,i){i(55)("matchAll")},function(t,e,i){i(55)("replace")},function(t,e,i){i(55)("search")},function(t,e,i){i(55)("species")},function(t,e,i){i(55)("split")},function(t,e,i){i(55)("toPrimitive")},function(t,e,i){i(55)("toStringTag")},function(t,e,i){i(55)("unscopables")},function(t,e,i){var n=i(2),r=i(6),o=i(46),a=i(14),s=i(47),u=i(39),l=i(76),c=i(60),d=i(77),h=i(53)("isConcatSpreadable"),f=!r((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),p=d("concat"),g=function(t){if(!a(t))return!1;var e=t[h];return void 0!==e?!!e:o(t)};n({target:"Array",proto:!0,forced:!f||!p},{concat:function(t){var e,i,n,r,o,a=s(this),d=c(a,0),h=0;for(e=-1,n=arguments.length;e<n;e++)if(g(o=-1===e?a:arguments[e])){if(h+(r=u(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<r;i++,h++)i in o&&l(d,h,o[i])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");l(d,h++,o)}return d.length=h,d}})},function(t,e,i){var n=i(13),r=i(19),o=i(8);t.exports=function(t,e,i){var a=n(e);a in t?r.f(t,a,o(0,i)):t[a]=i}},function(t,e,i){var n=i(6),r=i(53)("species");t.exports=function(t){return!n((function(){var e=[];return(e.constructor={})[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,i){var n=i(2),r=i(79),o=i(80);n({target:"Array",proto:!0},{copyWithin:r}),o("copyWithin")},function(t,e,i){var n=i(47),r=i(41),o=i(39),a=Math.min;t.exports=[].copyWithin||function(t,e){var i=n(this),s=o(i.length),u=r(t,s),l=r(e,s),c=arguments.length>2?arguments[2]:void 0,d=a((void 0===c?s:r(c,s))-l,s-u),h=1;for(l<u&&u<l+d&&(h=-1,l+=d-1,u+=d-1);d-- >0;)l in i?i[u]=i[l]:delete i[u],u+=h,l+=h;return i}},function(t,e,i){var n=i(53),r=i(48),o=i(18),a=n("unscopables"),s=Array.prototype;null==s[a]&&o(s,a,r(null)),t.exports=function(t){s[a][t]=!0}},function(t,e,i){var n=i(2),r=i(57).every;n({target:"Array",proto:!0,forced:i(82)("every")},{every:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(6);t.exports=function(t,e){var i=[][t];return!i||!n((function(){i.call(null,e||function(){throw 1},1)}))}},function(t,e,i){var n=i(2),r=i(84),o=i(80);n({target:"Array",proto:!0},{fill:r}),o("fill")},function(t,e,i){var n=i(47),r=i(41),o=i(39);t.exports=function(t){for(var e=n(this),i=o(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,i),u=a>2?arguments[2]:void 0,l=void 0===u?i:r(u,i);l>s;)e[s++]=t;return e}},function(t,e,i){var n=i(2),r=i(57).filter;n({target:"Array",proto:!0,forced:!i(77)("filter")},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(2),r=i(57).find,o=i(80),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(t,e,i){var n=i(2),r=i(57).findIndex,o=i(80),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},function(t,e,i){var n=i(2),r=i(89),o=i(47),a=i(39),s=i(40),u=i(60);n({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),i=a(e.length),n=u(e,0);return n.length=r(n,e,e,i,0,void 0===t?1:s(t)),n}})},function(t,e,i){var n=i(46),r=i(39),o=i(58),a=function(t,e,i,s,u,l,c,d){for(var h,f=u,p=0,g=!!c&&o(c,d,3);p<s;){if(p in i){if(h=g?g(i[p],p,e):i[p],l>0&&n(h))f=a(t,e,h,r(h.length),f,l-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[f]=h}f++}p++}return f};t.exports=a},function(t,e,i){var n=i(2),r=i(89),o=i(47),a=i(39),s=i(59),u=i(60);n({target:"Array",proto:!0},{flatMap:function(t){var e,i=o(this),n=a(i.length);return s(t),(e=u(i,0)).length=r(e,i,i,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},function(t,e,i){var n=i(2),r=i(92);n({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(t,e,i){var n=i(57).forEach,r=i(82);t.exports=r("forEach")?function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(t,e,i){var n=i(2),r=i(94);n({target:"Array",stat:!0,forced:!i(100)((function(t){Array.from(t)}))},{from:r})},function(t,e,i){var n=i(58),r=i(47),o=i(95),a=i(96),s=i(39),u=i(76),l=i(98);t.exports=function(t){var e,i,c,d,h,f=r(t),p="function"==typeof this?this:Array,g=arguments.length,m=g>1?arguments[1]:void 0,v=void 0!==m,y=0,_=l(f);if(v&&(m=n(m,g>2?arguments[2]:void 0,2)),null==_||p==Array&&a(_))for(i=new p(e=s(f.length));e>y;y++)u(i,y,v?m(f[y],y):f[y]);else for(h=(d=_.call(f)).next,i=new p;!(c=h.call(d)).done;y++)u(i,y,v?o(d,m,[c.value,y],!0):c.value);return i.length=y,i}},function(t,e,i){var n=i(20);t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},function(t,e,i){var n=i(53),r=i(97),o=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||a[o]===t)}},function(t,e){t.exports={}},function(t,e,i){var n=i(99),r=i(97),o=i(53)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[n(t)]}},function(t,e,i){var n=i(11),r=i(53)("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,i,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?i:o?n(e):"Object"==(a=n(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,i){var n=i(53)("iterator"),r=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){r=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var o={};o[n]=function(){return{next:function(){return{done:i=!0}}}},t(o)}catch(t){}return i}},function(t,e,i){var n=i(2),r=i(38).includes,o=i(80);n({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(t,e,i){var n=i(2),r=i(38).indexOf,o=i(82),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,u=o("indexOf");n({target:"Array",proto:!0,forced:s||u},{indexOf:function(t){return s?a.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){i(2)({target:"Array",stat:!0},{isArray:i(46)})},function(t,e,i){var n=i(9),r=i(80),o=i(97),a=i(27),s=i(105),u=a.set,l=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){u(this,{type:"Array Iterator",target:n(t),index:0,kind:e})}),(function(){var t=l(this),e=t.target,i=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==i?{value:n,done:!1}:"values"==i?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(t,e,i){var n=i(2),r=i(106),o=i(108),a=i(110),s=i(56),u=i(18),l=i(21),c=i(53),d=i(23),h=i(97),f=i(107),p=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,m=c("iterator"),v=function(){return this};t.exports=function(t,e,i,c,f,y,_){r(i,e,c);var b,T,w,S=function(t){if(t===f&&I)return I;if(!g&&t in C)return C[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},E=e+" Iterator",A=!1,C=t.prototype,P=C[m]||C["@@iterator"]||f&&C[f],I=!g&&P||S(f),O="Array"==e&&C.entries||P;if(O&&(b=o(O.call(new t)),p!==Object.prototype&&b.next&&(d||o(b)===p||(a?a(b,p):"function"!=typeof b[m]&&u(b,m,v)),s(b,E,!0,!0),d&&(h[E]=v))),"values"==f&&P&&"values"!==P.name&&(A=!0,I=function(){return P.call(this)}),d&&!_||C[m]===I||u(C,m,I),h[e]=I,f)if(T={values:S("values"),keys:y?I:S("keys"),entries:S("entries")},_)for(w in T)(g||A||!(w in C))&&l(C,w,T[w]);else n({target:e,proto:!0,forced:g||A},T);return T}},function(t,e,i){var n=i(107).IteratorPrototype,r=i(48),o=i(8),a=i(56),s=i(97),u=function(){return this};t.exports=function(t,e,i){var l=e+" Iterator";return t.prototype=r(n,{next:o(1,i)}),a(t,l,!1,!0),s[l]=u,t}},function(t,e,i){var n,r,o,a=i(108),s=i(18),u=i(15),l=i(53),c=i(23),d=l("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(r=a(a(o)))!==Object.prototype&&(n=r):h=!0),null==n&&(n={}),c||u(n,d)||s(n,d,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:h}},function(t,e,i){var n=i(15),r=i(47),o=i(29),a=i(109),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=r(t),n(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,i){var n=i(6);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,i){var n=i(20),r=i(111);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(t){}return function(i,o){return n(i),r(o),e?t.call(i,o):i.__proto__=o,i}}():void 0)},function(t,e,i){var n=i(14);t.exports=function(t){if(!n(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,i){var n=i(2),r=i(10),o=i(9),a=i(82),s=[].join,u=r!=Object,l=a("join",",");n({target:"Array",proto:!0,forced:u||l},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},function(t,e,i){var n=i(2),r=i(114);n({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},function(t,e,i){var n=i(9),r=i(40),o=i(39),a=i(82),s=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,c=a("lastIndexOf");t.exports=l||c?function(t){if(l)return u.apply(this,arguments)||0;var e=n(this),i=o(e.length),a=i-1;for(arguments.length>1&&(a=s(a,r(arguments[1]))),a<0&&(a=i+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:u},function(t,e,i){var n=i(2),r=i(57).map;n({target:"Array",proto:!0,forced:!i(77)("map")},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(2),r=i(6),o=i(76);n({target:"Array",stat:!0,forced:r((function(){function t(){}return!(Array.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);e>t;)o(i,t,arguments[t++]);return i.length=e,i}})},function(t,e,i){var n=i(2),r=i(118).left;n({target:"Array",proto:!0,forced:i(82)("reduce")},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(59),r=i(47),o=i(10),a=i(39),s=function(t){return function(e,i,s,u){n(i);var l=r(e),c=o(l),d=a(l.length),h=t?d-1:0,f=t?-1:1;if(s<2)for(;;){if(h in c){u=c[h],h+=f;break}if(h+=f,t?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:d>h;h+=f)h in c&&(u=i(u,c[h],h,l));return u}};t.exports={left:s(!1),right:s(!0)}},function(t,e,i){var n=i(2),r=i(118).right;n({target:"Array",proto:!0,forced:i(82)("reduceRight")},{reduceRight:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(2),r=i(46),o=[].reverse,a=[1,2];n({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),o.call(this)}})},function(t,e,i){var n=i(2),r=i(14),o=i(46),a=i(41),s=i(39),u=i(9),l=i(76),c=i(77),d=i(53)("species"),h=[].slice,f=Math.max;n({target:"Array",proto:!0,forced:!c("slice")},{slice:function(t,e){var i,n,c,p=u(this),g=s(p.length),m=a(t,g),v=a(void 0===e?g:e,g);if(o(p)&&("function"!=typeof(i=p.constructor)||i!==Array&&!o(i.prototype)?r(i)&&null===(i=i[d])&&(i=void 0):i=void 0,i===Array||void 0===i))return h.call(p,m,v);for(n=new(void 0===i?Array:i)(f(v-m,0)),c=0;m<v;m++,c++)m in p&&l(n,c,p[m]);return n.length=c,n}})},function(t,e,i){var n=i(2),r=i(57).some;n({target:"Array",proto:!0,forced:i(82)("some")},{some:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(2),r=i(59),o=i(47),a=i(6),s=i(82),u=[].sort,l=[1,2,3],c=a((function(){l.sort(void 0)})),d=a((function(){l.sort(null)})),h=s("sort");n({target:"Array",proto:!0,forced:c||!d||h},{sort:function(t){return void 0===t?u.call(o(this)):u.call(o(this),r(t))}})},function(t,e,i){i(125)("Array")},function(t,e,i){var n=i(34),r=i(19),o=i(53),a=i(5),s=o("species");t.exports=function(t){var e=n(t),i=r.f;a&&e&&!e[s]&&i(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,i){var n=i(2),r=i(41),o=i(40),a=i(39),s=i(47),u=i(60),l=i(76),c=i(77),d=Math.max,h=Math.min;n({target:"Array",proto:!0,forced:!c("splice")},{splice:function(t,e){var i,n,c,f,p,g,m=s(this),v=a(m.length),y=r(t,v),_=arguments.length;if(0===_?i=n=0:1===_?(i=0,n=v-y):(i=_-2,n=h(d(o(e),0),v-y)),v+i-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(c=u(m,n),f=0;f<n;f++)(p=y+f)in m&&l(c,f,m[p]);if(c.length=n,i<n){for(f=y;f<v-n;f++)g=f+i,(p=f+n)in m?m[g]=m[p]:delete m[g];for(f=v;f>v-n+i;f--)delete m[f-1]}else if(i>n)for(f=v-n;f>y;f--)g=f+i-1,(p=f+n-1)in m?m[g]=m[p]:delete m[g];for(f=0;f<i;f++)m[f+y]=arguments[f+2];return m.length=v-n+i,c}})},function(t,e,i){i(80)("flat")},function(t,e,i){i(80)("flatMap")},function(t,e,i){var n=i(2),r=i(3),o=i(130),a=i(125),s=o.ArrayBuffer;n({global:!0,forced:r.ArrayBuffer!==s},{ArrayBuffer:s}),a("ArrayBuffer")},function(t,e,i){var n=i(3),r=i(5),o=i(131).NATIVE_ARRAY_BUFFER,a=i(18),s=i(132),u=i(6),l=i(133),c=i(40),d=i(39),h=i(134),f=i(36).f,p=i(19).f,g=i(84),m=i(56),v=i(27),y=v.get,_=v.set,b=n.ArrayBuffer,T=b,w=n.DataView,S=n.Math,E=n.RangeError,A=S.abs,C=S.pow,P=S.floor,I=S.log,O=S.LN2,x=function(t,e,i){var n,r,o,a=new Array(i),s=8*i-e-1,u=(1<<s)-1,l=u>>1,c=23===e?C(2,-24)-C(2,-77):0,d=t<0||0===t&&1/t<0?1:0,h=0;for((t=A(t))!=t||t===1/0?(r=t!=t?1:0,n=u):(n=P(I(t)/O),t*(o=C(2,-n))<1&&(n--,o*=2),(t+=n+l>=1?c/o:c*C(2,1-l))*o>=2&&(n++,o/=2),n+l>=u?(r=0,n=u):n+l>=1?(r=(t*o-1)*C(2,e),n+=l):(r=t*C(2,l-1)*C(2,e),n=0));e>=8;a[h++]=255&r,r/=256,e-=8);for(n=n<<e|r,s+=e;s>0;a[h++]=255&n,n/=256,s-=8);return a[--h]|=128*d,a},k=function(t,e){var i,n=t.length,r=8*n-e-1,o=(1<<r)-1,a=o>>1,s=r-7,u=n-1,l=t[u--],c=127&l;for(l>>=7;s>0;c=256*c+t[u],u--,s-=8);for(i=c&(1<<-s)-1,c>>=-s,s+=e;s>0;i=256*i+t[u],u--,s-=8);if(0===c)c=1-a;else{if(c===o)return i?NaN:l?-1/0:1/0;i+=C(2,e),c-=a}return(l?-1:1)*i*C(2,c-e)},R=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},M=function(t){return[255&t]},L=function(t){return[255&t,t>>8&255]},D=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},N=function(t){return x(t,23,4)},F=function(t){return x(t,52,8)},U=function(t,e){p(t.prototype,e,{get:function(){return y(this)[e]}})},V=function(t,e,i,n){var r=h(+i),o=y(t);if(r+e>o.byteLength)throw E("Wrong index");var a=y(o.buffer).bytes,s=r+o.byteOffset,u=a.slice(s,s+e);return n?u:u.reverse()},B=function(t,e,i,n,r,o){var a=h(+i),s=y(t);if(a+e>s.byteLength)throw E("Wrong index");for(var u=y(s.buffer).bytes,l=a+s.byteOffset,c=n(+r),d=0;d<e;d++)u[l+d]=c[o?d:e-d-1]};if(o){if(!u((function(){b(1)}))||!u((function(){new b(-1)}))||u((function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name}))){for(var j,H=(T=function(t){return l(this,T),new b(h(t))}).prototype=b.prototype,G=f(b),W=0;G.length>W;)(j=G[W++])in T||a(T,j,b[j]);H.constructor=T}var z=new w(new T(2)),$=w.prototype.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||s(w.prototype,{setInt8:function(t,e){$.call(this,t,e<<24>>24)},setUint8:function(t,e){$.call(this,t,e<<24>>24)}},{unsafe:!0})}else T=function(t){l(this,T,"ArrayBuffer");var e=h(t);_(this,{bytes:g.call(new Array(e),0),byteLength:e}),r||(this.byteLength=e)},w=function(t,e,i){l(this,w,"DataView"),l(t,T,"DataView");var n=y(t).byteLength,o=c(e);if(o<0||o>n)throw E("Wrong offset");if(o+(i=void 0===i?n-o:d(i))>n)throw E("Wrong length");_(this,{buffer:t,byteLength:i,byteOffset:o}),r||(this.buffer=t,this.byteLength=i,this.byteOffset=o)},r&&(U(T,"byteLength"),U(w,"buffer"),U(w,"byteLength"),U(w,"byteOffset")),s(w.prototype,{getInt8:function(t){return V(this,1,t)[0]<<24>>24},getUint8:function(t){return V(this,1,t)[0]},getInt16:function(t){var e=V(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=V(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return R(V(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return R(V(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return k(V(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return k(V(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){B(this,1,t,M,e)},setUint8:function(t,e){B(this,1,t,M,e)},setInt16:function(t,e){B(this,2,t,L,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){B(this,2,t,L,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){B(this,4,t,D,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){B(this,4,t,D,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){B(this,4,t,N,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){B(this,8,t,F,e,arguments.length>2?arguments[2]:void 0)}});m(T,"ArrayBuffer"),m(w,"DataView"),t.exports={ArrayBuffer:T,DataView:w}},function(t,e,i){var n,r=i(5),o=i(3),a=i(14),s=i(15),u=i(99),l=i(18),c=i(21),d=i(19).f,h=i(108),f=i(110),p=i(53),g=i(30),m=o.DataView,v=m&&m.prototype,y=o.Int8Array,_=y&&y.prototype,b=o.Uint8ClampedArray,T=b&&b.prototype,w=y&&h(y),S=_&&h(_),E=Object.prototype,A=E.isPrototypeOf,C=p("toStringTag"),P=g("TYPED_ARRAY_TAG"),I=!(!o.ArrayBuffer||!m),O=I&&!!f&&"Opera"!==u(o.opera),x=!1,k={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},R=function(t){return a(t)&&s(k,u(t))};for(n in k)o[n]||(O=!1);if((!O||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},O))for(n in k)o[n]&&f(o[n],w);if((!O||!S||S===E)&&(S=w.prototype,O))for(n in k)o[n]&&f(o[n].prototype,S);if(O&&h(T)!==S&&f(T,S),r&&!s(S,C))for(n in x=!0,d(S,C,{get:function(){return a(this)?this[P]:void 0}}),k)o[n]&&l(o[n],P,n);I&&f&&h(v)!==E&&f(v,E),t.exports={NATIVE_ARRAY_BUFFER:I,NATIVE_ARRAY_BUFFER_VIEWS:O,TYPED_ARRAY_TAG:x&&P,aTypedArray:function(t){if(R(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(f){if(A.call(w,t))return t}else for(var e in k)if(s(k,n)){var i=o[e];if(i&&(t===i||A.call(i,t)))return t}throw TypeError("Target is not a typed array constructor")},exportProto:function(t,e,i){if(r){if(i)for(var n in k){var a=o[n];a&&s(a.prototype,t)&&delete a.prototype[t]}S[t]&&!i||c(S,t,i?e:O&&_[t]||e)}},exportStatic:function(t,e,i){var n,a;if(r){if(f){if(i)for(n in k)(a=o[n])&&s(a,t)&&delete a[t];if(w[t]&&!i)return;try{return c(w,t,i?e:O&&y[t]||e)}catch(t){}}for(n in k)!(a=o[n])||a[t]&&!i||c(a,t,e)}},isView:function(t){var e=u(t);return"DataView"===e||s(k,e)},isTypedArray:R,TypedArray:w,TypedArrayPrototype:S}},function(t,e,i){var n=i(21);t.exports=function(t,e,i){for(var r in e)n(t,r,e[r],i);return t}},function(t,e){t.exports=function(t,e,i){if(!(t instanceof e))throw TypeError("Incorrect "+(i?i+" ":"")+"invocation");return t}},function(t,e,i){var n=i(40),r=i(39);t.exports=function(t){if(void 0===t)return 0;var e=n(t),i=r(e);if(e!==i)throw RangeError("Wrong length or index");return i}},function(t,e,i){var n=i(2),r=i(131);n({target:"ArrayBuffer",stat:!0,forced:!r.NATIVE_ARRAY_BUFFER_VIEWS},{isView:r.isView})},function(t,e,i){var n=i(2),r=i(6),o=i(130),a=i(20),s=i(41),u=i(39),l=i(137),c=o.ArrayBuffer,d=o.DataView,h=c.prototype.slice;n({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:r((function(){return!new c(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(void 0!==h&&void 0===e)return h.call(a(this),t);for(var i=a(this).byteLength,n=s(t,i),r=s(void 0===e?i:e,i),o=new(l(this,c))(u(r-n)),f=new d(this),p=new d(o),g=0;n<r;)p.setUint8(g++,f.getUint8(n++));return o}})},function(t,e,i){var n=i(20),r=i(59),o=i(53)("species");t.exports=function(t,e){var i,a=n(t).constructor;return void 0===a||null==(i=n(a)[o])?e:r(i)}},function(t,e,i){var n=i(2),r=i(130);n({global:!0,forced:!i(131).NATIVE_ARRAY_BUFFER},{DataView:r.DataView})},function(t,e,i){i(2)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(t,e,i){var n=i(2),r=i(141);n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==r},{toISOString:r})},function(t,e,i){var n=i(6),r=i(142).start,o=Math.abs,a=Date.prototype,s=a.getTime,u=a.toISOString;t.exports=n((function(){return"0385-07-25T07:06:39.999Z"!=u.call(new Date(-50000000000001))}))||!n((function(){u.call(new Date(NaN))}))?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),i=t<0?"-":t>9999?"+":"";return i+r(o(t),i?6:4,0)+"-"+r(this.getUTCMonth()+1,2,0)+"-"+r(this.getUTCDate(),2,0)+"T"+r(this.getUTCHours(),2,0)+":"+r(this.getUTCMinutes(),2,0)+":"+r(this.getUTCSeconds(),2,0)+"."+r(e,3,0)+"Z"}:u},function(t,e,i){var n=i(39),r=i(143),o=i(12),a=Math.ceil,s=function(t){return function(e,i,s){var u,l,c=String(o(e)),d=c.length,h=void 0===s?" ":String(s),f=n(i);return f<=d||""==h?c:(u=f-d,(l=r.call(h,a(u/h.length))).length>u&&(l=l.slice(0,u)),t?c+l:l+c)}};t.exports={start:s(!1),end:s(!0)}},function(t,e,i){var n=i(40),r=i(12);t.exports="".repeat||function(t){var e=String(r(this)),i="",o=n(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(i+=e);return i}},function(t,e,i){var n=i(2),r=i(6),o=i(47),a=i(13);n({target:"Date",proto:!0,forced:r((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}))},{toJSON:function(t){var e=o(this),i=a(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},function(t,e,i){var n=i(18),r=i(146),o=i(53)("toPrimitive"),a=Date.prototype;o in a||n(a,o,r)},function(t,e,i){var n=i(20),r=i(13);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(n(this),"number"!==t)}},function(t,e,i){var n=i(21),r=Date.prototype,o=r.toString,a=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(r,"toString",(function(){var t=a.call(this);return t==t?o.call(this):"Invalid Date"}))},function(t,e,i){i(2)({target:"Function",proto:!0},{bind:i(149)})},function(t,e,i){var n=i(59),r=i(14),o=[].slice,a={},s=function(t,e,i){if(!(e in a)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";a[e]=Function("C,a","return new C("+n.join(",")+")")}return a[e](t,i)};t.exports=Function.bind||function(t){var e=n(this),i=o.call(arguments,1),a=function(){var n=i.concat(o.call(arguments));return this instanceof a?s(e,n.length,n):e.apply(t,n)};return r(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,i){var n=i(14),r=i(19),o=i(108),a=i(53)("hasInstance"),s=Function.prototype;a in s||r.f(s,a,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,i){var n=i(5),r=i(19).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/;n&&!("name"in o)&&r(o,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},function(t,e,i){i(2)({global:!0},{globalThis:i(3)})},function(t,e,i){var n=i(3);i(56)(n.JSON,"JSON",!0)},function(t,e,i){var n=i(155),r=i(160);t.exports=n("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r,!0)},function(t,e,i){var n=i(2),r=i(3),o=i(44),a=i(21),s=i(156),u=i(158),l=i(133),c=i(14),d=i(6),h=i(100),f=i(56),p=i(159);t.exports=function(t,e,i,g,m){var v=r[t],y=v&&v.prototype,_=v,b=g?"set":"add",T={},w=function(t){var e=y[t];a(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!c(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:function(t,i){return e.call(this,0===t?0:t,i),this})};if(o(t,"function"!=typeof v||!(m||y.forEach&&!d((function(){(new v).entries().next()})))))_=i.getConstructor(e,t,g,b),s.REQUIRED=!0;else if(o(t,!0)){var S=new _,E=S[b](m?{}:-0,1)!=S,A=d((function(){S.has(1)})),C=h((function(t){new v(t)})),P=!m&&d((function(){for(var t=new v,e=5;e--;)t[b](e,e);return!t.has(-0)}));C||((_=e((function(e,i){l(e,_,t);var n=p(new v,e,_);return null!=i&&u(i,n[b],n,g),n}))).prototype=y,y.constructor=_),(A||P)&&(w("delete"),w("has"),g&&w("get")),(P||E)&&w(b),m&&y.clear&&delete y.clear}return T[t]=_,n({global:!0,forced:_!=v},T),f(_,t),m||i.setStrong(_,t,g),_}},function(t,e,i){var n=i(31),r=i(14),o=i(15),a=i(19).f,s=i(30),u=i(157),l=s("meta"),c=0,d=Object.isExtensible||function(){return!0},h=function(t){a(t,l,{value:{objectID:"O"+ ++c,weakData:{}}})},f=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,l)){if(!d(t))return"F";if(!e)return"E";h(t)}return t[l].objectID},getWeakData:function(t,e){if(!o(t,l)){if(!d(t))return!0;if(!e)return!1;h(t)}return t[l].weakData},onFreeze:function(t){return u&&f.REQUIRED&&d(t)&&!o(t,l)&&h(t),t}};n[l]=!0},function(t,e,i){var n=i(6);t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,i){var n=i(20),r=i(96),o=i(39),a=i(58),s=i(98),u=i(95),l=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,i,c,d){var h,f,p,g,m,v,y,_=a(e,i,c?2:1);if(d)h=t;else{if("function"!=typeof(f=s(t)))throw TypeError("Target is not iterable");if(r(f)){for(p=0,g=o(t.length);g>p;p++)if((m=c?_(n(y=t[p])[0],y[1]):_(t[p]))&&m instanceof l)return m;return new l(!1)}h=f.call(t)}for(v=h.next;!(y=v.call(h)).done;)if("object"==typeof(m=u(h,_,y.value,c))&&m&&m instanceof l)return m;return new l(!1)}).stop=function(t){return new l(!0,t)}},function(t,e,i){var n=i(14),r=i(110);t.exports=function(t,e,i){var o,a;return r&&"function"==typeof(o=e.constructor)&&o!==i&&n(a=o.prototype)&&a!==i.prototype&&r(t,a),t}},function(t,e,i){var n=i(19).f,r=i(48),o=i(132),a=i(58),s=i(133),u=i(158),l=i(105),c=i(125),d=i(5),h=i(156).fastKey,f=i(27),p=f.set,g=f.getterFor;t.exports={getConstructor:function(t,e,i,l){var c=t((function(t,n){s(t,c,e),p(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),d||(t.size=0),null!=n&&u(n,t[l],t,i)})),f=g(e),m=function(t,e,i){var n,r,o=f(t),a=v(t,e);return a?a.value=i:(o.last=a={index:r=h(e,!0),key:e,value:i,previous:n=o.last,next:void 0,removed:!1},o.first||(o.first=a),n&&(n.next=a),d?o.size++:t.size++,"F"!==r&&(o.index[r]=a)),t},v=function(t,e){var i,n=f(t),r=h(e);if("F"!==r)return n.index[r];for(i=n.first;i;i=i.next)if(i.key==e)return i};return o(c.prototype,{clear:function(){for(var t=f(this),e=t.index,i=t.first;i;)i.removed=!0,i.previous&&(i.previous=i.previous.next=void 0),delete e[i.index],i=i.next;t.first=t.last=void 0,d?t.size=0:this.size=0},delete:function(t){var e=f(this),i=v(this,t);if(i){var n=i.next,r=i.previous;delete e.index[i.index],i.removed=!0,r&&(r.next=n),n&&(n.previous=r),e.first==i&&(e.first=n),e.last==i&&(e.last=r),d?e.size--:this.size--}return!!i},forEach:function(t){for(var e,i=f(this),n=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:i.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!v(this,t)}}),o(c.prototype,i?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return m(this,0===t?0:t,e)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),d&&n(c.prototype,"size",{get:function(){return f(this).size}}),c},setStrong:function(t,e,i){var n=e+" Iterator",r=g(e),o=g(n);l(t,e,(function(t,e){p(this,{type:n,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,i=t.last;i&&i.removed;)i=i.previous;return t.target&&(t.last=i=i?i.next:t.state.first)?"keys"==e?{value:i.key,done:!1}:"values"==e?{value:i.value,done:!1}:{value:[i.key,i.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),i?"entries":"values",!i,!0),c(e)}}},function(t,e,i){var n=i(2),r=i(162),o=Math.acosh,a=Math.log,s=Math.sqrt,u=Math.LN2;n({target:"Math",stat:!0,forced:!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?a(t)+u:r(t-1+s(t-1)*s(t+1))}})},function(t,e){var i=Math.log;t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:i(1+t)}},function(t,e,i){var n=i(2),r=Math.asinh,o=Math.log,a=Math.sqrt;n({target:"Math",stat:!0,forced:!(r&&1/r(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):o(e+a(e*e+1)):e}})},function(t,e,i){var n=i(2),r=Math.atanh,o=Math.log;n({target:"Math",stat:!0,forced:!(r&&1/r(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:o((1+t)/(1-t))/2}})},function(t,e,i){var n=i(2),r=i(166),o=Math.abs,a=Math.pow;n({target:"Math",stat:!0},{cbrt:function(t){return r(t=+t)*a(o(t),1/3)}})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,i){var n=i(2),r=Math.floor,o=Math.log,a=Math.LOG2E;n({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-r(o(t+.5)*a):32}})},function(t,e,i){var n=i(2),r=i(169),o=Math.cosh,a=Math.abs,s=Math.E;n({target:"Math",stat:!0,forced:!o||o(710)===1/0},{cosh:function(t){var e=r(a(t)-1)+1;return(e+1/(e*s*s))*(s/2)}})},function(t,e){var i=Math.expm1,n=Math.exp;t.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:n(t)-1}:i},function(t,e,i){var n=i(2),r=i(169);n({target:"Math",stat:!0,forced:r!=Math.expm1},{expm1:r})},function(t,e,i){i(2)({target:"Math",stat:!0},{fround:i(172)})},function(t,e,i){var n=i(166),r=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),u=o(2,127)*(2-s),l=o(2,-126);t.exports=Math.fround||function(t){var e,i,o=r(t),c=n(t);return o<l?c*(o/l/s+1/a-1/a)*l*s:(i=(e=(1+s/a)*o)-(e-o))>u||i!=i?c*(1/0):c*i}},function(t,e,i){var n=i(2),r=Math.hypot,o=Math.abs,a=Math.sqrt;n({target:"Math",stat:!0,forced:!!r&&r(1/0,NaN)!==1/0},{hypot:function(t,e){for(var i,n,r=0,s=0,u=arguments.length,l=0;s<u;)l<(i=o(arguments[s++]))?(r=r*(n=l/i)*n+1,l=i):r+=i>0?(n=i/l)*n:i;return l===1/0?1/0:l*a(r)}})},function(t,e,i){var n=i(2),r=i(6),o=Math.imul;n({target:"Math",stat:!0,forced:r((function(){return-5!=o(4294967295,5)||2!=o.length}))},{imul:function(t,e){var i=+t,n=+e,r=65535&i,o=65535&n;return 0|r*o+((65535&i>>>16)*o+r*(65535&n>>>16)<<16>>>0)}})},function(t,e,i){var n=i(2),r=Math.log,o=Math.LOG10E;n({target:"Math",stat:!0},{log10:function(t){return r(t)*o}})},function(t,e,i){i(2)({target:"Math",stat:!0},{log1p:i(162)})},function(t,e,i){var n=i(2),r=Math.log,o=Math.LN2;n({target:"Math",stat:!0},{log2:function(t){return r(t)/o}})},function(t,e,i){i(2)({target:"Math",stat:!0},{sign:i(166)})},function(t,e,i){var n=i(2),r=i(6),o=i(169),a=Math.abs,s=Math.exp,u=Math.E;n({target:"Math",stat:!0,forced:r((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(t){return a(t=+t)<1?(o(t)-o(-t))/2:(s(t-1)-s(-t-1))*(u/2)}})},function(t,e,i){var n=i(2),r=i(169),o=Math.exp;n({target:"Math",stat:!0},{tanh:function(t){var e=r(t=+t),i=r(-t);return e==1/0?1:i==1/0?-1:(e-i)/(o(t)+o(-t))}})},function(t,e,i){i(56)(Math,"Math",!0)},function(t,e,i){var n=i(2),r=Math.ceil,o=Math.floor;n({target:"Math",stat:!0},{trunc:function(t){return(t>0?o:r)(t)}})},function(t,e,i){var n=i(5),r=i(3),o=i(44),a=i(21),s=i(15),u=i(11),l=i(159),c=i(13),d=i(6),h=i(48),f=i(36).f,p=i(4).f,g=i(19).f,m=i(184).trim,v=r.Number,y=v.prototype,_="Number"==u(h(y)),b=function(t){var e,i,n,r,o,a,s,u,l=c(t,!1);if("string"==typeof l&&l.length>2)if(43===(e=(l=m(l)).charCodeAt(0))||45===e){if(88===(i=l.charCodeAt(2))||120===i)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(a=(o=l.slice(2)).length,s=0;s<a;s++)if((u=o.charCodeAt(s))<48||u>r)return NaN;return parseInt(o,n)}return+l};if(o("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var T,w=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof w&&(_?d((function(){y.valueOf.call(i)})):"Number"!=u(i))?l(new v(b(e)),i,w):b(e)},S=n?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;S.length>E;E++)s(v,T=S[E])&&!s(w,T)&&g(w,T,p(v,T));w.prototype=y,y.constructor=w,a(r,"Number",w)}},function(t,e,i){var n=i(12),r="["+i(185)+"]",o=RegExp("^"+r+r+"*"),a=RegExp(r+r+"*$"),s=function(t){return function(e){var i=String(n(e));return 1&t&&(i=i.replace(o,"")),2&t&&(i=i.replace(a,"")),i}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,i){i(2)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(t,e,i){i(2)({target:"Number",stat:!0},{isFinite:i(188)})},function(t,e,i){var n=i(3).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&n(t)}},function(t,e,i){i(2)({target:"Number",stat:!0},{isInteger:i(190)})},function(t,e,i){var n=i(14),r=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&r(t)===t}},function(t,e,i){i(2)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},function(t,e,i){var n=i(2),r=i(190),o=Math.abs;n({target:"Number",stat:!0},{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,i){i(2)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,i){i(2)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,i){var n=i(2),r=i(196);n({target:"Number",stat:!0,forced:Number.parseFloat!=r},{parseFloat:r})},function(t,e,i){var n=i(3),r=i(184).trim,o=i(185),a=n.parseFloat,s=1/a(o+"-0")!=-1/0;t.exports=s?function(t){var e=r(String(t)),i=a(e);return 0===i&&"-"==e.charAt(0)?-0:i}:a},function(t,e,i){var n=i(2),r=i(198);n({target:"Number",stat:!0,forced:Number.parseInt!=r},{parseInt:r})},function(t,e,i){var n=i(3),r=i(184).trim,o=i(185),a=n.parseInt,s=/^[+-]?0[Xx]/,u=8!==a(o+"08")||22!==a(o+"0x16");t.exports=u?function(t,e){var i=r(String(t));return a(i,e>>>0||(s.test(i)?16:10))}:a},function(t,e,i){var n=i(2),r=i(40),o=i(200),a=i(143),s=i(6),u=1..toFixed,l=Math.floor,c=function(t,e,i){return 0===e?i:e%2==1?c(t,e-1,i*t):c(t*t,e/2,i)};n({target:"Number",proto:!0,forced:u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){u.call({})}))},{toFixed:function(t){var e,i,n,s,u=o(this),d=r(t),h=[0,0,0,0,0,0],f="",p="0",g=function(t,e){for(var i=-1,n=e;++i<6;)n+=t*h[i],h[i]=n%1e7,n=l(n/1e7)},m=function(t){for(var e=6,i=0;--e>=0;)i+=h[e],h[e]=l(i/t),i=i%t*1e7},v=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==h[t]){var i=String(h[t]);e=""===e?i:e+a.call("0",7-i.length)+i}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(f="-",u=-u),u>1e-21)if(i=(e=function(t){for(var e=0,i=t;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e}(u*c(2,69,1))-69)<0?u*c(2,-e,1):u/c(2,e,1),i*=4503599627370496,(e=52-e)>0){for(g(0,i),n=d;n>=7;)g(1e7,0),n-=7;for(g(c(10,n,1),0),n=e-1;n>=23;)m(1<<23),n-=23;m(1<<n),g(1,1),m(2),p=v()}else g(0,i),g(1<<-e,0),p=v()+a.call("0",d);return p=d>0?f+((s=p.length)<=d?"0."+a.call("0",d-s)+p:p.slice(0,s-d)+"."+p.slice(s-d)):f+p}})},function(t,e,i){var n=i(11);t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},function(t,e,i){var n=i(2),r=i(6),o=i(200),a=1..toPrecision;n({target:"Number",proto:!0,forced:r((function(){return"1"!==a.call(1,void 0)}))||!r((function(){a.call({})}))},{toPrecision:function(t){return void 0===t?a.call(o(this)):a.call(o(this),t)}})},function(t,e,i){var n=i(2),r=i(203);n({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(t,e,i){var n=i(5),r=i(6),o=i(50),a=i(43),s=i(7),u=i(47),l=i(10),c=Object.assign;t.exports=!c||r((function(){var t={},e={},i=Symbol();return t[i]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=c({},t)[i]||"abcdefghijklmnopqrst"!=o(c({},e)).join("")}))?function(t,e){for(var i=u(t),r=arguments.length,c=1,d=a.f,h=s.f;r>c;)for(var f,p=l(arguments[c++]),g=d?o(p).concat(d(p)):o(p),m=g.length,v=0;m>v;)f=g[v++],n&&!h.call(p,f)||(i[f]=p[f]);return i}:c},function(t,e,i){i(2)({target:"Object",stat:!0,sham:!i(5)},{create:i(48)})},function(t,e,i){var n=i(2),r=i(5),o=i(206),a=i(47),s=i(59),u=i(19);r&&n({target:"Object",proto:!0,forced:o},{__defineGetter__:function(t,e){u.f(a(this),t,{get:s(e),enumerable:!0,configurable:!0})}})},function(t,e,i){var n=i(23),r=i(3),o=i(6);t.exports=n||!o((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete r[t]}))},function(t,e,i){var n=i(2),r=i(5);n({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperties:i(49)})},function(t,e,i){var n=i(2),r=i(5);n({target:"Object",stat:!0,forced:!r,sham:!r},{defineProperty:i(19).f})},function(t,e,i){var n=i(2),r=i(5),o=i(206),a=i(47),s=i(59),u=i(19);r&&n({target:"Object",proto:!0,forced:o},{__defineSetter__:function(t,e){u.f(a(this),t,{set:s(e),enumerable:!0,configurable:!0})}})},function(t,e,i){var n=i(2),r=i(211).entries;n({target:"Object",stat:!0},{entries:function(t){return r(t)}})},function(t,e,i){var n=i(5),r=i(50),o=i(9),a=i(7).f,s=function(t){return function(e){for(var i,s=o(e),u=r(s),l=u.length,c=0,d=[];l>c;)i=u[c++],n&&!a.call(s,i)||d.push(t?[i,s[i]]:s[i]);return d}};t.exports={entries:s(!0),values:s(!1)}},function(t,e,i){var n=i(2),r=i(157),o=i(6),a=i(14),s=i(156).onFreeze,u=Object.freeze;n({target:"Object",stat:!0,forced:o((function(){u(1)})),sham:!r},{freeze:function(t){return u&&a(t)?u(s(t)):t}})},function(t,e,i){var n=i(2),r=i(158),o=i(76);n({target:"Object",stat:!0},{fromEntries:function(t){var e={};return r(t,(function(t,i){o(e,t,i)}),void 0,!0),e}})},function(t,e,i){var n=i(2),r=i(6),o=i(9),a=i(4).f,s=i(5),u=r((function(){a(1)}));n({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},function(t,e,i){var n=i(2),r=i(5),o=i(33),a=i(9),s=i(4),u=i(76);n({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){for(var e,i,n=a(t),r=s.f,l=o(n),c={},d=0;l.length>d;)void 0!==(i=r(n,e=l[d++]))&&u(c,e,i);return c}})},function(t,e,i){var n=i(2),r=i(6),o=i(52).f;n({target:"Object",stat:!0,forced:r((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},function(t,e,i){var n=i(2),r=i(6),o=i(47),a=i(108),s=i(109);n({target:"Object",stat:!0,forced:r((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},function(t,e,i){i(2)({target:"Object",stat:!0},{is:i(219)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,i){var n=i(2),r=i(6),o=i(14),a=Object.isExtensible;n({target:"Object",stat:!0,forced:r((function(){a(1)}))},{isExtensible:function(t){return!!o(t)&&(!a||a(t))}})},function(t,e,i){var n=i(2),r=i(6),o=i(14),a=Object.isFrozen;n({target:"Object",stat:!0,forced:r((function(){a(1)}))},{isFrozen:function(t){return!o(t)||!!a&&a(t)}})},function(t,e,i){var n=i(2),r=i(6),o=i(14),a=Object.isSealed;n({target:"Object",stat:!0,forced:r((function(){a(1)}))},{isSealed:function(t){return!o(t)||!!a&&a(t)}})},function(t,e,i){var n=i(2),r=i(47),o=i(50);n({target:"Object",stat:!0,forced:i(6)((function(){o(1)}))},{keys:function(t){return o(r(t))}})},function(t,e,i){var n=i(2),r=i(5),o=i(206),a=i(47),s=i(13),u=i(108),l=i(4).f;r&&n({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(t){var e,i=a(this),n=s(t,!0);do{if(e=l(i,n))return e.get}while(i=u(i))}})},function(t,e,i){var n=i(2),r=i(5),o=i(206),a=i(47),s=i(13),u=i(108),l=i(4).f;r&&n({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(t){var e,i=a(this),n=s(t,!0);do{if(e=l(i,n))return e.set}while(i=u(i))}})},function(t,e,i){var n=i(2),r=i(14),o=i(156).onFreeze,a=i(157),s=i(6),u=Object.preventExtensions;n({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!a},{preventExtensions:function(t){return u&&r(t)?u(o(t)):t}})},function(t,e,i){var n=i(2),r=i(14),o=i(156).onFreeze,a=i(157),s=i(6),u=Object.seal;n({target:"Object",stat:!0,forced:s((function(){u(1)})),sham:!a},{seal:function(t){return u&&r(t)?u(o(t)):t}})},function(t,e,i){i(2)({target:"Object",stat:!0},{setPrototypeOf:i(110)})},function(t,e,i){var n=i(21),r=i(230),o=Object.prototype;r!==o.toString&&n(o,"toString",r,{unsafe:!0})},function(t,e,i){var n=i(99),r={};r[i(53)("toStringTag")]="z",t.exports="[object z]"!==String(r)?function(){return"[object "+n(this)+"]"}:r.toString},function(t,e,i){var n=i(2),r=i(211).values;n({target:"Object",stat:!0},{values:function(t){return r(t)}})},function(t,e,i){var n=i(2),r=i(196);n({global:!0,forced:parseFloat!=r},{parseFloat:r})},function(t,e,i){var n=i(2),r=i(198);n({global:!0,forced:parseInt!=r},{parseInt:r})},function(t,e,i){var n,r,o,a,s=i(2),u=i(23),l=i(3),c=i(35),d=i(235),h=i(21),f=i(132),p=i(56),g=i(125),m=i(14),v=i(59),y=i(133),_=i(11),b=i(158),T=i(100),w=i(137),S=i(236).set,E=i(238),A=i(239),C=i(241),P=i(240),I=i(242),O=i(237),x=i(27),k=i(44),R=i(53)("species"),M="Promise",L=x.get,D=x.set,N=x.getterFor(M),F=d,U=l.TypeError,V=l.document,B=l.process,j=l.fetch,H=B&&B.versions,G=H&&H.v8||"",W=P.f,z=W,$="process"==_(B),q=!!(V&&V.createEvent&&l.dispatchEvent),Y=k(M,(function(){var t=F.resolve(1),e=function(){},i=(t.constructor={})[R]=function(t){t(e,e)};return!(($||"function"==typeof PromiseRejectionEvent)&&(!u||t.finally)&&t.then(e)instanceof i&&0!==G.indexOf("6.6")&&-1===O.indexOf("Chrome/66"))})),K=Y||!T((function(t){F.all(t).catch((function(){}))})),X=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},Z=function(t,e,i){if(!e.notified){e.notified=!0;var n=e.reactions;E((function(){for(var r=e.value,o=1==e.state,a=0;n.length>a;){var s,u,l,c=n[a++],d=o?c.ok:c.fail,h=c.resolve,f=c.reject,p=c.domain;try{d?(o||(2===e.rejection&&et(t,e),e.rejection=1),!0===d?s=r:(p&&p.enter(),s=d(r),p&&(p.exit(),l=!0)),s===c.promise?f(U("Promise-chain cycle")):(u=X(s))?u.call(s,h,f):h(s)):f(r)}catch(t){p&&!l&&p.exit(),f(t)}}e.reactions=[],e.notified=!1,i&&!e.rejection&&J(t,e)}))}},Q=function(t,e,i){var n,r;q?((n=V.createEvent("Event")).promise=e,n.reason=i,n.initEvent(t,!1,!0),l.dispatchEvent(n)):n={promise:e,reason:i},(r=l["on"+t])?r(n):"unhandledrejection"===t&&C("Unhandled promise rejection",i)},J=function(t,e){S.call(l,(function(){var i,n=e.value;if(tt(e)&&(i=I((function(){$?B.emit("unhandledRejection",n,t):Q("unhandledrejection",t,n)})),e.rejection=$||tt(e)?2:1,i.error))throw i.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){S.call(l,(function(){$?B.emit("rejectionHandled",t):Q("rejectionhandled",t,e.value)}))},it=function(t,e,i,n){return function(r){t(e,i,r,n)}},nt=function(t,e,i,n){e.done||(e.done=!0,n&&(e=n),e.value=i,e.state=2,Z(t,e,!0))},rt=function(t,e,i,n){if(!e.done){e.done=!0,n&&(e=n);try{if(t===i)throw U("Promise can't be resolved itself");var r=X(i);r?E((function(){var n={done:!1};try{r.call(i,it(rt,t,n,e),it(nt,t,n,e))}catch(i){nt(t,n,i,e)}})):(e.value=i,e.state=1,Z(t,e,!1))}catch(i){nt(t,{done:!1},i,e)}}};Y&&(F=function(t){y(this,F,M),v(t),n.call(this);var e=L(this);try{t(it(rt,this,e),it(nt,this,e))}catch(t){nt(this,e,t)}},(n=function(t){D(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(F.prototype,{then:function(t,e){var i=N(this),n=W(w(this,F));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=$?B.domain:void 0,i.parent=!0,i.reactions.push(n),0!=i.state&&Z(this,i,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new n,e=L(t);this.promise=t,this.resolve=it(rt,t,e),this.reject=it(nt,t,e)},P.f=W=function(t){return t===F||t===o?new r(t):z(t)},u||"function"!=typeof d||(a=d.prototype.then,h(d.prototype,"then",(function(t,e){var i=this;return new F((function(t,e){a.call(i,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof j&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return A(F,j.apply(l,arguments))}}))),s({global:!0,wrap:!0,forced:Y},{Promise:F}),p(F,M,!1,!0),g(M),o=c[M],s({target:M,stat:!0,forced:Y},{reject:function(t){var e=W(this);return e.reject.call(void 0,t),e.promise}}),s({target:M,stat:!0,forced:u||Y},{resolve:function(t){return A(u&&this===o?F:this,t)}}),s({target:M,stat:!0,forced:K},{all:function(t){var e=this,i=W(e),n=i.resolve,r=i.reject,o=I((function(){var i=v(e.resolve),o=[],a=0,s=1;b(t,(function(t){var u=a++,l=!1;o.push(void 0),s++,i.call(e,t).then((function(t){l||(l=!0,o[u]=t,--s||n(o))}),r)})),--s||n(o)}));return o.error&&r(o.value),i.promise},race:function(t){var e=this,i=W(e),n=i.reject,r=I((function(){var r=v(e.resolve);b(t,(function(t){r.call(e,t).then(i.resolve,n)}))}));return r.error&&n(r.value),i.promise}})},function(t,e,i){var n=i(3);t.exports=n.Promise},function(t,e,i){var n,r,o,a=i(3),s=i(6),u=i(11),l=i(58),c=i(51),d=i(17),h=i(237),f=a.location,p=a.setImmediate,g=a.clearImmediate,m=a.process,v=a.MessageChannel,y=a.Dispatch,_=0,b={},T=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},w=function(t){return function(){T(t)}},S=function(t){T(t.data)},E=function(t){a.postMessage(t+"",f.protocol+"//"+f.host)};p&&g||(p=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return b[++_]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},n(_),_},g=function(t){delete b[t]},"process"==u(m)?n=function(t){m.nextTick(w(t))}:y&&y.now?n=function(t){y.now(w(t))}:v&&!/(iphone|ipod|ipad).*applewebkit/i.test(h)?(o=(r=new v).port2,r.port1.onmessage=S,n=l(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(E)?n="onreadystatechange"in d("script")?function(t){c.appendChild(d("script")).onreadystatechange=function(){c.removeChild(this),T(t)}}:function(t){setTimeout(w(t),0)}:(n=E,a.addEventListener("message",S,!1))),t.exports={set:p,clear:g}},function(t,e,i){var n=i(34);t.exports=n("navigator","userAgent")||""},function(t,e,i){var n,r,o,a,s,u,l,c,d=i(3),h=i(4).f,f=i(11),p=i(236).set,g=i(237),m=d.MutationObserver||d.WebKitMutationObserver,v=d.process,y=d.Promise,_="process"==f(v),b=h(d,"queueMicrotask"),T=b&&b.value;T||(n=function(){var t,e;for(_&&(t=v.domain)&&t.exit();r;){e=r.fn,r=r.next;try{e()}catch(t){throw r?a():o=void 0,t}}o=void 0,t&&t.enter()},_?a=function(){v.nextTick(n)}:m&&!/(iphone|ipod|ipad).*applewebkit/i.test(g)?(s=!0,u=document.createTextNode(""),new m(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):y&&y.resolve?(l=y.resolve(void 0),c=l.then,a=function(){c.call(l,n)}):a=function(){p.call(d,n)}),t.exports=T||function(t){var e={fn:t,next:void 0};o&&(o.next=e),r||(r=e,a()),o=e}},function(t,e,i){var n=i(20),r=i(14),o=i(240);t.exports=function(t,e){if(n(t),r(e)&&e.constructor===t)return e;var i=o.f(t);return(0,i.resolve)(e),i.promise}},function(t,e,i){var n=i(59),r=function(t){var e,i;this.promise=new t((function(t,n){if(void 0!==e||void 0!==i)throw TypeError("Bad Promise constructor");e=t,i=n})),this.resolve=n(e),this.reject=n(i)};t.exports.f=function(t){return new r(t)}},function(t,e,i){var n=i(3);t.exports=function(t,e){var i=n.console;i&&i.error&&(1===arguments.length?i.error(t):i.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,i){var n=i(2),r=i(59),o=i(240),a=i(242),s=i(158);n({target:"Promise",stat:!0},{allSettled:function(t){var e=this,i=o.f(e),n=i.resolve,u=i.reject,l=a((function(){var i=r(e.resolve),o=[],a=0,u=1;s(t,(function(t){var r=a++,s=!1;o.push(void 0),u++,i.call(e,t).then((function(t){s||(s=!0,o[r]={status:"fulfilled",value:t},--u||n(o))}),(function(t){s||(s=!0,o[r]={status:"rejected",reason:t},--u||n(o))}))})),--u||n(o)}));return l.error&&u(l.value),i.promise}})},function(t,e,i){var n=i(2),r=i(23),o=i(235),a=i(34),s=i(137),u=i(239),l=i(21);n({target:"Promise",proto:!0,real:!0},{finally:function(t){var e=s(this,a("Promise")),i="function"==typeof t;return this.then(i?function(i){return u(e,t()).then((function(){return i}))}:t,i?function(i){return u(e,t()).then((function(){throw i}))}:t)}}),r||"function"!=typeof o||o.prototype.finally||l(o.prototype,"finally",a("Promise").prototype.finally)},function(t,e,i){var n=i(2),r=i(34),o=i(59),a=i(20),s=i(6),u=r("Reflect","apply"),l=Function.apply;n({target:"Reflect",stat:!0,forced:!s((function(){u((function(){}))}))},{apply:function(t,e,i){return o(t),a(i),u?u(t,e,i):l.call(t,e,i)}})},function(t,e,i){var n=i(2),r=i(34),o=i(59),a=i(20),s=i(14),u=i(48),l=i(149),c=i(6),d=r("Reflect","construct"),h=c((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),f=!c((function(){d((function(){}))})),p=h||f;n({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(t,e){o(t),a(e);var i=arguments.length<3?t:o(arguments[2]);if(f&&!h)return d(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(l.apply(t,n))}var r=i.prototype,c=u(s(r)?r:Object.prototype),p=Function.apply.call(t,c,e);return s(p)?p:c}})},function(t,e,i){var n=i(2),r=i(5),o=i(20),a=i(13),s=i(19);n({target:"Reflect",stat:!0,forced:i(6)((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!r},{defineProperty:function(t,e,i){o(t);var n=a(e,!0);o(i);try{return s.f(t,n,i),!0}catch(t){return!1}}})},function(t,e,i){var n=i(2),r=i(20),o=i(4).f;n({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var i=o(r(t),e);return!(i&&!i.configurable)&&delete t[e]}})},function(t,e,i){var n=i(2),r=i(14),o=i(20),a=i(15),s=i(4),u=i(108);n({target:"Reflect",stat:!0},{get:function t(e,i){var n,l,c=arguments.length<3?e:arguments[2];return o(e)===c?e[i]:(n=s.f(e,i))?a(n,"value")?n.value:void 0===n.get?void 0:n.get.call(c):r(l=u(e))?t(l,i,c):void 0}})},function(t,e,i){var n=i(2),r=i(5),o=i(20),a=i(4);n({target:"Reflect",stat:!0,sham:!r},{getOwnPropertyDescriptor:function(t,e){return a.f(o(t),e)}})},function(t,e,i){var n=i(2),r=i(20),o=i(108);n({target:"Reflect",stat:!0,sham:!i(109)},{getPrototypeOf:function(t){return o(r(t))}})},function(t,e,i){i(2)({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},function(t,e,i){var n=i(2),r=i(20),o=Object.isExtensible;n({target:"Reflect",stat:!0},{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,i){i(2)({target:"Reflect",stat:!0},{ownKeys:i(33)})},function(t,e,i){var n=i(2),r=i(34),o=i(20);n({target:"Reflect",stat:!0,sham:!i(157)},{preventExtensions:function(t){o(t);try{var e=r("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}})},function(t,e,i){var n=i(2),r=i(20),o=i(14),a=i(15),s=i(19),u=i(4),l=i(108),c=i(8);n({target:"Reflect",stat:!0},{set:function t(e,i,n){var d,h,f=arguments.length<4?e:arguments[3],p=u.f(r(e),i);if(!p){if(o(h=l(e)))return t(h,i,n,f);p=c(0)}if(a(p,"value")){if(!1===p.writable||!o(f))return!1;if(d=u.f(f,i)){if(d.get||d.set||!1===d.writable)return!1;d.value=n,s.f(f,i,d)}else s.f(f,i,c(0,n));return!0}return void 0!==p.set&&(p.set.call(f,n),!0)}})},function(t,e,i){var n=i(2),r=i(20),o=i(111),a=i(110);a&&n({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){r(t),o(e);try{return a(t,e),!0}catch(t){return!1}}})},function(t,e,i){var n=i(5),r=i(3),o=i(44),a=i(159),s=i(19).f,u=i(36).f,l=i(259),c=i(260),d=i(21),h=i(6),f=i(125),p=i(53)("match"),g=r.RegExp,m=g.prototype,v=/a/g,y=/a/g,_=new g(v)!==v;if(n&&o("RegExp",!_||h((function(){return y[p]=!1,g(v)!=v||g(y)==y||"/a/i"!=g(v,"i")})))){for(var b=function(t,e){var i=this instanceof b,n=l(t),r=void 0===e;return!i&&n&&t.constructor===b&&r?t:a(_?new g(n&&!r?t.source:t,e):g((n=t instanceof b)?t.source:t,n&&r?c.call(t):e),i?this:m,b)},T=function(t){t in b||s(b,t,{configurable:!0,get:function(){return g[t]},set:function(e){g[t]=e}})},w=u(g),S=0;w.length>S;)T(w[S++]);m.constructor=b,b.prototype=m,d(r,"RegExp",b)}f("RegExp")},function(t,e,i){var n=i(14),r=i(11),o=i(53)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,i){var n=i(20);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,i){var n=i(2),r=i(262);n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},function(t,e,i){var n,r,o=i(260),a=RegExp.prototype.exec,s=String.prototype.replace,u=a,l=(n=/a/,r=/b*/g,a.call(n,"a"),a.call(r,"a"),0!==n.lastIndex||0!==r.lastIndex),c=void 0!==/()??/.exec("")[1];(l||c)&&(u=function(t){var e,i,n,r,u=this;return c&&(i=new RegExp("^"+u.source+"$(?!\\s)",o.call(u))),l&&(e=u.lastIndex),n=a.call(u,t),l&&n&&(u.lastIndex=u.global?n.index+n[0].length:e),c&&n&&n.length>1&&s.call(n[0],i,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(n[r]=void 0)})),n}),t.exports=u},function(t,e,i){var n=i(5),r=i(19),o=i(260);n&&"g"!=/./g.flags&&r.f(RegExp.prototype,"flags",{configurable:!0,get:o})},function(t,e,i){var n=i(21),r=i(20),o=i(6),a=i(260),s=RegExp.prototype,u=s.toString,l=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),c="toString"!=u.name;(l||c)&&n(RegExp.prototype,"toString",(function(){var t=r(this),e=String(t.source),i=t.flags;return"/"+e+"/"+String(void 0===i&&t instanceof RegExp&&!("flags"in s)?a.call(t):i)}),{unsafe:!0})},function(t,e,i){var n=i(155),r=i(160);t.exports=n("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},function(t,e,i){var n=i(2),r=i(267).codeAt;n({target:"String",proto:!0},{codePointAt:function(t){return r(this,t)}})},function(t,e,i){var n=i(40),r=i(12),o=function(t){return function(e,i){var o,a,s=String(r(e)),u=n(i),l=s.length;return u<0||u>=l?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,i){var n=i(2),r=i(39),o=i(269),a=i(12),s=i(270),u="".endsWith,l=Math.min;n({target:"String",proto:!0,forced:!s("endsWith")},{endsWith:function(t){var e=String(a(this));o(t);var i=arguments.length>1?arguments[1]:void 0,n=r(e.length),s=void 0===i?n:l(r(i),n),c=String(t);return u?u.call(e,c,s):e.slice(s-c.length,s)===c}})},function(t,e,i){var n=i(259);t.exports=function(t){if(n(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,i){var n=i(53)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,i){var n=i(2),r=i(41),o=String.fromCharCode,a=String.fromCodePoint;n({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function(t){for(var e,i=[],n=arguments.length,a=0;n>a;){if(e=+arguments[a++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return i.join("")}})},function(t,e,i){var n=i(2),r=i(269),o=i(12);n({target:"String",proto:!0,forced:!i(270)("includes")},{includes:function(t){return!!~String(o(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(267).charAt,r=i(27),o=i(105),a=r.set,s=r.getterFor("String Iterator");o(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),i=e.string,r=e.index;return r>=i.length?{value:void 0,done:!0}:(t=n(i,r),e.index+=t.length,{value:t,done:!1})}))},function(t,e,i){var n=i(275),r=i(20),o=i(39),a=i(12),s=i(276),u=i(277);n("match",1,(function(t,e,i){return[function(e){var i=a(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,i):new RegExp(e)[t](String(i))},function(t){var n=i(e,t,this);if(n.done)return n.value;var a=r(t),l=String(this);if(!a.global)return u(a,l);var c=a.unicode;a.lastIndex=0;for(var d,h=[],f=0;null!==(d=u(a,l));){var p=String(d[0]);h[f]=p,""===p&&(a.lastIndex=s(l,o(a.lastIndex),c)),f++}return 0===f?null:h}]}))},function(t,e,i){var n=i(18),r=i(21),o=i(6),a=i(53),s=i(262),u=a("species"),l=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));t.exports=function(t,e,i,d){var h=a(t),f=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),p=f&&!o((function(){var e=!1,i=/a/;return i.exec=function(){return e=!0,null},"split"===t&&(i.constructor={},i.constructor[u]=function(){return i}),i[h](""),!e}));if(!f||!p||"replace"===t&&!l||"split"===t&&!c){var g=/./[h],m=i(h,""[t],(function(t,e,i,n,r){return e.exec===s?f&&!r?{done:!0,value:g.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}})),v=m[0],y=m[1];r(String.prototype,t,v),r(RegExp.prototype,h,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)}),d&&n(RegExp.prototype[h],"sham",!0)}}},function(t,e,i){var n=i(267).charAt;t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},function(t,e,i){var n=i(11),r=i(262);t.exports=function(t,e){var i=t.exec;if("function"==typeof i){var o=i.call(t,e);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,e,i){var n=i(2),r=i(106),o=i(12),a=i(39),s=i(59),u=i(20),l=i(99),c=i(259),d=i(260),h=i(18),f=i(6),p=i(53),g=i(137),m=i(276),v=i(27),y=i(23),_=p("matchAll"),b=v.set,T=v.getterFor("RegExp String Iterator"),w=RegExp.prototype,S=w.exec,E="".matchAll,A=!!E&&!f((function(){"a".matchAll(/./)})),C=r((function(t,e,i,n){b(this,{type:"RegExp String Iterator",regexp:t,string:e,global:i,unicode:n,done:!1})}),"RegExp String",(function(){var t=T(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,i=t.string,n=function(t,e){var i,n=t.exec;if("function"==typeof n){if("object"!=typeof(i=n.call(t,e)))throw TypeError("Incorrect exec result");return i}return S.call(t,e)}(e,i);return null===n?{value:void 0,done:t.done=!0}:t.global?(""==String(n[0])&&(e.lastIndex=m(i,a(e.lastIndex),t.unicode)),{value:n,done:!1}):(t.done=!0,{value:n,done:!1})})),P=function(t){var e,i,n,r,o,s,l=u(this),c=String(t);return e=g(l,RegExp),void 0===(i=l.flags)&&l instanceof RegExp&&!("flags"in w)&&(i=d.call(l)),n=void 0===i?"":String(i),r=new e(e===RegExp?l.source:l,n),o=!!~n.indexOf("g"),s=!!~n.indexOf("u"),r.lastIndex=a(l.lastIndex),new C(r,c,o,s)};n({target:"String",proto:!0,forced:A},{matchAll:function(t){var e,i,n,r=o(this);if(null!=t){if(c(t)&&!~String(o("flags"in w?t.flags:d.call(t))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(A)return E.apply(r,arguments);if(void 0===(i=t[_])&&y&&"RegExp"==l(t)&&(i=P),null!=i)return s(i).call(t,r)}else if(A)return E.apply(r,arguments);return e=String(r),n=new RegExp(t,"g"),y?P.call(n,e):n[_](e)}}),y||_ in w||h(w,_,P)},function(t,e,i){var n=i(2),r=i(142).end;n({target:"String",proto:!0,forced:i(280)},{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(237);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n)},function(t,e,i){var n=i(2),r=i(142).start;n({target:"String",proto:!0,forced:i(280)},{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){var n=i(2),r=i(9),o=i(39);n({target:"String",stat:!0},{raw:function(t){for(var e=r(t.raw),i=o(e.length),n=arguments.length,a=[],s=0;i>s;)a.push(String(e[s++])),s<n&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,i){i(2)({target:"String",proto:!0},{repeat:i(143)})},function(t,e,i){var n=i(275),r=i(20),o=i(47),a=i(39),s=i(40),u=i(12),l=i(276),c=i(277),d=Math.max,h=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g;n("replace",2,(function(t,e,i){return[function(i,n){var r=u(this),o=null==i?void 0:i[t];return void 0!==o?o.call(i,r,n):e.call(String(r),i,n)},function(t,o){var u=i(e,t,this,o);if(u.done)return u.value;var f=r(t),p=String(this),g="function"==typeof o;g||(o=String(o));var m=f.global;if(m){var v=f.unicode;f.lastIndex=0}for(var y=[];;){var _=c(f,p);if(null===_)break;if(y.push(_),!m)break;""===String(_[0])&&(f.lastIndex=l(p,a(f.lastIndex),v))}for(var b,T="",w=0,S=0;S<y.length;S++){_=y[S];for(var E=String(_[0]),A=d(h(s(_.index),p.length),0),C=[],P=1;P<_.length;P++)C.push(void 0===(b=_[P])?b:String(b));var I=_.groups;if(g){var O=[E].concat(C,A,p);void 0!==I&&O.push(I);var x=String(o.apply(void 0,O))}else x=n(E,p,A,C,I,o);A>=w&&(T+=p.slice(w,A)+x,w=A+E.length)}return T+p.slice(w)}];function n(t,i,n,r,a,s){var u=n+t.length,l=r.length,c=g;return void 0!==a&&(a=o(a),c=p),e.call(s,c,(function(e,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return i.slice(0,n);case"'":return i.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var c=+o;if(0===c)return e;if(c>l){var d=f(c/10);return 0===d?e:d<=l?void 0===r[d-1]?o.charAt(1):r[d-1]+o.charAt(1):e}s=r[c-1]}return void 0===s?"":s}))}}))},function(t,e,i){var n=i(275),r=i(20),o=i(12),a=i(219),s=i(277);n("search",1,(function(t,e,i){return[function(e){var i=o(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,i):new RegExp(e)[t](String(i))},function(t){var n=i(e,t,this);if(n.done)return n.value;var o=r(t),u=String(this),l=o.lastIndex;a(l,0)||(o.lastIndex=0);var c=s(o,u);return a(o.lastIndex,l)||(o.lastIndex=l),null===c?-1:c.index}]}))},function(t,e,i){var n=i(275),r=i(259),o=i(20),a=i(12),s=i(137),u=i(276),l=i(39),c=i(277),d=i(262),h=i(6),f=[].push,p=Math.min,g=!h((function(){return!RegExp(4294967295,"y")}));n("split",2,(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(a(this)),o=void 0===i?4294967295:i>>>0;if(0===o)return[];if(void 0===t)return[n];if(!r(t))return e.call(n,t,o);for(var s,u,l,c=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=new RegExp(t.source,h+"g");(s=d.call(g,n))&&!((u=g.lastIndex)>p&&(c.push(n.slice(p,s.index)),s.length>1&&s.index<n.length&&f.apply(c,s.slice(1)),l=s[0].length,p=u,c.length>=o));)g.lastIndex===s.index&&g.lastIndex++;return p===n.length?!l&&g.test("")||c.push(""):c.push(n.slice(p)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var r=a(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,r,i):n.call(String(r),e,i)},function(t,r){var a=i(n,t,this,r,n!==e);if(a.done)return a.value;var d=o(t),h=String(this),f=s(d,RegExp),m=d.unicode,v=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),y=new f(g?d:"^(?:"+d.source+")",v),_=void 0===r?4294967295:r>>>0;if(0===_)return[];if(0===h.length)return null===c(y,h)?[h]:[];for(var b=0,T=0,w=[];T<h.length;){y.lastIndex=g?T:0;var S,E=c(y,g?h:h.slice(T));if(null===E||(S=p(l(y.lastIndex+(g?0:T)),h.length))===b)T=u(h,T,m);else{if(w.push(h.slice(b,T)),w.length===_)return w;for(var A=1;A<=E.length-1;A++)if(w.push(E[A]),w.length===_)return w;T=b=S}}return w.push(h.slice(b)),w}]}),!g)},function(t,e,i){var n=i(2),r=i(39),o=i(269),a=i(12),s=i(270),u="".startsWith,l=Math.min;n({target:"String",proto:!0,forced:!s("startsWith")},{startsWith:function(t){var e=String(a(this));o(t);var i=r(l(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return u?u.call(e,n,i):e.slice(i,i+n.length)===n}})},function(t,e,i){var n=i(2),r=i(184).trim;n({target:"String",proto:!0,forced:i(289)("trim")},{trim:function(){return r(this)}})},function(t,e,i){var n=i(6),r=i(185);t.exports=function(t){return n((function(){return!!r[t]()||"​᠎"!="​᠎"[t]()||r[t].name!==t}))}},function(t,e,i){var n=i(2),r=i(184).end,o=i(289)("trimEnd"),a=o?function(){return r(this)}:"".trimEnd;n({target:"String",proto:!0,forced:o},{trimEnd:a,trimRight:a})},function(t,e,i){var n=i(2),r=i(184).start,o=i(289)("trimStart"),a=o?function(){return r(this)}:"".trimStart;n({target:"String",proto:!0,forced:o},{trimStart:a,trimLeft:a})},function(t,e,i){var n=i(2),r=i(293);n({target:"String",proto:!0,forced:i(294)("anchor")},{anchor:function(t){return r(this,"a","name",t)}})},function(t,e,i){var n=i(12),r=/"/g;t.exports=function(t,e,i,o){var a=String(n(t)),s="<"+e;return""!==i&&(s+=" "+i+'="'+String(o).replace(r,"&quot;")+'"'),s+">"+a+"</"+e+">"}},function(t,e,i){var n=i(6);t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e,i){var n=i(2),r=i(293);n({target:"String",proto:!0,forced:i(294)("big")},{big:function(){return r(this,"big","","")}})},function(t,e,i){var n=i(2),r=i(293);n({target:"String",proto:!0,forced:i(294)("blink")},{blink:function(){return r(this,"blink","","")}})},function(t,e,i){var n=i(2),r=i(293);n({target:"String",proto:!0,forced:i(294)("bold")},{bold:function(){return r(this,"b","","")}})},function(t,e,i){var n=i(2),r=i(293);n({target:"String",proto:!0,forced:i(294)("fixed")},{fixed:function(){return r(this,"tt","","")}})},function(t,e,i){var n=i(2),r=i(293);n({target:"String",proto:!0,forced:i(294)("fontcolor")},{fontcolor:function(t){return r(this,"font","color",t)}})},function(t,e,i){var n=i(2),r=i(293);n({target:"String",proto:!0,forced:i(294)("fontsize")},{fontsize:function(t){return r(this,"font","size",t)}})},function(t,e,i){var n=i(2),r=i(293);n({target:"String",proto:!0,forced:i(294)("italics")},{italics:function(){return r(this,"i","","")}})},function(t,e,i){var n=i(2),r=i(293);n({target:"String",proto:!0,forced:i(294)("link")},{link:function(t){return r(this,"a","href",t)}})},function(t,e,i){var n=i(2),r=i(293);n({target:"String",proto:!0,forced:i(294)("small")},{small:function(){return r(this,"small","","")}})},function(t,e,i){var n=i(2),r=i(293);n({target:"String",proto:!0,forced:i(294)("strike")},{strike:function(){return r(this,"strike","","")}})},function(t,e,i){var n=i(2),r=i(293);n({target:"String",proto:!0,forced:i(294)("sub")},{sub:function(){return r(this,"sub","","")}})},function(t,e,i){var n=i(2),r=i(293);n({target:"String",proto:!0,forced:i(294)("sup")},{sup:function(){return r(this,"sup","","")}})},function(t,e,i){i(308)("Float32",4,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){var n=i(2),r=i(3),o=i(5),a=i(309),s=i(131),u=i(130),l=i(133),c=i(8),d=i(18),h=i(39),f=i(134),p=i(310),g=i(13),m=i(15),v=i(99),y=i(14),_=i(48),b=i(110),T=i(36).f,w=i(312),S=i(57).forEach,E=i(125),A=i(19),C=i(4),P=i(27),I=P.get,O=P.set,x=A.f,k=C.f,R=Math.round,M=r.RangeError,L=u.ArrayBuffer,D=u.DataView,N=s.NATIVE_ARRAY_BUFFER_VIEWS,F=s.TYPED_ARRAY_TAG,U=s.TypedArray,V=s.TypedArrayPrototype,B=s.aTypedArrayConstructor,j=s.isTypedArray,H=function(t,e){for(var i=0,n=e.length,r=new(B(t))(n);n>i;)r[i]=e[i++];return r},G=function(t,e){x(t,e,{get:function(){return I(this)[e]}})},W=function(t){var e;return t instanceof L||"ArrayBuffer"==(e=v(t))||"SharedArrayBuffer"==e},z=function(t,e){return j(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},$=function(t,e){return z(t,e=g(e,!0))?c(2,t[e]):k(t,e)},q=function(t,e,i){return!(z(t,e=g(e,!0))&&y(i)&&m(i,"value"))||m(i,"get")||m(i,"set")||i.configurable||m(i,"writable")&&!i.writable||m(i,"enumerable")&&!i.enumerable?x(t,e,i):(t[e]=i.value,t)};o?(N||(C.f=$,A.f=q,G(V,"buffer"),G(V,"byteOffset"),G(V,"byteLength"),G(V,"length")),n({target:"Object",stat:!0,forced:!N},{getOwnPropertyDescriptor:$,defineProperty:q}),t.exports=function(t,e,i,o){var s=t+(o?"Clamped":"")+"Array",u="get"+t,c="set"+t,g=r[s],m=g,v=m&&m.prototype,A={},C=function(t,i){x(t,i,{get:function(){return function(t,i){var n=I(t);return n.view[u](i*e+n.byteOffset,!0)}(this,i)},set:function(t){return function(t,i,n){var r=I(t);o&&(n=(n=R(n))<0?0:n>255?255:255&n),r.view[c](i*e+r.byteOffset,n,!0)}(this,i,t)},enumerable:!0})};N?a&&(m=i((function(t,i,n,r){return l(t,m,s),y(i)?W(i)?void 0!==r?new g(i,p(n,e),r):void 0!==n?new g(i,p(n,e)):new g(i):j(i)?H(m,i):w.call(m,i):new g(f(i))})),b&&b(m,U),S(T(g),(function(t){t in m||d(m,t,g[t])})),m.prototype=v):(m=i((function(t,i,n,r){l(t,m,s);var o,a,u,c=0,d=0;if(y(i)){if(!W(i))return j(i)?H(m,i):w.call(m,i);o=i,d=p(n,e);var g=i.byteLength;if(void 0===r){if(g%e)throw M("Wrong length");if((a=g-d)<0)throw M("Wrong length")}else if((a=h(r)*e)+d>g)throw M("Wrong length");u=a/e}else u=f(i),o=new L(a=u*e);for(O(t,{buffer:o,byteOffset:d,byteLength:a,length:u,view:new D(o)});c<u;)C(t,c++)})),b&&b(m,U),v=m.prototype=_(V)),v.constructor!==m&&d(v,"constructor",m),F&&d(v,F,s),A[s]=m,n({global:!0,forced:m!=g,sham:!N},A),"BYTES_PER_ELEMENT"in m||d(m,"BYTES_PER_ELEMENT",e),"BYTES_PER_ELEMENT"in v||d(v,"BYTES_PER_ELEMENT",e),E(s)}):t.exports=function(){}},function(t,e,i){var n=i(3),r=i(6),o=i(100),a=i(131).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,u=n.Int8Array;t.exports=!a||!r((function(){u(1)}))||!r((function(){new u(-1)}))||!o((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||r((function(){return 1!==new u(new s(2),1,void 0).length}))},function(t,e,i){var n=i(311);t.exports=function(t,e){var i=n(t);if(i%e)throw RangeError("Wrong offset");return i}},function(t,e,i){var n=i(40);t.exports=function(t){var e=n(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},function(t,e,i){var n=i(47),r=i(39),o=i(98),a=i(96),s=i(58),u=i(131).aTypedArrayConstructor;t.exports=function(t){var e,i,l,c,d,h,f=n(t),p=arguments.length,g=p>1?arguments[1]:void 0,m=void 0!==g,v=o(f);if(null!=v&&!a(v))for(h=(d=v.call(f)).next,f=[];!(c=h.call(d)).done;)f.push(c.value);for(m&&p>2&&(g=s(g,arguments[2],2)),i=r(f.length),l=new(u(this))(i),e=0;i>e;e++)l[e]=m?g(f[e],e):f[e];return l}},function(t,e,i){i(308)("Float64",8,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(308)("Int8",1,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(308)("Int16",2,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(308)("Int32",4,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(308)("Uint8",1,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(308)("Uint8",1,(function(t){return function(e,i,n){return t(this,e,i,n)}}),!0)},function(t,e,i){i(308)("Uint16",2,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){i(308)("Uint32",4,(function(t){return function(e,i,n){return t(this,e,i,n)}}))},function(t,e,i){var n=i(131),r=i(79),o=n.aTypedArray;n.exportProto("copyWithin",(function(t,e){return r.call(o(this),t,e,arguments.length>2?arguments[2]:void 0)}))},function(t,e,i){var n=i(131),r=i(57).every,o=n.aTypedArray;n.exportProto("every",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,i){var n=i(131),r=i(84),o=n.aTypedArray;n.exportProto("fill",(function(t){return r.apply(o(this),arguments)}))},function(t,e,i){var n=i(131),r=i(57).filter,o=i(137),a=n.aTypedArray,s=n.aTypedArrayConstructor;n.exportProto("filter",(function(t){for(var e=r(a(this),t,arguments.length>1?arguments[1]:void 0),i=o(this,this.constructor),n=0,u=e.length,l=new(s(i))(u);u>n;)l[n]=e[n++];return l}))},function(t,e,i){var n=i(131),r=i(57).find,o=n.aTypedArray;n.exportProto("find",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,i){var n=i(131),r=i(57).findIndex,o=n.aTypedArray;n.exportProto("findIndex",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,i){var n=i(131),r=i(57).forEach,o=n.aTypedArray;n.exportProto("forEach",(function(t){r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,i){var n=i(309),r=i(131),o=i(312);r.exportStatic("from",o,n)},function(t,e,i){var n=i(131),r=i(38).includes,o=n.aTypedArray;n.exportProto("includes",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,i){var n=i(131),r=i(38).indexOf,o=n.aTypedArray;n.exportProto("indexOf",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,i){var n=i(3),r=i(131),o=i(104),a=i(53)("iterator"),s=n.Uint8Array,u=o.values,l=o.keys,c=o.entries,d=r.aTypedArray,h=r.exportProto,f=s&&s.prototype[a],p=!!f&&("values"==f.name||null==f.name),g=function(){return u.call(d(this))};h("entries",(function(){return c.call(d(this))})),h("keys",(function(){return l.call(d(this))})),h("values",g,!p),h(a,g,!p)},function(t,e,i){var n=i(131),r=n.aTypedArray,o=[].join;n.exportProto("join",(function(t){return o.apply(r(this),arguments)}))},function(t,e,i){var n=i(131),r=i(114),o=n.aTypedArray;n.exportProto("lastIndexOf",(function(t){return r.apply(o(this),arguments)}))},function(t,e,i){var n=i(131),r=i(57).map,o=i(137),a=n.aTypedArray,s=n.aTypedArrayConstructor;n.exportProto("map",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(s(o(t,t.constructor)))(e)}))}))},function(t,e,i){var n=i(131),r=i(309),o=n.aTypedArrayConstructor;n.exportStatic("of",(function(){for(var t=0,e=arguments.length,i=new(o(this))(e);e>t;)i[t]=arguments[t++];return i}),r)},function(t,e,i){var n=i(131),r=i(118).left,o=n.aTypedArray;n.exportProto("reduce",(function(t){return r(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,i){var n=i(131),r=i(118).right,o=n.aTypedArray;n.exportProto("reduceRight",(function(t){return r(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,i){var n=i(131),r=n.aTypedArray,o=Math.floor;n.exportProto("reverse",(function(){for(var t,e=r(this).length,i=o(e/2),n=0;n<i;)t=this[n],this[n++]=this[--e],this[e]=t;return this}))},function(t,e,i){var n=i(131),r=i(39),o=i(310),a=i(47),s=i(6),u=n.aTypedArray,l=s((function(){new Int8Array(1).set({})}));n.exportProto("set",(function(t){u(this);var e=o(arguments.length>1?arguments[1]:void 0,1),i=this.length,n=a(t),s=r(n.length),l=0;if(s+e>i)throw RangeError("Wrong length");for(;l<s;)this[e+l]=n[l++]}),l)},function(t,e,i){var n=i(131),r=i(137),o=i(6),a=n.aTypedArray,s=n.aTypedArrayConstructor,u=[].slice,l=o((function(){new Int8Array(1).slice()}));n.exportProto("slice",(function(t,e){for(var i=u.call(a(this),t,e),n=r(this,this.constructor),o=0,l=i.length,c=new(s(n))(l);l>o;)c[o]=i[o++];return c}),l)},function(t,e,i){var n=i(131),r=i(57).some,o=n.aTypedArray;n.exportProto("some",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,i){var n=i(131),r=n.aTypedArray,o=[].sort;n.exportProto("sort",(function(t){return o.call(r(this),t)}))},function(t,e,i){var n=i(131),r=i(39),o=i(41),a=i(137),s=n.aTypedArray;n.exportProto("subarray",(function(t,e){var i=s(this),n=i.length,u=o(t,n);return new(a(i,i.constructor))(i.buffer,i.byteOffset+u*i.BYTES_PER_ELEMENT,r((void 0===e?n:o(e,n))-u))}))},function(t,e,i){var n=i(3),r=i(131),o=i(6),a=n.Int8Array,s=r.aTypedArray,u=[].toLocaleString,l=[].slice,c=!!a&&o((function(){u.call(new a(1))})),d=o((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!o((function(){a.prototype.toLocaleString.call([1,2])}));r.exportProto("toLocaleString",(function(){return u.apply(c?l.call(s(this)):s(this),arguments)}),d)},function(t,e,i){var n=i(3),r=i(131),o=i(6),a=n.Uint8Array,s=a&&a.prototype,u=[].toString,l=[].join;o((function(){u.call({})}))&&(u=function(){return l.call(this)}),r.exportProto("toString",u,(s||{}).toString!=u)},function(t,e,i){var n,r=i(3),o=i(132),a=i(156),s=i(155),u=i(347),l=i(14),c=i(27).enforce,d=i(28),h=!r.ActiveXObject&&"ActiveXObject"in r,f=Object.isExtensible,p=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},g=t.exports=s("WeakMap",p,u,!0,!0);if(d&&h){n=u.getConstructor(p,"WeakMap",!0),a.REQUIRED=!0;var m=g.prototype,v=m.delete,y=m.has,_=m.get,b=m.set;o(m,{delete:function(t){if(l(t)&&!f(t)){var e=c(this);return e.frozen||(e.frozen=new n),v.call(this,t)||e.frozen.delete(t)}return v.call(this,t)},has:function(t){if(l(t)&&!f(t)){var e=c(this);return e.frozen||(e.frozen=new n),y.call(this,t)||e.frozen.has(t)}return y.call(this,t)},get:function(t){if(l(t)&&!f(t)){var e=c(this);return e.frozen||(e.frozen=new n),y.call(this,t)?_.call(this,t):e.frozen.get(t)}return _.call(this,t)},set:function(t,e){if(l(t)&&!f(t)){var i=c(this);i.frozen||(i.frozen=new n),y.call(this,t)?b.call(this,t,e):i.frozen.set(t,e)}else b.call(this,t,e);return this}})}},function(t,e,i){var n=i(132),r=i(156).getWeakData,o=i(20),a=i(14),s=i(133),u=i(158),l=i(57),c=i(15),d=i(27),h=d.set,f=d.getterFor,p=l.find,g=l.findIndex,m=0,v=function(t){return t.frozen||(t.frozen=new y)},y=function(){this.entries=[]},_=function(t,e){return p(t.entries,(function(t){return t[0]===e}))};y.prototype={get:function(t){var e=_(this,t);if(e)return e[1]},has:function(t){return!!_(this,t)},set:function(t,e){var i=_(this,t);i?i[1]=e:this.entries.push([t,e])},delete:function(t){var e=g(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,i,l){var d=t((function(t,n){s(t,d,e),h(t,{type:e,id:m++,frozen:void 0}),null!=n&&u(n,t[l],t,i)})),p=f(e),g=function(t,e,i){var n=p(t),a=r(o(e),!0);return!0===a?v(n).set(e,i):a[n.id]=i,t};return n(d.prototype,{delete:function(t){var e=p(this);if(!a(t))return!1;var i=r(t);return!0===i?v(e).delete(t):i&&c(i,e.id)&&delete i[e.id]},has:function(t){var e=p(this);if(!a(t))return!1;var i=r(t);return!0===i?v(e).has(t):i&&c(i,e.id)}}),n(d.prototype,i?{get:function(t){var e=p(this);if(a(t)){var i=r(t);return!0===i?v(e).get(t):i?i[e.id]:void 0}},set:function(t,e){return g(this,t,e)}}:{add:function(t){return g(this,t,!0)}}),d}}},function(t,e,i){i(155)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i(347),!1,!0)},function(t,e,i){var n=i(2),r=i(5),o=i(108),a=i(110),s=i(48),u=i(19),l=i(8),c=i(158),d=i(18),h=i(20),f=i(27),p=f.set,g=f.getterFor("AggregateError"),m=function(t,e){var i=this;if(!(i instanceof m))return new m(t,e);a&&(i=a(new Error(e),o(i)));var n=[];return c(t,n.push,n),r?p(i,{errors:n,type:"AggregateError"}):i.errors=n,void 0!==e&&d(i,"message",String(e)),i};m.prototype=s(Error.prototype,{constructor:l(5,m),message:l(5,""),name:l(5,"AggregateError"),toString:l(5,(function(){var t=h(this).name;t=void 0===t?"AggregateError":String(t);var e=this.message;return t+": "+(e=void 0===e?"":String(e))}))}),r&&u.f(m.prototype,"errors",{get:function(){return g(this).errors},configurable:!0}),n({global:!0},{AggregateError:m})},function(t,e,i){var n=i(2),r=i(46),o=Object.isFrozen,a=function(t,e){if(!o||!r(t)||!o(t))return!1;for(var i,n=0,a=t.length;n<a;)if(!("string"==typeof(i=t[n++])||e&&void 0===i))return!1;return 0!==a};n({target:"Array",stat:!0},{isTemplateObject:function(t){if(!a(t,!0))return!1;var e=t.raw;return!(e.length!==t.length||!a(e,!1))}})},function(t,e,i){var n=i(5),r=i(80),o=i(47),a=i(39),s=i(19).f;n&&!("lastIndex"in[])&&(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=o(this),e=a(t.length);return 0==e?0:e-1}}),r("lastIndex"))},function(t,e,i){var n=i(5),r=i(80),o=i(47),a=i(39),s=i(19).f;n&&!("lastItem"in[])&&(s(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=o(this),e=a(t.length);return 0==e?void 0:t[e-1]},set:function(t){var e=o(this),i=a(e.length);return e[0==i?0:i-1]=t}}),r("lastItem"))},function(t,e,i){var n=i(2),r=i(133),o=i(18),a=i(15),s=i(53),u=i(354),l=i(23),c=s("toStringTag"),d=function(){r(this,d)};d.prototype=u,a(u,c)||o(u,c,"AsyncIterator"),n({global:!0,forced:l},{AsyncIterator:d})},function(t,e,i){var n,r,o=i(3),a=i(24),s=i(108),u=i(15),l=i(18),c=i(53),d=i(23),h=c("asyncIterator"),f=o.AsyncIterator,p=a.AsyncIteratorPrototype;if(!d)if(p)n=p;else if("function"==typeof f)n=f.prototype;else if(a.USE_FUNCTION_CONSTRUCTOR||o.USE_FUNCTION_CONSTRUCTOR)try{r=s(s(s(Function("return async function*(){}()")()))),s(r)===Object.prototype&&(n=r)}catch(t){}n||(n={}),u(n,h)||l(n,h,(function(){return this})),t.exports=n},function(t,e,i){var n=i(2),r=i(20),o=i(356)((function(t,e){var i=this,n=i.iterator;return e.resolve(r(i.next.call(n,t))).then((function(t){return r(t).done?(i.done=!0,{done:!0,value:void 0}):{done:!1,value:[i.index++,t.value]}}))}));n({target:"AsyncIterator",proto:!0,real:!0},{asIndexedPairs:function(){return new o({iterator:r(this),index:0})}})},function(t,e,i){var n=i(35),r=i(59),o=i(20),a=i(48),s=i(18),u=i(132),l=i(53),c=i(27),d=i(34)("Promise"),h=c.set,f=c.get,p=l("toStringTag"),g=function(t){var e=f(this).iterator,i=e.return;return void 0===i?d.resolve({done:!0,value:t}):o(i.call(e,t))},m=function(t){var e=f(this).iterator,i=e.throw;return void 0===i?d.reject(t):i.call(e,t)};t.exports=function(t,e){var i=function(t){t.next=r(t.iterator.next),t.done=!1,h(this,t)};return i.prototype=u(a(n.AsyncIterator.prototype),{next:function(e){var i=f(this);if(i.done)return d.resolve({done:!0,value:void 0});try{return d.resolve(o(t.call(i,e,d)))}catch(t){return d.reject(t)}},return:g,throw:m}),e||s(i.prototype,p,"Generator"),i}},function(t,e,i){var n=i(2),r=i(20),o=i(311),a=i(356)((function(t,e){var i=this;return new e((function(n,o){var a=function(){try{e.resolve(r(i.next.call(i.iterator,i.remaining?void 0:t))).then((function(t){try{r(t).done?(i.done=!0,n({done:!0,value:void 0})):i.remaining?(i.remaining--,a()):n({done:!1,value:t.value})}catch(t){o(t)}}),o)}catch(t){o(t)}};a()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{drop:function(t){return new a({iterator:r(this),remaining:o(t)})}})},function(t,e,i){var n=i(2),r=i(359).every;n({target:"AsyncIterator",proto:!0,real:!0},{every:function(t){return r(this,t)}})},function(t,e,i){var n=i(59),r=i(20),o=i(34)("Promise"),a=[].push,s=function(t){var e=0==t,i=1==t,s=2==t,u=3==t;return function(t,l){r(t);var c=n(t.next),d=e?[]:void 0;return e||n(l),new o((function(n,h){var f=function(){try{o.resolve(r(c.call(t))).then((function(t){try{if(r(t).done)n(e?d:!u&&(s||void 0));else{var c=t.value;e?(a.call(d,c),f()):o.resolve(l(c)).then((function(t){i?f():s?t?f():n(!1):t?n(u||c):f()}),h)}}catch(t){h(t)}}),h)}catch(t){h(t)}};f()}))}};t.exports={toArray:s(0),forEach:s(1),every:s(2),some:s(3),find:s(4)}},function(t,e,i){var n=i(2),r=i(59),o=i(20),a=i(356)((function(t,e){var i=this,n=i.filterer;return new e((function(r,a){var s=function(){try{e.resolve(o(i.next.call(i.iterator,t))).then((function(t){try{if(o(t).done)i.done=!0,r({done:!0,value:void 0});else{var u=t.value;e.resolve(n(u)).then((function(t){t?r({done:!1,value:u}):s()}),a)}}catch(t){a(t)}}),a)}catch(t){a(t)}};s()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{filter:function(t){return new a({iterator:o(this),filterer:r(t)})}})},function(t,e,i){var n=i(2),r=i(359).find;n({target:"AsyncIterator",proto:!0,real:!0},{find:function(t){return r(this,t)}})},function(t,e,i){var n=i(2),r=i(59),o=i(20),a=i(14),s=i(356),u=i(363),l=s((function(t,e){var i,n,s=this,l=s.mapper;return new e((function(c,d){var h=function(){try{e.resolve(o(s.next.call(s.iterator,t))).then((function(t){try{o(t).done?(s.done=!0,c({done:!0,value:void 0})):e.resolve(l(t.value)).then((function(t){try{if(a(t)&&void 0!==(n=u(t)))return s.innerIterator=i=n.call(t),s.innerNext=r(i.next),f();c({done:!1,value:t})}catch(t){d(t)}}),d)}catch(t){d(t)}}),d)}catch(t){d(t)}},f=function(){if(i=s.innerIterator)try{e.resolve(o(s.innerNext.call(i))).then((function(t){try{o(t).done?(s.innerIterator=s.innerNext=null,h()):c({done:!1,value:t.value})}catch(t){d(t)}}),d)}catch(t){d(t)}else h()};f()}))}));n({target:"AsyncIterator",proto:!0,real:!0},{flatMap:function(t){return new l({iterator:o(this),mapper:r(t),innerIterator:null,innerNext:null})}})},function(t,e,i){var n=i(98),r=i(53)("asyncIterator");t.exports=function(t){var e=t[r];return void 0===e?n(t):e}},function(t,e,i){var n=i(2),r=i(359).forEach;n({target:"AsyncIterator",proto:!0,real:!0},{forEach:function(t){return r(this,t)}})},function(t,e,i){var n=i(2),r=i(35),o=i(59),a=i(20),s=i(47),u=i(356),l=i(363),c=r.AsyncIterator,d=u((function(t){return a(this.next.call(this.iterator,t))}),!0);n({target:"AsyncIterator",stat:!0},{from:function(t){var e,i=s(t),n=l(i);if(null!=n){if((e=o(n).call(i))instanceof c)return e}else e=i;return new d({iterator:e})}})},function(t,e,i){var n=i(2),r=i(59),o=i(20),a=i(356)((function(t,e){var i=this,n=i.mapper;return e.resolve(o(i.next.call(i.iterator,t))).then((function(t){return o(t).done?(i.done=!0,{done:!0,value:void 0}):e.resolve(n(t.value)).then((function(t){return{done:!1,value:t}}))}))}));n({target:"AsyncIterator",proto:!0,real:!0},{map:function(t){return new a({iterator:o(this),mapper:r(t)})}})},function(t,e,i){var n=i(2),r=i(59),o=i(20),a=i(34)("Promise");n({target:"AsyncIterator",proto:!0,real:!0},{reduce:function(t){var e=o(this),i=r(e.next),n=arguments.length<2,s=n?void 0:arguments[1];return r(t),new a((function(r,u){var l=function(){try{a.resolve(o(i.call(e))).then((function(e){try{if(o(e).done)n?u(TypeError("Reduce of empty iterator with no initial value")):r(s);else{var i=e.value;n?(n=!1,s=i,l()):a.resolve(t(s,i)).then((function(t){s=t,l()}),u)}}catch(t){u(t)}}),u)}catch(t){u(t)}};l()}))}})},function(t,e,i){var n=i(2),r=i(359).some;n({target:"AsyncIterator",proto:!0,real:!0},{some:function(t){return r(this,t)}})},function(t,e,i){var n=i(2),r=i(20),o=i(311),a=i(356)((function(t){return this.remaining--?this.next.call(this.iterator,t):(this.done=!0,{done:!0,value:void 0})}));n({target:"AsyncIterator",proto:!0,real:!0},{take:function(t){return new a({iterator:r(this),remaining:o(t)})}})},function(t,e,i){var n=i(2),r=i(359).toArray;n({target:"AsyncIterator",proto:!0,real:!0},{toArray:function(){return r(this)}})},function(t,e,i){var n=i(2),r=i(372),o=i(34),a=i(48),s=function(){var t=o("Object","freeze");return t?t(a(null)):a(null)};n({global:!0},{compositeKey:function(){return r.apply(Object,arguments).get("object",s)}})},function(t,e,i){var n=i(154),r=i(346),o=i(48),a=i(14),s=function(){this.object=null,this.symbol=null,this.primitives=null,this.objectsByIndex=o(null)};s.prototype.get=function(t,e){return this[t]||(this[t]=e())},s.prototype.next=function(t,e,i){var o=i?this.objectsByIndex[t]||(this.objectsByIndex[t]=new r):this.primitives||(this.primitives=new n),a=o.get(e);return a||o.set(e,a=new s),a};var u=new s;t.exports=function(){var t,e,i=u,n=arguments.length;for(t=0;t<n;t++)a(e=arguments[t])&&(i=i.next(t,e,!0));if(this===Object&&i===u)throw TypeError("Composite keys must contain a non-primitive component");for(t=0;t<n;t++)a(e=arguments[t])||(i=i.next(t,e,!1));return i}},function(t,e,i){var n=i(2),r=i(372),o=i(34);n({global:!0},{compositeSymbol:function(){return 1===arguments.length&&"string"==typeof arguments[0]?o("Symbol").for(arguments[0]):r.apply(null,arguments).get("symbol",o("Symbol"))}})},function(t,e,i){i(152)},function(t,e,i){var n=i(2),r=i(3),o=i(133),a=i(18),s=i(15),u=i(53),l=i(107).IteratorPrototype,c=i(23),d=u("iterator"),h=u("toStringTag"),f=r.Iterator,p=c||"function"!=typeof f||f.prototype!==l,g=function(){o(this,g)};c&&a(l={},d,(function(){return this})),s(l,h)||a(l,h,"Iterator"),g.prototype=l,n({global:!0,forced:p},{Iterator:g})},function(t,e,i){var n=i(2),r=i(20),o=i(377)((function(t){var e=r(this.next.call(this.iterator,t));if(!(this.done=!!e.done))return[this.index++,e.value]}));n({target:"Iterator",proto:!0,real:!0},{asIndexedPairs:function(){return new o({iterator:r(this),index:0})}})},function(t,e,i){var n=i(35),r=i(59),o=i(20),a=i(48),s=i(18),u=i(132),l=i(53),c=i(27),d=c.set,h=c.get,f=l("toStringTag"),p=function(t){var e=h(this).iterator,i=e.return;return void 0===i?{done:!0,value:t}:o(i.call(e,t))},g=function(t){var e=h(this).iterator,i=e.throw;if(void 0===i)throw t;return i.call(e,t)};t.exports=function(t,e){var i=function(t){t.next=r(t.iterator.next),t.done=!1,d(this,t)};return i.prototype=u(a(n.Iterator.prototype),{next:function(){var e=h(this),i=e.done?void 0:t.apply(e,arguments);return{done:e.done,value:i}},return:p,throw:g}),e||s(i.prototype,f,"Generator"),i}},function(t,e,i){var n=i(2),r=i(20),o=i(311),a=i(377)((function(t){for(var e,i=this.iterator,n=this.next;this.remaining;)if(this.remaining--,e=r(n.call(i)),this.done=!!e.done)return;if(e=r(n.call(i,t)),!(this.done=!!e.done))return e.value}));n({target:"Iterator",proto:!0,real:!0},{drop:function(t){return new a({iterator:r(this),remaining:o(t)})}})},function(t,e,i){var n=i(2),r=i(158),o=i(59),a=i(20);n({target:"Iterator",proto:!0,real:!0},{every:function(t){return a(this),o(t),!r(this,(function(e){if(!t(e))return r.stop()}),void 0,!1,!0).stopped}})},function(t,e,i){var n=i(2),r=i(59),o=i(20),a=i(377),s=i(95),u=a((function(t){for(var e,i,n=this.iterator,r=this.filterer,a=this.next;;){if(e=o(a.call(n,t)),this.done=!!e.done)return;if(i=e.value,s(n,r,i))return i}}));n({target:"Iterator",proto:!0,real:!0},{filter:function(t){return new u({iterator:o(this),filterer:r(t)})}})},function(t,e,i){var n=i(2),r=i(158),o=i(59),a=i(20);n({target:"Iterator",proto:!0,real:!0},{find:function(t){return a(this),o(t),r(this,(function(e){if(t(e))return r.stop(e)}),void 0,!1,!0).result}})},function(t,e,i){var n=i(2),r=i(59),o=i(20),a=i(14),s=i(98),u=i(377),l=i(95),c=u((function(t){for(var e,i,n,u,c=this.iterator;;){if(u=this.innerIterator){if(!(e=o(this.innerNext.call(u))).done)return e.value;this.innerIterator=this.innerNext=null}if(e=o(this.next.call(c,t)),this.done=!!e.done)return;if(i=l(c,this.mapper,e.value),!a(i)||void 0===(n=s(i)))return i;this.innerIterator=u=n.call(i),this.innerNext=r(u.next)}}));n({target:"Iterator",proto:!0,real:!0},{flatMap:function(t){return new c({iterator:o(this),mapper:r(t),innerIterator:null,innerNext:null})}})},function(t,e,i){var n=i(2),r=i(158),o=i(20);n({target:"Iterator",proto:!0,real:!0},{forEach:function(t){r(o(this),t,void 0,!1,!0)}})},function(t,e,i){var n=i(2),r=i(35),o=i(59),a=i(20),s=i(47),u=i(377),l=i(98),c=r.Iterator,d=u((function(t){var e=a(this.next.call(this.iterator,t));if(!(this.done=!!e.done))return e.value}),!0);n({target:"Iterator",stat:!0},{from:function(t){var e,i=s(t),n=l(i);if(null!=n){if((e=o(n).call(i))instanceof c)return e}else e=i;return new d({iterator:e})}})},function(t,e,i){var n=i(2),r=i(59),o=i(20),a=i(377),s=i(95),u=a((function(t){var e=this.iterator,i=o(this.next.call(e,t));if(!(this.done=!!i.done))return s(e,this.mapper,i.value)}));n({target:"Iterator",proto:!0,real:!0},{map:function(t){return new u({iterator:o(this),mapper:r(t)})}})},function(t,e,i){var n=i(2),r=i(158),o=i(59),a=i(20);n({target:"Iterator",proto:!0,real:!0},{reduce:function(t){a(this),o(t);var e=arguments.length<2,i=e?void 0:arguments[1];if(r(this,(function(n){e?(e=!1,i=n):i=t(i,n)}),void 0,!1,!0),e)throw TypeError("Reduce of empty iterator with no initial value");return i}})},function(t,e,i){var n=i(2),r=i(158),o=i(59),a=i(20);n({target:"Iterator",proto:!0,real:!0},{some:function(t){return a(this),o(t),r(this,(function(e){if(t(e))return r.stop()}),void 0,!1,!0).stopped}})},function(t,e,i){var n=i(2),r=i(20),o=i(311),a=i(377)((function(t){if(this.remaining--){var e=r(this.next.call(this.iterator,t));return(this.done=!!e.done)?void 0:e.value}this.done=!0}));n({target:"Iterator",proto:!0,real:!0},{take:function(t){return new a({iterator:r(this),remaining:o(t)})}})},function(t,e,i){var n=i(2),r=i(158),o=i(20),a=[].push;n({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return r(o(this),a,t,!1,!0),t}})},function(t,e,i){var n=i(2),r=i(23),o=i(391);n({target:"Map",proto:!0,real:!0,forced:r},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,i){var n=i(20),r=i(59);t.exports=function(){for(var t,e=n(this),i=r(e.delete),o=!0,a=0,s=arguments.length;a<s;a++)t=i.call(e,arguments[a]),o=o&&t;return!!o}},function(t,e,i){var n=i(2),r=i(23),o=i(20),a=i(58),s=i(393),u=i(158);n({target:"Map",proto:!0,real:!0,forced:r},{every:function(t){var e=o(this),i=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return!u(i,(function(t,i){if(!n(i,t,e))return u.stop()}),void 0,!0,!0).stopped}})},function(t,e,i){var n=i(23),r=i(394);t.exports=n?r:function(t){return Map.prototype.entries.call(t)}},function(t,e,i){var n=i(20),r=i(98);t.exports=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return n(e.call(t))}},function(t,e,i){var n=i(2),r=i(23),o=i(34),a=i(20),s=i(59),u=i(58),l=i(137),c=i(393),d=i(158);n({target:"Map",proto:!0,real:!0,forced:r},{filter:function(t){var e=a(this),i=c(e),n=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,o("Map"))),h=s(r.set);return d(i,(function(t,i){n(i,t,e)&&h.call(r,t,i)}),void 0,!0,!0),r}})},function(t,e,i){var n=i(2),r=i(23),o=i(20),a=i(58),s=i(393),u=i(158);n({target:"Map",proto:!0,real:!0,forced:r},{find:function(t){var e=o(this),i=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return u(i,(function(t,i){if(n(i,t,e))return u.stop(i)}),void 0,!0,!0).result}})},function(t,e,i){var n=i(2),r=i(23),o=i(20),a=i(58),s=i(393),u=i(158);n({target:"Map",proto:!0,real:!0,forced:r},{findKey:function(t){var e=o(this),i=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return u(i,(function(t,i){if(n(i,t,e))return u.stop(t)}),void 0,!0,!0).result}})},function(t,e,i){i(2)({target:"Map",stat:!0},{from:i(399)})},function(t,e,i){var n=i(59),r=i(58),o=i(158);t.exports=function(t){var e,i,a,s,u=arguments.length,l=u>1?arguments[1]:void 0;return n(this),(e=void 0!==l)&&n(l),null==t?new this:(i=[],e?(a=0,s=r(l,u>2?arguments[2]:void 0,2),o(t,(function(t){i.push(s(t,a++))}))):o(t,i.push,i),new this(i))}},function(t,e,i){var n=i(2),r=i(158),o=i(59);n({target:"Map",stat:!0},{groupBy:function(t,e){var i=new this;o(e);var n=o(i.has),a=o(i.get),s=o(i.set);return r(t,(function(t){var r=e(t);n.call(i,r)?a.call(i,r).push(t):s.call(i,r,[t])})),i}})},function(t,e,i){var n=i(2),r=i(23),o=i(20),a=i(393),s=i(402),u=i(158);n({target:"Map",proto:!0,real:!0,forced:r},{includes:function(t){return u(a(o(this)),(function(e,i){if(s(i,t))return u.stop()}),void 0,!0,!0).stopped}})},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,i){var n=i(2),r=i(158),o=i(59);n({target:"Map",stat:!0},{keyBy:function(t,e){var i=new this;o(e);var n=o(i.set);return r(t,(function(t){n.call(i,e(t),t)})),i}})},function(t,e,i){var n=i(2),r=i(23),o=i(20),a=i(393),s=i(158);n({target:"Map",proto:!0,real:!0,forced:r},{keyOf:function(t){return s(a(o(this)),(function(e,i){if(i===t)return s.stop(e)}),void 0,!0,!0).result}})},function(t,e,i){var n=i(2),r=i(23),o=i(34),a=i(20),s=i(59),u=i(58),l=i(137),c=i(393),d=i(158);n({target:"Map",proto:!0,real:!0,forced:r},{mapKeys:function(t){var e=a(this),i=c(e),n=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,o("Map"))),h=s(r.set);return d(i,(function(t,i){h.call(r,n(i,t,e),i)}),void 0,!0,!0),r}})},function(t,e,i){var n=i(2),r=i(23),o=i(34),a=i(20),s=i(59),u=i(58),l=i(137),c=i(393),d=i(158);n({target:"Map",proto:!0,real:!0,forced:r},{mapValues:function(t){var e=a(this),i=c(e),n=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,o("Map"))),h=s(r.set);return d(i,(function(t,i){h.call(r,t,n(i,t,e))}),void 0,!0,!0),r}})},function(t,e,i){var n=i(2),r=i(23),o=i(20),a=i(59),s=i(158);n({target:"Map",proto:!0,real:!0,forced:r},{merge:function(t){for(var e=o(this),i=a(e.set),n=0;n<arguments.length;)s(arguments[n++],i,e,!0);return e}})},function(t,e,i){i(2)({target:"Map",stat:!0},{of:i(409)})},function(t,e,i){t.exports=function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}},function(t,e,i){var n=i(2),r=i(23),o=i(20),a=i(59),s=i(393),u=i(158);n({target:"Map",proto:!0,real:!0,forced:r},{reduce:function(t){var e=o(this),i=s(e),n=arguments.length<2,r=n?void 0:arguments[1];if(a(t),u(i,(function(i,o){n?(n=!1,r=o):r=t(r,o,i,e)}),void 0,!0,!0),n)throw TypeError("Reduce of empty map with no initial value");return r}})},function(t,e,i){var n=i(2),r=i(23),o=i(20),a=i(58),s=i(393),u=i(158);n({target:"Map",proto:!0,real:!0,forced:r},{some:function(t){var e=o(this),i=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return u(i,(function(t,i){if(n(i,t,e))return u.stop()}),void 0,!0,!0).stopped}})},function(t,e,i){var n=i(2),r=i(23),o=i(20),a=i(59);n({target:"Map",proto:!0,real:!0,forced:r},{update:function(t,e){var i=o(this),n=arguments.length;a(e);var r=i.has(t);if(!r&&n<3)throw TypeError("Updating absent value");var s=r?i.get(t):a(n>2?arguments[2]:void 0)(t,i);return i.set(t,e(s,t,i)),i}})},function(t,e,i){i(2)({target:"Map",proto:!0,real:!0,forced:i(23)},{updateOrInsert:i(414)})},function(t,e,i){var n=i(20);t.exports=function(t,e){var i,r=n(this),o=arguments.length>2?arguments[2]:void 0;if("function"!=typeof e&&"function"!=typeof o)throw TypeError("At least one callback required");return r.has(t)?(i=r.get(t),"function"==typeof e&&(i=e(i),r.set(t,i))):"function"==typeof o&&(i=o(),r.set(t,i)),i}},function(t,e,i){i(2)({target:"Map",proto:!0,real:!0,forced:i(23)},{upsert:i(414)})},function(t,e,i){var n=i(2),r=Math.min,o=Math.max;n({target:"Math",stat:!0},{clamp:function(t,e,i){return r(i,o(e,t))}})},function(t,e,i){i(2)({target:"Math",stat:!0},{DEG_PER_RAD:Math.PI/180})},function(t,e,i){var n=i(2),r=180/Math.PI;n({target:"Math",stat:!0},{degrees:function(t){return t*r}})},function(t,e,i){var n=i(2),r=i(420),o=i(172);n({target:"Math",stat:!0},{fscale:function(t,e,i,n,a){return o(r(t,e,i,n,a))}})},function(t,e){t.exports=Math.scale||function(t,e,i,n,r){return 0===arguments.length||t!=t||e!=e||i!=i||n!=n||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-n)/(i-e)+n}},function(t,e,i){i(2)({target:"Math",stat:!0},{iaddh:function(t,e,i,n){var r=t>>>0,o=i>>>0;return(e>>>0)+(n>>>0)+((r&o|(r|o)&~(r+o>>>0))>>>31)|0}})},function(t,e,i){i(2)({target:"Math",stat:!0},{imulh:function(t,e){var i=+t,n=+e,r=65535&i,o=65535&n,a=i>>16,s=n>>16,u=(a*o>>>0)+(r*o>>>16);return a*s+(u>>16)+((r*s>>>0)+(65535&u)>>16)}})},function(t,e,i){i(2)({target:"Math",stat:!0},{isubh:function(t,e,i,n){var r=t>>>0,o=i>>>0;return(e>>>0)-(n>>>0)-((~r&o|~(r^o)&r-o>>>0)>>>31)|0}})},function(t,e,i){i(2)({target:"Math",stat:!0},{RAD_PER_DEG:180/Math.PI})},function(t,e,i){var n=i(2),r=Math.PI/180;n({target:"Math",stat:!0},{radians:function(t){return t*r}})},function(t,e,i){i(2)({target:"Math",stat:!0},{scale:i(420)})},function(t,e,i){var n=i(2),r=i(20),o=i(188),a=i(106),s=i(27),u=s.set,l=s.getterFor("Seeded Random Generator"),c=a((function(t){u(this,{type:"Seeded Random Generator",seed:t%2147483647})}),"Seeded Random",(function(){var t=l(this);return{value:(1073741823&(t.seed=(1103515245*t.seed+12345)%2147483647))/1073741823,done:!1}}));n({target:"Math",stat:!0,forced:!0},{seededPRNG:function(t){var e=r(t).seed;if(!o(e))throw TypeError('Math.seededPRNG() argument should have a "seed" field with a finite value.');return new c(e)}})},function(t,e,i){i(2)({target:"Math",stat:!0},{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,i){i(2)({target:"Math",stat:!0},{umulh:function(t,e){var i=+t,n=+e,r=65535&i,o=65535&n,a=i>>>16,s=n>>>16,u=(a*o>>>0)+(r*o>>>16);return a*s+(u>>>16)+((r*s>>>0)+(65535&u)>>>16)}})},function(t,e,i){var n=i(2),r=i(40),o=i(198),a=/^[\da-z]+$/;n({target:"Number",stat:!0},{fromString:function(t,e){var i,n,s=1;if("string"!=typeof t)throw TypeError("Invalid number representation");if(!t.length)throw SyntaxError("Invalid number representation");if("-"==t.charAt(0)&&(s=-1,!(t=t.slice(1)).length))throw SyntaxError("Invalid number representation");if((i=void 0===e?10:r(e))<2||i>36)throw RangeError("Invalid radix");if(!a.test(t)||(n=o(t,i)).toString(i)!==t)throw SyntaxError("Invalid number representation");return s*n}})},function(t,e,i){var n=i(2),r=i(5),o=i(125),a=i(59),s=i(20),u=i(14),l=i(133),c=i(19).f,d=i(18),h=i(132),f=i(394),p=i(158),g=i(241),m=i(53),v=i(27),y=m("observable"),_=v.get,b=v.set,T=function(t){return null==t?void 0:a(t)},w=function(t){var e=t.cleanup;if(e){t.cleanup=void 0;try{e()}catch(t){g(t)}}},S=function(t){return void 0===t.observer},E=function(t,e){if(!r){t.closed=!0;var i=e.subscriptionObserver;i&&(i.closed=!0)}e.observer=void 0},A=function(t,e){var i,n=b(this,{cleanup:void 0,observer:s(t),subscriptionObserver:void 0});r||(this.closed=!1);try{(i=T(t.start))&&i.call(t,this)}catch(t){g(t)}if(!S(n)){var o=n.subscriptionObserver=new C(this);try{var u=e(o),l=u;null!=u&&(n.cleanup="function"==typeof u.unsubscribe?function(){l.unsubscribe()}:a(u))}catch(t){return void o.error(t)}S(n)&&w(n)}};A.prototype=h({},{unsubscribe:function(){var t=_(this);S(t)||(E(this,t),w(t))}}),r&&c(A.prototype,"closed",{configurable:!0,get:function(){return S(_(this))}});var C=function(t){b(this,{subscription:t}),r||(this.closed=!1)};C.prototype=h({},{next:function(t){var e=_(_(this).subscription);if(!S(e)){var i=e.observer;try{var n=T(i.next);n&&n.call(i,t)}catch(t){g(t)}}},error:function(t){var e=_(this).subscription,i=_(e);if(!S(i)){var n=i.observer;E(e,i);try{var r=T(n.error);r?r.call(n,t):g(t)}catch(t){g(t)}w(i)}},complete:function(){var t=_(this).subscription,e=_(t);if(!S(e)){var i=e.observer;E(t,e);try{var n=T(i.complete);n&&n.call(i)}catch(t){g(t)}w(e)}}}),r&&c(C.prototype,"closed",{configurable:!0,get:function(){return S(_(_(this).subscription))}});var P=function(t){l(this,P,"Observable"),b(this,{subscriber:a(t)})};h(P.prototype,{subscribe:function(t){var e=arguments.length;return new A("function"==typeof t?{next:t,error:e>1?arguments[1]:void 0,complete:e>2?arguments[2]:void 0}:u(t)?t:{},_(this).subscriber)}}),h(P,{from:function(t){var e="function"==typeof this?this:P,i=T(s(t)[y]);if(i){var n=s(i.call(t));return n.constructor===e?n:new e((function(t){return n.subscribe(t)}))}var r=f(t);return new e((function(t){p(r,(function(e){if(t.next(e),t.closed)return p.stop()}),void 0,!1,!0),t.complete()}))},of:function(){for(var t="function"==typeof this?this:P,e=arguments.length,i=new Array(e),n=0;n<e;)i[n]=arguments[n++];return new t((function(t){for(var n=0;n<e;n++)if(t.next(i[n]),t.closed)return;t.complete()}))}}),d(P.prototype,y,(function(){return this})),n({global:!0},{Observable:P}),o("Observable")},function(t,e,i){i(243)},function(t,e,i){var n=i(2),r=i(59),o=i(34),a=i(240),s=i(242),u=i(158);n({target:"Promise",stat:!0},{any:function(t){var e=this,i=a.f(e),n=i.resolve,l=i.reject,c=s((function(){var i=r(e.resolve),a=[],s=0,c=1,d=!1;u(t,(function(t){var r=s++,u=!1;a.push(void 0),c++,i.call(e,t).then((function(t){u||d||(d=!0,n(t))}),(function(t){u||d||(u=!0,a[r]=t,--c||l(new(o("AggregateError"))(a,"No one promise resolved")))}))})),--c||l(new(o("AggregateError"))(a,"No one promise resolved"))}));return c.error&&l(c.value),i.promise}})},function(t,e,i){var n=i(2),r=i(240),o=i(242);n({target:"Promise",stat:!0},{try:function(t){var e=r.f(this),i=o(t);return(i.error?e.reject:e.resolve)(i.value),e.promise}})},function(t,e,i){var n=i(2),r=i(436),o=i(20),a=r.toKey,s=r.set;n({target:"Reflect",stat:!0},{defineMetadata:function(t,e,i){var n=arguments.length<4?void 0:a(arguments[3]);s(t,e,o(i),n)}})},function(t,e,i){var n=i(154),r=i(346),o=i(22)("metadata"),a=o.store||(o.store=new r),s=function(t,e,i){var r=a.get(t);if(!r){if(!i)return;a.set(t,r=new n)}var o=r.get(e);if(!o){if(!i)return;r.set(e,o=new n)}return o};t.exports={store:a,getMap:s,has:function(t,e,i){var n=s(e,i,!1);return void 0!==n&&n.has(t)},get:function(t,e,i){var n=s(e,i,!1);return void 0===n?void 0:n.get(t)},set:function(t,e,i,n){s(i,n,!0).set(t,e)},keys:function(t,e){var i=s(t,e,!1),n=[];return i&&i.forEach((function(t,e){n.push(e)})),n},toKey:function(t){return void 0===t||"symbol"==typeof t?t:String(t)}}},function(t,e,i){var n=i(2),r=i(436),o=i(20),a=r.toKey,s=r.getMap,u=r.store;n({target:"Reflect",stat:!0},{deleteMetadata:function(t,e){var i=arguments.length<3?void 0:a(arguments[2]),n=s(o(e),i,!1);if(void 0===n||!n.delete(t))return!1;if(n.size)return!0;var r=u.get(e);return r.delete(i),!!r.size||u.delete(e)}})},function(t,e,i){var n=i(2),r=i(436),o=i(20),a=i(108),s=r.has,u=r.get,l=r.toKey,c=function(t,e,i){if(s(t,e,i))return u(t,e,i);var n=a(e);return null!==n?c(t,n,i):void 0};n({target:"Reflect",stat:!0},{getMetadata:function(t,e){var i=arguments.length<3?void 0:l(arguments[2]);return c(t,o(e),i)}})},function(t,e,i){var n=i(2),r=i(265),o=i(436),a=i(20),s=i(108),u=i(158),l=o.keys,c=o.toKey,d=function(t,e){var i=l(t,e),n=s(t);if(null===n)return i;var o,a,c=d(n,e);return c.length?i.length?(o=new r(i.concat(c)),u(o,(a=[]).push,a),a):c:i};n({target:"Reflect",stat:!0},{getMetadataKeys:function(t){var e=arguments.length<2?void 0:c(arguments[1]);return d(a(t),e)}})},function(t,e,i){var n=i(2),r=i(436),o=i(20),a=r.get,s=r.toKey;n({target:"Reflect",stat:!0},{getOwnMetadata:function(t,e){var i=arguments.length<3?void 0:s(arguments[2]);return a(t,o(e),i)}})},function(t,e,i){var n=i(2),r=i(436),o=i(20),a=r.keys,s=r.toKey;n({target:"Reflect",stat:!0},{getOwnMetadataKeys:function(t){var e=arguments.length<2?void 0:s(arguments[1]);return a(o(t),e)}})},function(t,e,i){var n=i(2),r=i(436),o=i(20),a=i(108),s=r.has,u=r.toKey,l=function(t,e,i){if(s(t,e,i))return!0;var n=a(e);return null!==n&&l(t,n,i)};n({target:"Reflect",stat:!0},{hasMetadata:function(t,e){var i=arguments.length<3?void 0:u(arguments[2]);return l(t,o(e),i)}})},function(t,e,i){var n=i(2),r=i(436),o=i(20),a=r.has,s=r.toKey;n({target:"Reflect",stat:!0},{hasOwnMetadata:function(t,e){var i=arguments.length<3?void 0:s(arguments[2]);return a(t,o(e),i)}})},function(t,e,i){var n=i(2),r=i(436),o=i(20),a=r.toKey,s=r.set;n({target:"Reflect",stat:!0},{metadata:function(t,e){return function(i,n){s(t,e,o(i),a(n))}}})},function(t,e,i){var n=i(2),r=i(23),o=i(446);n({target:"Set",proto:!0,real:!0,forced:r},{addAll:function(){return o.apply(this,arguments)}})},function(t,e,i){var n=i(20),r=i(59);t.exports=function(){for(var t=n(this),e=r(t.add),i=0,o=arguments.length;i<o;i++)e.call(t,arguments[i]);return t}},function(t,e,i){var n=i(2),r=i(23),o=i(391);n({target:"Set",proto:!0,real:!0,forced:r},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,i){var n=i(2),r=i(23),o=i(34),a=i(20),s=i(59),u=i(137),l=i(158);n({target:"Set",proto:!0,real:!0,forced:r},{difference:function(t){var e=a(this),i=new(u(e,o("Set")))(e),n=s(i.delete);return l(t,(function(t){n.call(i,t)})),i}})},function(t,e,i){var n=i(2),r=i(23),o=i(20),a=i(58),s=i(450),u=i(158);n({target:"Set",proto:!0,real:!0,forced:r},{every:function(t){var e=o(this),i=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return!u(i,(function(t){if(!n(t,t,e))return u.stop()}),void 0,!1,!0).stopped}})},function(t,e,i){var n=i(23),r=i(394);t.exports=n?r:function(t){return Set.prototype.values.call(t)}},function(t,e,i){var n=i(2),r=i(23),o=i(34),a=i(20),s=i(59),u=i(58),l=i(137),c=i(450),d=i(158);n({target:"Set",proto:!0,real:!0,forced:r},{filter:function(t){var e=a(this),i=c(e),n=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,o("Set"))),h=s(r.add);return d(i,(function(t){n(t,t,e)&&h.call(r,t)}),void 0,!1,!0),r}})},function(t,e,i){var n=i(2),r=i(23),o=i(20),a=i(58),s=i(450),u=i(158);n({target:"Set",proto:!0,real:!0,forced:r},{find:function(t){var e=o(this),i=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return u(i,(function(t){if(n(t,t,e))return u.stop(t)}),void 0,!1,!0).result}})},function(t,e,i){i(2)({target:"Set",stat:!0},{from:i(399)})},function(t,e,i){var n=i(2),r=i(23),o=i(34),a=i(20),s=i(59),u=i(137),l=i(158);n({target:"Set",proto:!0,real:!0,forced:r},{intersection:function(t){var e=a(this),i=new(u(e,o("Set"))),n=s(e.has),r=s(i.add);return l(t,(function(t){n.call(e,t)&&r.call(i,t)})),i}})},function(t,e,i){var n=i(2),r=i(23),o=i(20),a=i(59),s=i(158);n({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:function(t){var e=o(this),i=a(e.has);return!s(t,(function(t){if(!0===i.call(e,t))return s.stop()})).stopped}})},function(t,e,i){var n=i(2),r=i(23),o=i(34),a=i(20),s=i(59),u=i(394),l=i(158);n({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:function(t){var e=u(this),i=a(t),n=i.has;return"function"!=typeof n&&(i=new(o("Set"))(t),n=s(i.has)),!l(e,(function(t){if(!1===n.call(i,t))return l.stop()}),void 0,!1,!0).stopped}})},function(t,e,i){var n=i(2),r=i(23),o=i(20),a=i(59),s=i(158);n({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:function(t){var e=o(this),i=a(e.has);return!s(t,(function(t){if(!1===i.call(e,t))return s.stop()})).stopped}})},function(t,e,i){var n=i(2),r=i(23),o=i(20),a=i(450),s=i(158);n({target:"Set",proto:!0,real:!0,forced:r},{join:function(t){var e=o(this),i=a(e),n=void 0===t?",":String(t),r=[];return s(i,r.push,r,!1,!0),r.join(n)}})},function(t,e,i){var n=i(2),r=i(23),o=i(34),a=i(20),s=i(59),u=i(58),l=i(137),c=i(450),d=i(158);n({target:"Set",proto:!0,real:!0,forced:r},{map:function(t){var e=a(this),i=c(e),n=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,o("Set"))),h=s(r.add);return d(i,(function(t){h.call(r,n(t,t,e))}),void 0,!1,!0),r}})},function(t,e,i){i(2)({target:"Set",stat:!0},{of:i(409)})},function(t,e,i){var n=i(2),r=i(23),o=i(20),a=i(59),s=i(450),u=i(158);n({target:"Set",proto:!0,real:!0,forced:r},{reduce:function(t){var e=o(this),i=s(e),n=arguments.length<2,r=n?void 0:arguments[1];if(a(t),u(i,(function(i){n?(n=!1,r=i):r=t(r,i,i,e)}),void 0,!1,!0),n)throw TypeError("Reduce of empty set with no initial value");return r}})},function(t,e,i){var n=i(2),r=i(23),o=i(20),a=i(58),s=i(450),u=i(158);n({target:"Set",proto:!0,real:!0,forced:r},{some:function(t){var e=o(this),i=s(e),n=a(t,arguments.length>1?arguments[1]:void 0,3);return u(i,(function(t){if(n(t,t,e))return u.stop()}),void 0,!1,!0).stopped}})},function(t,e,i){var n=i(2),r=i(23),o=i(34),a=i(20),s=i(59),u=i(137),l=i(158);n({target:"Set",proto:!0,real:!0,forced:r},{symmetricDifference:function(t){var e=a(this),i=new(u(e,o("Set")))(e),n=s(i.delete),r=s(i.add);return l(t,(function(t){n.call(i,t)||r.call(i,t)})),i}})},function(t,e,i){var n=i(2),r=i(23),o=i(34),a=i(20),s=i(59),u=i(137),l=i(158);n({target:"Set",proto:!0,real:!0,forced:r},{union:function(t){var e=a(this),i=new(u(e,o("Set")))(e);return l(t,s(i.add),i),i}})},function(t,e,i){var n=i(2),r=i(267).charAt;n({target:"String",proto:!0},{at:function(t){return r(this,t)}})},function(t,e,i){var n=i(2),r=i(106),o=i(12),a=i(27),s=i(267),u=s.codeAt,l=s.charAt,c=a.set,d=a.getterFor("String Iterator"),h=r((function(t){c(this,{type:"String Iterator",string:t,index:0})}),"String",(function(){var t,e=d(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=l(i,n),e.index+=t.length,{value:{codePoint:u(t,0),position:n},done:!1})}));n({target:"String",proto:!0},{codePoints:function(){return new h(String(o(this)))}})},function(t,e,i){i(278)},function(t,e,i){var n=i(2),r=i(12),o=i(259),a=i(260),s=i(53),u=i(23),l=s("replace"),c=RegExp.prototype;n({target:"String",proto:!0},{replaceAll:function(t,e){var i,n,s,d,h,f,p,g=r(this);if(null!=t){if((i=o(t))&&!~String(r("flags"in c?t.flags:a.call(t))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(n=t[l]))return n.call(t,g,e);if(u&&i)return String(g).replace(t,e)}if(s=String(g),d=String(t),h=s.split(d),"function"!=typeof e)return h.join(String(e));for(f=h[0],p=1;p<h.length;p++)f+=String(e(d,p-1,s)),f+=h[p];return f}})},function(t,e,i){i(55)("asyncDispose")},function(t,e,i){i(55)("dispose")},function(t,e,i){i(55)("observable")},function(t,e,i){i(55)("patternMatch")},function(t,e,i){i(55)("replaceAll")},function(t,e,i){var n=i(2),r=i(23),o=i(391);n({target:"WeakMap",proto:!0,real:!0,forced:r},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,i){i(2)({target:"WeakMap",stat:!0},{from:i(399)})},function(t,e,i){i(2)({target:"WeakMap",stat:!0},{of:i(409)})},function(t,e,i){i(2)({target:"WeakMap",proto:!0,real:!0,forced:i(23)},{upsert:i(414)})},function(t,e,i){var n=i(2),r=i(23),o=i(446);n({target:"WeakSet",proto:!0,real:!0,forced:r},{addAll:function(){return o.apply(this,arguments)}})},function(t,e,i){var n=i(2),r=i(23),o=i(391);n({target:"WeakSet",proto:!0,real:!0,forced:r},{deleteAll:function(){return o.apply(this,arguments)}})},function(t,e,i){i(2)({target:"WeakSet",stat:!0},{from:i(399)})},function(t,e,i){i(2)({target:"WeakSet",stat:!0},{of:i(409)})},function(t,e,i){var n=i(3),r=i(483),o=i(92),a=i(18);for(var s in r){var u=n[s],l=u&&u.prototype;if(l&&l.forEach!==o)try{a(l,"forEach",o)}catch(t){l.forEach=o}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,i){var n=i(3),r=i(483),o=i(104),a=i(18),s=i(53),u=s("iterator"),l=s("toStringTag"),c=o.values;for(var d in r){var h=n[d],f=h&&h.prototype;if(f){if(f[u]!==c)try{a(f,u,c)}catch(t){f[u]=c}if(f[l]||a(f,l,d),r[d])for(var p in o)if(f[p]!==o[p])try{a(f,p,o[p])}catch(t){f[p]=o[p]}}}},function(t,e,i){var n=i(3),r=i(236),o=!n.setImmediate||!n.clearImmediate;i(2)({global:!0,bind:!0,enumerable:!0,forced:o},{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,i){var n=i(2),r=i(3),o=i(238),a=i(11),s=r.process,u="process"==a(s);n({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=u&&s.domain;o(e?e.bind(t):t)}})},function(t,e,i){var n=i(2),r=i(3),o=i(237),a=[].slice,s=function(t){return function(e,i){var n=arguments.length>2,r=n?a.call(arguments,2):void 0;return t(n?function(){("function"==typeof e?e:Function(e)).apply(this,r)}:e,i)}};n({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:s(r.setTimeout),setInterval:s(r.setInterval)})},function(t,e,i){i(273);var n,r=i(2),o=i(5),a=i(489),s=i(3),u=i(49),l=i(21),c=i(133),d=i(15),h=i(203),f=i(94),p=i(267).codeAt,g=i(490),m=i(56),v=i(491),y=i(27),_=s.URL,b=v.URLSearchParams,T=v.getState,w=y.set,S=y.getterFor("URL"),E=Math.floor,A=Math.pow,C=/[A-Za-z]/,P=/[\d+\-.A-Za-z]/,I=/\d/,O=/^(0x|0X)/,x=/^[0-7]+$/,k=/^\d+$/,R=/^[\dA-Fa-f]+$/,M=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,L=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,D=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,N=/[\u0009\u000A\u000D]/g,F=function(t,e){var i,n,r;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(i=V(e.slice(1,-1))))return"Invalid host";t.host=i}else if(q(t)){if(e=g(e),M.test(e))return"Invalid host";if(null===(i=U(e)))return"Invalid host";t.host=i}else{if(L.test(e))return"Invalid host";for(i="",n=f(e),r=0;r<n.length;r++)i+=z(n[r],j);t.host=i}},U=function(t){var e,i,n,r,o,a,s,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(e=u.length)>4)return t;for(i=[],n=0;n<e;n++){if(""==(r=u[n]))return t;if(o=10,r.length>1&&"0"==r.charAt(0)&&(o=O.test(r)?16:8,r=r.slice(8==o?1:2)),""===r)a=0;else{if(!(10==o?k:8==o?x:R).test(r))return t;a=parseInt(r,o)}i.push(a)}for(n=0;n<e;n++)if(a=i[n],n==e-1){if(a>=A(256,5-e))return null}else if(a>255)return null;for(s=i.pop(),n=0;n<i.length;n++)s+=i[n]*A(256,3-n);return s},V=function(t){var e,i,n,r,o,a,s,u=[0,0,0,0,0,0,0,0],l=0,c=null,d=0,h=function(){return t.charAt(d)};if(":"==h()){if(":"!=t.charAt(1))return;d+=2,c=++l}for(;h();){if(8==l)return;if(":"!=h()){for(e=i=0;i<4&&R.test(h());)e=16*e+parseInt(h(),16),d++,i++;if("."==h()){if(0==i)return;if(d-=i,l>6)return;for(n=0;h();){if(r=null,n>0){if(!("."==h()&&n<4))return;d++}if(!I.test(h()))return;for(;I.test(h());){if(o=parseInt(h(),10),null===r)r=o;else{if(0==r)return;r=10*r+o}if(r>255)return;d++}u[l]=256*u[l]+r,2!=++n&&4!=n||l++}if(4!=n)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;u[l++]=e}else{if(null!==c)return;d++,c=++l}}if(null!==c)for(a=l-c,l=7;0!=l&&a>0;)s=u[l],u[l--]=u[c+a-1],u[c+--a]=s;else if(8!=l)return;return u},B=function(t){var e,i,n,r;if("number"==typeof t){for(e=[],i=0;i<4;i++)e.unshift(t%256),t=E(t/256);return e.join(".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,i=1,n=null,r=0,o=0;o<8;o++)0!==t[o]?(r>i&&(e=n,i=r),n=null,r=0):(null===n&&(n=o),++r);return r>i&&(e=n,i=r),e}(t),i=0;i<8;i++)r&&0===t[i]||(r&&(r=!1),n===i?(e+=i?":":"::",r=!0):(e+=t[i].toString(16),i<7&&(e+=":")));return"["+e+"]"}return t},j={},H=h({},j,{" ":1,'"':1,"<":1,">":1,"`":1}),G=h({},H,{"#":1,"?":1,"{":1,"}":1}),W=h({},G,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),z=function(t,e){var i=p(t,0);return i>32&&i<127&&!d(e,t)?t:encodeURIComponent(t)},$={ftp:21,file:null,http:80,https:443,ws:80,wss:443},q=function(t){return d($,t.scheme)},Y=function(t){return""!=t.username||""!=t.password},K=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},X=function(t,e){var i;return 2==t.length&&C.test(t.charAt(0))&&(":"==(i=t.charAt(1))||!e&&"|"==i)},Z=function(t){var e;return t.length>1&&X(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},Q=function(t){var e=t.path,i=e.length;!i||"file"==t.scheme&&1==i&&X(e[0],!0)||e.pop()},J=function(t){return"."===t||"%2e"===t.toLowerCase()},tt={},et={},it={},nt={},rt={},ot={},at={},st={},ut={},lt={},ct={},dt={},ht={},ft={},pt={},gt={},mt={},vt={},yt={},_t={},bt={},Tt=function(t,e,i,r){var o,a,s,u,l,c=i||tt,h=0,p="",g=!1,m=!1,v=!1;for(i||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(D,"")),e=e.replace(N,""),o=f(e);h<=o.length;){switch(a=o[h],c){case tt:if(!a||!C.test(a)){if(i)return"Invalid scheme";c=it;continue}p+=a.toLowerCase(),c=et;break;case et:if(a&&(P.test(a)||"+"==a||"-"==a||"."==a))p+=a.toLowerCase();else{if(":"!=a){if(i)return"Invalid scheme";p="",c=it,h=0;continue}if(i&&(q(t)!=d($,p)||"file"==p&&(Y(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,i)return void(q(t)&&$[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?c=ft:q(t)&&r&&r.scheme==t.scheme?c=nt:q(t)?c=st:"/"==o[h+1]?(c=rt,h++):(t.cannotBeABaseURL=!0,t.path.push(""),c=yt)}break;case it:if(!r||r.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==a){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,c=bt;break}c="file"==r.scheme?ft:ot;continue;case nt:if("/"!=a||"/"!=o[h+1]){c=ot;continue}c=ut,h++;break;case rt:if("/"==a){c=lt;break}c=vt;continue;case ot:if(t.scheme=r.scheme,a==n)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==a||"\\"==a&&q(t))c=at;else if("?"==a)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",c=_t;else{if("#"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),c=vt;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=bt}break;case at:if(!q(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,c=vt;continue}c=lt}else c=ut;break;case st:if(c=ut,"/"!=a||"/"!=p.charAt(h+1))continue;h++;break;case ut:if("/"!=a&&"\\"!=a){c=lt;continue}break;case lt:if("@"==a){g&&(p="%40"+p),g=!0,s=f(p);for(var y=0;y<s.length;y++){var _=s[y];if(":"!=_||v){var b=z(_,W);v?t.password+=b:t.username+=b}else v=!0}p=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&q(t)){if(g&&""==p)return"Invalid authority";h-=f(p).length+1,p="",c=ct}else p+=a;break;case ct:case dt:if(i&&"file"==t.scheme){c=gt;continue}if(":"!=a||m){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&q(t)){if(q(t)&&""==p)return"Invalid host";if(i&&""==p&&(Y(t)||null!==t.port))return;if(u=F(t,p))return u;if(p="",c=mt,i)return;continue}"["==a?m=!0:"]"==a&&(m=!1),p+=a}else{if(""==p)return"Invalid host";if(u=F(t,p))return u;if(p="",c=ht,i==dt)return}break;case ht:if(!I.test(a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&q(t)||i){if(""!=p){var T=parseInt(p,10);if(T>65535)return"Invalid port";t.port=q(t)&&T===$[t.scheme]?null:T,p=""}if(i)return;c=mt;continue}return"Invalid port"}p+=a;break;case ft:if(t.scheme="file","/"==a||"\\"==a)c=pt;else{if(!r||"file"!=r.scheme){c=vt;continue}if(a==n)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==a)t.host=r.host,t.path=r.path.slice(),t.query="",c=_t;else{if("#"!=a){Z(o.slice(h).join(""))||(t.host=r.host,t.path=r.path.slice(),Q(t)),c=vt;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",c=bt}}break;case pt:if("/"==a||"\\"==a){c=gt;break}r&&"file"==r.scheme&&!Z(o.slice(h).join(""))&&(X(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),c=vt;continue;case gt:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!i&&X(p))c=vt;else if(""==p){if(t.host="",i)return;c=mt}else{if(u=F(t,p))return u;if("localhost"==t.host&&(t.host=""),i)return;p="",c=mt}continue}p+=a;break;case mt:if(q(t)){if(c=vt,"/"!=a&&"\\"!=a)continue}else if(i||"?"!=a)if(i||"#"!=a){if(a!=n&&(c=vt,"/"!=a))continue}else t.fragment="",c=bt;else t.query="",c=_t;break;case vt:if(a==n||"/"==a||"\\"==a&&q(t)||!i&&("?"==a||"#"==a)){if(".."===(l=(l=p).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(Q(t),"/"==a||"\\"==a&&q(t)||t.path.push("")):J(p)?"/"==a||"\\"==a&&q(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&X(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(a==n||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",c=_t):"#"==a&&(t.fragment="",c=bt)}else p+=z(a,G);break;case yt:"?"==a?(t.query="",c=_t):"#"==a?(t.fragment="",c=bt):a!=n&&(t.path[0]+=z(a,j));break;case _t:i||"#"!=a?a!=n&&("'"==a&&q(t)?t.query+="%27":t.query+="#"==a?"%23":z(a,j)):(t.fragment="",c=bt);break;case bt:a!=n&&(t.fragment+=z(a,H))}h++}},wt=function(t){var e,i,n=c(this,wt,"URL"),r=arguments.length>1?arguments[1]:void 0,a=String(t),s=w(n,{type:"URL"});if(void 0!==r)if(r instanceof wt)e=S(r);else if(i=Tt(e={},String(r)))throw TypeError(i);if(i=Tt(s,a,null,e))throw TypeError(i);var u=s.searchParams=new b,l=T(u);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(u)||null},o||(n.href=Et.call(n),n.origin=At.call(n),n.protocol=Ct.call(n),n.username=Pt.call(n),n.password=It.call(n),n.host=Ot.call(n),n.hostname=xt.call(n),n.port=kt.call(n),n.pathname=Rt.call(n),n.search=Mt.call(n),n.searchParams=Lt.call(n),n.hash=Dt.call(n))},St=wt.prototype,Et=function(){var t=S(this),e=t.scheme,i=t.username,n=t.password,r=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,l=e+":";return null!==r?(l+="//",Y(t)&&(l+=i+(n?":"+n:"")+"@"),l+=B(r),null!==o&&(l+=":"+o)):"file"==e&&(l+="//"),l+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},At=function(){var t=S(this),e=t.scheme,i=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&q(t)?e+"://"+B(t.host)+(null!==i?":"+i:""):"null"},Ct=function(){return S(this).scheme+":"},Pt=function(){return S(this).username},It=function(){return S(this).password},Ot=function(){var t=S(this),e=t.host,i=t.port;return null===e?"":null===i?B(e):B(e)+":"+i},xt=function(){var t=S(this).host;return null===t?"":B(t)},kt=function(){var t=S(this).port;return null===t?"":String(t)},Rt=function(){var t=S(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Mt=function(){var t=S(this).query;return t?"?"+t:""},Lt=function(){return S(this).searchParams},Dt=function(){var t=S(this).fragment;return t?"#"+t:""},Nt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(o&&u(St,{href:Nt(Et,(function(t){var e=S(this),i=String(t),n=Tt(e,i);if(n)throw TypeError(n);T(e.searchParams).updateSearchParams(e.query)})),origin:Nt(At),protocol:Nt(Ct,(function(t){var e=S(this);Tt(e,String(t)+":",tt)})),username:Nt(Pt,(function(t){var e=S(this),i=f(String(t));if(!K(e)){e.username="";for(var n=0;n<i.length;n++)e.username+=z(i[n],W)}})),password:Nt(It,(function(t){var e=S(this),i=f(String(t));if(!K(e)){e.password="";for(var n=0;n<i.length;n++)e.password+=z(i[n],W)}})),host:Nt(Ot,(function(t){var e=S(this);e.cannotBeABaseURL||Tt(e,String(t),ct)})),hostname:Nt(xt,(function(t){var e=S(this);e.cannotBeABaseURL||Tt(e,String(t),dt)})),port:Nt(kt,(function(t){var e=S(this);K(e)||(""==(t=String(t))?e.port=null:Tt(e,t,ht))})),pathname:Nt(Rt,(function(t){var e=S(this);e.cannotBeABaseURL||(e.path=[],Tt(e,t+"",mt))})),search:Nt(Mt,(function(t){var e=S(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Tt(e,t,_t)),T(e.searchParams).updateSearchParams(e.query)})),searchParams:Nt(Lt),hash:Nt(Dt,(function(t){var e=S(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Tt(e,t,bt)):e.fragment=null}))}),l(St,"toJSON",(function(){return Et.call(this)}),{enumerable:!0}),l(St,"toString",(function(){return Et.call(this)}),{enumerable:!0}),_){var Ft=_.createObjectURL,Ut=_.revokeObjectURL;Ft&&l(wt,"createObjectURL",(function(t){return Ft.apply(_,arguments)})),Ut&&l(wt,"revokeObjectURL",(function(t){return Ut.apply(_,arguments)}))}m(wt,"URL"),r({global:!0,forced:!a,sham:!o},{URL:wt})},function(t,e,i){var n=i(6),r=i(53),o=i(23),a=r("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,i="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),i+=n+t})),o&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host}))},function(t,e,i){var n=/[^\0-\u007E]/,r=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,u=function(t){return t+22+75*(t<26)},l=function(t,e,i){var n=0;for(t=i?a(t/700):t>>1,t+=a(t/e);t>455;n+=36)t=a(t/35);return a(n+36*t/(t+38))},c=function(t){var e,i,n=[],r=(t=function(t){for(var e=[],i=0,n=t.length;i<n;){var r=t.charCodeAt(i++);if(r>=55296&&r<=56319&&i<n){var o=t.charCodeAt(i++);56320==(64512&o)?e.push(((1023&r)<<10)+(1023&o)+65536):(e.push(r),i--)}else e.push(r)}return e}(t)).length,c=128,d=0,h=72;for(e=0;e<t.length;e++)(i=t[e])<128&&n.push(s(i));var f=n.length,p=f;for(f&&n.push("-");p<r;){var g=2147483647;for(e=0;e<t.length;e++)(i=t[e])>=c&&i<g&&(g=i);var m=p+1;if(g-c>a((2147483647-d)/m))throw RangeError(o);for(d+=(g-c)*m,c=g,e=0;e<t.length;e++){if((i=t[e])<c&&++d>2147483647)throw RangeError(o);if(i==c){for(var v=d,y=36;;y+=36){var _=y<=h?1:y>=h+26?26:y-h;if(v<_)break;var b=v-_,T=36-_;n.push(s(u(_+b%T))),v=a(b/T)}n.push(s(u(v))),h=l(d,m,p==f),d=0,++p}}++d,++c}return n.join("")};t.exports=function(t){var e,i,o=[],a=t.toLowerCase().replace(r,".").split(".");for(e=0;e<a.length;e++)i=a[e],o.push(n.test(i)?"xn--"+c(i):i);return o.join(".")}},function(t,e,i){i(104);var n=i(2),r=i(489),o=i(21),a=i(132),s=i(56),u=i(106),l=i(27),c=i(133),d=i(15),h=i(58),f=i(20),p=i(14),g=i(394),m=i(98),v=i(53)("iterator"),y=l.set,_=l.getterFor("URLSearchParams"),b=l.getterFor("URLSearchParamsIterator"),T=/\+/g,w=Array(4),S=function(t){return w[t-1]||(w[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},E=function(t){try{return decodeURIComponent(t)}catch(e){return t}},A=function(t){var e=t.replace(T," "),i=4;try{return decodeURIComponent(e)}catch(t){for(;i;)e=e.replace(S(i--),E);return e}},C=/[!'()~]|%20/g,P={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},I=function(t){return P[t]},O=function(t){return encodeURIComponent(t).replace(C,I)},x=function(t,e){if(e)for(var i,n,r=e.split("&"),o=0;o<r.length;)(i=r[o++]).length&&(n=i.split("="),t.push({key:A(n.shift()),value:A(n.join("="))}))},k=function(t){this.entries.length=0,x(this.entries,t)},R=function(t,e){if(t<e)throw TypeError("Not enough arguments")},M=u((function(t,e){y(this,{type:"URLSearchParamsIterator",iterator:g(_(t).entries),kind:e})}),"Iterator",(function(){var t=b(this),e=t.kind,i=t.iterator.next(),n=i.value;return i.done||(i.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),i})),L=function(){c(this,L,"URLSearchParams");var t,e,i,n,r,o,a,s,u,l=arguments.length>0?arguments[0]:void 0,h=this,v=[];if(y(h,{type:"URLSearchParams",entries:v,updateURL:function(){},updateSearchParams:k}),void 0!==l)if(p(l))if("function"==typeof(t=m(l)))for(i=(e=t.call(l)).next;!(n=i.call(e)).done;){if((a=(o=(r=g(f(n.value))).next).call(r)).done||(s=o.call(r)).done||!o.call(r).done)throw TypeError("Expected sequence with length 2");v.push({key:a.value+"",value:s.value+""})}else for(u in l)d(l,u)&&v.push({key:u,value:l[u]+""});else x(v,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},D=L.prototype;a(D,{append:function(t,e){R(arguments.length,2);var i=_(this);i.entries.push({key:t+"",value:e+""}),i.updateURL()},delete:function(t){R(arguments.length,1);for(var e=_(this),i=e.entries,n=t+"",r=0;r<i.length;)i[r].key===n?i.splice(r,1):r++;e.updateURL()},get:function(t){R(arguments.length,1);for(var e=_(this).entries,i=t+"",n=0;n<e.length;n++)if(e[n].key===i)return e[n].value;return null},getAll:function(t){R(arguments.length,1);for(var e=_(this).entries,i=t+"",n=[],r=0;r<e.length;r++)e[r].key===i&&n.push(e[r].value);return n},has:function(t){R(arguments.length,1);for(var e=_(this).entries,i=t+"",n=0;n<e.length;)if(e[n++].key===i)return!0;return!1},set:function(t,e){R(arguments.length,1);for(var i,n=_(this),r=n.entries,o=!1,a=t+"",s=e+"",u=0;u<r.length;u++)(i=r[u]).key===a&&(o?r.splice(u--,1):(o=!0,i.value=s));o||r.push({key:a,value:s}),n.updateURL()},sort:function(){var t,e,i,n=_(this),r=n.entries,o=r.slice();for(r.length=0,i=0;i<o.length;i++){for(t=o[i],e=0;e<i;e++)if(r[e].key>t.key){r.splice(e,0,t);break}e===i&&r.push(t)}n.updateURL()},forEach:function(t){for(var e,i=_(this).entries,n=h(t,arguments.length>1?arguments[1]:void 0,3),r=0;r<i.length;)n((e=i[r++]).value,e.key,this)},keys:function(){return new M(this,"keys")},values:function(){return new M(this,"values")},entries:function(){return new M(this,"entries")}},{enumerable:!0}),o(D,v,D.entries),o(D,"toString",(function(){for(var t,e=_(this).entries,i=[],n=0;n<e.length;)t=e[n++],i.push(O(t.key)+"="+O(t.value));return i.join("&")}),{enumerable:!0}),s(L,"URLSearchParams"),n({global:!0,forced:!r},{URLSearchParams:L}),t.exports={URLSearchParams:L,getState:_}},function(t,e,i){i(2)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})}])}).call(this,i(28))},function(t,e,i){"use strict";var n=function(t){var e=Object.prototype,i=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,i,n){var r=e&&e.prototype instanceof c?e:c,o=Object.create(r.prototype),a=new w(n||[]);return o._invoke=function(t,e,i){var n="suspendedStart";return function(r,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw o;return E()}for(i.method=r,i.arg=o;;){var a=i.delegate;if(a){var s=_(a,i);if(s){if(s===l)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===n)throw n="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n="executing";var c=u(t,e,i);if("normal"===c.type){if(n=i.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:i.done}}"throw"===c.type&&(n="completed",i.method="throw",i.arg=c.arg)}}}(t,i,a),o}function u(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function c(){}function d(){}function h(){}var f={};f[r]=function(){return this};var p=Object.getPrototypeOf,g=p&&p(p(S([])));g&&g!==e&&i.call(g,r)&&(f=g);var m=h.prototype=c.prototype=Object.create(f);function v(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function y(t,e){var n;this._invoke=function(r,o){function a(){return new e((function(n,a){!function n(r,o,a,s){var l=u(t[r],t,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(d).then((function(t){c.value=t,a(c)}),(function(t){return n("throw",t,a,s)}))}s(l.arg)}(r,o,n,a)}))}return n=n?n.then(a,a):a()}}function _(t,e){var i=t.iterator[e.method];if(void 0===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(i,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function w(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function S(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=m.constructor=h,h.constructor=d,h[a]=d.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},v(y.prototype),y.prototype[o]=function(){return this},t.AsyncIterator=y,t.async=function(e,i,n,r,o){void 0===o&&(o=Promise);var a=new y(s(e,i,n,r),o);return t.isGeneratorFunction(i)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(m),m[a]="Generator",m[r]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},t.values=S,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(i,n){return a.type="throw",a.arg=t,e.next=i,n&&(e.method="next",e.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),T(i),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;T(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:S(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(4)),o=n(i(0)),a=n(i(1)),s=n(i(5)),u=n(i(3)),l=n(i(2)),c=n(i(136)),d=n(i(37));i(39);var h=n(i(9)),f=n(i(20)),p=n(i(18)),g=n(i(84)),m=i(55),v=i(43),y=n(i(144)),_=n(i(145)),b=n(i(15)),T=n(i(44)),w=n(i(65)),S=n(i(8)),E=n(i(21)),A=n(i(59)),C=n(i(58)),P=n(i(61)),I=n(i(46)),O=n(i(87)),x=n(i(78)),k=n(i(77)),R=n(i(60)),M=n(i(56)),L=n(i(118)),D=n(i(85)),N=n(i(67)),F=n(i(13)),U=n(i(14));i(315);var V=null,B=null,j={documentVersion:null,issue:null},H=F.default.hasFeature(U.default.ACCESSIBILITY);l.default.absorb({shouldReduceMotion:H&&window.matchMedia("(prefers-reduced-motion: reduce)").matches});var G=function(){l.default.previewMode&&l.default.privatePreviewer&&y.default.pollForSession()},W=function(t,e){var i=o.default.once((function(){var i=t.state();"resolved"===i?r.default.debug("ScrollProxy received viewport dimensions, rendering experience"):"pending"===i?r.default.warn("ScrollProxy viewport dimensions promise timed out"):r.default.warn("ScrollProxy viewport dimensions promise was rejected"),e()}));t.done(i),setTimeout(i,2e3)},z=function(){S.default.detect(),Y().done((function(){K().done((function(){$(),q()}))})),D.default.on(D.default.publishedEvents.PLAYER_DOCUMENT_SHOWN,(function(){tt()}))},$=function(){ot(),vt(),Et(),P.default.load({}),x.default.load(),C.default.load(),mt()},q=function(){D.default.attachModuleViews(j.issue),I.default.renderPages().always((function(){L.default.initialize(j.issue,j.documentVersion,O.default.getUserToken())}));var t=I.default.getFirstPageReadyPromise();t.fail((function(){D.default.show404()}));var e=[V.promise(),t];a.default.when.apply(a.default,e).then((function(){r.default.debug("About to render initial pages."),D.default.showDocument(),B.mark(B.MARKS.PLAYER.SPINNER_HIDDEN),k.default.bindPopstate(),document.hidden?document.addEventListener("visibilitychange",X):X()}))},Y=function(){return j.documentVersion.createManifestCollection(),j.documentVersion.loadPageModels().done((function(){r.default.debug("Page models loaded")}))},K=function(){return gt().done((function(){r.default.debug("initViewportAndPreloadMedia done. About to render initial pages.")})).fail((function(){D.default.show404()}))},X=function(){document.hidden||(r.default.debug("First page(s) media is loaded. Showing first page."),I.default.activateFirstPage()),document.removeEventListener("visibilitychange",X)},Z=function(){d.default.remove("mobile-help-overlay")},Q={hasImageEffects:function(t){return!!u.default.msie&&(!o.default.isNil(t.effects)&&!m.ImageEffects.isDefaultEffects(t.effects))},hasBlendingMode:function(t){if(u.default.msie||u.default.edge)return!o.default.isNil(t.blendingMode)&&!v.BlendingModes.isDefaultBlendingMode(t.blendingMode)},isUnsupportedComponent:function(t){return Q.hasBlendingMode(t)||Q.hasImageEffects(t)},smartGroupHasUnsupportedComponent:function(t,e){var i=t.documentVersion.getSmartgroupDefinition(e.smartgroupId);return o.default.some(i.layerDictionary,(function(t,e){return"image-component"===t.type&&(t=J(t),Q.isUnsupportedComponent(t))}))}},J=function(t){if(o.default.isNil(t.effects))t.effects=m.ImageEffects.getDefaults();else{var e=m.ImageEffects.getDefaults();for(var i in e)o.default.isNil(t.effects[i])&&(t.effects[i]=e[i])}return t},tt=function(){if(u.default.msie||u.default.edge){var t=!1;l.default.previewMode?o.default.each(j.documentVersion.pages,(function(e){var i=function(t){return"smartgroup"===t.type?Q.smartGroupHasUnsupportedComponent(e,t):"image-component"===t.type?(t=J(t),Q.isUnsupportedComponent(t)):"folder"===t.type||"group"===t.type?o.default.some(t.items,i):"mask-group"===t.type};if(t=o.default.some(e.get("layers"),i))return!1})):(t=o.default.some(j.documentVersion.pages,(function(t){return!0===t.get("hasUnsupportedComponent")})))||(t=o.default.some(j.documentVersion.get("smartgroups"),(function(t){return!0===t.hasUnsupportedComponent}))),t&&D.default.showInfo("Your current browser does not support certain content in this experience. Try opening this page in Chrome, Safari, or Firefox.")}},et=function(){var t=it();l.default.heightOverridesPerLayout=t,l.default.heightOverride=o.default.get(t,"desktop",null),S.default.on("change",(function(e){l.default.heightOverride=o.default.get(t,e,null)}))},it=function(){var t={desktop:"heightOverride"};return o.default.each(E.default.getExistingVariants(),(function(e){t[e]=o.default.lowerFirst(e)+"HeightOverride"})),o.default.mapValues(t,(function(t){var e=new RegExp("[\\?&]"+t+"=(\\d+)(&|$)"),i=window.location.search.match(e);return i?+i[1]:null}))},nt=function(){O.default.init({application:l.default.analyticsApplicationKey,analyticsTrackers:l.default.analyticsTrackers}),B=O.default.getPerformanceTracker(),window.cerosPlayerLoadStart&&B.startTracking(window.cerosPlayerLoadStart),f.default.onPriorityQueueCompletion((function(){B.mark(B.MARKS.PLAYER.PRIORITY_QUEUE_EMPTIED)})),f.default.onAllResourcesLoaded((function(){B.mark(B.MARKS.PLAYER.ALL_RESOURCES_LOADED)}))},rt=function(){var t=null;l.default.previewMode?M.default.initialize():t=window.docVersionRequest,j.issue=new s.default.Model(l.default.issue),j.documentVersion=new _.default(l.default.docVersion,{docVersionRequest:t})},ot=function(){if(r.default.isEnabled("debug")){var t=[D.default,T.default,w.default,I.default,P.default,O.default,x.default,R.default];l.default.isEmbedded||(t=t.concat([A.default,k.default])),o.default.each(t,(function(t){o.default.each(t.publishedEvents,(function(e){t.on(e,(function(t){r.default.debug("EVENT: "+e,t)}))}))}))}},at=function(){if(!V){V=new a.default.Deferred;var t=l.default.publicAssetsBaseUrl+"ceros-fonts-2021-03-08.css",e=f.default.addCustomWebFont(["CerosIcons-Regular"],t,"").loadNow(),i=f.default.addGoogleWebFont("Varela+Round::latin").loadNow(),n=f.default.addGoogleWebFont("Montserrat::latin").loadNow();a.default.when(e,n,i).always((function(){V.resolve()})),setTimeout((function(){"resolved"!==V.state()&&(r.default.devWarn("Font loading timed out"),V.resolve())}),5e3)}return V.promise().then((function(){r.default.debug("InitialFontsReady promise is resolved.")}))},st=function(){return l.default.previewMode&&l.default.allowAdaptiveLayouts},ut=function(){st()&&(D.default.setupAdaptiveLayoutsPreviewerTouchDeviceView(),D.default.setupAdaptiveLayoutsPreviewerFrameView())},lt=function(){E.default.setDocVersion(j.documentVersion),st()&&(E.default.on(E.default.EVENTS.UPDATE_URL,(function(t){k.default.navigateToLayout(t)})),E.default.detectPreviewerFrameSizeFromUrl(),D.default.setupAdaptiveLayoutsPreviewerSelectionView())},ct=function(){return l.default.gracePeriodExpired&&at().done((function(){T.default.showUnavailableScreen(a.default("body"),{theme:j.documentVersion.get("theming")});var t=j.documentVersion.getPageInfoByNumberOrSlug(h.default.parsePageFromLocation());O.default.viewExperience({page_slug:t.slug,page_num:t.number,grace_period_expired:!0})})),l.default.gracePeriodExpired},dt=function(){if(l.default.previewMode){var t={"X-Powered-By":"Ceros Player/HTML5"};l.default.revalidateWithCore&&(t["Cache-Control"]="must-revalidate"),a.default.ajaxSetup({timeout:6e4,cache:l.default.ajaxCaching,headers:t,statusCode:{404:function(){a.default(o.default.bind(D.default.show404,D.default))}}}),a.default.ajaxPrefilter((function(t){t.crossDomain&&(t.headers={})}))}},ht=function(){var t=a.default.Deferred();g.default.init(j.issue.get("slug")),ft();var e=!1;g.default.on(g.default.EVENTS.UPDATE_POSITION,(function(i){var n=I.default.getCurrentPageHeight(),r=n&&i.top<n&&i.top<i.bottom;t.resolve(),!e&&r&&(O.default.resetPageTrackingMinMaxY(),e=!0)}));var i=function(t){b.default.getInstance().setPositionData(t)};return p.default.on("sdk.experience.container.ready",i),p.default.on("sdk.experience.container.scrolled",o.default.debounce(i,50)),p.default.on("sdk.experience.container.resized",i),t.promise()},ft=function(){var t=function(){if(E.default.hasVariants()){var t=S.default.getVariant();g.default.announceVariantDetection(t)}};S.default.on("change",t),S.default.hasDetectedVariant()&&t()},pt=function(){var t=new a.default.Deferred;return r.default.debug("Fetching docVersion"),j.documentVersion.fetch().done(t.resolve).fail(t.reject),t.promise()},gt=function(){var t=new a.default.Deferred;return r.default.debug("Init viewport"),I.default.init(j.documentVersion,{performanceTracker:B,marginTopCallback:function(){return A.default.shouldShow()&&!A.default.initiallyHidden()?A.default.getHeight():0}}),r.default.debug("About to preload media"),I.default.preloadPageMedia(),o.default.defer(t.resolve),t.promise()},mt=function(){c.default.on("*",o.default.bind(O.default.handleApiRequest,O.default)).on("ceros.sdk.ping",(function(t,e){e.data="pong"})).on("ceros.sdk.productPanel.close",x.default.deactivate),c.default.bindToIframe(x.default.iframe())},vt=function(){p.default.registerEvents(w.default.publishedEvents,w.default),p.default.registerEvents(k.default.publishedEvents,k.default),bt(),wt(),Tt(),St(),yt(),_t()},yt=function(){I.default.on(I.default.publishedEvents.SCALE,(function(t){var e=I.default.getFirstPageReadyPromise();"pending"===e.state()?e.done(I.default.scale):I.default.scale()}))},_t=function(){I.default.on(I.default.publishedEvents.SCALE,(function(t){P.default.updateScale(t)})),I.default.on(I.default.publishedEvents.PAGE_CHANGE,(function(t){P.default.determineFlipperState(t.isFirstPage,t.isLastPage,!0),I.default.removeClickShield(),I.default.enableGestures(),L.default.announcePageChanged(I.default.getCurrentPageNumber())})),I.default.on(I.default.publishedEvents.PAGE_CHANGING,(function(t){P.default.determineFlipperState(t.isFirstPage,t.isLastPage,t.isPageReady),L.default.announcePageChanging(I.default.getCurrentPageNumber())})),I.default.on(I.default.publishedEvents.PAGE_UPDATE,(function(t){P.default.determineFlipperState(t.isFirstPage,t.isLastPage,t.isPageReady)})),I.default.on(I.default.publishedEvents.PAGE_ENABLED_CHANGE,(function(t){P.default.determineFlipperState(t.isFirstPage,t.isLastPage,t.isPageReady)})),I.default.on(I.default.publishedEvents.PAGE_BATCH_LOAD_START,(function(){I.default.addClickShield(),I.default.disableGestures()})),I.default.on(I.default.publishedEvents.TIMED_LIGHTBOX,(function(t){x.default.showLightbox(t.lightboxUrl,t.lightboxWidth,t.lightboxHeight,t.lightboxHasCloseButton),L.default.announceTimedInteraction(t),O.default.experienceLoadInteraction({action:t.action,delay:t.delay})})),I.default.on(I.default.publishedEvents.TIMED_PRODUCT_PANEL,(function(t){x.default.showProduct(t.productPanelId),L.default.announceTimedInteraction(t),O.default.experienceLoadInteraction({action:t.action,delay:t.delay})})),I.default.on(I.default.publishedEvents.TIMED_SHOPPING_CART,(function(t){x.default.showShoppingCart(),L.default.announceTimedInteraction(t),O.default.experienceLoadInteraction({action:t.action,delay:t.delay})})),P.default.on(P.default.publishedEvents.NEXT_PAGE,(function(){I.default.nextPage()})),P.default.on(P.default.publishedEvents.PREVIOUS_PAGE,(function(){I.default.previousPage()})),w.default.on(w.default.publishedEvents.PAGE_ACTIVATED,(function(){P.default.updateFlipperHrefs()}))},bt=function(){I.default.on(I.default.publishedEvents.SCALE,(function(t){T.default.scale()})),I.default.on(I.default.publishedEvents.CURRENT_PAGE_DELETED,(function(t){T.default.showDeletedPageWarning(a.default("body"))}))},Tt=function(){C.default.on(C.default.publishedEvents.BRANDING_CEROS_BRANDING_CLICK,(function(t){window.open(C.default.getBrandingUrl())}))},wt=function(){A.default.shouldShow()&&(A.default.initiallyHidden()&&(I.default.on(I.default.publishedEvents.LONGPRESS,(function(t){A.default.toggle()})),w.default.on(w.default.publishedEvents.PAGE_COMPONENT_INTERACTION,(function(t){A.default.hide(!0)}))),A.default.on(A.default.publishedEvents.CHROME_SHARE_PAGE,(function(t){I.default.shareCurrentPageOnSocial(t.action,j.issue)})),A.default.on(A.default.publishedEvents.CHROME_SHOPPING_CART,(function(t){x.default.showShoppingCart()})),A.default.on(A.default.publishedEvents.CHROME_TITLE_CLICK,(function(t){I.default.jumpToPage(1,!1)})),I.default.on(I.default.publishedEvents.PAGE_CHANGE,(function(t){A.default.setMenuLinkHrefs(I.default.getCurrentPageNumber())})))},St=function(){p.default.on(w.default.publishedEvents.PAGE_ACTION_SCROLL_TO,(function(t){var e=I.default.scrollTo(t.scrollTargetType,t.scrollTargetScranchor);L.default.announceScrollTo(e),g.default.announceScrollTo(e)})),p.default.on(w.default.publishedEvents.PAGE_ACTION_GO_TO_PREV_PAGE,(function(t){I.default.previousPage()})),p.default.on(w.default.publishedEvents.PAGE_ACTION_GO_TO_NEXT_PAGE,(function(t){I.default.nextPage()})),p.default.on(w.default.publishedEvents.PAGE_ACTION_GO_TO_PAGE,(function(t){I.default.jumpToPage(t.pageTarget)})),p.default.on(w.default.publishedEvents.PAGE_ACTION_ENABLE_DISABLE_PAGES,(function(t){o.default.each(t.pageTargets,(function(t,e){t?I.default.enablePage(e):I.default.disablePage(e)}))})),p.default.on(w.default.publishedEvents.PAGE_ACTION_TOGGLE_REDUCED_MOTION,(function(t){I.default.toggleAnimations()})),l.default.isEmbedded||w.default.on(w.default.publishedEvents.PAGE_ACTIVATED,(function(t){if(t.slug&&j.issue.get("slug")){var e=l.default.docVersion.pageNamesInTitle?t.pageName:void 0,i=j.issue.get("title");e&&(i+=" - "+e),l.default.usePageSlugsInNavigation?k.default.navigateToPageSlug(t.slug,i):k.default.navigateToPageNumber(j.documentVersion.getPageNumberBySlug(t.slug),i)}})),p.default.on(k.default.publishedEvents.POPSTATE,(function(t){if(t.pageNumber)I.default.jumpToPage(t.pageNumber);else if(t.pageSlug){var e=j.documentVersion.getPageNumberBySlug(t.pageSlug);I.default.jumpToPage(e)}})),w.default.on(w.default.publishedEvents.PAGE_ACTION_GO_TO_URL,(function(t){var e;e=o.default.get(l.default,"analyticsTrackers.googleAnalyticsTracker"),l.default.isEmbedded&&e&&e.enabled&&e.trackingID?g.default.announceGotoUrl(t.url,t.urlOpenInNewWindow):t.urlOpenInNewWindow?window.open(t.url):top.location=t.url})),w.default.on(w.default.publishedEvents.PAGE_ACTION_OPEN_LIGHTBOX,(function(t){x.default.showLightbox(t.lightboxUrl,t.lightboxWidth,t.lightboxHeight,t.lightboxHasCloseButton)})),w.default.on(w.default.publishedEvents.PAGE_ACTION_OPEN_PRODUCT_PANEL,(function(t){x.default.showProduct(t.productPanelId)})),w.default.on(w.default.publishedEvents.PAGE_ACTION_OPEN_SHOPPING_CART,(function(t){x.default.showShoppingCart()})),p.default.on(w.default.publishedEvents.PAGE_ACTION_SHARE_PAGE,(function(t){I.default.shareCurrentPageOnSocial(t.action,j.issue)})),p.default.on(w.default.publishedEvents.TIMED_INTERACTION,(function(t){L.default.announceTimedInteraction(t)})),p.default.on(w.default.publishedEvents.PAGE_ACTION_LAYER_VISIBILITY,(function(t){if(N.default.isShowLayersInteraction(t)&&L.default.announceLayersShown(t.layerTargets),N.default.isHideLayersInteraction(t)&&L.default.announceLayersHidden(t.layerTargets),"toggle-layers"===t.action){var e=[],i=[];o.default.each(t.layerTargets,(function(t){I.default.isLayerVisible(t)?e.push(t):i.push(t)})),e.length>0&&L.default.announceLayersShown(e),i.length>0&&L.default.announceLayersHidden(i)}}))},Et=function(){if(l.default.analyticsApplicationKey){I.default.on(I.default.publishedEvents.SCALE,(function(t){var e=t.ratio;O.default.updateScale(e)})),w.default.on(w.default.publishedEvents.PAGE_SCROLL,(function(t){O.default.trackPageScroll({page_slug:t.slug,page_num:j.documentVersion.getPageNumberBySlug(t.slug),topY:t.topY,bottomY:t.bottomY,pageHeight:t.pageHeight})})),w.default.on(w.default.publishedEvents.PAGE_ACTIVATED,(function(t){O.default.viewExperience({page_slug:t.slug,page_num:j.documentVersion.getPageNumberBySlug(t.slug),grace_period_expired:!1}),j.documentVersion.isAutoTransitioning()||O.default.viewPage({page_slug:t.slug,page_name:t.pageName,page_num:j.documentVersion.getPageNumberBySlug(t.slug),topY:t.topY,bottomY:t.bottomY,pageHeight:t.pageHeight})}));var t=function(t){var e={experience_slug:j.issue.get("slug"),experience_version_slug:j.documentVersion.get("slug"),page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,video_slug:t.videoSlug};return t.videoLength&&(e.video_length=t.videoLength),e};w.default.on(w.default.publishedEvents.PAGE_VIDEO_PLAY,(function(e){O.default.playVideo(o.default.extend(t(e),{video_position:e.videoPosition})),L.default.announceVideoPlayed(e.componentSlug)})),w.default.on(w.default.publishedEvents.PAGE_VIDEO_PROGRESS_TIME,(function(e){O.default.trackVideoProgressTime(o.default.extend(t(e),{video_position:e.videoPosition,video_play_time:e.videoPlayTime}))})),w.default.on(w.default.publishedEvents.PAGE_VIDEO_PROGRESS_PERCENT,(function(e){O.default.trackVideoProgressPercent(o.default.extend(t(e),{video_progress_percent:e.progressPercent}))})),w.default.on(w.default.publishedEvents.PAGE_ACTION_GO_TO_URL,(function(t){O.default.clickLink({page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,outgoing_url:t.url,outgoing_domain:t.domain})})),w.default.on(w.default.publishedEvents.PAGE_ACTION_OPEN_LIGHTBOX,(function(t){O.default.clickLightbox({page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,lightbox_url:t.lightboxUrl,lightbox_width:t.lightboxWidth,lightbox_height:t.lightboxHeight,lightbox_has_close_button:t.lightboxHasCloseButton})})),w.default.on(w.default.publishedEvents.PAGE_ACTION_OPEN_PRODUCT_PANEL,(function(t){O.default.clickProduct({page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,product_id:t.productPanelId})})),w.default.on(w.default.publishedEvents.PAGE_ACTION_OPEN_SHOPPING_CART,(function(t){O.default.clickShoppingCart({page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType})})),w.default.on(w.default.publishedEvents.PAGE_COMPONENT_INTERACTION,(function(t){O.default.clickComponent({page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,click_x:t.clickX,click_y:t.clickY})})),w.default.on(w.default.publishedEvents.PAGE_COMPONENT_HOVER_INTERACTION,(function(t){O.default.hoverComponent({page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType})})),w.default.on(w.default.publishedEvents.PAGE_COMPONENT_FORM_SUBMITTED,(function(t){O.default.formSubmit({page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,form_origin:t.formOrigin,form_origin_account_id:t.formOriginAccountId,form_origin_form_id:t.formOriginFormId,form_origin_form_name:t.formOriginFormName,interaction_triggered:t.interactionTriggered})})),A.default.on(A.default.publishedEvents.CHROME_SHOPPING_CART,(function(t){O.default.clickShoppingCart({page_slug:I.default.getCurrentPageSlug(),page_num:I.default.getCurrentPageNumber()})})),p.default.on(w.default.publishedEvents.PAGE_ACTION_SHARE_PAGE,(function(t){O.default.clickPageShare({page_slug:t.pageSlug,page_num:j.documentVersion.getPageNumberBySlug(t.pageSlug),component_slug:t.componentSlug,component_name:t.componentName,component_type:t.componentType,service:t.action})})),A.default.on(A.default.publishedEvents.CHROME_SHARE_PAGE,(function(t){O.default.clickPageShare({page_slug:I.default.getCurrentPageSlug(),page_num:I.default.getCurrentPageNumber(),service:t.action})})),C.default.on(C.default.publishedEvents.BRANDING_CEROS_BRANDING_CLICK,(function(){O.default.clickCerosBranding({page_slug:I.default.getCurrentPageSlug(),page_num:I.default.getCurrentPageNumber()})})),a.default(document).on("click",O.default.registerUserActivity)}};e.default={run:function(){Z(),nt(),G(),B.mark(B.MARKS.PLAYER.RUN_START),r.default.init(l.default.logging),r.default.debug("Player.run() start"),rt(),ct()||(dt(),a.default((function(){B.mark(B.MARKS.PLAYER.DOM_READY),r.default.debug("jquery.ready: About to load the doc version."),D.default.setupInitialDom(),ut(),D.default.showLoadingExperience(),B.mark(B.MARKS.PLAYER.SPINNER_SHOWN),at().then(o.default.bind(D.default.showPreviewerFadingMessage,D.default)),A.default.load();var t=pt();t.done((function(){r.default.debug("Doc Version is loaded"),B.mark(B.MARKS.PLAYER.DOC_VERSION_LOADED),lt(),et();var t=ht();l.default.isEmbedded&&E.default.hasVariants()?(r.default.debug("Waiting for ScrollProxy to send first message with viewport dimensions"),W(t,z)):z()})),t.fail(o.default.bind(D.default.show404,D.default))})))}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(4)),o=n(i(0)),a=n(i(1)),s={},u=[],l={bindToIframe:function(t){return new f(t)},on:function(t,e){if(o.default.isFunction(e))return"*"===t?(u.push(e),o.default.each(s,(function(t){t.push(e)}))):(o.default.has(s,t)||(s[t]=u.slice()),s[t].push(e)),this;r.default.warn("handler is not a function")},unbindAll:function(){s={},u=[]},handleRequest:function(t,e){if(o.default.has(s,t.name)){var i=s[t.name].slice(),n={},a=function(){e(n)},u=function(t){r.default.warn("Error:",t),n={error:"Unable to process request due to an error"},a()},l=function(){try{var e=i.shift();if(!e)return void a();var r=e(t,n);if(r&&o.default.isFunction(r.done)&&o.default.isFunction(r.fail)&&o.default.isFunction(r.always)){var s=setTimeout((function(){u(new Error("handler timed out"))}),1e4);r.done((function(){l()})).fail((function(){a()})).always((function(){clearTimeout(s)}))}else!1===r?a():l()}catch(t){u(t)}};l()}else r.default.warn("No handler for "+t.name)}},c=function(t){if(o.default.isUndefined(t.client))throw new Error("No client object given");if(o.default.isUndefined(t.name))throw new Error("No name given");this.name=t.name,this.client=t.client,this.params=t.params||{}},d=[],h=!1,f=function(t){d.push(this),this.iframe=t,h||(h=!0,o.default.isUndefined(window.postMessage)?r.default.warn("This browser does not support inter-frame communication"):(r.default.debug("listening for iframe messages"),a.default(window).on("message",(function(t){var e=t.originalEvent.source,i=null;if(o.default.each(d,(function(t){e===t.getWindow()&&(i=t)})),i&&o.default.isString(t.originalEvent.data)){var n;try{n=JSON.parse(t.originalEvent.data)}catch(e){return void r.default.warn("Could not parse data: ["+t.originalEvent.data+"]")}if(n.name){if(0!==n.name.indexOf("ceros.sdk.player")){var a=n.uuid,s=new c({name:n.name,params:n.params,client:{type:"iframe",sdkVersion:n.version}});l.handleRequest(s,(function(t){var i=JSON.stringify({uuid:a,response:t});e.postMessage(i,"*")}))}}else r.default.warn('Data has no "name" property')}}))))};f.prototype={getWindow:function(){return this.iframe.contentWindow}},e.default=l},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),a=n(i(3)),s=n(i(2)),u=n(i(138)),l=n(i(10)),c=n(i(40)),d=n(i(41)),h=n(i(54)),f=n(i(80)),p=n(i(139)),g=n(i(82)),m=n(i(42)),v=new p.default,y=new c.default,_={getOrCreateRasterImageResource:function(t,e,i){var n=o.default.Deferred();return h.default.getOriginalDimensions(t).then((function(r){if(!r)return window.console.warn("No info was found for image: "+t),void n.resolve(null);m.default.isValidCropObject(i)?r=m.default.createOriginalDimensionsFromCropDimensions(r,i):i=null;var o=_.getRasterImage(t,i),a=_.isUriForGif(t),s=_.calculateVariantDimensions(r,e,a);o?o.getPromise().then((function(){_.shouldRequestHigherResolution(r.width,o.getWidth(),s)?n.resolve(_.createRasterImageResource(t,s,i)):n.resolve(o)})).fail(n.reject):n.resolve(_.createRasterImageResource(t,s,i))})),n.promise().then((function(t){return t?t.getPromise():null}))},getOrCreateRasterImageResourceSync:function(t,e){var i=v.get(t),n=_.isUriForGif(t),r=d.default.getOriginalDimensions(t);if(!r)return i&&(!i.ready()||i.getWidth()>=e)?i:_.createRasterImageResource(t,e);var o=_.calculateVariantDimensions(r,e,n);return i?i.ready()&&_.shouldRequestHigherResolution(r.width,i.getWidth(),o)?_.createRasterImageResource(t,o):i:_.createRasterImageResource(t,o)},getRasterImage:function(t,e){var i=v.createCacheKey(t,e);return v.get(i)},getOrCreateVectorImageResourceFactory:function(t){var e;if(y.has(t))return y.get(t);var i=_.createImageProxyUri(t);return e=new g.default(i),y.put(t,e),e},getVectorImageResourceFactory:function(t){return y.get(t)},createRasterImageResource:function(t,e,i){var n=_.createImageResourceUrl(t,e,i),r=new f.default(n),o=v.createCacheKey(t,i);return v.put(o,r),r},calculateOptimizedGifWidth:function(t,e){return t<=e/8?e/8:t<=e/4?e/4:t<=e/2?e/2:e},calculateOptimizedNonGifWidth:function(t,e){if(t>e)return e;var i=.05*Math.ceil(t/e/.05);return e*(i=Math.max(i,.05))},calculateVariantDimensions:function(t,e,i){if(s.default.isExported||(i?e=this.calculateOptimizedGifWidth(e,t.width):a.default.desktop()&&(e=this.calculateOptimizedNonGifWidth(e,t.width))),e>=t.width)return null;var n=Math.round(e),r=this._calculateMinimumValidWidth(t);return Math.max(r,n)},_calculateMinimumValidWidth:function(t){return t.height>=t.width?1:Math.ceil(t.width/t.height)},isUriForGif:function(t){return"gif"===t.substr(-"gif".length)},shouldRequestHigherResolution:function(t,e,i){return r.default.isNull(i)||i>=t?e<t:(i-e)/e>=.25},primeCachesWithOriginalImageResource:function(t,e){r.default.isNull(e)||(v.put(t,e),d.default.putImageResource(t,e))},primeCacheWithImageInfo:function(t,e,i,n){d.default.putImageInfo(t,e,i,n)},primeCacheWithVectorImageResourceFactory:function(t,e){y.put(t,e)},loadImageInfoForPage:function(t){return h.default.loadImagesForUri(t)},loadImageInfoForDocVersion:function(t){return h.default.loadImagesForRestUri(t)},createImageUri:function(t,e){return"/v1/account/"+s.default.accountSlug+"/"+t+"/"+e},createImageResourceUrl:function(t,e,i){return s.default.isStudio?_.createImageProxyUri(t,e,i):s.default.isExported?_.createExportUrl(t,e):_.createMediaUrl(t,e,i)},createImageProxyUri:function(t,e,i){t+="/proxy";var n={};return r.default.isNumber(e)&&(n.width=e),r.default.isObject(i)&&(n.crop=m.default.createCropDimensionsString(i)),l.default.appendQueryParams(t,n,!0)},createMediaUrl:function(t,e,i){var n=d.default.get(t),o=r.default.get(n,"url");if(!r.default.isString(o))return"";var a={imageOpt:1};return r.default.isNumber(e)&&(a.fit="bounds",a.width=e),r.default.isObject(i)&&(a.crop=m.default.createCropDimensionsString(i)),o=l.default.appendQueryParams(o,a,!0),l.default.replaceProtocolIfHttpsRequest(o)},createExportUrl:function(t,e){var i=d.default.get(t),n=r.default.get(i,"thumbnails");if(!r.default.isObject(n))return"";var o=u.default.getComponentImageThumbnail(n,e);return r.default.get(o,"url","")},getRasterImageResourceCache:function(){return v},getVectorImageResourceFactoryCache:function(){return y}};e.default=_},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0));e.default={VARIANTS:{FULL:"full",HALF:"half",QUARTER:"quarter",TENTH:"tenth"},getThumbnailVariant:function(t,e){var i=null;return r.default.has(t,e)?i=t[e]:r.default.has(t,this.VARIANTS.FULL)&&(i=t[this.VARIANTS.FULL]),i},getComponentImageThumbnail:function(t,e){if(!e)return this.getThumbnailVariant(t,this.VARIANTS.FULL);var i=[];r.default.each(t,(function(t){i.push(t)})),i.sort((function(t,e){return t.width<e.width?-1:t.width>e.width?1:0}));var n=r.default.find(i,(function(t){return t.width>=e}));return r.default.isObject(n)||(n=this.getThumbnailVariant(t,this.VARIANTS.FULL)),n}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(40)),a=n(i(42));function s(){o.default.call(this)}r.default.extend(s.prototype,o.default.prototype,{createCacheKey:function(t,e){var i=a.default.createCropDimensionsString(e);return r.default.isString(i)&&i.length>0?t+"|"+i:t}}),e.default=s},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(29)),a=n(i(81)),s=function(t){a.default.call(this),t.done(r.default.bind((function(t){this.initImage(t)}),this)).fail(r.default.bind((function(){this.resourceReady.reject()}),this))};(s.prototype=Object.create(a.default.prototype)).constructor=s,r.default.extend(s.prototype,{initImage:function(t){this.image.onerror=r.default.bind((function(){o.default.revokeObjectURL(t),this.resourceReady.reject()}),this),this.image.onload=r.default.bind((function(){this.resourceReady.resolve(this)}),this),this.image.src=t}}),e.default=s},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=function(t){return this.url=t,this.deferred=r.default.Deferred(),this.cssLinkResource=r.default("<link>",{rel:"stylesheet",type:"text/css",href:t}),this.data=this.cssLinkResource,this.cssLinkResource.on("load",o.default.bind((function(){this.deferred.resolve()}),this)),this.cssLinkResource.appendTo("head"),this};a.prototype={onload:function(){return this.deferred.done.apply(this.deferred,arguments),this.deferred},ready:function(){return"resolved"==this.deferred.state()},remove:function(){delete this.cssLinkResource}},e.default=a},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(4)),o=n(i(1)),a=n(i(0)),s=n(i(3)),u={},l=0,c=s.default.desktop()?2:1,d=!1,h={PENDING:1,LOADING:2,LOADED:3,ERROR:4,CANCELED:5},f=function(){this.queue=[],this.finished=o.default.Deferred()};f.prototype=a.default.extend(f.prototype,{push:function(t){this.queue.push(t)},getNextItem:function(){if(0===this.length())return null;var t=this.queue.shift();return 0===this.length()&&(this.finished.resolve(),this.finished=o.default.Deferred()),t},length:function(){return this.queue.length},flush:function(){this.queue=[],this.finished.resolve(),this.finished=o.default.Deferred()},onFinish:function(t){this.finished.done(t)}});var p=new f,g=new f,m=function(t,e,i){var n=h.PENDING,s=new o.default.Deferred;this.getStatus=function(){return n},this.setStatus=function(t){a.default.includes(a.default.values(h),t)&&(n=t)},this.getPromise=function(){return s.promise()},this.load=function(){n=h.LOADING;var u=a.default.isFunction(e)?e():o.default.noop();return u.promise?(u.then((function(){n=h.LOADED,s.resolve.apply(this,arguments)}),(function(){n=h.ERROR,s.reject(),r.default.devWarn("Resource failed to load",{key:t})})),u.always((function(){a.default.isFunction(i)&&i()})),this.getPromise()):(s.reject(),r.default.warn("onLoadBegin must be a function that returns a deferred promise and resolves with necessary resource data",{key:t}),this.getPromise())},this.getKey=function(){return t}};m.prototype.loadNow=function(){return this.getStatus()===h.PENDING&&(g.push(this),y()),this.getPromise()},m.prototype.isLoading=function(){return this.getStatus()===h.LOADING},m.prototype.isLoaded=function(){return this.getStatus()===h.LOADED},m.prototype.isError=function(){return this.getStatus()===h.ERROR},m.prototype.isPending=function(){return this.getStatus()==h.PENDING},m.prototype.isCanceled=function(){return this.getStatus()==h.CANCELED},m.prototype.cancel=function(){this.setStatus(h.CANCELED)};var v=o.default.Deferred(),y=function(){if(!(l>=c&&0===g.length())){var t=_();a.default.isNull(t)?v.resolve():(l++,t.load().always((function(){l--,y()})))}},_=function(){var t=null;return g.length()>0&&(t=b(g)),d||a.default.isNull(t)&&(t=b(p)),t},b=function(t){for(var e=null;t.length()>0&&!(e=t.getNextItem()).isPending();)e=null;return e};e.default={add:function(t,e,i){if(a.default.isNull(t)||a.default.isUndefined(t))return null;if(u.hasOwnProperty(t))u[t].isCanceled()&&(u[t].setStatus(h.PENDING),p.push(u[t]));else{var n=new m(t,e,i);u[t]=n,p.push(n)}return y(),u[t]},get:function(t){return a.default.isNull(t)||a.default.isUndefined(t)?null:u.hasOwnProperty(t)?u[t].isError()?(r.default.warn("An error was encountered while trying to load the resource",{key:t}),null):u[t]:(r.default.warn("No resource exists for the provided key",{key:t}),null)},has:function(t){return u.hasOwnProperty(t)},cancelPending:function(){for(g.flush();p.length()>0;){p.getNextItem().status=h.CANCELED}},pause:function(){d=!0},resume:function(){d&&(d=!1,y())},onPriorityQueueCompletion:function(t){g.onFinish(t)},onAllResourcesLoaded:function(t){v.done(t)},purgeResourceCache:function(){u={}}}},function(t,e){t.exports=WebFont},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(2)),a=function(){var t=this;this.POLL_TIMEOUT=1e4,this.STATUS_SESSION_ENDED=410,this.STATUS_CONCURRENT_LOGIN=409,this.KEEP_ALIVE_URL="/rest/v1/keep-alive",this.pollForSession=function(){r.default.get(t.KEEP_ALIVE_URL).then(t.setPollTimeout).catch(t.onError)},this.setPollTimeout=function(){setTimeout(t.pollForSession,t.POLL_TIMEOUT)},this.onError=function(e){t.redirectToLogin(e.status)},this.redirectToLogin=function(e){var i="";switch(e){case t.STATUS_SESSION_ENDED:i="invalidSession";break;case t.STATUS_CONCURRENT_LOGIN:i="concurrentLogin"}var n=o.default.adminUrl+"/signin";i.length>0&&(n+="?"+i+"=yes"),t.redirect(n)},this.redirect=function(t){window.location.replace(t)}};e.default=new a},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),a=n(i(5)),s=n(i(2)),u=n(i(4)),l=n(i(56)),c=n(i(119)),d=n(i(313)),h=n(i(121)),f=n(i(122)),p=n(i(35)),g=n(i(54)),m=n(i(41)),v=n(i(64)),y=n(i(8)),_=a.default.Collection.extend({model:d.default}),b=a.default.Model.extend({idAttribute:"slug",urlRoot:"/{api-version}/account/{scope}/document-versions",MANIFEST_ADD_PAGE:"manifestAddPage",MANIFEST_REMOVE_PAGE:"manifestRemovePage",MANIFEST_MOVE_PAGE:"manifestMovePage",initialize:function(t,e){if(a.default.Model.prototype.initialize.call(this,t,e),!s.default.previewMode&&!e.docVersionRequest)throw new Error("A doc version request must be passed in when not in preview mode");this.docVersionRequest=e.docVersionRequest,this.pages=[]},fetch:function(t){return this.loadBackgroundImageInfo(),s.default.previewMode?this.fetchForPreviewMode(t):this.fetchForPublished(t)},fetchForPreviewMode:function(t){var e=o.default.Deferred();try{l.default.getConnection().openExisting(this._getDocumentName(),r.default.bind((function(t,i){if(t)u.default.warn(t),e.reject();else if(i){l.default.listenForReadOnlyConnectionLimitError(i);var n=JSON.parse(JSON.stringify(i.snapshot));this.set(n),e.resolve(n,i)}}),this))}catch(t){u.default.warn(t),e.reject()}e.then(r.default.bind((function(t,e){this.bindToDocChanges(e)}),this));var i=this.loadResolvedMedia().fail((function(){u.default.warn("Could not fetch docversion media!")}));return o.default.when(e,i)},fetchForPublished:function(t){return this.docVersionRequest.then(r.default.bind((function(t){m.default.putMediaArray(t.media),delete t.media,this.set(t)}),this))},loadPageModels:function(){u.default.debug("Loading page models");var t=[],e=this.editorPagesManifest.map(r.default.bind((function(e,i){var n=this.createPageModel(e,i);return t.push(n),n.fetch()}),this));return this.pages=t,o.default.when.apply(o.default,e)},createPageModel:function(t,e){var i={slug:t.getSlug(),disabled:t.get("initiallyDisabled",{doNotFallbackToDesktop:!0})};if(!s.default.previewMode){var n=this.get("pages")[t.getSlug()];m.default.putMediaArray(n.media),delete n.media,i=r.default.extend(i,n)}var o=new c.default(i,{documentVersion:this,pageIndex:e});return t.on("change:initiallyDisabled change:overrides",(function(){o.set("disabled",t.get("initiallyDisabled",{doNotFallbackToDesktop:!0}))})),y.default.on("change",(function(){o.set("disabled",t.get("initiallyDisabled",{doNotFallbackToDesktop:!0}))})),o},processRemoteOps:function(t,e){for(var i=!1,n=!1,o=0;o<e.length;o++){var a=e[o],s=a.p[0];"editorPagesManifest"===s?this.processManifestRemoteOp(a):(this.set(s,JSON.parse(JSON.stringify(t.snapshot[s]))),"smartgroups"===s?(i=i||f.default.isMediaReloadRequiredForOp(t,a),n=!0):"fonts"===s&&this.processFontRemoteOp(a))}i?this.loadResolvedMedia().done(r.default.bind((function(){this.trigger("reload")}),this)):n&&this.trigger("reload")},processFontRemoteOp:function(t){2===t.p.length&&t.p[1]===p.default.EXPERIENCE_FAMILY_GUIDS_KEY&&o.default.when(this.loadFontMetrics()).done(r.default.bind((function(t){s.default.fontManifest=t,this.trigger("reload")}),this))},createManifestCollection:function(){this.editorPagesManifest=new _(this.get("editorPagesManifest")),s.default.previewMode&&this.bindToManifestChanges()},bindToDocChanges:function(t){t.on("shout",r.default.bind((function(t){"updateViewportSize"!==(t=JSON.parse(t)).name&&"updateScaleExperience"!==t.name&&"updateTextMode"!==t.name||window.location.reload()}),this)),t.on("remoteop",r.default.bind((function(e){this.processRemoteOps(t,e)}),this))},bindToManifestChanges:function(){this.editorPagesManifest.on("add",r.default.bind((function(t,e,i){var n=i.at,o=this.createPageModel(t,n);this.pages.splice(n,0,o),o.fetch().done(r.default.bind((function(){this.trigger(this.MANIFEST_ADD_PAGE,t,i.at)}),this))}),this)),this.editorPagesManifest.on("remove",r.default.bind((function(t,e,i){this.pages.splice(i.index,1),this.trigger(this.MANIFEST_REMOVE_PAGE,i.index)}),this)),this.editorPagesManifest.on("move",r.default.bind((function(t,e){this.pages.splice(e,0,this.pages.splice(t,1)[0]),this.trigger(this.MANIFEST_MOVE_PAGE,t,e)}),this))},processManifestRemoteOp:function(t){var e,i=t.p[1];if(2===t.p.length)if(r.default.isUndefined(t.li))if(r.default.isUndefined(t.ld)){if(!r.default.isUndefined(t.lm)){var n=t.lm;e=this.editorPagesManifest.at(i),this.editorPagesManifest.remove(e,{silent:!0}),this.editorPagesManifest.add(e,{at:n,silent:!0}),this.editorPagesManifest.trigger("move",i,n)}}else e=this.editorPagesManifest.at(i),this.editorPagesManifest.remove(e);else this.editorPagesManifest.add(t.li,{at:i});else if(3===t.p.length&&!r.default.isUndefined(t.oi)){var o=t.p[2];this.editorPagesManifest.at(i).set(o,t.oi)}},getPageNumberBySlug:function(t){var e=this.editorPagesManifest;if(r.default.isEmpty(e))return null;var i=null;return e.find((function(e,n){return e.getSlug()===t&&(i=n+1,!0)})),i},getPageInfoByNumberOrSlug:function(t){var e=this.editorPagesManifest,i=null,n=null;return r.default.isString(t)?(i=this.getPageNumberBySlug(t))?n=t:i=1:((i=parseInt(t,10))<1||i>e.length)&&(i=1),!n&&e.at(i-1)&&(n=e.at(i-1).getSlug()),{number:i,slug:n}},getExperienceWidth:function(){return this.getOverrideablePropertyForCurrentVariant("viewportWidth")},getExperienceHeight:function(){return this.getOverrideablePropertyForCurrentVariant("viewportHeight")},getScaleExperience:function(){var t=this.getScaleExperienceType();return"string"==typeof t?t!==v.default.SCALE_EXPERIENCE_TYPE.NO_SCALING:this.getOverrideablePropertyForCurrentVariant("scaleExperience")},getScaleExperienceType:function(){return this.getOverrideablePropertyForCurrentVariant("scaleExperienceType")},getPages:function(){return this.pages},getEnabledPageIndexes:function(){var t=[];return r.default.each(this.pages,(function(e,i){e.get("disabled")||t.push(i)})),t},getNearestEnabledPage:function(t){var e=r.default.clamp(t,1,this.pages.length)-1;if(!this.pages[e].get("disabled"))return e+1;for(var i=1;e-i>=0||e+i<this.pages.length;i++){if(this.pages[e+i]&&!this.pages[e+i].get("disabled"))return e+i+1;if(this.pages[e-i]&&!this.pages[e-i].get("disabled"))return e-i+1}},isCarousel:function(){var t=this.editorPagesManifest,e=this.get("carousel");return e&&e.enabled&&t.length>1},isAutoTransitioning:function(){var t=this.get("carousel");return this.isCarousel()&&t.autoTransition},shouldLoadLowRes:function(){return this.get("loadLowRes")},shouldLazyLoad:function(){return this.get("lazyLoading")},getTextMode:function(){return this.get("textMode")},getAutoTransitionDelay:function(){var t=this.get("carousel");return t?t.autoTransitionDelay:0},_getDocumentName:function(){return this.get("uri").replace(/\//g,"_")},getSmartgroupDefinition:function(t){return r.default.find(this.get("smartgroups"),(function(e){return e.id===t}))},loadBackgroundImageInfo:function(){var t=r.default.get(s.default,"themeObj.backgroundImage",null);t&&m.default.put(t.id,t)},loadResolvedMedia:function(){return g.default.loadMediaForRestUri(this.getUri())},loadFontMetrics:function(){return o.default.ajax({url:this.getUri()+"/font-metrics",type:"GET",dataType:"json"})},getUri:function(){return"/rest"+a.default.Model.prototype.url.call(this).replace(/\{api-version\}/,s.default.apiVersion).replace(/\{scope\}/,s.default.accountSlug)}});r.default.extend(b.prototype,h.default),e.default=b},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(5)),o=n(i(7)),a=n(i(0)),s=n(i(1)),u=n(i(21)),l=n(i(8)),c=n(i(147));e.default=r.default.View.extend({events:{"click .previewer-variant-option":"handleOptionClick","click .reload-btn":"reloadExperience"},initialize:function(){var t=u.default.isViewportWidthDetection();this.$el.show(),this.$el.html(o.default.render(c.default,{showTablet:!t||u.default.doesVariantExist("tablet"),showMobile:!t||u.default.doesVariantExist("mobile"),allLayoutsExist:!t||2===u.default.getNumberOfExistingVariants()})),l.default.on("change",a.default.bind(this.updateIcons,this)),u.default.on(u.default.EVENTS.CHANGE_PREVIEWER_FRAME_SIZE,a.default.bind(this.updateIcons,this)),u.default.on(u.default.EVENTS.RELOAD_TRIGGERED,a.default.bind(this.loadSpinner,this)),this.updateIcons()},updateIcons:function(){var t=u.default.getPreviewerFrameSize();this.$el.find(".previewer-variant-option").removeClass("-selected");var e="."+t+"-option";this.$el.find(e).addClass("-selected")},handleOptionClick:function(t){var e=s.default(t.currentTarget).data("option");e!==u.default.getPreviewerFrameSize()&&u.default.setPreviewerFrameSize(e)},showSpinner:function(){this.$(".reload-container div").removeClass("ceros-replay-icon").addClass("loader-spinner")},hideSpinner:function(){this.$(".reload-container div").removeClass("loader-spinner").addClass("ceros-replay-icon")},loadSpinner:function(){this.showSpinner(),setTimeout(a.default.bind(this.hideSpinner,this),750)},reloadExperience:function(){u.default.isDocVersionSet()&&(u.default.triggerReload(),this.loadSpinner())}})},function(t,e){t.exports='<ul class="previewer-options-list {{#allLayoutsExist}}-all-layouts-exist{{/allLayoutsExist}}">\n    <li class="previewer-variant-option desktop-option" data-option="desktop">\n        <div class="desktop-option-icon"></div>\n    </li>\n    {{#showTablet}}\n    <li class="previewer-variant-option tablet-option" data-option="tablet">\n        <div class="tablet-option-icon"></div>\n    </li>\n    {{/showTablet}}\n    {{#showMobile}}\n    <li class="previewer-variant-option mobile-option" data-option="mobile">\n        <div class="mobile-option-icon"></div>\n    </li>\n    {{/showMobile}}\n    <li class="reload-container">\n        <div\n            title="To replay animations press \'Option+R\' on Mac or \'Alt+R\' on Windows"\n            class="ceros-icon ceros-replay-icon reload-btn">\n        </div>\n    </li>\n\n</ul>\n'},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(5)),a=n(i(0)),s=n(i(37)),u=n(i(2)),l=n(i(21)),c=n(i(8)),d=n(i(86)),h=n(i(3));e.default=o.default.View.extend({initialize:function(){var t=this;this.$previewerSelectionHeaderEl=r.default(".previewer-selection-header"),this.frameName=l.default.getPreviewerFrameSize(),this.$el.addClass("-"+this.frameName),this.onlyAllowFullscreenMode=u.default.isMarkup,this.styleFrame(),r.default(window).on("resize",(function(){t.styleFrame()}));var e=localStorage.getItem(u.default.issue.slug+"-fullscreen-preview");(this.onlyAllowFullscreenMode||"true"===e)&&this.turnOnFullscreenMode(this),this.$el.addClass("-initialized"),r.default(window).on("keyup",(function(e){d.default.isOptionRPressed(e)&&t.reloadExperience(),t.onlyAllowFullscreenMode||(r.default(document.activeElement).is("input")||!d.default.isHKeyPressed(e)||l.default.fullScreenMode?(d.default.isEscKeyPressed(e)||d.default.isHKeyPressed(e))&&l.default.fullScreenMode&&t.turnOffFullscreenMode(t):t.turnOnFullscreenMode(t))})),l.default.on(l.default.EVENTS.CHANGE_PREVIEWER_FRAME_SIZE,(function(e){t.$el.removeClass("-"+t.frameName),t.frameName=e.variant,t.$el.addClass("-"+t.frameName),t.styleFrame(),c.default.detect(),r.default(window).trigger("resize")}))},reloadExperience:function(){l.default.isDocVersionSet()&&l.default.triggerReload()},turnOnFullscreenMode:function(t){localStorage.setItem(u.default.issue.slug+"-fullscreen-preview","true"),l.default.setFullScreenMode(!0),t.$previewerSelectionHeaderEl.hide(),t.$el.addClass("-full-screen-mode"),t.$el.css({width:r.default(window).width(),height:r.default(window).height()}),r.default(window).trigger("resize")},turnOffFullscreenMode:function(t){localStorage.setItem(u.default.issue.slug+"-fullscreen-preview","false"),l.default.setFullScreenMode(!1),t.$previewerSelectionHeaderEl.show(),t.$el.removeClass("-full-screen-mode"),r.default(window).trigger("resize")},getThemeBackgroundColor:function(){return a.default.get(u.default,["themeObj","backgroundColor"],null)},styleFrame:function(){var t=r.default(window);if(l.default.fullScreenMode)this.$el.css({width:t.width(),height:t.height()});else{var e=l.default.getExperienceContainerDimensions(t);if(this.$el.css({width:e.width,height:e.height,backgroundColor:this.getThemeBackgroundColor()}),"desktop"!==this.frameName){var i=l.default.getTopBottomBorderWidth(r.default(window),this.frameName,e.height),n=l.default.getLeftRightBorderWidth(r.default(window),this.frameName,e.width),o=Math.round(i),a=Math.round(n);this.$el.css({"border-top-width":o,"border-bottom-width":o,"border-left-width":a,"border-right-width":a})}}},showFadingHelpMessage:function(){if(!this.onlyAllowFullscreenMode){var t=s.default.get("shownPreviewerFadingHelpMessage");h.default.mobile()||t||(r.default(".fit-to-window-help-message").show().delay(3e3).fadeOut(400),s.default.set("shownPreviewerFadingHelpMessage","1"))}}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(5)),o=n(i(7)),a=n(i(150)),s=r.default.View.extend({events:{"click .close":"handleClose"},initialize:function(){this.$el.html(o.default.render(a.default,{}))},showMessage:function(t){this.$el.find(".message").text(t),this.show()},show:function(){this.$el.find(".infobar").show()},hide:function(){this.$el.find(".infobar").hide()},handleClose:function(){this.hide()}});e.default=s},function(t,e){t.exports='<div class="infobar">\n    <div class="container clearfix">\n        <span class="message">{{msg}}</span>\n        <a title="close" class="close"></a>\n    </div>\n</div>\n'},function(t,e,i){var n={"./analytics/module":87,"./branding/module":58,"./chrome/module":59,"./error/module":60,"./flippers/module":61,"./lightbox/module":78,"./page/module":65,"./sdk-backend/module":118,"./splash-screen/module":44,"./url-navigation/module":77,"./viewport/module":46};function r(t){var e=o(t);return i(e)}function o(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=o,t.exports=r,r.id=151},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(4)),o=n(i(0)),a=n(i(1)),s=n(i(3)),u=n(i(153)),l=n(i(171)),c=n(i(172)),d=n(i(88)),h=function(){this.ready=!1,this.lastPageLoadedAttr=null};h.prototype={init:function(t){this.options=o.default.extend({application:"player"},t||{}),this.analyticsTrackerManager=new u.default(t.analyticsTrackers),this.performanceTracker=new l.default,this.performanceTracker.on(this.performanceTracker.EVENTS.PERFORMANCE_MARK,this.sendPerformanceMarkEvent,this),this.playerPageViewTracker=new c.default,this.playerPageViewTracker.on(this.playerPageViewTracker.EVENTS.USER_ACTIVITY_PING,this.sendPageDwellEvent,this),this.ready=!0},getPerformanceTracker:function(){return this.performanceTracker},updateScale:function(t){return this.analyticsTrackerManager.updateScale(t)},unsupportedOpen:function(t){return this._track(this.options.application+".unsupported_browser.open",t)},_openExperience:function(t){this._track(this.options.application+".experience.open",t)},viewExperience:function(t){if(window.cerosPlayerLoadStart){var e=new Date,i=(e-window.cerosPlayerLoadStart)/1e3;r.default.info("First Page Load Time: "+i),i<0&&(r.default.warn(new Error("Analytics: negative load time calculated. Start time: "+window.cerosPlayerLoadStart+", End time: "+e)),i=0),this._openExperience(o.default.extend({load_time:i},t)),window.cerosPlayerLoadStart=null}},viewPage:function(t){s.default.isBot()||this._trackViewPage(t)},playVideo:function(t){this._track(this.options.application+".video.play",t)},trackVideoProgressTime:function(t){this.isPlayer()&&this._track(this.options.application+".video.progress_time",t)},trackVideoProgressPercent:function(t){this.isPlayer()&&this._track(this.options.application+".video.progress_percent",t)},clickComponent:function(t){this._track(this.options.application+".component.click",t)},hoverComponent:function(t){this._track(this.options.application+".component.hover",t)},clickLink:function(t){this._track(this.options.application+".link.click",t)},clickLightbox:function(t){this._track(this.options.application+".lightbox.click",t)},clickProduct:function(t){this._track(this.options.application+".product.click",t)},clickShoppingCart:function(t){this._track(this.options.application+".shopping_cart.click",t)},clickPageShare:function(t){this._track(this.options.application+".page.share",t)},clickCerosBranding:function(t){this._track(this.options.application+".ceros_branding.click",t)},experienceLoadInteraction:function(t){this._track(this.options.application+".experience_load.timed",t)},formSubmit:function(t){o.default.isNil(t.form_origin_form_id)||((t=o.default.clone(t)).form_origin_form_id=""+t.form_origin_form_id),this._track(this.options.application+".component.form_submit",t)},handleApiRequest:function(t,e){this._track(this.options.application+".ceros.api.request",{sdk_event_name:t.name,sdk_version:t.client.sdkVersion})},sendPerformanceMarkEvent:function(t){this._track(this.options.application+".performance.marker",t,!0)},_trackViewPage:function(t){this.lastPageLoadedAttr&&this.lastPageLoadedAttr.page_num===t.page_num||(this._track(this.options.application+".page.view",t),this.playerPageViewTracker.activatePage(t.topY,t.bottomY,t.pageHeight),this.lastPageLoadedAttr=t)},_track:function(t,e,i){if(!this.ready)throw Error("please call init() before attempting to capture analytics!");return s.default.isBot()?a.default.Deferred().resolve():(i||this.playerPageViewTracker.registerUserActivity(),this.analyticsTrackerManager.sendEvent(t,e))},resetPageTrackingMinMaxY:function(){this.playerPageViewTracker.resetYMinMax()},trackPageScroll:function(t){this.lastPageLoadedAttr&&this.lastPageLoadedAttr.page_slug===t.page_slug&&this.playerPageViewTracker.trackPageScroll(t.topY,t.bottomY)},registerUserActivity:function(){this.playerPageViewTracker.registerUserActivity()},registerUserActivityIfVisible:function(){this.playerPageViewTracker.registerUserActivityIfNotPaused()},sendPageDwellEvent:function(t){if(!s.default.isBot()&&this.isPlayer()&&this.lastPageLoadedAttr){var e={page_slug:this.lastPageLoadedAttr.page_slug,page_num:this.lastPageLoadedAttr.page_num,page_height:this.lastPageLoadedAttr.pageHeight,min_y:t.minY,max_y:t.maxY,dwell_time:t.dwellTime};r.default.debug("SENDING PING, min_y: "+e.min_y+", max_y: "+e.max_y+", Dur: "+e.dwell_time+", page_height: "+e.page_height),this.analyticsTrackerManager.sendEvent(this.options.application+".page.dwell",e)}},isPlayer:function(){return"player"===this.options.application},getUserToken:function(){return d.default.getDomainTrackingCookieData().user_token}},e.default=new h},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(3)),s=n(i(2)),u=n(i(154)),l=n(i(162)),c=n(i(165)),d=n(i(167)),h=n(i(168)),f=n(i(169)),p=function(t){this.options=t||{},this.trackers=[];var e=this.hasUserConsentForAnalytics();this.options.cerosPlayerTracker&&this.trackers.push(new u.default(this.options.cerosPlayerTracker,e)),this.options.googleAnalyticsTracker&&this.trackers.push(new l.default(this.options.googleAnalyticsTracker)),this.options.googleTagManagerTracker&&this.trackers.push(new c.default(this.options.googleTagManagerTracker)),this.options.marketoTracker&&this.trackers.push(new d.default(this.options.marketoTracker)),this.options.eloquaTracker&&this.trackers.push(new h.default(this.options.eloquaTracker)),this.options.adobeAnalyticsTracker&&this.trackers.push(new f.default(this.options.adobeAnalyticsTracker))};o.default.extend(p.prototype,{hasUserConsentForAnalytics:function(){return!s.default.docVersion.requireUserConsentForAnalytics},sendEvent:function(t,e){if(a.default.isBot())return r.default.Deferred().resolve();var i=[];return o.default.each(this.trackers,(function(n){n.isEnabled()&&i.push(n.sendEvent(t,e))})),r.default.when.apply(r.default,i).promise()},updateScale:function(t){o.default.each(this.trackers,(function(e){e.isEnabled()&&e.updateScale(t)}))}}),e.default=p},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(155)),s=n(i(8)),u=n(i(2)),l=["previewer.component.hover","player.component.hover"],c=["previewer.page.view","player.page.view"],d=["page_slug","page_num"],h=function(t,e){a.default.call(this,o.default.extend({trackInitialReferrer:!0,application:u.default.analyticsApplicationKey,hasUserConsentForAnalytics:e},t))};(h.prototype=Object.create(a.default.prototype)).constructor=h,o.default.extend(h.prototype,{sendEvent:function(t,e){return o.default.includes(l,t)?r.default.Deferred().resolve():(e=this.filterEventData(t,e),a.default.prototype.track.call(this,t,e))},getCommonProps:function(t){var e=a.default.prototype.getCommonProps.call(this,t);return o.default.extend(e,{experience_alias:u.default.issueAliasSlug,experience_slug:u.default.issue.slug,experience_version_slug:u.default.docVersion.slug,project_slug:u.default.appSlug,current_layout:s.default.hasDetectedVariant()?s.default.getVariant():"unknown"})},filterEventData:function(t,e){return o.default.includes(c,t)&&(e=o.default.pick(e,d)),e}}),e.default=h},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(2)),s=n(i(156)),u=n(i(3)),l=n(i(157)),c=n(i(158)),d=n(i(88)),h=n(i(89)),f=i(161),p=["player.page.dwell","player.video.progress_percent","player.video.progress_time","player.performance.marker","previewer.performance.marker","studio.performance.marker","admin.performance.marker"],g=function(t){if(h.default.call(this,t),this.options=t||{},this.hasUserConsentForAnalytics=t.hasUserConsentForAnalytics||!1,this.domain=this.getRootDomain(),this.path=this.getExperienceCookiePath(),this.cerosUserCookiePath="/",this.hasUserConsentForAnalytics||(this.deleteExperienceTrackingCookie(),this.deleteDomainTrackingCookie()),this.userEmail=null,this.fullName=null,this.userSlug=null,this.clientVersion=9,this.anonymousUserTrackingData=null,this.defaultAttributes={timezone:this.getTimezoneOffset(),user_agent:navigator.userAgent,visit_slug:s.default.generate()},this.eventQueue=new c.default,this.eventQueue.on(this.eventQueue.EVENTS.AGGREGATE_EVENT,o.default.bind((function(t){this.trackEvents(t,!1)}),this)),this.environmentData=new l.default,this.options.trackInitialReferrer){var e=this.environmentData.getData();this.setInitialReferrer(e.referrer,e.referring_domain)}};(g.prototype=Object.create(h.default.prototype)).constructor=g,o.default.extend(g.prototype,{setUser:function(t,e,i){if(!this.isPlayerOrPreviewer()){this.userEmail=t,this.fullName=e,this.userSlug=i;var n=f.StringUtils.getEmailDomain(t);n?this.setCerosUserCookie({emailDomain:n}):this.deleteCerosUserCookie()}},setInitialReferrer:function(t,e){if(this.isPlayerOrPreviewer()){var i=this.getExperienceTrackingCookieData();(o.default.isUndefined(i.initial_referrer)||o.default.isUndefined(i.initial_referring_domain))&&(i.initial_referrer=t||null,i.initial_referring_domain=e||null,this.setExperienceTrackingCookie(i))}},encodeData:function(t){return encodeURIComponent(btoa(unescape(encodeURIComponent(JSON.stringify(t)))))},getEvent:function(t,e){var i=o.default.extend({},{event_slug:s.default.generate()},e||{},{event_name:t,client_timestamp:(new Date).getTime()});return i=o.default.omitBy(i,o.default.isNull)},track:function(t,e){var i=this.getEvent(t,e);return o.default.includes(p,i.event_name)?(this.eventQueue.addEvent(i),r.default.Deferred().resolve()):this.trackEvents([i],!0)},trackEvents:function(t,e){if(!this.isEnabled())return r.default.Deferred().resolve();if(!a.default.analyticsUrl)return r.default.Deferred().resolve();if(!t||0===t.length)return r.default.Deferred().resolve();var i=this.getDomainTrackingData(),n=this.getCommonProps(i),o=this.getExtendedCommonProps(i);e&&(t=t.concat(this.eventQueue.popEvents()));var s={common:n,extended_common:o,events:t},u=a.default.analyticsUrl+"?data="+this.encodeData(s);return this._sendTrackingRequest(u,0)},getDomainTrackingData:function(){var t;return this.isPlayerOrPreviewer()?((t=this.getDomainTrackingCookieData()).user_token||(t=this.createAnonymousUserDomainTrackingData()),this.setDomainTrackingCookie(t)):t=this.createUserDomainTrackingData(),t},getCommonProps:function(t){var e={account_slug:a.default.accountSlug,client_version:this.clientVersion,user_token:t.user_token,visit_slug:this.defaultAttributes.visit_slug};return o.default.omitBy(e,o.default.isNull)},getExtendedCommonProps:function(t){var e=this.environmentData.getData();if(this.options.envPropertyList&&(e=o.default.pick(e,this.options.envPropertyList)),this.isPlayerOrPreviewer()){var i=this.getExperienceTrackingCookieData();e=o.default.extend(e,{timezone:this.defaultAttributes.timezone,user_agent:this.defaultAttributes.user_agent,initial_referrer:i.initial_referrer,initial_referring_domain:i.initial_referring_domain})}else e=o.default.extend(e,{timezone:this.defaultAttributes.timezone,user_agent:this.defaultAttributes.user_agent,email:t.email,full_name:t.full_name});return o.default.omitBy(e,o.default.isNull)},_handleTrackingError:function(t,e,i,n){var r=this;n<3?setTimeout((function(){r._sendTrackingRequest(i,n)}),3e3):3!==n||window.sentRollbarForAnalyticsRetryFail||(window.Rollbar&&window.Rollbar.error("One or more analytics events are failing due to HTTP or connection errors.",{errorThrown:e,errorCode:t.status,url:i}),window.sentRollbarForAnalyticsRetryFail=!0)},_sendTrackingRequest:function(t,e){var i=this,n=new r.default.Deferred;if(u.default.isIE9OrEarlier()&&"http:"===location.protocol){var o=new Image;o.crossOrigin="Anonymous",o.src=t+"&_="+Math.random(),o.onload=function(){n.resolve()},o.onerror=function(){n.resolve()}}else r.default.ajax({url:t,type:"GET",cache:!1,crossDomain:!0}).fail((function(r,o,a){i._handleTrackingError(r,a,t,++e),n.resolve()}));return n},getRootDomain:function(){var t=location.host.split(".").reverse();return"."+t[1]+"."+t[0]},getExperienceCookiePath:function(){var t=window.location.pathname,e=t.search(/\/p\/\d+/g);return e>=0?t.substr(0,e):t},getTimezoneOffset:function(){var t=(new Date).getTimezoneOffset()/60;return Math.abs(t)>15?null:t},createAnonymousUserDomainTrackingData:function(){return null===this.anonymousUserTrackingData&&(this.anonymousUserTrackingData={user_token:this.generateUserToken()}),this.anonymousUserTrackingData},createUserDomainTrackingData:function(){return{user_token:this.generateUserToken(),email:this.userEmail,full_name:this.fullName,slug:this.userSlug}},generateUserToken:function(){return s.default.generate()},setDomainTrackingCookie:function(t){this.isEnabled()&&this.hasUserConsentForAnalytics&&d.default.setDomainTrackingCookie(t,this.path,this.domain)},setExperienceTrackingCookie:function(t){this.isEnabled()&&this.hasUserConsentForAnalytics&&d.default.setExperienceTrackingCookie(t,this.path,this.domain)},setCerosUserCookie:function(t){d.default.setCerosUserCookie(t,this.cerosUserCookiePath,this.domain)},getDomainTrackingCookieData:function(){return d.default.getDomainTrackingCookieData()},getExperienceTrackingCookieData:function(){return d.default.getExperienceTrackingCookieData()},deleteDomainTrackingCookie:function(){d.default.deleteDomainTrackingCookie(this.path,this.domain),d.default.deleteDomainTrackingCookie("/",this.domain)},deleteExperienceTrackingCookie:function(){d.default.deleteExperienceTrackingCookie(this.path,this.domain)},deleteCerosUserCookie:function(){d.default.deleteCerosUserCookie(this.cerosUserCookiePath,this.domain)},updateScale:function(t){this.environmentData.updateScale(t)},isPlayerOrPreviewer:function(){return!a.default.isAdmin&&!a.default.isStudio}}),e.default=g},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=navigator.userAgent;e.default={generate:(n=function(){for(var t=1*new Date,e=0;t==1*new Date;)e++;return t.toString(16)+e.toString(16)},function(){var t=(screen.height*screen.width).toString(16);return n()+"-"+Math.random().toString(16).replace(".","")+"-"+function(t){var e,i,n=r,o=[],a=0;function s(t,e){var i,n=0;for(i=0;i<e.length;i++)n|=o[i]<<8*i;return t^n}for(e=0;e<n.length;e++)i=n.charCodeAt(e),o.unshift(255&i),o.length>=4&&(a=s(a,o),o=[]);return o.length>0&&(a=s(a,o)),a.toString(16)}()+"-"+t+"-"+n()})}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(3)),a=n(i(2)),s=n(i(10)),u=n(i(38)),l=window.navigator.userAgent,c=function(){};c.prototype={data:null,scale:null,initialScale:null,getData:function(){return this.data||(this.data=r.default.extend(this.getStandardParams(),this.getCampaignParams())),r.default.extend(this.data,this.getDynamicTrackingInfo())},updateScale:function(t){this.initialScale=this.initialScale||t,this.scale=t},getDynamicTrackingInfo:function(){var t=u.default.getDimensions(),e={screen_width:t.width,screen_height:t.height};return this.initialScale&&(e.initial_scale=this.initialScale),this.scale&&(e.scale=this.scale),e},getBrowserAndVersionUsingMixpanelAlgorithm:function(t,e,i){var n=function(e){var i=t.match(e);return i&&i[1]},o=null,a=null;e=e||"",r.default.includes(t,"PhantomJS")?(o="PhantomJS",a=n(/PhantomJS\/(\d+)/)):r.default.includes(t,"jsdom")?(o="jsdom",a=n(/jsdom\/([0-9._a-z]+)/)):i?o=r.default.includes(t,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(t)?o="BlackBerry":r.default.includes(t,"Edge")?(o="Microsoft Edge",a=n(/Edge\/(\d+)/)):r.default.includes(t,"FBIOS")?o="Facebook Mobile":r.default.includes(t,"Chrome")?(o="Chrome",a=n(/Chrome\/(\d+)/)):r.default.includes(t,"CriOS")?(o="Chrome iOS",a=n(/CriOS\/(\d+)/)):r.default.includes(e||"","Apple")?(o=r.default.includes(t,"Mobile")?"Mobile Safari":"Safari",a=n(/Version\/(\d+)/)):r.default.includes(t,"Android")?o="Android Mobile":r.default.includes(t,"Konqueror")?o="Konqueror":r.default.includes(t,"Firefox")?(o="Firefox",a=n(/Firefox\/(\d+)/)):/msie|trident/i.test(t)?(o="Internet Explorer",a=n(/(?:msie |rv:)(\d+)/i)):r.default.includes(t,"Gecko")&&(o="Mozilla");var s={};return o&&(s.name=o),a&&(s.version=a),s},getStandardParams:function(){var t=window.document.referrer,e=this.getSearchEngine(t),i=this.getBrowserAndVersionUsingMixpanelAlgorithm(l,navigator.vendor,window.opera);return{browser:i.name,trial:a.default.isTrialAccount?1:0,browser_version:i.version,user_agent:l,device_type:o.default.deviceType(),player_type:o.default.playerType(),initial_orientation:o.default.orientation(),cookies_enabled:o.default.cookies()?1:0,embedded:o.default.isIframe()?1:0,https:"https:"===window.location.protocol?1:0,device:this.getDevice(),device_pixel_ratio:o.default.pixelRatio(),search_engine:e,search_keyword:this.getSearchKeyword(e,t),os:o.default.os.name,os_version:o.default.os.version,referrer:t||null,referring_domain:this.extractReferringDomain(t)}},extractReferringDomain:function(t){var e=null;return t&&((e=s.default.extractDomain(t))||(e=t)),e},getDevice:function(){return/Windows Phone/i.test(l)||/WPDesktop/.test(l)?"Windows Phone":o.default.isIpad()?"iPad":/iPod/.test(l)?"iPod Touch":/iPhone/.test(l)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(l)?"BlackBerry":/Android/.test(l)?"Android":null},getSearchEngine:function(t){return 0===t.search("https?://(.*)google.([^/?]*)")?"google":0===t.search("https?://(.*)bing.com")?"bing":0===t.search("https?://(.*)yahoo.com")?"yahoo":0===t.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},getSearchKeyword:function(t,e){var i="yahoo"!=t?"q":"p";if(null!==t){var n=s.default.getUrlParams(e)[i];if(n&&n.length)return n}return null},getCampaignParams:function(){return r.default.pick(s.default.getUrlParams(window.document.URL),"utm_source","utm_medium","utm_campaign","utm_content","utm_term")}},e.default=c},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(5)),a=function(){this.queue=[],this.timerId=null};a.prototype=r.default.extend({},o.default.Events,{EVENTS:{AGGREGATE_EVENT:"aggregate-event"},addEvent:function(t){this.queue.push(t),this.startTimer()},isEmpty:function(){return 0===this.queue.length},popEvents:function(){var t=this.queue.splice(0,5);return this.clearTimer(),r.default.isEmpty(this.queue)||this.startTimer(),t},startTimer:function(){null===this.timerId&&(this.timerId=setTimeout(r.default.bind(this.postEvents,this),5e3))},clearTimer:function(){null!==this.timerId&&(clearTimeout(this.timerId),this.timerId=null)},postEvents:function(){this.queue.length>0?this.trigger(this.EVENTS.AGGREGATE_EVENT,this.popEvents()):this.clearTimer()}}),e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CookieName=void 0,function(t){t.CEROS_ID="ceros_id",t.CEROS_USER="ceros_user",t.AUTH_REFERER="auth_referer",t.ORIGINAL_REFERER="original_referer",t.CEROS_DOMAIN_TRACKING="cerosdomaintracking",t.CEROS_EXPERIENCE_TRACKING="cerosexperiencetracking"}(e.CookieName||(e.CookieName={}))},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DataUtils=void 0;var r=n(i(0)),o=function(){function t(){}return t.isNullOrUndefined=function(t){return r.default.isNull(t)||r.default.isUndefined(t)},t}();e.DataUtils=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringUtils=void 0;var n=function(){function t(){}return t.getEmailDomain=function(t){var e=null==t?void 0:t.split("@");return 2===(null==e?void 0:e.length)?e[1]:null},t.isEmail=function(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)},t}();e.StringUtils=n},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(4)),o=n(i(0)),a=n(i(2)),s=n(i(9)),u=n(i(30)),l=n(i(163)),c=n(i(164)),d=function(t){u.default.call(this,t),this.options=t,this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageViewEvent),this.registerEventHandler("previewer.page.view",this.handlePageViewEvent)),this.isClickTrackingEnabled()&&(this.registerEventHandler("player.component.click",this.handleClickComponentEvent),this.registerEventHandler("previewer.component.click",this.handleClickComponentEvent)),this.isHoverTrackingEnabled()&&(this.registerEventHandler("player.component.hover",this.handleHoverComponentEvent),this.registerEventHandler("previewer.component.hover",this.handleHoverComponentEvent))};(d.prototype=Object.create(u.default.prototype)).constructor=d,o.default.extend(d.prototype,{isEnabled:function(){return this.options.enabled&&!!this.options.trackingID&&(this.isPageViewTrackingEnabled()||this.isClickTrackingEnabled()||this.isHoverTrackingEnabled())},isPageViewTrackingEnabled:function(){return!a.default.isEmbedded&&!!this.options.trackPageViewsForStandaloneExperiences},isClickTrackingEnabled:function(){return!!this.options.trackClicks},isHoverTrackingEnabled:function(){return!!this.options.trackHovers},handlePageViewEvent:function(t){var e=new c.default("page_view",{send_to:this.options.trackingID,page_path:s.default.buildUriForPageNumber(t.page_num)});a.default.previewMode?r.default.forceInfo("GA page view event",e.toString()):e.invoke()},handleClickComponentEvent:function(t){this.sendCustomEvent({hitType:"event",eventCategory:this.options.eventCategory,eventAction:this.options.clickEventAction,eventLabel:t.component_name})},handleHoverComponentEvent:function(t){this.sendCustomEvent({hitType:"event",eventCategory:this.options.eventCategory,eventAction:this.options.hoverEventAction,eventLabel:t.component_name})},sendCustomEvent:function(t){var e=new c.default(t.eventAction,{send_to:this.options.trackingID,event_category:t.eventCategory,event_label:t.eventLabel});if(a.default.previewMode)r.default.forceInfo("GA custom event",e.toString());else if(a.default.isEmbedded){var i=new l.default(t);this.invokeOnParentPage([e,i])}else e.invoke()}}),e.default=d},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(45)),o=function(t){r.default.call(this,"ga",["send",t])};(o.prototype=Object.create(r.default.prototype)).constructor=o,e.default=o},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(45)),o=function(t,e){r.default.call(this,"gtag",["event",t,e])};(o.prototype=Object.create(r.default.prototype)).constructor=o,e.default=o},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(4)),o=n(i(0)),a=n(i(2)),s=n(i(9)),u=n(i(30)),l=n(i(166)),c=function(t){u.default.call(this,t),this.options=t,this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageViewEvent),this.registerEventHandler("previewer.page.view",this.handlePageViewEvent)),this.isClickTrackingEnabled()&&(this.registerEventHandler("player.component.click",this.handleClickComponentEvent),this.registerEventHandler("previewer.component.click",this.handleClickComponentEvent)),this.isHoverTrackingEnabled()&&(this.registerEventHandler("player.component.hover",this.handleHoverComponentEvent),this.registerEventHandler("previewer.component.hover",this.handleHoverComponentEvent))};(c.prototype=Object.create(u.default.prototype)).constructor=c,o.default.extend(c.prototype,{isEnabled:function(){return this.options.enabled&&!!this.options.containerID&&(this.isPageViewTrackingEnabled()||this.isClickTrackingEnabled()||this.isHoverTrackingEnabled())},isPageViewTrackingEnabled:function(){return!a.default.isEmbedded&&!!this.options.trackPageViewsForStandaloneExperiences},isClickTrackingEnabled:function(){return!!this.options.trackClicks},isHoverTrackingEnabled:function(){return!!this.options.trackHovers},handlePageViewEvent:function(t){var e={event:"ceros-pageview",cerosPagePath:s.default.buildUriForPageNumber(t.page_num),cerosPageTitle:t.page_name,cerosPageLocation:window.location.href},i=new l.default(e);a.default.previewMode?r.default.forceInfo("GTM page view event",i.toString()):i.invoke()},handleClickComponentEvent:function(t){this.sendCustomEvent({event:"ceros-event",cerosCategory:this.options.eventCategory,cerosAction:this.options.clickEventAction,cerosLabel:t.component_name})},handleHoverComponentEvent:function(t){this.sendCustomEvent({event:"ceros-event",cerosCategory:this.options.eventCategory,cerosAction:this.options.hoverEventAction,cerosLabel:t.component_name})},sendCustomEvent:function(t){var e=new l.default(t);a.default.previewMode?r.default.forceInfo("GTM custom event",e.toString()):a.default.isEmbedded?this.invokeOnParentPage(e):e.invoke()}}),e.default=c},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(45)),o=function(t){r.default.call(this,"dataLayer.push",t)};(o.prototype=Object.create(r.default.prototype)).constructor=o,e.default=o},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(4)),o=n(i(0)),a=n(i(2)),s=n(i(30)),u=function(t){s.default.call(this,t),this.options=t,this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageEvent),this.registerEventHandler("previewer.page.view",this.handlePageEvent))};(u.prototype=Object.create(s.default.prototype)).constructor=u,o.default.extend(u.prototype,{didInit:!1,isEnabled:function(){return this.options.enabled&&!!this.options.accountId},isPageViewTrackingEnabled:function(){return this.isEnabled()},init:function(t){this.didInit=!!a.default.previewMode||!!window.Munchkin,a.default.previewMode&&r.default.forceInfo("Marketo page view event",JSON.stringify(this.formatPageUri(t.page_num))),window.Munchkin&&window.Munchkin.init(this.options.accountId)},formatPageUri:function(t){var e=window.location.pathname;return e.match(/\/p\/\d+$/)||(e=e+"/p/"+t),{url:e}},handlePageEvent:function(t){if(this.didInit){var e=this.formatPageUri(t.page_num);a.default.previewMode?r.default.forceInfo("Marketo page view event",JSON.stringify(e)):window.Munchkin.munchkinFunction("visitWebPage",e)}else this.init(t)}}),e.default=u},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(4)),o=n(i(0)),a=n(i(2)),s=n(i(30)),u=function(t){s.default.call(this,t),this.options=t,this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageEvent),this.registerEventHandler("previewer.page.view",this.handlePageEvent)),this.isEnabled()&&(window._elqQ=window._elqQ||[],window._elqQ.push(["elqSetSiteId",this.options.siteId]),t.cookieDomain&&window._elqQ.push(["elqUseFirstPartyCookie",this.options.cookieDomain]))};(u.prototype=Object.create(s.default.prototype)).constructor=u,o.default.extend(u.prototype,{isEnabled:function(){return this.options.enabled&&!!this.options.siteId},isPageViewTrackingEnabled:function(){return this.isEnabled()},formatPageUri:function(t){var e=window.location.href;return e.match(/\/p\/\d+$/)||(e=e+"/p/"+t),e},handlePageEvent:function(t){var e=this.formatPageUri(t.page_num);a.default.previewMode?r.default.forceInfo("Eloqua page view event",e):window._elqQ.push(["elqTrackPageView",e])}}),e.default=u},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(i(4)),s=o(i(2)),u=o(i(9)),l=o(i(170)),c=function(t){function e(e){var i=t.call(this,e)||this;return i.options=e,i.globalContext=s.default,i.isEmbedded=i.globalContext.isEmbedded,i.initialize(),i}return r(e,t),e.prototype.isPageViewTrackingEnabled=function(){return!this.isEmbedded&&!!this.options.trackPageViewsForStandaloneExperiences},e.prototype.isClickTrackingEnabled=function(){return!!this.options.trackClicks},e.prototype.isHoverTrackingEnabled=function(){return!!this.options.trackHovers},e.prototype.handlePageViewEvent=function(t){var e={xdm:{web:{webPageDetails:{pageViews:{value:1},hitType:"pageview",page:u.default.buildUriForPageNumber(t.page_num)}}}},i=new l.default(e);this.globalContext.previewMode?a.default.forceInfo("Adobe Analytics page view",i.toString()):i.invoke()},e.prototype.handleClickComponentEvent=function(t){this.sendCustomEvent({hitType:"event",eventCategory:this.options.eventCategory,eventAction:this.options.clickEventAction,eventLabel:t.component_name})},e.prototype.handleHoverComponentEvent=function(t){this.sendCustomEvent({hitType:"event",eventCategory:this.options.eventCategory,eventAction:this.options.hoverEventAction,eventLabel:t.component_name})},e.prototype.sendCustomEvent=function(t){var e=new l.default({xdm:{custom:t}});this.globalContext.previewMode?a.default.forceInfo("Adobe Analytics custom event",e.toString()):this.globalContext.isEmbedded?this.invokeOnParentPage(e):e.invoke()},e.prototype.initialize=function(){this.isPageViewTrackingEnabled()&&(this.registerEventHandler("player.page.view",this.handlePageViewEvent),this.registerEventHandler("previewer.page.view",this.handlePageViewEvent)),this.isClickTrackingEnabled()&&(this.registerEventHandler("player.component.click",this.handleClickComponentEvent),this.registerEventHandler("previewer.component.click",this.handleClickComponentEvent)),this.isHoverTrackingEnabled()&&(this.registerEventHandler("player.component.hover",this.handleHoverComponentEvent),this.registerEventHandler("previewer.component.hover",this.handleHoverComponentEvent))},e}(o(i(30)).default);e.default=c},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(e){return t.call(this,"alloy",["sendEvent",e])||this}return r(e,t),e}(o(i(45)).default);e.default=a},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(5)),a=function(){this.startTime=null};a.prototype=r.default.extend(a.prototype,o.default.Events,{EVENTS:{PERFORMANCE_MARK:"performance_mark"},MARKS:{PLAYER:{RUN_START:"run-start",DOM_READY:"dom-ready",SPINNER_SHOWN:"spinner-shown",DOC_VERSION_LOADED:"doc-version-loaded",SPINNER_HIDDEN:"spinner-hidden",HIGH_PRIORITY_IMAGES_START_LOADING:"high-priority-images-start-loading",LOW_PRIORITY_IMAGES_START_LOADING:"low-priority-images-start-loading",BEGIN_PRERENDERING_PAGES:"begin-prerendering-pages",ALL_PAGES_PRERENDERED:"all-pages-prerendered",PRIORITY_QUEUE_EMPTIED:"priority-queue-emptied",ALL_RESOURCES_LOADED:"all-resources-loaded"},STUDIO:{SHAREJS_CONNECTION_INITIALIZED:"sharejs-connection-initialized",ALL_DATA_LOADED:"all-data-loaded",ALL_PAGES_LOADED:"all-pages-loaded",USER_LOADED:"user-loaded",THUMBNAIL_POLICY_LOADED:"thumbnail-policy-loaded"}},optionalProperties:{},setOptionalProperties:function(t){return this.optionalProperties=t,this},_getDateNow:function(){return new Date(Date.now())},startTracking:function(t){this.startTime=t||this._getDateNow().getTime();var e=r.default.extend({},this.optionalProperties,{performance_marker_name:"start-tracking",performance_marker_time:0});this.trigger(this.EVENTS.PERFORMANCE_MARK,e)},mark:function(t){if(null===this.startTime)return!1;var e=this._getDateNow().getTime()-this.startTime;if(e<0||e>18e5)return!1;var i=r.default.extend({},this.optionalProperties,{performance_marker_name:t,performance_marker_time:e});return this.trigger(this.EVENTS.PERFORMANCE_MARK,i),!0}}),e.default=a},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(4)),a=n(i(0)),s=n(i(173)),u=function(){s.default.call(this)};(u.prototype=Object.create(s.default.prototype)).constructor=u;a.default.extend(u.prototype,{activatePage:function(t,e,i){this.timerId&&(o.default.debug("Stopping page ping timer"),clearTimeout(this.timerId),this.timerId=null),t=isNaN(t)?0:t,e=isNaN(e)?i:e,this.minY=t,this.maxY=e,this.lastTopY=t,this.lastBottomY=e,this.pageHeight=i,this.pageActivated=!0,this.registerUserActivity()},resetYMinMax:function(){this.minY=void 0,this.maxY=void 0},trackPageScroll:a.default.throttle((function(t,e){isNaN(t)||isNaN(e)||(this.minY=void 0===this.minY?t:Math.min(t,this.minY),this.maxY=void 0===this.maxY?e:Math.max(e,this.maxY),this.lastTopY=t,this.lastBottomY=e,this.registerUserActivity())}),200),setPostEventFireData:function(){this.minY=this.lastTopY,this.maxY=this.lastBottomY},shouldStartPagePingEventTimer:function(){return this.isUserActive()||this.isLightboxOpen()},getDwellTimeEventData:function(){var t=Math.max(0,this.minY),e=this.maxY;return this.pageHeight&&(e=Math.min(this.pageHeight,e)),{minY:t,maxY:e,dwellTime:this.PAGE_PING_INTERVAL_MILLIS/1e3}},isLightboxOpen:function(){return r.default(".ceros-lightbox").is(":visible")},logDebug:function(t){o.default.debug(t)}}),e.default=u},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(5)),a=function(){this.lastUserActivityTime=null,this.timerId=null,this.paused=!1,this.pageActivated=!1,document.addEventListener&&document.addEventListener("visibilitychange",r.default.bind((function(){"hidden"===document.visibilityState?this.pause():"visible"===document.visibilityState&&this.registerUserActivity()}),this))};a.prototype=r.default.extend({},o.default.Events,{EVENTS:{USER_ACTIVITY_PING:"user-activity-ping"},PAGE_PING_INTERVAL_MILLIS:5e3,USER_INACTIVITY_TIMEOUT_MILLIS:3e4,pause:function(){this.isRunning()&&(this.logDebug("Pausing page ping timer"),clearTimeout(this.timerId),this.timerId=null,this.paused=!0)},registerUserActivity:function(){this.pageActivated&&(this.lastUserActivityTime=new Date,this.paused=!1,this.isRunning()||this.startTimer())},registerUserActivityIfNotPaused:function(){this.paused||this.registerUserActivity()},startTimer:function(){this.logDebug("Starting page ping timer");var t=r.default.bind((function(){this.timerId=setTimeout(r.default.bind((function(){this.trigger(this.EVENTS.USER_ACTIVITY_PING,this.getDwellTimeEventData()),this.setPostEventFireData(),this.shouldStartPagePingEventTimer()?t():(this.logDebug("Stopping page pings. User is not active."),this.timerId=null)}),this),this.PAGE_PING_INTERVAL_MILLIS),this.timerStartTime=Date.now()}),this);t()},getDwellTimeEventData:function(){return{dwellTime:this.PAGE_PING_INTERVAL_MILLIS/1e3}},setPostEventFireData:function(){},shouldStartPagePingEventTimer:function(){return this.isUserActive()},isUserActive:function(){return new Date-this.lastUserActivityTime<this.USER_INACTIVITY_TIMEOUT_MILLIS},isRunning:function(){return null!==this.timerId},logDebug:function(t){console.debug(t)}}),e.default=a},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(3)),s=n(i(2)),u=n(i(11)),l=n(i(20)),c=n(i(175)),d=s.default.publicAssetsBaseUrl+"PoweredByCeros.svg";e.default=u.default.extend({id:"ceros-branding",initialize:function(){this.poweredByUrl=this.getBrandingLinkUrl(),u.default.prototype.initialize.call(this),this.render(),this.configureInteractions()},configureInteractions:function(){this.bindInteraction(this.$el,o.default.bind(this._clickCerosBranding,this))},render:function(){if(this.$el.empty().html(c.default),this.$el.find("a").attr("href",this.poweredByUrl),r.default(window).on("resize",o.default.bind(this._onResize,this)),this.setCustomTheming(),!this.options.whiteLabeling){var t={color:this.options.menuForegroundColor},e={alt:"Powered By Ceros",width:"100%",height:"100%"};l.default.addVectorImage(d).loadNow().done(o.default.bind((function(i){i.createImageElement(t,e).done(o.default.bind((function(t){this.$el.find("a").append(t)}),this))}),this))}},setCustomTheming:function(){this.$el.css("background-color",this.options.menuBackgroundColor);var t=this.options.menuHoverOpacity,e=this.$el.find("a");a.default.desktop()&&e.on("mouseenter",(function(){r.default(this).css("opacity",t)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")})),a.default.touch()&&e.on("touchstart",(function(){r.default(this).css("opacity",t)})).on("touchend",(function(){r.default(this).css("opacity","1.0")})),this._positionCerosBranding()},_positionCerosBranding:function(){a.default.isIphoneFullscreenMobileSafari(r.default(window).width(),r.default(window).height())?this.$el.css({right:"42px","border-radius":"3px 3px 0 0"}):this.$el.css({right:0,"border-radius":"3px 0 0 0"})},getBrandingLinkUrl:function(){return"http://www3.ceros.com/poweredbyceros?"+["utm_source=M-W-CerosPower","account="+encodeURIComponent(s.default.accountSlug),"experience="+encodeURIComponent(s.default.issueAliasSlug)].join("&")},_onResize:function(){this._positionCerosBranding()},_clickCerosBranding:function(t){t.preventDefault(),this.getModule().trigger(this.getModule().publishedEvents.BRANDING_CEROS_BRANDING_CLICK)}})},function(t,e){t.exports='\n    <a href="#" class="label"><span class="sr-only">Powered by Ceros</span></a>'},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(3)),s=n(i(11)),u=n(i(177)),l=n(i(22)),c=n(i(10)),d=n(i(9)),h=n(i(57));e.default=s.default.extend({id:"chrome",initialize:function(){s.default.prototype.initialize.call(this),this.autoHideTimer=null,this.render(),this.clickOverlay=r.default('<div class="click-overlay"></div>'),this.bindInteraction(this.clickOverlay,o.default.bind(this._hideShareMenu,this)),this.configureInteractions()},configureInteractions:function(){this.bindInteraction(this.title,o.default.bind(this._clickTitle,this)),this.bindInteraction(this.share,o.default.bind(this._activateShareMenu,this)),this.bindInteraction(this.shareMenu.find("a"),o.default.bind(this._sharePage,this)),this.bindInteraction(this.cart,o.default.bind(this._activateCart,this))},render:function(){this.$el.empty().html(u.default),r.default(window).on("resize",o.default.bind(this._onResize,this)),this.chromeMenu=this.$el.find("#chrome-menu"),this.title=this.chromeMenu.find(".title"),this.share=this.chromeMenu.find(".share"),this.$shareBtn=this.chromeMenu.find(".share-button"),this.shareMenu=this.chromeMenu.find(".share-menu"),this.shareMenuArrow=this.chromeMenu.find(".arrow"),this._renderShareMenuArrow(),this.cart=this.chromeMenu.find(".cart"),!1===this.options.showChromeMenu&&this.chromeMenu.hide(),this.setCustomTheming(),this.options.allowCommerceIntegration&&this.options.commerceSettings.shoppingCartUrl||this.cart.remove(),this.chromeMenu.addClass("icon-"+this.chromeMenu.find("div.button").length)},_renderShareMenuArrow:function(){var t=r.default('<canvas width="39" height="18"></canvas>');this.shareMenuArrow.empty().append(t);var e=t[0].getContext("2d");e.save(),e.clearRect(0,0,39,18),e.fillStyle=this.options.menuBackgroundColor,e.beginPath(),e.moveTo(19.5,0),e.lineTo(39,18),e.lineTo(0,18),e.lineTo(19.5,0),e.fill(),e.restore()},setCustomTheming:function(){this.chromeMenu.css("background-color",this.options.menuBackgroundColor),this.shareMenu.css("background-color",this.options.menuBackgroundColor),this.shareMenu.find("li").css("border-color",this.options.menuBorderColor);var t=this.options.menuForegroundColor;this.$el.find(".title,.label,.icon").css("color",t);var e=this.$el.find("a"),i=this.options.menuHoverOpacity;a.default.desktop()&&e.on("mouseenter",(function(){r.default(this).css("opacity",i)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")})),a.default.touch()&&e.on("touchstart",(function(){r.default(this).css("opacity",i)})).on("touchend",(function(){r.default(this).css("opacity","1.0")}))},toggle:function(){this.chromeMenu.fadeToggle({duration:"fast",queue:!1,complete:o.default.bind(this.setAutoHideTimer,this)})},setAutoHideTimer:function(){this.cancelAutoHide(),this.chromeMenu.is(":visible")&&(this.autoHideTimer=setTimeout(o.default.bind((function(){"none"===this.shareMenu.css("display")&&this.hide(!0)}),this),5e3))},cancelAutoHide:function(){clearTimeout(this.autoHideTimer)},show:function(t){this.cancelAutoHide(),t?this.$el.fadeIn("fast"):this.$el.show()},hide:function(t){this.cancelAutoHide(),t?this.chromeMenu.fadeOut("fast"):this.chromeMenu.hide()},getHeight:function(){return!1===this.options.showChromeMenu?0:a.default.mobile()?50:42},setTitle:function(t){this.chromeMenu.find(".title").text(t)},_onResize:function(){this._positionShareMenu()},_showShareMenu:function(){this._positionShareMenu(),this.shareMenuArrow.show(),this.shareMenu.attr("aria-expanded","true"),this.shareMenu.slideDown(150,o.default.bind((function(){this.$el.after(this.clickOverlay),this.clickOverlay.show()}),this)),o.default.defer(o.default.bind((function(){this.bindInteraction(this.$el,o.default.bind(this._hideShareMenu,this))}),this)),this.bindShareMenuFocusStateWatcher(),this.bindShareMenuEscWatcher()},bindShareMenuFocusStateWatcher:function(){this.focusCallback=function(){this.shareMenu[0].contains(document.activeElement)||(this.removeShareMenuWatchers(),this._hideShareMenu())}.bind(this),document.addEventListener("focus",this.focusCallback,!0)},bindShareMenuEscWatcher:function(){this.escCallback=function(t){"Escape"!==t.code&&t.keyCode!==h.default.ESC||(this.removeShareMenuWatchers(),this.$shareBtn.focus(),this._hideShareMenu())}.bind(this),document.addEventListener("keydown",this.escCallback,!0)},removeShareMenuWatchers:function(){document.removeEventListener("keydown",this.escCallback,!0),document.removeEventListener("focus",this.focusCallback,!0)},_hideShareMenu:function(){this.shareMenu.attr("aria-expanded","false"),this.shareMenu.slideUp(100,o.default.bind((function(){this.shareMenuArrow.hide(),this.clickOverlay.detach(),this.unbindInteraction(this.$el)}),this)),a.default.mobile()&&this.setAutoHideTimer()},_positionShareMenu:function(){if(this.options.showChromeMenu){var t,e=r.default(window).width(),i=this.chromeMenu.height()+10;t=e<=480?this.share.position().left+this.share.width()/2-this.shareMenu.width()/2:this.share.position().left,this.shareMenu.css({top:i+"px",left:t+"px"})}},setMenuLinkHrefs:function(t){var e=c.default.removeEmbedParams(d.default.buildUriForPageNumber(t)),i=window.location.protocol+"//"+window.location.host+e,n=this.$el.find("[data-share='facebook']"),r=this.$el.find("[data-share='twitter']"),o=this.$el.find("[data-share='linkedin']"),a=this.$el.find("[data-share='pinterest']"),s=this.$el.find("[data-share='email']");this.title.attr("href",d.default.buildUriForPageNumber(1)),n.attr("href",l.default.urlForFacebook(i)),r.attr("href",l.default.urlForTwitter(i)),o.attr("href",l.default.urlForLinkedIn(i)),a.attr("href",l.default.urlForPinterest(i)),s.attr("href",l.default.urlForEmail(i))},_clickTitle:function(t){t.preventDefault(),this.getModule().trigger(this.getModule().publishedEvents.CHROME_TITLE_CLICK)},_activateCart:function(){this.getModule().trigger(this.getModule().publishedEvents.CHROME_SHOPPING_CART)},_activateShareMenu:function(t){"none"===this.shareMenu.css("display")?(this.getModule().trigger(this.getModule().publishedEvents.CHROME_SHARE),this._showShareMenu()):this._hideShareMenu()},_sharePage:function(t){t.preventDefault();var e="share-"+r.default(t.currentTarget).attr("data-share");this.getModule().trigger(this.getModule().publishedEvents.CHROME_SHARE_PAGE,{action:e}),this._hideShareMenu()}})},function(t,e){t.exports='<nav id="chrome-menu">\n    <a href="#" class="title" title="Home"></a>\n    <div class="menu-buttons">\n        <div class="share button">\n            <button class="menu-button share-button" aria-controls="shareMenu"><span class="sr-only">Social Sharing Menu</span><span class="icon">&#xe000;</span></button>\n            <div class="arrow">\x3c!-- A dynamically rendered HTML5 canvas or VML element is inserted here --\x3e</div>\n        </div>\n        <div id="shareMenu" class="share-menu" style="display:none;" aria-expanded="false">\n            <ul>\n                <li><a href="#" data-share="facebook" title="Share on Facebook"><span class="sr-only">Share on Facebook</span><span class="icon ceros-facebook-icon"></span></a></li>\n                <li><a href="#" data-share="twitter" title="Share on Twitter"><span class="sr-only">Share on Twitter</span><span class="icon ceros-twitter-icon"></span></a></li>\n                <li><a href="#" data-share="linkedin" title="Share on LinkedIn"><span class="sr-only">Share on LinkedIn</span><span class="icon ceros-linkedin-icon"></span></a></li>\n                <li><a href="#" data-share="pinterest" title="Share on Pinterest"><span class="sr-only">Share on Pinterest</span><span class="icon ceros-pinterest-icon"></span></a></li>\n                <li><a href="#" data-share="email" title="Share via Email"><span class="sr-only">Share on Email</span><span class="icon ceros-email-icon"></span></a></li>\n            </ul>\n        </div>\n        <div class="cart button" aria-controls="cartModal">\n            <button class="menu-button" aria-controls="lightbox"><span class="sr-only">Open Cart</span><span class="icon">&#xe004;</span></button>\n        </div>\n    </div>\n</nav>\n'},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(7)),o=n(i(11)),a=n(i(179));e.default=o.default.extend({id:"errorModal",initialize:function(t){o.default.prototype.initialize.call(this,t),this.options=t,this.render()},render:function(){var t=r.default.render(a.default,{title:this.options.title,message:this.options.message,imageCssClass:this.options.imageCssClass});this.$el.html(t)}})},function(t,e){t.exports='<div id="float"></div>\n<div id="dialog">\n    <div id="content">\n        <div id="title">\n            {{title}}\n        </div>\n        <div id="image" {{#imageCssClass}}class="{{imageCssClass}}"{{/imageCssClass}}></div>\n        <div id="message">\n            {{{message}}}\n        </div>\n    </div>\n</div>'},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(2)),s=n(i(15)),u=n(i(46)),l=n(i(77)),c=n(i(11)),d=n(i(3)),h=n(i(297)),f=n(i(9));e.default=c.default.extend({id:"flippers",leftArrow:null,rightArrow:null,scaleData:null,currentPageNumber:0,smallWindowThreshold:600,options:null,initialize:function(){c.default.prototype.initialize.call(this),d.default.desktop()&&r.default(document).on("keydown",o.default.bind(this.keyHandler,this)),this.render(),this.bindInteraction(this.leftArrow,o.default.bind(this._previousPage,this)),this.bindInteraction(this.rightArrow,o.default.bind(this._nextPage,this)),this.bindInteraction(this.$el)},onClose:function(){c.default.prototype.initialize.call(this),this.unbindInteraction(this.leftArrow),this.unbindInteraction(this.rightArrow),this.unbindInteraction(this.$el)},_previousPageHref:function(){if(!this.currentPageNumber)return"#";var t=f.default.parseLayoutFromLocation();return f.default.buildUri(l.default.PAGE_MODES.NUMBER,Math.max(1,this.currentPageNumber-1),t)},_nextPageHref:function(){if(!this.currentPageNumber)return"#";var t=f.default.parseLayoutFromLocation();return f.default.buildUri(l.default.PAGE_MODES.NUMBER,this.currentPageNumber+1,t)},replaceHrefs:function(){this.currentPageNumber=u.default.currentPageNumber(),this.$(".prev.left a").attr("href",this._previousPageHref()),this.$(".next.right a").attr("href",this._nextPageHref())},render:function(){var t=a.default.isEmbedded?"<button>":"<a>";this.leftArrow=r.default("<div>",{class:"prev left",css:{"background-color":this.options.menuBackgroundColor}}),this.leftArrowA=r.default(t,{title:"Previous Page",html:h.default.LEFT_ARROW,attr:{"aria-label":"Previous Page"},css:{color:this.options.menuForegroundColor}}),this.leftArrow.append(this.leftArrowA),this.rightArrow=r.default("<div>",{class:"next right",css:{"background-color":this.options.menuBackgroundColor}}),this.rightArrowA=r.default(t,{title:"Next Page",html:h.default.RIGHT_ARROW,attr:{"aria-label":"Next Page"},css:{color:this.options.menuForegroundColor}}),this.rightArrow.append(this.rightArrowA),a.default.isEmbedded||(this.leftArrowA.attr("href",this._previousPageHref()),this.rightArrowA.attr("href",this._nextPageHref()));var e=this.options.menuHoverOpacity;d.default.touch()&&(this.leftArrowA.on("touchstart",(function(){r.default(this).css("opacity",e)})).on("touchend",(function(){r.default(this).css("opacity","1.0")})),this.rightArrowA.on("touchstart",(function(){r.default(this).css("opacity",e)})).on("touchend",(function(){r.default(this).css("opacity","1.0")}))),d.default.desktop()&&(this.leftArrowA.on("mouseenter",(function(){r.default(this).css("opacity",e)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")})),this.rightArrowA.on("mouseenter",(function(){r.default(this).css("opacity",e)})).on("mouseleave",(function(){r.default(this).css("opacity","1.0")}))),this.disableNext(),this.disablePrevious(),this.$el.append(this.leftArrow),this.$el.append(this.rightArrow),!1===this.options.arrowsEnabled&&this.hide()},scale:function(t){t&&(this.scaleData=t);var e=this.scaleData.height,i=this.scaleData.marginTop,n=this.scaleData.originalWindowWidth;this.scaleData.windowHeight<this.smallWindowThreshold||n<this.smallWindowThreshold?(this.rightArrow.addClass("small"),this.leftArrow.addClass("small")):(this.leftArrow.removeClass("small"),this.rightArrow.removeClass("small"));var r,o=parseFloat(this.rightArrowA.css("height")),a=s.default.getInstance();r=a.isActive()?a.getVerticalCenterOfVisibleArea(e)-o/2:e/2-o/2+i,r=Math.round(r)+"px",this.leftArrow.css("top",r),this.rightArrow.css("top",r)},isPreviousDisabled:function(){return this.leftArrow.hasClass("disabled")},isNextDisabled:function(){return this.rightArrow.hasClass("disabled")},disablePrevious:function(){this.isPreviousDisabled()||(this.leftArrow.addClass("disabled"),this.leftArrow.attr("aria-hidden",!0),this.leftArrowA.attr("title",""),this.leftArrowA.attr("tabindex","-1"))},disableNext:function(){this.isNextDisabled()||(this.rightArrow.addClass("disabled"),this.rightArrow.attr("aria-hidden",!0),this.rightArrowA.attr("title",""),this.rightArrowA.attr("tabindex","-1"))},enablePrevious:function(){this.isPreviousDisabled()&&(this.leftArrow.removeClass("disabled"),this.leftArrow.removeAttr("aria-hidden"),this.leftArrowA.attr("title","Previous Page"),this.leftArrowA.removeAttr("tabindex"))},enableNext:function(){this.isNextDisabled()&&(this.rightArrow.removeClass("disabled"),this.rightArrow.removeAttr("aria-hidden"),this.rightArrowA.attr("title","Next Page"),this.rightArrowA.removeAttr("tabindex"))},show:function(){!0===this.options.arrowsEnabled&&this.$el.show()},hide:function(){this.$el.hide()},_nextPage:function(t){t.preventDefault(),this.options.module.trigger(this.options.module.publishedEvents.NEXT_PAGE)},_previousPage:function(t){t.preventDefault(),this.options.module.trigger(this.options.module.publishedEvents.PREVIOUS_PAGE)},keyHandler:function(t){(!t.target||"SELECT"!=t.target.tagName&&"INPUT"!=t.target.tagName&&"TEXTAREA"!=t.target.tagName)&&(t.metaKey||t.ctrlKey||t.altKey||t.shiftKey||this.options.arrowsEnabled&&(39!==t.keyCode||this.isNextDisabled()?37!==t.keyCode||this.isPreviousDisabled()?37!==t.keyCode&&39!==t.keyCode||(t.stopPropagation(),t.preventDefault()):(t.stopPropagation(),t.preventDefault(),this._previousPage(t)):(t.stopPropagation(),t.preventDefault(),this._nextPage(t))))}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(4)),o=n(i(1)),a=n(i(0)),s=n(i(2)),u=n(i(47)),l=n(i(91)),c=n(i(20)),d=n(i(92)),h=n(i(3)),f=n(i(11)),p=n(i(93)),g=n(i(182)),m=n(i(21)),v=i(183),y=i(185),_=n(i(13)),b=n(i(14)),T=n(i(39)),w=n(i(63)),S=i(187),E=n(i(8)),A=n(i(64)),C=0,P=1,I=2;e.default=f.default.extend({id:"viewport",documentVersion:null,module:null,pageJumpFrom:null,currentPage:null,currentPageSlug:null,pageViews:null,leftThresholdA:null,leftThresholdB:null,rightThresholdA:null,rightThresholdB:null,clickShield:null,isPageTransitionInProgress:!1,autoTransitionDelay:null,backgroundImage:null,scaleContext:null,scrollPositionsByPage:{},viewportContainer:null,backgroundContainerEl:null,backgroundImageEl:null,backgroundImageResource:null,backgroundImageInfo:null,mainContentLink:null,viewportTopAnchor:null,zoomControls:null,MOBILE_PAGE_SCROLL_HEIGHT_OFFSET:2,pageTransitionAriaLiveTimeout:null,initialize:function(){this.documentVersion=this.options.documentVersion,this.scaleContext=this.options.scaleContext,this.module=this.options.module,this.mainContentLink=new v.MainContentLinkView({docVersion:this.documentVersion}),this.viewportTopAnchor=new y.ViewportTopAnchor,this.hasAccessibilityFeature=_.default.hasFeature(b.default.ACCESSIBILITY),f.default.prototype.initialize.call(this),this.hasAccessibilityFeature&&(this.viewportTopAnchor.initializeViewportTopAnchor(),this.$el.append(this.viewportTopAnchor.$viewportTop),this.$el.append(this.mainContentLink.$el),this.$el.prop("tabindex",-1),this.shouldDisplayZoomControls()&&this.initZoomControls(),s.default.previewMode&&E.default.on("change",this.handleVariantChange.bind(this))),o.default(window).on("resize",a.default.bind(this.scale,this)),h.default.touch()&&(l.default.mergeDelegates(this,g.default),this.configureGestures()),this.clickShield=o.default('<div class="click-shield"></div>'),this.addClickShield(),this.reset(null),s.default.previewMode&&this.listenForRemoteChanges(),a.default.each(this.documentVersion.pages,a.default.bind((function(t){t.on("change:disabled",(function(){this.module.trigger(this.module.publishedEvents.PAGE_ENABLED_CHANGE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()})}),this)}),this)),this.backgroundImageInfo=a.default.get(s.default,"themeObj.backgroundImage",null)},listenForRemoteChanges:function(){this.documentVersion.on("change:carousel",a.default.bind((function(){this.getCurrentPage()&&this.currentPageSlug&&(this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()}),this.setAutoTransitionDelay())}),this)),this.documentVersion.on(this.documentVersion.MANIFEST_ADD_PAGE,a.default.bind((function(t,e){var i=this.module.createSinglePageView(t,e);this.pageViews.splice(e,0,i),i.prepare().done(a.default.bind((function(){i.attach(),this.$el[0].appendChild(i.el()[0]),this.scale(),i.makePending(),this.currentPage=this.documentVersion.getPageNumberBySlug(this.currentPageSlug),this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()})}),this))}),this)),this.documentVersion.on(this.documentVersion.MANIFEST_REMOVE_PAGE,a.default.bind((function(t){t+1===this.currentPage?this.module.trigger(this.module.publishedEvents.CURRENT_PAGE_DELETED):(this.pageViews.splice(t,1),this.currentPage=this.documentVersion.getPageNumberBySlug(this.currentPageSlug),this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()}))}),this)),this.documentVersion.on(this.documentVersion.MANIFEST_MOVE_PAGE,a.default.bind((function(t,e){var i=this.pageViews.splice(t,1)[0];this.pageViews.splice(e,0,i),this.currentPage=this.documentVersion.getPageNumberBySlug(this.currentPageSlug),this.module.trigger(this.module.publishedEvents.PAGE_UPDATE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()})}),this))},getNextPageIndex:function(){var t=!1;if(this.pageViews){t=this.currentPage+1;for(var e=this.pageViews[t-1];e&&e.isDisabled();)t++,e=this.pageViews[t-1];if(!e||e.isDisabled())if(this.documentVersion.isCarousel()){for(t=1;this.pageViews[t-1].isDisabled()&&t<this.currentPage;)t++;t>=this.currentPage&&(t=!1)}else t=!1}return t},getPreviousPageIndex:function(){var t=!1;if(this.pageViews){t=this.currentPage-1;for(var e=this.pageViews[t-1];e&&e.isDisabled();)t--,e=this.pageViews[t-1];if(!e||e.isDisabled())if(this.documentVersion.isCarousel()){for(t=this.pageViews.length;this.pageViews[t-1].isDisabled()&&t>this.currentPage;)t--;t<=this.currentPage&&(t=!1)}else t=!1}return t},isFirstPage:function(){return!1===this.getPreviousPageIndex()},isLastPage:function(){return!1===this.getNextPageIndex()},getCurrentPage:function(){return null!==this.pageViews&&this.pageViews[this.currentPage-1]},getNextPage:function(){var t=!1,e=this.getNextPageIndex();return e&&(t=this.pageViews[e-1]),t},getPreviousPage:function(){var t=!1,e=this.getPreviousPageIndex();return e&&(t=this.pageViews[e-1]),t},getPageCount:function(){return null===this.pageViews?0:this.pageViews.length},getPageViewportWidth:function(){return this.getCurrentPage().getScaleContext().originalWindowWidth},getExperienceWidth:function(){return this.documentVersion.getExperienceWidth()},getExperienceHeight:function(){return this.documentVersion.getExperienceHeight()},reset:function(t,e){if((this.zoomControls?this.$el.children().not(this.zoomControls.$el):this.$el.children()).not("#ceros-branding").not(this.mainContentLink.$el).not(this.viewportTopAnchor.$viewportTop).remove(),a.default.isNull(e)?this.currentPage=1:this.currentPage=e,null!==this.pageViews&&a.default.each(this.pageViews,(function(t){t.close()})),this.pageViews=t,this.viewportContainer=document.createDocumentFragment(),null!==this.pageViews){this._updatePageCss();var i=[];a.default.each(this.pageViews,(function(t){i.unshift(t.el()[0])})),a.default.each(i,a.default.bind((function(t){this.viewportContainer.appendChild(t)}),this)),this.$el[0].appendChild(this.viewportContainer),this.scale()}},disablePage:function(t){this.pageViews[t-1].disable()},enablePage:function(t){this.pageViews[t-1].enable()},nextPage:function(t){if(null!==this.pageViews&&!this.isPageTransitioning()){var e=this.getNextPageIndex();if(e){var i=this.getCurrentPage(),n=this.getNextPage();this._preTransition(i,n),this.switchPage(e,I,t)}}},previousPage:function(t){if(null!==this.pageViews&&!this.isPageTransitioning()){var e=this.getPreviousPageIndex();if(e){var i=this.getCurrentPage(),n=this.getPreviousPage();this._preTransition(i,n),this.switchPage(e,P,t)}}},doTransitionAnimation:function(t,e,i,n){if(i===C)return(new o.default.Deferred).resolve().promise();var r=new o.default.Deferred;this.isPageTransitionInProgress=!0,r.done(a.default.bind((function(){this.isPageTransitionInProgress=!1}),this)),e.makeInTransition();var s=this.getPageViewportWidth()*(i===I?-1:1);return t.pauseAnimations(),t.el().animate({"background-position-x":s},{duration:n,easing:"easeOutCubic",step:a.default.bind((function(i){t.setBackgroundPositionAndScaleTransform(i,this.isPageTransitionInProgress),e.setBackgroundPositionAndScaleTransform(i-s,this.isPageTransitionInProgress)}),this),complete:r.resolve}),r.promise()},_storePageScrollPosition:function(t){this.scrollPositionsByPage[t.getSlug()]=t.getScrollPosition()},_getStoredPageScrollPosition:function(t){return!a.default.isUndefined(t)&&a.default.has(this.scrollPositionsByPage,t.getSlug())?this.scrollPositionsByPage[t.getSlug()]:0},_preTransition:function(t,e){var i=t.getScaleContext();this._storePageScrollPosition(t),i.constrainedByHeight&&(this._hidePageScrollbar(t),this._hidePageScrollbar(e))},jumpToPage:function(t){if(null!==this.pageViews){var e=this.pageViews.length;t>=1&&t<=e&&(this.pageViews[t-1].isDisabled()||this.switchPage(t,C))}},isPageTransitioning:function(){return this.isPageTransitionInProgress},switchPage:function(t,e,i){var n=this;this.isPageTransitioning()||(this.clearAutoTransitionDelay(),e==C||this.documentVersion.isAutoTransitioning()||this.getCurrentPage().pauseAnimations(),this.getCurrentPage().resetTimedTriggers(),this.getCurrentPage()._handleMouseLeave(),this.showPage(t,e,i).done((function(){var t=n.getCurrentPage();n.activatePage(t),n.hasAccessibilityFeature&&(n.setPageTransitionAriaLiveText(t),n.$el.focus()),t.doCustomScaling()})))},showPage:function(t,e,i){e=!s.default.shouldReduceMotion&&e||C,i=i||500;var n=null;this.currentPage!==t&&(n=this.pageViews[this.currentPage-1]);var r,u=t-1;(this.currentPage=t,this.currentPageSlug=this.pageViews[u].getSlug(),this.module.trigger(this.module.publishedEvents.PAGE_CHANGING,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage(),isPageReady:this.getCurrentPage().isReady()}),n&&n.reset(),this.documentVersion.shouldLazyLoad())?r=[u]:r=new p.default(this.documentVersion.getEnabledPageIndexes(),this.documentVersion.isCarousel()).getPageIndexesToLoad(u);var l=new o.default.Deferred;this.attachPages(r,u).always(a.default.bind((function(){l.resolve()}),this));var c=this.doTransitionAnimation(n,this.getCurrentPage(),e,i);return c.done(a.default.bind((function(){this._updatePageCss(),this._adjustPage()}),this)),o.default.when(l,c)},_adjustPage:function(){var t=this.getCurrentPage();t.setScrollPosition(this._getStoredPageScrollPosition(t)),this._showPageScrollbar(t),this._focusOnPageScrollContainer(t)},_focusOnPageScrollContainer:function(t){t&&(s.default.isEmbedded||this.hasAccessibilityFeature&&"keyboard"===T.default.ask()||this.zoomControls&&this.zoomControls.$("button:focus").length>0||t.focusScrollContainer())},activatePage:function(t){this.module.trigger(this.module.publishedEvents.PAGE_CHANGE,{slug:this.currentPageSlug,isFirstPage:this.isFirstPage(),isLastPage:this.isLastPage()}),t.activate(),this.hasAccessibilityFeature&&this.mainContentLink.setPageView(t).render(),this.setAutoTransitionDelay()},setPageTransitionAriaLiveText:function(t){var e,i=o.default("#page-transition-aria-live"),n=t.model.get("name");e=this.documentVersion.get("pageNamesInTitle")&&n?n+" Page":"Page "+(t.model.pageIndex+1),i.text(e),window.clearTimeout(this.pageTransitionAriaLiveTimeout),this.pageTransitionAriaLiveTimeout=window.setTimeout((function(){return i.text("")}),3e3)},attachPages:function(t,e){var i=new o.default.Deferred;setTimeout(a.default.bind((function(){a.default.each(t,a.default.bind((function(t){this.pageViews[t].attach()}),this)),"pending"===i.state()&&(r.default.devWarn("Page media took over 10 seconds"),i.reject())}),this),1e4),this.module.trigger(this.module.publishedEvents.PAGE_BATCH_LOAD_START);var n=[];return a.default.each(t,a.default.bind((function(t){var i=this.pageViews[t],r=i.prepare();r.always(a.default.bind(i.attach,i)),(a.default.isUndefined(e)||t===e)&&n.push(r)}),this)),o.default.when.apply(o.default,n).done(i.resolve),o.default.when.apply(o.default,n).fail(i.reject),i.promise()},_updatePageCss:function(){var t;a.default.each(this.pageViews,a.default.bind((function(e,i){(t=i+1)<this.currentPage&&!e.isViewed()?e.makeViewed():t!==this.currentPage||e.isTop()?t>this.currentPage&&!e.isPending()&&e.makePending():e.makeTop()}),this))},scalePageComponents:function(){a.default.each(this.pageViews,(function(t){t.scale()}))},_showPageScrollbar:function(t){!h.default.isIos()&&this._doesPageFitInViewport(t)?t.$pageContainer.css("overflow-y","hidden"):t.$pageContainer.css("overflow-y","scroll")},_hidePageScrollbar:function(t){t.$pageContainer.css("overflow-y","hidden")},_doesPageFitInViewport:function(t){var e=t.getScaleContext(),i=t.model.getPageHeight(this.documentVersion),n=this.documentVersion.getExperienceWidth(),r=Math.round(e.windowHeight/e.ratio),o=Math.round(e.windowWidth/e.ratio);return(i<=(s.default.heightOverride||this.documentVersion.getExperienceHeight())||i<=r)&&n<=o},scale:function(t){var e,i,n=this.scaleContext.getCurrentWindowScaleContext(),r=this.getExperienceWidth(),s=this.documentVersion.getScaleExperience();o.default("#main").css({height:n.originalWindowHeight+"px",width:n.originalWindowWidth+"px"}),this.$el.css({height:n.originalWindowHeight+"px",width:n.originalWindowWidth+"px","margin-top":n.marginTop+"px"}),null!==this.pageViews&&a.default.each(this.pageViews,a.default.bind((function(t){var o=t.model.getPageHeight(this.documentVersion),a=t.getScaleContext(),u=this._doesPageFitInViewport(t),l=u?0:d.default.getScrollbarWidth();if(i=this.getPageViewOffsetTop(t,a),e=this.getPageViewOffsetLeft(t,a,l),a.constrainedByWidth&&a.windowWidth<a.originalWindowWidth&&u){var c=(a.originalWindowWidth-a.windowWidth)/a.ratio;e+=c/2}var h=s?"hidden":"scroll";t.$pageContainer.css({width:"100%",height:"100%","overflow-y":"scroll","overflow-x":h,position:"relative"}),this._showPageScrollbar(t);var f=0;t.isPending()?f=n.originalWindowWidth:t.isViewed()&&(f=-1*n.originalWindowWidth),s?this.setPageViewScaleTransformCss(t,a):t.$el.css({height:"100%",width:"100%"}),t.setBackgroundPositionAndScaleTransform(f,this.isPageTransitionInProgress),s?t.$pageScroll.css({height:o+"px",width:r,left:e>=1?e:0,top:i>=1?i:0}):this.setPageScrollUnscaledCss(t,o,r,a),t.$pinnedContainer&&this.setPinnedContainerCss(o,a,e,i,l,r,t)}),this));var u=this.getCurrentPage();!1!==u&&(this._focusOnPageScrollContainer(u),this.module.isFirstPageReadyToShow()&&u.onScrollAndWindowResize()),this.module.trigger(this.module.publishedEvents.SCALE,n)},setPageScrollUnscaledCss:function(t,e,i,n){t.$pageScroll.css({height:e+"px",width:i});var r="";e<=n.height?(r+="translateY(-50%) ",t.$pageScroll.css({top:"50%"})):t.$pageScroll.css({top:""}),i<=n.windowWidth?(r+="translateX(-50%)",t.$pageScroll.css({left:"50%"})):t.$pageScroll.css({left:""}),t.$pageScroll.css({transform:r})},setPinnedContainerCss:function(t,e,i,n,r,o,s){var u={height:t+"px",width:e.width/e.ratio,left:i>=1?i:0,top:n>=1?n:0};r?a.default.extend(u,{"max-width":o,width:e.originalWindowWidth/e.ratio-r}):a.default.extend(u,{width:o}),s.$pinnedContainer.css(u)},setPageViewScaleTransformCss:function(t,e){var i,n;this.zoomControls&&w.default.getInstance().hasZoom()?t.$pageContainer.css("overflow-x","auto"):t.$pageContainer.css("overflow-x","hidden"),this.scaleContext.useZoom(e.ratio)?(i="zoom",n=e.ratio):(i="transform",n="scale("+e.ratio+","+e.ratio+")"),t.storeScaleTransform(i,n);var r={height:e.height/e.ratio+"px",width:e.originalWindowWidth/e.ratio+"px"};r[i]=n,t.$el.css(r)},addClickShield:function(){this.$el.before(this.clickShield),this.clickShield.show()},removeClickShield:function(){this.clickShield.detach()},setAutoTransitionDelay:function(){this.clearAutoTransitionDelay(),this.documentVersion.isAutoTransitioning()&&(this.autoTransitionDelay=a.default.delay(a.default.bind((function(){this.clearAutoTransitionDelay(),this.nextPage()}),this),1e3*this.documentVersion.getAutoTransitionDelay()))},clearAutoTransitionDelay:function(){clearTimeout(this.autoTransitionDelay),this.autoTransitionDelay=null},preloadMedia:function(){this.getBackgroundImagePromise()},getBackgroundImagePromise:function(){return this.backgroundImageResource?this.backgroundImageResource.getPromise():a.default.isNull(this.backgroundImageInfo)?o.default.Deferred().reject().promise():(this.loadBackgroundImage(),this.backgroundImageResource.getPromise())},loadBackgroundImage:function(){this.backgroundImageResource&&this.backgroundImageResource.cancel();var t=this.calculateBackgroundImageDimensions();this.bgImageWidth=t.width,this.bgImageHeight=t.height;var e=u.default.calculateWidthForDevicePixelRatio(this.bgImageWidth);return this.backgroundImageResource=c.default.addRasterImage(this.backgroundImageInfo.id,e),this.backgroundImageResource.loadNow(),this.backgroundImageResource},showBackground:function(t){t&&(this.backgroundContainerEl=o.default("#backgroundContainer"),this.backgroundImageEl=o.default("<img>",{width:20,height:20}),this.backgroundContainerEl.empty().append(this.backgroundImageEl),this.backgroundImageEl.on("load",a.default.bind(this.scaleBackground,this)).attr("src",t.getSrc()),o.default(window).on("resize",a.default.throttle(a.default.bind(this.resizeBackgroundImage,this),200)),this.backgroundContainerEl.fadeIn())},resizeBackgroundImage:function(){this.loadBackgroundImage().getPromise().then(a.default.bind((function(t){o.default(this.backgroundImageEl).attr("src")===t.getSrc()?this.scaleBackground():o.default(this.backgroundImageEl).attr("src",t.getSrc())}),this))},scaleBackground:function(){var t=this.getWindowWidth(),e=this.getWindowHeight();this.backgroundContainerEl.width(t).height(e),this.backgroundImageEl.width(this.bgImageWidth).height(this.bgImageHeight).css({left:"-"+(this.bgImageWidth>t?this.bgImageWidth/2-t/2:0)+"px"})},getWindowWidth:function(){var t=o.default(window);return m.default.getExperienceContainerWidth(t)},getWindowHeight:function(){var t=o.default(window),e=m.default.getExperienceContainerHeight(t);return e+=h.default.getSlackHeight(e)},getPageViewOffsetTop:function(t,e){return this.documentVersion.getScaleExperience()&&e.constrainedByHeight?0:Math.max(0,(e.height/e.ratio-t.model.getPageHeight(this.documentVersion))/2)},getPageViewOffsetLeft:function(t,e,i){var n,r=this.documentVersion.getScaleExperience();i?n=i:n=this._doesPageFitInViewport(t)?0:d.default.getScrollbarWidth();return r&&e.constrainedByWidth?0:Math.max(0,(e.windowWidth/e.ratio-this.getExperienceWidth()-n)/2)},calculateBackgroundImageDimensions:function(){var t=this.backgroundImageInfo.original.width,e=this.backgroundImageInfo.original.height,i=this.getWindowWidth()/t,n=this.getWindowHeight()/e,r=i>n?i:n;return{width:Math.round(r*t),height:Math.round(r*e)}},initZoomControls:function(){var t=this;this.zoomControls=new S.ZoomControlsView({docVersion:this.documentVersion}).render(),this.$el.append(this.zoomControls.$el),w.default.getInstance().on("zoom",(function(){t.scale()}))},destroyZoomControls:function(){this.zoomControls.remove(),this.zoomControls=null,w.default.getInstance().adjustZoom(1),w.default.getInstance().off("zoom")},shouldDisplayZoomControls:function(){return this.documentVersion.get("zoomControlsEnabled")&&this.documentVersion.getScaleExperienceType()!==A.default.SCALE_EXPERIENCE_TYPE.NO_SCALING&&"desktop"===E.default.getVariant()&&!h.default.mobile()},handleVariantChange:function(t){this.zoomControls&&"desktop"!==t?this.destroyZoomControls():!this.zoomControls&&this.shouldDisplayZoomControls()&&this.initZoomControls()}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(2)),a=n(i(3)),s=n(i(90)),u={startX:null,startY:null,lastDirection:null,xDistance:0,yDistance:0,gesturesEnabled:!0,swipeDirection:null,originalDirection:null};e.default={offsetTimeout:null,disableGestures:function(){u.gesturesEnabled=!1},enableGestures:function(){u.gesturesEnabled=!0},configureGestures:function(){var t={};a.default.touch()&&(t.inputClass=s.default.TouchInput),a.default.isMobileSafari()&&(t.touchAction="pan-x pan-y");var e=new s.default.Manager(this.$el[0],t);e.add(new s.default.Press({time:500})),a.default.isMobileSafari()&&(e.add(new s.default.Pinch),e.add(new s.default.Tap),e.get("pinch").set({enable:!0}),e.on("pinch pinchend pinchstart tap",(function(t){"tap"===t.type&&2!==t.tapCount||t.preventDefault()}))),e.on("press",r.default.bind((function(t){u.gesturesEnabled&&(t.preventDefault(),this.options.module.trigger(this.options.module.publishedEvents.LONGPRESS))}),this)),e.on("hammer.input",r.default.bind((function(t){var e=t.eventType,i=t.deltaTime;if(u.gesturesEnabled){var n=this.getCurrentPage();if(this.isPageTransitioning())t.preventDefault();else switch(e){case s.default.INPUT_START:this.pauseAnimationsOnMove=r.default.once(r.default.bind((function(){n.pauseAnimations()}),this)),this.clearAutoTransitionDelay();break;case s.default.INPUT_MOVE:var a=t.deltaX,l=t.deltaY;if(u.xDistance=Math.abs(a),u.yDistance=Math.abs(l),!u.swipeDirection&&(u.xDistance>10||u.yDistance>10))u.xDistance>u.yDistance?u.swipeDirection=s.default.DIRECTION_HORIZONTAL:u.swipeDirection=s.default.DIRECTION_VERTICAL;else if(!u.swipeDirection)return;if(u.swipeDirection==s.default.DIRECTION_HORIZONTAL?u.lastDirection=a>0?s.default.DIRECTION_RIGHT:s.default.DIRECTION_LEFT:u.swipeDirection==s.default.DIRECTION_VERTICAL&&(u.lastDirection=l>0?s.default.DIRECTION_DOWN:s.default.DIRECTION_UP),r.default.isNull(u.originalDirection)||(u.originalDirection=u.lastDirection),u.originalDirection!=u.lastDirection&&(u.changedDirection=!0),u.swipeDirection==s.default.DIRECTION_HORIZONTAL){if(!o.default.themeObj.swipeEnabled)return;if(this.getPageCount()<=1&&this.documentVersion.getScaleExperience())return void t.preventDefault();var c=this.getNextPage(),d=this.getPreviousPage();if(!this.isValidHorizontalSwipe())return;if(r.default.isFunction(this.pauseAnimationsOnMove)&&this.pauseAnimationsOnMove(),o.default.isEmbedded&&(this._isSwipeRight()&&!d||this._isSwipeLeft()&&!c))return;c&&this._isSwipeLeft()&&(c.makeInTransition(),c.setBackgroundPositionAndScaleTransform(a+this.getPageViewportWidth(),!0)),d&&this._isSwipeRight()&&(d.makeInTransition(),d.setBackgroundPositionAndScaleTransform(a-this.getPageViewportWidth(),!0));var h=a;this._isSwipeOutOfPageBounds()&&(h=this._getRubberbandHorizontalDistance(),this._isSwipeLeft()&&(h*=-1)),this.getCurrentPage().setBackgroundPositionAndScaleTransform(h,!0),t.preventDefault()}break;case s.default.INPUT_END:case s.default.INPUT_CANCEL:if(u.swipeDirection==s.default.DIRECTION_HORIZONTAL){if(!this.isValidHorizontalSwipe())return;if(this.pauseAnimationsOnMove=null,!o.default.themeObj.swipeEnabled)return void this.setAutoTransitionDelay();var f=u.xDistance/i;if(!this._isSwipeOutOfPageBounds()&&e==s.default.INPUT_END&&(this._isDistancePageChangeSwipe(u.xDistance)||this._isVelocityPageChangeSwipe(f))){var p=this.calculateRemainingTransitionTime(u.xDistance,i);this._isSwipeLeft()?this._slideLeft(p):this._isSwipeRight()&&this._slideRight(p)}else this._abortSlide(i)}u.xDistance=0,u.yDistance=0,u.lastDirection=null,u.swipeDirection=null,u.originalDirection=null,u.changedDirection=!1;break;default:t.preventDefault()}}}),this))},isValidHorizontalSwipe:function(){if(!this.documentVersion.getScaleExperience()){if(!this._isAtLeft()&&!this._isAtRight())return!1;if(this._isAtLeft()&&!this._isSwipeRight())return!1;if(this._isAtRight()&&!this._isSwipeLeft())return!1}return!0},_getPageTopWithOffset:function(){var t=this.getCurrentPage();return this._isAtTop()?this._getPageTop(t):this._isAtBottom()?this._getPageTop(t)+this.MOBILE_PAGE_SCROLL_HEIGHT_OFFSET:this._getPageTop(t)+this.MOBILE_PAGE_SCROLL_HEIGHT_OFFSET/2},_isAtTop:function(){return this.getCurrentPage().$el.scrollTop()<=0},_isAtBottom:function(){var t=this.getCurrentPage(),e=t.$el.height(),i=t.$pageScroll.height()-e;return t.$el.scrollTop()>=i},_isAtLeft:function(){return-1*this.getCurrentPage().$pageScroll.offset().left<=0},_isAtRight:function(){var t=this.getCurrentPage(),e=t.$el.width(),i=t.$pageScroll.width()-e;return-1*t.$pageScroll.offset().left>=i},_isSwipeOutOfPageBounds:function(){return this.isFirstPage()&&this._isSwipeRight()||this.isLastPage()&&this._isSwipeLeft()},_getRubberbandHorizontalDistance:function(){var t=this.getPageViewportWidth();return u.xDistance>=.5*t?.25*t:(t-u.xDistance)/t*u.xDistance},_isSwipeLeft:function(){return u.lastDirection==s.default.DIRECTION_LEFT},_isSwipeRight:function(){return u.lastDirection==s.default.DIRECTION_RIGHT},_isSwipeUp:function(){return u.lastDirection==s.default.DIRECTION_UP},_isSwipeDown:function(){return u.lastDirection==s.default.DIRECTION_DOWN},_abortSlide:function(t){var e=this.getCurrentPage();if(0!==e.getLeft()){this.isPageTransitionInProgress=!0;var i=this.calculateTransitionTime(u.xDistance,t);e.el().animate({"background-position-x":0},{duration:i,easing:"easeOutCubic",step:r.default.bind((function(t,i){e.setBackgroundPositionAndScaleTransform(t,!0),this.getNextPage()&&this.getNextPage().setBackgroundPositionAndScaleTransform(t+this.getPageViewportWidth(),!0),this.getPreviousPage()&&this.getPreviousPage().setBackgroundPositionAndScaleTransform(t-this.getPageViewportWidth(),!0)}),this),complete:r.default.bind((function(){this.isPageTransitionInProgress=!1;var t=this.getNextPage();t&&t.makePending();var i=this.getPreviousPage();i&&i.makeViewed(),e.resumeAnimations(),this.setAutoTransitionDelay()}),this)})}},_isDistancePageChangeSwipe:function(t){return t>=.2*this.getPageViewportWidth()},_isVelocityPageChangeSwipe:function(t){return t>.6},_slideRight:function(t){return this._slide("right",this.getPreviousPage(),t)},_slideLeft:function(t){return this._slide("left",this.getNextPage(),t)},_slide:function(t,e,i){"left"===t?this.nextPage(i):this.previousPage(i)},calculateTransitionTime:function(t,e){return this._calculateTransitionTimeInternal(t,e,!1)},calculateRemainingTransitionTime:function(t,e){return this._calculateTransitionTimeInternal(t,e,!0)},_calculateTransitionTimeInternal:function(t,e,i){var n=1e3,r=t/e,o=t/this.getPageViewportWidth();i&&(o=1-o);var a=(n*=o)/r;return a>n&&(a=n),a}}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MainContentLinkView=void 0;var s=a(i(1)),u=a(i(0)),l=i(94),c=i(31),d=i(62),h=i(23),f=function(t){function e(i){return t.call(this,o(o({},e.DEFAULT_ATTRIBUTES),i))||this}return r(e,t),e.prototype.setPageView=function(t){return this.currentPageView=t,this},e.prototype.initialize=function(t){var i=u.default.get(t,"docVersion.attributes.mainContentLinkText"),n=u.default.get(t,"docVersion.attributes.theming.menuBgColor"),r=u.default.get(t,"docVersion.attributes.theming.menuFgColor");this.$el.html(i||c.MAIN_CONTENT_LINK_DEFAULT_TEXT),this.$el.css("background-color",n||e.DEFAULT_BACKGROUND_COLOR),this.$el.css("color",r||e.DEFAULT_FOREGROUND_COLOR),this.$el.on({click:this.onClick.bind(this)})},e.prototype.render=function(){return this.targetId=s.default(".page-viewport.top main:first").attr("id"),this.targetId?(this.$el.attr("href","#"+this.targetId),this.$el.removeAttr("aria-hidden"),this.$el.css("visibility","")):(this.$el.removeAttr("href"),this.$el.removeAttr("tabindex"),this.$el.attr("aria-hidden","true"),this.$el.css("visibility","hidden")),t.prototype.render.call(this)},e.prototype.onClick=function(t){(t.preventDefault(),this.targetId)&&new l.ScrollToObjectInteraction({layerTargets:[this.targetId],trigger:"click",action:h.ActionTypes.scrollToObject},this.currentPageView).triggerAction(o(o({},t),{clickX:t.clientX,clickY:t.clientY,componentSlug:this.options.id,componentName:"Main Content Link",componentType:"main-content-link",pageSlug:this.currentPageView.model.get("slug"),pageName:this.currentPageView.model.get("name")}))},e.DEFAULT_BACKGROUND_COLOR="#000000",e.DEFAULT_FOREGROUND_COLOR="#FFFFFF",e.DEFAULT_ATTRIBUTES={className:"main-content-link",tagName:"a"},e}(d.JsTsViewGlue);e.MainContentLinkView=f},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionInvocation=void 0;var r=n(i(0)),o=function(t,e){var i=r.default.assign({},t,e);delete i.pageView,r.default.assign(this,i)};e.InteractionInvocation=o},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportTopAnchor=void 0;var r=n(i(1)),o=i(31),a=function(){function t(){}return t.prototype.initializeViewportTopAnchor=function(){var t=this;this.$viewportTop=r.default('<a tabindex="-1" id="'+o.VIEWPORT_TOP_ID+'"></a>'),this.$viewportTop.on("focus",(function(){t.$viewportTop.attr("tabindex",0)})).on("blur",(function(){t.$viewportTop.attr("tabindex",-1)}))},t}();e.ViewportTopAnchor=a},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(5)),a=function(){function t(){r.default.extend(this,o.default.Events)}return t.prototype.on=function(t,e,i){},t.prototype.off=function(t,e,i){},t.prototype.trigger=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i]},t.prototype.bind=function(t,e,i){},t.prototype.unbind=function(t,e,i){},t.prototype.once=function(t,e,i){},t.prototype.listenTo=function(t,e,i){},t.prototype.listenToOnce=function(t,e,i){},t.prototype.stopListening=function(t,e,i){},t}();e.default=a},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__decorate||function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ZoomControlsView=void 0;var s=a(i(7)),u=i(62),l=a(i(188)),c=a(i(0)),d=i(26),h=i(96),f=a(i(63)),p=a(i(3)),g=function(t){function e(e){return t.call(this,e)||this}var i;return r(e,t),i=e,e.prototype.initialize=function(e){t.prototype.initialize.call(this,e),f.default.getInstance().on("zoom",this.updateZoomControls.bind(this))},e.prototype.render=function(){var e=c.default.get(this.options,"docVersion.attributes.theming.menuBgColor",i.DEFAULT_BACKGROUND_COLOR),n=c.default.get(this.options,"docVersion.attributes.theming.menuFgColor",i.DEFAULT_FOREGROUND_COLOR);return this.$el.html(s.default.render(l.default,{backgroundColor:e,zoomValue:Math.trunc(100*f.default.getInstance().getCurrentZoom()),textColor:n,disabledColor:this.getDisabledColor(n)})),this.disableOrEnableZoomButtons(),t.prototype.render.call(this)},e.prototype.getDisabledColor=function(t){var e=h.ColorUtils.colorToRGB(t);return"rgba("+e.r+", "+e.g+", "+e.b+", 0.5)"},e.prototype.updateZoomControls=function(){var t=f.default.getInstance().getCurrentZoom();this.$("#zoom-value-display").text(Math.trunc(100*t)+"%"),this.disableOrEnableZoomButtons(),p.default.isDesktopSafari()?this.$el.css("zoom",t):this.$el.css("transform","scale("+t+")")},e.prototype.handleZoomIn=function(){f.default.getInstance().incrementZoom()},e.prototype.handleZoomOut=function(){f.default.getInstance().decrementZoom()},e.prototype.disableOrEnableZoomButtons=function(){f.default.getInstance().canDecrementZoom()?this.$("#zoom-out-button").removeAttr("disabled"):this.$("#zoom-out-button").attr("disabled",""),f.default.getInstance().canIncrementZoom()?this.$("#zoom-in-button").removeAttr("disabled"):this.$("#zoom-in-button").attr("disabled","")},e.prototype.removeFocusOutline=function(t){"BUTTON"===t.target.tagName?$(t.target).blur():$(t.target).closest("button").blur()},e.DEFAULT_BACKGROUND_COLOR="#000000",e.DEFAULT_FOREGROUND_COLOR="#FFFFFF",e=i=o([d.BackboneShim({tagName:"div",className:"zoom-controls",events:{"click #zoom-in-button":"handleZoomIn","click #zoom-out-button":"handleZoomOut","mouseout button":"removeFocusOutline"}})],e)}(u.JsTsViewGlue);e.ZoomControlsView=g},function(t,e){t.exports='<button id="zoom-out-button" title="Zoom Out" aria-label="Zoom Out">\n  <span class="ceros-icon ceros-minus-thin-icon"></span>\n</button>\n<div id="zoom-value-display">{{zoomValue}}%</div>\n<button id="zoom-in-button" title="Zoom In" aria-label="Zoom In">\n  <span class="ceros-icon ceros-add-icon"></span>\n</button>\n<style>\n  .zoom-controls {\n      background-color: {{backgroundColor}};\n      display: flex;\n  }\n\n  .zoom-controls > * {\n      color: {{textColor}}\n  }\n\n  .zoom-controls button:disabled {\n      color: {{disabledColor}}\n  }\n</style>\n'},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PageView=void 0;var a=o(i(190)),s=i(290),u=o(i(3)),l=function(t){function e(e){var i=t.call(this,e)||this;return i.options=e,i.activeClicksForInteractions=[],i}return r(e,t),e.prototype.addStateUnderActiveState=function(t,e,i){var n=this.findChildView(t);n&&n.addStateUnderActiveState(e,i)},e.prototype.invokeObjectState=function(t,e){var i=this.findChildView(t);i&&i.invokeObjectState(e)},e.prototype.revokeObjectState=function(t,e){var i=this.findChildView(t);i&&i.revokeObjectState(e)},e.prototype.hasActiveHover=function(t){var e=t.getParentsWithLinkInteraction();return!!this.activeHoversGroupedByInteraction.find((function(i){return!!i.find((function(i){return i.target.id===t.id||!!e.find((function(t){return i.target.id===t}))}))}))},e.prototype.removeAllActiveStates=function(t){var e=this.findChildView(t);e&&e.removeAllActiveStates()},e.prototype.removeActiveState=function(t,e){var i=this.findChildView(t);i&&i.removeActiveState(e)},e.prototype.addActiveState=function(t,e){var i=this.findChildView(t);i&&i.addActiveState(e)},e.prototype.addActiveClickAndBindMouseEvents=function(t,e){var i;if(0===this.activeClicksForInteractions.length){var n=u.default.touch()?"touchend":"mouseup";this.$pageScroll.on(n,this.handleMouseUp.bind(this)),null===(i=this.$pinnedContainer)||void 0===i||i.on(n,this.handleMouseUp.bind(this))}this.activeClicksForInteractions.push({object:t,interaction:e})},e.prototype.deactivateClicks=function(){var t;this.activeClicksForInteractions=[];var e=u.default.touch()?"touchend":"mouseup";this.$pageScroll.off(e),null===(t=this.$pinnedContainer)||void 0===t||t.off(e)},e.prototype.handleMouseUp=function(){this.activeClicksForInteractions.forEach((function(t){t.object.triggerMouseUpAction(t.interaction)})),this.deactivateClicks()},e.prototype.deactivateInteraction=function(t){if("hover"===t.trigger){var e=this.activeHoversGroupedByInteraction.map((function(e){var i=e.findIndex((function(e){return e.interaction===t}));return-1!==i&&e.splice(i,1),e})).filter((function(t){return!!t.length}));this.activeHoversGroupedByInteraction=e,this.activeHoversGroupedByInteraction.length||this.deactivateHovers()}else if("click"===t.trigger||"mouseDown"===t.trigger){var i=this.activeClicksForInteractions.filter((function(e){return e.interaction!==t}));this.activeClicksForInteractions=i,this.activeClicksForInteractions.length||this.deactivateClicks()}},e.prototype.hasActiveClickStateWithLock=function(t){var e=this.findChildView(t);return!!e&&e.hasActiveClickStateWithLock()},e.prototype.hasActiveCustomStateWithLock=function(t){var e=this.findChildView(t);return!!e&&e.hasActiveCustomStateWithLock()},e.prototype.createHoverArea=function(t){return s.HoverAreaComponentFactory.createHoverAreaComponent(t)},e}(a.default);e.PageView=l},function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return r(e,t),e},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(i(4)),l=s(i(1)),c=s(i(0)),d=s(i(3)),h=s(i(2)),f=s(i(15)),p=s(i(11)),g=i(6),m=s(i(197)),v=s(i(287)),y=s(i(116)),_=i(99),b=s(i(44)),T=s(i(8)),w=s(i(18)),S=s(i(32)),E=i(114),A=o(i(49)),C=i(100),P=s(i(10)),I=i(288),O=i(23),x=i(289);e.default=p.default.extend({className:"page-viewport",tagName:"div",activated:!1,documentVersion:null,$pageContainer:null,$pinnedContainer:null,$pageScroll:null,scaleContext:null,scaleTransformKey:null,scaleTransformValue:null,scaleExperience:null,prerenderer:null,focusArbiter:null,activeHoversGroupedByInteraction:null,defaults:{physicalPageNumber:"unknown"},automaticHoverInteractionCollection:null,initialize:function(){if(this.options=c.default.defaults(this.options,this.defaults),this.animationRunner=new v.default,this.automaticHoverInteractionCollection=new x.AutomaticHoverInteractionCollection,this.documentVersion=this.options.documentVersion,this.scaleContext=this.options.scaleContext,this.scaleExperience=this.documentVersion.getScaleExperience(),this.scrollTriggeredObjects=[],this.resetWhenOffscreenHoverTriggers=[],this.prerenderer=new m.default(this),this.$pageContainer=l.default("<div>",{class:"page-container"}),this.throttleReload=c.default.debounce(c.default.bind(this.reload,this),1e3),this.documentVersion.on("reload",this.throttleReload),this.$pageScroll=l.default("<div>",{class:"page-scroll"}),this.$pageContainer.append(this.$pageScroll),this.documentVersion.shouldLazyLoad()&&P.default.getUrlParams(window.location.href).showLazyLoadBreakpoint){var t=l.default("<hr/>",{class:"lazyLoadingBreakpointLine"});t.css("top",this.model.getlazyLoadingVerticalBreakpoint()+"px"),this.$pageScroll.append(t)}this.focusArbiter=new C.FocusArbiter(this);var e=this;d.default.desktop()&&(this.$pinnedContainer=l.default("<div>",{class:"pinned-container"}),this.$el.append(this.$pinnedContainer),this.$pinnedContainer.on("wheel mousewheel",(function(t){if(t.originalEvent.deltaY){t.preventDefault(),t.stopPropagation();var i=e.$pageContainer.scrollTop(),n=t.originalEvent.deltaY;1===t.originalEvent.deltaMode&&(n*=e.getUnstyledLineHeight()),e.$pageContainer.scrollTop(i+n)}}))),this.$pageContainer.on("wheel mousewheel",(function(t){if(t.originalEvent.deltaY){var i=e.$pageContainer.scrollTop(),n=i+t.originalEvent.deltaY;1===t.originalEvent.deltaMode&&(n=i+t.originalEvent.deltaY*e.getUnstyledLineHeight());var r=e.$pageContainer[0].scrollHeight>e.$pageContainer[0].offsetHeight,o=e.$pageContainer[0].scrollHeight-e.$pageContainer[0].scrollTop>0,a=e.$pageContainer[0].scrollHeight-e.$pageContainer[0].scrollTop<e.$pageContainer[0].clientHeight;if(h.default.isEmbedded){if(!(-1===window.location.href.indexOf("?heightOverride=")&&r&&o&&a))return;t.preventDefault(),t.stopPropagation(),e.$pageContainer.scrollTop(n)}else t.preventDefault(),t.stopPropagation(),e.$pageContainer.scrollTop(n)}}));var i=d.default.isDesktopSafari()||d.default.isMobileSafari();d.default.isIpadPretendingToBeDesktop()&&d.default.isIosGreaterThanOrEqualTo(13)&&i&&(this.$pageContainer.addClass("page-container-for-ipad-pretending-to-be-desktop"),this.$pinnedContainer.addClass("pinned-container-for-ipad-pretending-to-be-desktop")),this.$el.append(this.$pageContainer),p.default.prototype.initialize.call(this),this.el=function(){return this.$el},this.$el.attr("data-slug",this.model.get("slug")),this.prepare=c.default.once(c.default.bind(this.prepare,this)),this.attach=c.default.once(c.default.bind(this.attach,this)),this.spinner=null,this.pageReady=new l.default.Deferred,this.renderPlaceholder(),this.activeHoversGroupedByInteraction=[],this.lastViewportUpdate=performance.now(),this.isProcessingScroll=!1;var n=this,r=function(t){t-n.lastViewportUpdate>100?(n.onScrollAndWindowResize(),n.lastViewportUpdate=t,n.isProcessingScroll=!1):requestAnimationFrame(r)};this.$pageContainer.on("scroll",(function(t){n.isProcessingScroll||(n.isProcessingScroll=!0,requestAnimationFrame(r))})),f.default.getInstance().on("change",c.default.bind(this.onScrollAndWindowResize,this)),h.default.previewMode&&this.registerVariantListeners(),this.childViews=[]},registerVariantListeners:function(){T.default.on("change",c.default.debounce(c.default.bind(this.reload,this),50,{leading:!0,trailing:!0})),f.default.getInstance().on("change:windowWidth change:windowHeight",(function(){T.default.detect()})),l.default(window).on("resize",(function(){T.default.detect()}))},startLazyPrerender:function(){return this.prerenderer.lazyPrerender()},prerender:function(){this.prerenderer.prerender()},getPrerenderDeferred:function(){return this.prerenderer.prerenderDeferred},isPrerendered:function(){return this.prerenderer.isPrerendered()},resetPageForPrerender:function(){this.closeAllComponents(),this.childViews=[],this.scrollTriggeredObjects=[],this.resetWhenOffscreenHoverTriggers=[]},getUnstyledLineHeight:function(){if(!this.unstyledLineHeight){var t=document.createElement("iframe");t.src="#",document.body.appendChild(t);var e=t.contentWindow.document;e.open(),e.write("<!DOCTYPE html><html><head></head><body><span>a</span></body></html>"),e.close();var i=e.body.firstElementChild;this.unstyledLineHeight=i.offsetHeight,document.body.removeChild(t)}return this.unstyledLineHeight},getPageHeight:function(){return this.model.getPageHeight(this.documentVersion)},getPageWidth:function(){return this.model.getPageWidth(this.documentVersion)},getScrollPosition:function(){return this.$pageContainer.scrollTop()},setScrollPosition:function(t){this.$pageContainer.scrollTop(t)},focusScrollContainer:function(){this.$pageContainer.trigger("focus")},triggerModuleScrollEvent:function(t){this.getModule().trigger(this.getModule().publishedEvents.PAGE_SCROLL,{slug:this.model.get("slug"),topY:t.topY,bottomY:t.bottomY,pageHeight:this.getPageHeight()})},onScrollAndWindowResize:function(){if(this.activated){var t=this.getVisibleBoundaries();this.animationRunner.whenVisibleBoundariesChange(this.scrollTriggeredObjects,t),this.animationRunner.resetHoverInteractionViewsToInitialVisibility(this.resetWhenOffscreenHoverTriggers,this.childViews,t),this.triggerModuleScrollEvent(t)}},resetTimedTriggers:function(){c.default.each(this.childViews,(function(t){t.resetTimers&&t.resetTimers(),t.timedTriggersCreatedAtLeastOnce=!1}))},getVisibleBoundaries:function(){var t=this.getVisibleYBoundaries(),e=this.getVisibleXBoundaries();return e?new _.VisibleBoundaries(t.topY,t.bottomY,e.leftX,e.rightX):new _.VisibleBoundaries(t.topY,t.bottomY)},getVisibleYBoundaries:function(){var t,e,i=this.getScaleContext(),n=i.height/i.ratio,r=f.default.getInstance(),o=this.$pageContainer.scrollTop();if(r.isActive()){var a=this.getPageHeight(),s=Math.max((n-a)/2,0),u=r.getTop()/i.ratio,l=r.getBottom()/i.ratio;t=Math.max(u,0)+o-s,e=Math.min(l,n)+o-s}else e=(t=o)+n;return{topY:Math.round(t),bottomY:Math.round(e)}},getVisibleXBoundaries:function(){if(this.scaleExperience)return null;var t=this.getScaleContext();return{leftX:this.$pageContainer.scrollLeft(),rightX:this.$pageContainer.scrollLeft()+t.width}},getScaleContext:function(){return this.scaleContext.getPageScaleContext(this.model)},getSlug:function(){return this.model.get("slug")},onClose:function(){this.closeAllComponents()},closeAllComponents:function(){if(this.childViews){var t=function(e){c.default.each(e,(function(e){e.close(),e.childViews&&t(e.childViews)}))};t(this.childViews)}},_bindModel:function(){this.model.on("remote",this.applyRemoteChange,this),this.model.on("reload",this.throttleReload,this)},renderPlaceholder:function(){this.closeAllComponents();var t=l.default(window);this.$el.css({width:t.width(),height:t.height()}),this._createSpinner(!1)},setFixedPosition:function(t){var e=this;d.default.desktop()||(t.$el.css("position","fixed"),t.$el.on("mousewheel",(function(t){t.preventDefault(),t.stopPropagation();var i=e.$pageContainer.scrollTop();t.originalEvent.deltaY&&e.$pageContainer.scrollTop(i+t.originalEvent.deltaY)})))},findChildView:function(t){return y.default.find(this.childViews,t)},findVideo:function(t){var e=null,i=function(n){return c.default.some(n,(function(n){return n.el&&n.el.id===t?(e=n,!0):!!n.childViews&&i(n.childViews)}))};return this.childViews&&i(this.childViews),e},_addScrollTriggeredObject:function(t){c.default.some(this.scrollTriggeredObjects,(function(e){return e.id==t.id}))||this.scrollTriggeredObjects.push(t)},_removeScrollTriggeredObject:function(t){var e;c.default.find(this.scrollTriggeredObjects,(function(i,n){return i.id==t.id&&(e=n,!0)}))&&this.scrollTriggeredObjects.splice(e,1)},addResetWhenOffscreenHoverTrigger:function(t){c.default.some(this.resetWhenOffscreenHoverTriggers,(function(e){return e.id==t.id}))||this.resetWhenOffscreenHoverTriggers.push(t)},removeResetWhenOffscreenHoverTrigger:function(t){var e;c.default.find(this.resetWhenOffscreenHoverTriggers,(function(i,n){return i.id==t.id&&(e=n,!0)}))&&this.resetWhenOffscreenHoverTriggers.splice(e,1)},prepare:function(){return this.prerenderer.isPrerendered()||this.prerenderer.prerender(),this.prerenderer.getPrerenderPromise().done(c.default.bind((function(){l.default.when.apply(l.default,this.attachInitialMedia()).done(c.default.bind((function(){u.default.debug("All page media attached"),this.pageReady.resolve()}),this)).fail(c.default.bind((function(){u.default.debug("Page media failed"),this.pageReady.reject()}),this))}),this)),this.pageReady.promise()},attachInitialMedia:function(){return this.documentVersion.shouldLazyLoad()?(this.attachChildMedia(this,!0),this.attachInitialViewportMedia(this)):this.attachChildMedia(this,!0)},attachViewMedia:function(t){var e=[];e.push(t.attachMedia());return e=e.concat(this.attachChildMedia(t,!1))},attachChildMedia:function(t,e){var i=[],n=this,r=function(t){c.default.each(t,(function(t){(!e||t.initiallyVisible||t.keepVisibleForScreenReaders)&&(t.mediaHasBeenLoaded||(t.mediaHasBeenLoaded=!0),(!n.documentVersion.shouldLazyLoad()||n.documentVersion.shouldLazyLoad()&&!t.options.isInInitialViewport)&&i.push(t.attachMedia()),t.childViews&&r(t.childViews))}))};return t&&t.childViews&&r(t.childViews),i},attachInitialViewportMedia:function(t){var e=[],i=function(t){c.default.each(t,(function(t){t.options.isInInitialViewport&&e.push(t.attachMedia()),t.childViews&&i(t.childViews)}))};return t&&t.childViews&&i(t.childViews),e},scale:function(){var t=this.getScaleContext();this.model.preloadImages(t);var e=function(t){c.default.each(t,(function(t){(t.mediaHasBeenLoaded||t.initiallyVisible)&&(t.scaleComponent(),t.childViews&&e(t.childViews))}))};e(this.childViews)},doCustomScaling:function(){var t=function(e){c.default.each(e,(function(e){(e.mediaHasBeenLoaded||e.initiallyVisible)&&(e.doCustomScaling(!0),e.childViews&&t(e.childViews))}))};t(this.childViews)},attach:function(){this._destroySpinner(),this.pageReady.resolve(),this.render(),u.default.debug("Page idx: "+this.getPageIndex()+" attached!")},render:function(){this.$pageScroll[0].appendChild(this.prerenderer.getDocumentFragment()),d.default.desktop()&&this.$pinnedContainer[0].appendChild(this.prerenderer.getPinnedDocumentFragment());var t=function(e){c.default.each(e,(function(e){e.onAttach(),e.childViews&&(d.default.isDesktopSafari()&&e.childrenUseBlendingModes()&&c.default.isFunction(e.prepareGroupForBlendingModes)&&e.prepareGroupForBlendingModes(),t(e.childViews))}))};t(this.childViews),this.automaticHoverInteractionCollection.initInteractions(),this.$pageScroll.trigger("focus")},applyRemoteChange:function(t){y.default.reset();var e=this.findChildView(t.id);if(this.model.updateLayerDictionaryFromRemoteChange(t),e&&e instanceof g.AbstractComponentView){var i;i=!e.areAllParentsVisible(),e.applyChanges(this.applyPageContext(t.options)),i&&e.hide(),e.doTriggerOnScroll()?this._addScrollTriggeredObject(e):this._removeScrollTriggeredObject(e),e.getResettableHoverInteractions()?this.addResetWhenOffscreenHoverTrigger(e):this.removeResetWhenOffscreenHoverTrigger(e)}this.automaticHoverInteractionCollection.refreshInteractions()},reload:function(){var t=T.default.getVariant();if(t!==this.model.getReconciledVariant()){var e=this.model.reconcileLayers(this.model.get("layerHierarchies")[t],this.model.get("layerDictionary"));this.model.set("layers",e),this.model.resolveSmartgroupsAndMedia()}this.scaleExperience=this.documentVersion.getScaleExperience();var i=this.getScaleContext();this.documentVersion.shouldLazyLoad()?this.model.lazyPreloadAllMedia(i,this.options.isRequestedPage):(this.model.preloadVisibleMedia(i,!0),this.model.preloadHiddenMedia(i)),this.prerender(),this.$pageScroll.empty(),d.default.desktop()&&this.$pinnedContainer.empty(),this.resetTimedTriggers(),this.render(),this.getModule().trigger(this.getModule().publishedEvents.PAGE_RELOAD),this.attachInitialMedia(),this.activateAndRunEntryAnimationsForAllVisible()},storeScaleTransform:function(t,e){this.scaleTransformKey=t,this.scaleTransformValue=e},setBackgroundPositionAndScaleTransform:function(t,e){var i={"background-position-x":t+"px",zoom:"",transform:""};(this.scaleExperience||e)&&(e?"transform"===this.scaleTransformKey?i.transform="translateX("+t+"px) "+this.scaleTransformValue:(i.transform="translateX("+t+"px)",i[this.scaleTransformKey]=this.scaleTransformValue):i[this.scaleTransformKey]=this.scaleTransformValue),this.$el.css(i)},getLeft:function(){return parseInt(this.$el.css("background-position-x"),10)},setOpacity:function(t){this.$pageScroll.css("opacity",t)},isInTransition:function(){return this.$el.hasClass("in-transition")},isPending:function(){return this.$el.hasClass("pending")},isTop:function(){return this.$el.hasClass("top")},isViewed:function(){return this.$el.hasClass("viewed")},isReady:function(){return"resolved"===this.pageReady.state()},isDisabled:function(){return!0===this.model.get("disabled")},disable:function(){this.model.set("disabled",!0)},enable:function(){this.model.set("disabled",!1)},makeInTransition:function(){this.$el.addClass("in-transition"),this._startSpinner()},makePending:function(){this.$el.removeClass("top viewed in-transition").addClass("pending").attr("aria-hidden",!0);var t=this.getScaleContext();this.setBackgroundPositionAndScaleTransform(t.originalWindowWidth,!1),this._stopSpinner()},makeTop:function(){this._startSpinner(),this.$el.removeClass("pending viewed in-transition").addClass("top").attr("aria-hidden",!1),this.setBackgroundPositionAndScaleTransform(0,!1)},activate:function(){this.activateAndRunEntryAnimationsForAllVisible();var t=this.getVisibleBoundaries();this.animationRunner.createTimedTriggers(this.scrollTriggeredObjects,t),this.getModule().trigger(this.getModule().publishedEvents.PAGE_ACTIVATED,{slug:this.model.get("slug"),pageName:this.model.get("name"),topY:t.topY,bottomY:t.bottomY,pageHeight:this.getPageHeight()}),this.activated=!0},triggerScrollTo:function(t){t=t.replace(/^#?/,""),t=window.decodeURIComponent(t);var e="#"+A.escapeComponentId(t),i="component",n=t.match(/page-[0-9]+-(top|bottom)/);n?i=n[1]:this.$pageContainer.find(e).hasClass("scranchor")&&(i="scranchor"),w.default.trigger(this.module.publishedEvents.PAGE_ACTION_SCROLL_TO,{scrollTargetType:i,scrollTargetScranchor:t})},makeViewed:function(){this.$el.removeClass("top pending in-transition").addClass("viewed").attr("aria-hidden",!0);var t=this.getScaleContext();this.setBackgroundPositionAndScaleTransform(-t.originalWindowWidth,!1),this._stopSpinner()},getThumbnail:function(){return this.options&&this.options.thumbnail?P.default.makeUrlAbsolute(this.options.thumbnail):null},getChildViews:function(){return this.childViews},isChildVisible:function(t){return null!==t&&!0===t.visible},reset:function(){this.childViews&&(this.deactivateHovers(),this.animationRunner.resetAnimationsAndInitialVisibility(this.childViews))},activateAndRunEntryAnimationsForAllVisible:function(){this.childViews&&this.animationRunner.activateAndRunEntryAnimationsForAllVisible(this.childViews,this.getVisibleBoundaries())},restartRepeatEntryAnimationsForAllVisibleOrViewed:function(){this.childViews&&this.animationRunner.restartRepeatEntryAnimationsForAllVisibleOrViewed(this.childViews,this.getVisibleBoundaries())},pauseAnimations:function(){if(this.childViews){var t=function(e){c.default.each(e,(function(e){e.pauseAnimations(),e.childViews&&t(e.childViews)}))};t(this.childViews)}},resumeAnimations:function(){if(this.childViews){var t=function(e){c.default.each(e,(function(e){e.resumeAnimations(),e.childViews&&t(e.childViews)}))};t(this.childViews)}},isValidChildView:function(t){return null!==this.findChildView(t)},applyPageContext:function(t){return t.interactions=E.InteractionFactory.initializeInteractions(t.interactions,this),t.states&&(t.states=I.ObjectStateFactory.initializeStates(t.states)),c.default.defaults(t,{pageWidth:this.getPageWidth(),pageHeight:this.getPageHeight(),module:this.getModule(),pageView:this,theme:this.options.theme,allowCommerceIntegration:this.options.allowCommerceIntegration})},invokeShowAction:function(t,e){if(t&&0!==t.length){var i=this,n=[];c.default.each(t,(function(t){var e=i.findChildView(t);e&&n.push(e)})),this.loadAllMediaThenShowChildViews(c.default.uniq(n),e)}},invokeHideAction:function(t){if(t&&0!==t.length){var e=[],i=this;c.default.each(t,(function(t){var n=i.findChildView(t);n&&e.push(n)})),this.hideAllChildViews(c.default.uniq(e))}},invokeToggleAction:function(t){if(t&&0!==t.length){var e=[],i=[],n=this;c.default.each(t,(function(t){var r=n.findChildView(t);r&&(n.isChildVisible(r)?e.push(r):i.push(r))})),this.hideAllChildViews(c.default.uniq(e)),this.loadAllMediaThenShowChildViews(c.default.uniq(i))}},invokeShowOrHideOnlyAction:function(t,e){if(t&&0!==t.length){var i=[];c.default.each(t,c.default.bind((function(t){var e=this.findChildView(t);e&&(e.parentViews.length>0?i.push(e.parentViews[0]):i.push(this))}),this));var n=[],r=[];c.default.each(c.default.uniq(i),(function(i){c.default.each(i.childViews,(function(i){var o=-1!==t.indexOf(i.id);o&&e||!o&&!e?r.push(i):n.push(i)}))})),this.loadAllMediaThenShowChildViews(c.default.uniq(r)),this.hideAllChildViews(c.default.uniq(n))}},invokeShowOnlyAction:function(t){this.invokeShowOrHideOnlyAction(t,!0)},invokeHideOnlyAction:function(t){this.invokeShowOrHideOnlyAction(t,!1)},invokeCycleNextOrPreviousAction:function(t,e){if(t&&0!==t.length){var i=[],n=[];c.default.each(t,c.default.bind((function(t){var r=this.findChildView(t);if(r&&r.childViews&&0!==r.childViews.length){var o,a=c.default.findLast(r.childViews,(function(t){return t.visible}));if(a){var s=r.childViews.indexOf(a);o=e?0===s?r.childViews.length-1:s-1:s===r.childViews.length-1?0:s+1}else o=e?r.childViews.length-1:0;n.push(r.childViews[o]),i=i.concat(r.childViews.slice(0,o)).concat(r.childViews.slice(o+1))}}),this)),this.loadAllMediaThenShowChildViews(c.default.uniq(n)),this.hideAllChildViews(c.default.uniq(i))}},invokeCycleNextAction:function(t){this.invokeCycleNextOrPreviousAction(t,!0)},invokeCyclePreviousAction:function(t){this.invokeCycleNextOrPreviousAction(t,!1)},loadAllMediaThenShowChildViews:function(t,e){var i=this;function n(){var e=i.getVisibleBoundaries();c.default.each(t,(function(t){t.mediaHasBeenLoaded=!0,i.animationRunner.showChildViewIfAllParentsVisible(t,e)}))}var r=[];if(c.default.each(t,(function(t){t.mediaHasBeenLoaded||(r=r.concat(i.attachViewMedia(t)))})),c.default.isEmpty(r))n(),e&&e();else{c.default.isNull(i.childLoadingTimeout)||clearTimeout(i.childLoadingTimeout),i.childLoadingTimeout=c.default.delay((function(){i._createSpinner(!0)}),200);var o=function(){clearTimeout(i.childLoadingTimeout),i.childLoadingTimeout=null,i._destroySpinner(),n()};l.default.when.apply(l.default,r).done((function(){u.default.debug("Successfully attached child media being shown."),o(),e&&e()})).fail((function(){u.default.debug("Failed to load child media being shown."),o()}))}},hideAllChildViews:function(t){this.animationRunner.hideAllChildViewsAndRunExitAnimations(t)},_createSpinner:function(t){c.default.isNull(this.spinner)&&(this.spinner=b.default.showLoading(this.$el,{startImmediately:t}))},_destroySpinner:function(){this.spinner&&(this.spinner.destroy(),this.spinner=null)},_stopSpinner:function(){this.spinner&&this.spinner.stop()},_startSpinner:function(){this.spinner&&this.spinner.start()},addActiveHoverAndBindMouseEvents:function(t,e){0===this.activeHoversGroupedByInteraction.length&&(this.$pageScroll.on("mousemove",c.default.bind(this._handleMouseMove,this)),this.$pageScroll.on("mouseleave",c.default.bind(this._handleMouseLeave,this)),this.$pinnedContainer.on("mousemove",c.default.bind(this._handleMouseMove,this)));var i=e.getHoverTargets(),n=t.getExtents(),r=[];c.default.isEmpty(n)?this.deactivateHovers():(c.default.each(i,c.default.bind((function(i){if(this.isValidChildView(i)){var n=t.isFixedPosition(),o=i,a=[],s=this.calculateHoverArea(t,t.getExtents(),o,e,n),u=this.findChildView(i),l=parseInt(u.$el.css("zIndex"),10)||0;"folder"===u.options.type?l=u.getFirstAvailableZIndex():e.action===O.ActionTypes.changeState&&(a=c.default.map(u.getParentsWithLinkInteraction(),c.default.bind((function(t){return this.findChildView(t)}),this)));var d={object:t,interaction:e,area:s,target:u,targetZIndex:l,targetParentsWithLinkInteraction:a,pinned:n};r.push(d)}}),this)),r.length?this.activeHoversGroupedByInteraction.push(r):0===this.activeHoversGroupedByInteraction.length&&this.deactivateHovers())},calculateHoverArea:function(t,e,i,n,r){var o,a=this.getChildViewExtents(i,n);if(!c.default.isEmpty(a)){if(r){var s=c.default.cloneDeep(t.getExtents()),u=t.getTopAndBottomFixedPosition(s.y1,s.y2);s.y1=u.top,s.y2=u.bottom,o=S.default.createHoverArea(s,a,!1)}else o=S.default.createHoverArea(e,a,!1);return o}this.deactivateHovers()},getMouseXAndMouseYFromEvent:function(t){var e,i,n=this.getScaleContext(),r=this.$pageScroll.offset();return this.scaleContext.useZoom(n.ratio)?(e=t.pageX/n.ratio-r.left,i=t.pageY/n.ratio-r.top):(e=(t.pageX-r.left)/n.ratio,i=(t.pageY-r.top)/n.ratio),{mouseX:e,mouseY:i}},_handleMouseMove:function(t){var e=this,i=this.getMouseXAndMouseYFromEvent(t),n=i.mouseX,r=i.mouseY,o=[],s=Math.ceil(n),u=Math.floor(n),l=Math.ceil(r),d=Math.floor(r),h=new Set;c.default.each(this.activeHoversGroupedByInteraction,c.default.bind((function(i){!i||i.length<1||(c.default.every(i,c.default.bind((function(i){var n,r,o=this;if("change-state"===i.interaction.action&&(i.object.options.linkInteraction||"smartgroup"===i.object.options.type)){var f=i.interaction.getTargets(),p=function(t){return t.some((function(e){var n=!1,r=o.findChildView(e);if(h.has(e))return!0;if(r.options.id===i.object.options.id&&r.childViews&&r.childViews.length>0){var a=r.childViews.map((function(t){return t.id}));n=p(a)}else n=r.isHovered();return n&&t.forEach((function(t){return h.add(t)})),n}))};return!p(a(f,[i.object.options.id]))}var g=i.object.isHovered(t)||i.target.isHovered(t);if(i.interaction.shouldCreateHoverArea()||i.pinned&&"change-state"!==i.interaction.action){var m=c.default.cloneDeep(i.object.getExtents());n=i.interaction.hoverArea||e.calculateHoverArea(i.object,m,i.target.id,i.interaction,i.pinned),r=!(Math.pointInPoly(n,s,l)||Math.pointInPoly(n,s,d)||Math.pointInPoly(n,u,l)||Math.pointInPoly(n,u,d)||g)}else r=!g;return i.target.mediaHasBeenLoaded&&r}),this))?i[0].object.triggerMouseOutAction(i[0].interaction):o.push(i))}),this)),this.activeHoversGroupedByInteraction=o,0===this.activeHoversGroupedByInteraction.length&&this.deactivateHovers()},_handleMouseLeave:function(t){c.default.each(this.activeHoversGroupedByInteraction,c.default.bind((function(t){t&&t.length&&t[0].object.triggerMouseOutAction(t[0].interaction)}),this)),this.deactivateHovers()},deactivateNonParentHovers:function(t){var e=[];c.default.each(this.activeHoversGroupedByInteraction,c.default.bind((function(i){i.length>0&&(c.default.every(i,c.default.bind((function(e){var i=t.idBelongsToParent(e.target.id)||e.target.id===t.id,n=e.object.id===t.id,r=t.childViews&&t.childViews.find((function(t){return t.id===e.object.id})),o=e.interaction.action!==O.ActionTypes.changeState;return!(i||n||r||!e.target.mediaHasBeenLoaded||!o)}),this))?i[0].object.triggerMouseOutAction(i[0].interaction):e.push(i))}),this)),this.activeHoversGroupedByInteraction=e},isMouseOverAnActiveHoverAreaWithHigherZIndex:function(t,e){var i=this.getMouseXAndMouseYFromEvent(e),n=i.mouseX,r=i.mouseY,o=Math.ceil(n),a=Math.floor(n),s=Math.ceil(r),u=Math.floor(r),l=!1,d=parseInt(t.$el.css("zIndex"),10)||0;return"folder"===t.options.type&&(d=t.getFirstAvailableZIndex()),c.default.each(this.activeHoversGroupedByInteraction,c.default.bind((function(t){if(t.length>0&&(l=c.default.some(t,c.default.bind((function(t){return!!(t.interaction.createHoverArea&&t.targetZIndex>d)&&(Math.pointInPoly(t.area,o,s)||Math.pointInPoly(t.area,o,u)||Math.pointInPoly(t.area,a,s)||Math.pointInPoly(t.area,a,u))}),this))))return!0}),this)),l},deactivateHovers:function(){this.activeHoversGroupedByInteraction=[],this.$pageScroll.off("mousemove"),this.$pageScroll.off("mouseleave")},getChildViewExtents:function(t,e){var i=this.findChildView(t),n={};if(i)if(e&&e.action===O.ActionTypes.changeState)n=i.getExtentsFromObjectState(e.state);else if(n=i.getExtents(),i.isFixedPosition()){var r=i.getTopAndBottomFixedPosition(n.y1,n.y2);n.y1=r.top,n.y2=r.bottom}return n},getPageIndex:function(){return this.model.getPageIndex()}})},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&r(e,t,i);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(i(1)),l=s(i(0)),c=s(i(3)),d=s(i(25)),h=s(i(2)),f=s(i(97)),p=s(i(98)),g=s(i(195)),m=s(i(196)),v=i(24),y=i(66),_=s(i(18)),b=i(99),T=s(i(32)),w=s(i(67)),S=a(i(17)),E=s(i(8)),A=i(43),C=s(i(13)),P=s(i(14)),I=s(i(86)),O=i(23),x=i(100),k=s(i(39));e.default=f.default.extend({COMMERCE_ACTIONS:["product","shopping-cart"],LIGHTBOX_ACTION:"lightbox",className:"component",timedTriggersCreatedAtLeastOnce:!1,initialize:function(){f.default.prototype.initialize.call(this),this.hasAccessibilityFeature=C.default.hasFeature(P.default.ACCESSIBILITY),this.$el.addClass("page-object"),this.$el.addClass(this.type),this.$el.css({position:"absolute"}),this.options.rotation||(this.options.rotation=0),this.options.actualRotation=this.options.rotation,this.timedTriggerTimeouts=[],this.shouldRestartEntryAnimations=!1,this._activatedEntryAnimations=!1,this.runningExitAnimations=!1,this.wasInsideVisibleBoundaries=!1,this.timedTriggersActivated=!1,this.exitAnimationPromise=null,this.validInteractions={},this.options.unfixedX=this.options.x,this.options.unfixedY=this.options.y,this.options.absoluteX=this.options.x,this.options.absoluteY=this.options.y,this.options.absoluteBoundaryX=this.options.x,this.options.absoluteBoundaryY=this.options.y,this.$window=u.default(window),this.options.animationsRepeatAll=!!this.options.animationsRepeatAll,this.defaultTagName=this.tagName,this._handleOnEscKeyPressed=l.default.bind(this._handleOnEscKeyPressed,this)},tagOverride:function(){var t=void 0;(this.hasAccessibilityFeature&&this.options.htmlLandmarkTag&&(t={tagName:this.options.htmlLandmarkTag}),Array.isArray(this.options.interactions))&&(t=this.options.interactions.reduce((function(t,e){var i=e.domTagOverride;return i?t?i.priority>t.priority?i:t:i:t}),void 0)||t);return t},getSpecifiedAttributes:function(t){return l.default.transform(t,(function(t,e){e.specified&&(t[e.name]=e.value)}),{})},applyAccessibilityFeatures:function(){this.isMaskUsingHoverArea()?this.hasAccessibilityFeature&&this.setAriaLabel():(this.hasAccessibilityFeature&&this.applyTabindex(),this.applyTagOverride(),this.hasAccessibilityFeature&&(this.enableAutomaticHoverInteraction(),this.setAriaLabel()))},setAriaLabel:function(){this.options.ariaLabel?this.getAriaElement().attr("aria-label",this.options.ariaLabel):this.getAriaElement()&&this.getAriaElement().removeAttr("aria-label"),this.setAriaRole()},setAriaRole:function(){},getAriaElement:function(){return this.$el},applyTabindex:function(){var t=this;this.hasHoverInteraction()?(this.$el.attr("tabindex",0),this.$el.off("focus.hover").on("focus.hover",(function(e){x.FocusArbiter.prepareTargetOutlineForFocus(t.$el)}))):(this.hasClickInteraction()||this.$el.removeAttr("tabindex"),this.$el.off("focus.hover"))},applyTagOverride:function(){var t=this.tagOverride();if(t&&t.tagName){this.tagName=l.default.get(t,"tagName",this.tagName);var e=this.attributes||{};if(this.attributes=l.default.assign({},this.attributes,l.default.get(t,"attributes")),this.$el.is(this.tagName)&&l.default.isEqual(e,this.attributes))return;var i=l.default.assign(this.getSpecifiedAttributes(this.$el[0].attributes),this.attributes),n=u.default("<"+this.tagName+">",i).append(this.$el.contents());this.$el.replaceWith(n),this.setElement(n)}else if(!this.$el.is(this.defaultTagName)){i=l.default.assign(this.getSpecifiedAttributes(this.$el[0].attributes),this.attributes),n=u.default("<"+this.defaultTagName+">",i).append(this.$el.contents());this.$el.replaceWith(n),this.setElement(n)}},getOpacity:function(){return this.options.opacity},setParentSmartgroup:function(t){this.options.parentSmartgroup=t,this.options.parentSmartgroup.options.rotation&&(delete this.options.allWidth,delete this.options.allHeight,this._configureAllWidthAllHeight(),this._applyAnimations()),this.configureAbsoluteCoordinates()},addParentView:function(t){this.parentViews.push(t),t.options.rotation&&(delete this.options.allWidth,delete this.options.allHeight,this._configureAllWidthAllHeight(),this._applyAnimations()),this.configureAbsoluteCoordinates()},hasParents:function(){return this.parentViews.length>0},configureAbsoluteCoordinates:function(){var t=new S.Point(this.options.x+this.options.width/2,this.options.y+this.options.height/2),e=this.parentViews;l.default.each(e,(function(e){if(e.options.rotation){var i=e.options.width/2,n=e.options.height/2;t.rotate(i,n,-Math.toRad(e.options.rotation))}t.x+=e.options.x||0,t.y+=e.options.y||0})),this.options.absoluteX=t.x-this.options.width/2,this.options.absoluteY=t.y-this.options.height/2,this.options.absoluteBoundaryX=t.x-this.options.allWidth/2,this.options.absoluteBoundaryY=t.y-this.options.allHeight/2,this.hoverArea&&(this.hoverArea.updatePosition(),this.hoverArea.updateRotation(),this.hoverArea.setWidthAndHeight())},areAllParentsVisible:function(){var t=l.default.every(this.parentViews,(function(t){return t.visible}));return this.options.parentSmartgroup?t&&this.options.parentSmartgroup.visible:t},areAllParentsInitiallyVisible:function(){var t=l.default.every(this.parentViews,(function(t){return t.initiallyVisible}));return this.options.parentSmartgroup?t&&this.options.parentSmartgroup.initiallyVisible:t},areAnyParentsNotVisible:function(){var t=l.default.some(this.parentViews,(function(t){return!t.visible}));return this.options.parentSmartgroup?t||!this.options.parentSmartgroup.visible:t},idBelongsToParent:function(t){return l.default.some(this.parentViews,(function(e){return e.id===t}))},addContainerId:function(t){var e=this.$el.attr("data-container-id")?this.$el.attr("data-container-id")+",":"";this.$el.attr("data-container-id",e+t)},onClose:function(){},_configureAllWidthAllHeight:function(){if(l.default.isUndefined(this.options.allWidth)&&l.default.isUndefined(this.options.allHeight)){var t,e,i=this.options.rotation?this.options.rotation:0;if(this.options.parentSmartgroup&&this.options.parentSmartgroup.options.rotation&&(i+=this.options.parentSmartgroup.options.rotation,i%=360),this.hasParents()&&!this.isMaskImage()&&(i+=l.default.reduce(this.parentViews,(function(t,e){return t+(e.options.rotation||0)}),0)),this.options.actualRotation=i,i>180&&(i=360-i),i>90&&(i=180-i),0!==(i=Math.toRad(i))){t=Math.cos(i),e=Math.sin(i);var n=T.default.getExtentsFromDimensions(this.options.x,this.options.y,this.options.width,this.options.height,i,this.options.border&&this.options.border.width?this.options.border.width:0);this.options.allWidth=n.x2-n.x1,this.options.allHeight=n.y2-n.y1}else this.options.allWidth=this.options.width,this.options.allHeight=this.options.height;this._configureAllWidthAllHeightForShadow(),this._configureAllWidthAllHeightForBorder(i,e,t)}},_configureAllWidthAllHeightForShadow:function(){l.default.isEmpty(this.options.shadow)||""===this.options.shadow||(this.options.allWidth+=l.default.isNumber(this.options.shadow.x)?Math.abs(this.options.shadow.x):0,this.options.allHeight+=l.default.isNumber(this.options.shadow.y)?Math.abs(this.options.shadow.y):0,this.options.allWidth+=l.default.isNumber(this.options.shadow.blur)?Math.abs(this.options.shadow.blur):0,this.options.allHeight+=l.default.isNumber(this.options.shadow.blur)?Math.abs(this.options.shadow.blur):0,this.options.shadow.blur>Math.abs(this.options.shadow.x)&&(this.options.allWidth+=this.options.shadow.blur-Math.abs(this.options.shadow.x)),this.options.shadow.blur>Math.abs(this.options.shadow.y)&&(this.options.allHeight+=this.options.shadow.blur-Math.abs(this.options.shadow.y)))},_configureAllWidthAllHeightForBorder:function(t,e,i){!l.default.isEmpty(this.options.border)&&""!==this.options.border&&l.default.isNumber(this.options.border.width)&&(0!==t?(this.options.allWidth+=2*(this.options.border.width*i+this.options.border.width*e),this.options.allHeight+=2*(this.options.border.width*i+this.options.border.width*e)):(this.options.allWidth+=2*this.options.border.width,this.options.allHeight+=2*this.options.border.width))},enablePointerEventsForIPadSafariDesktop:function(){if(this.options.fixedPosition){var t=c.default.isDesktopSafari()||c.default.isMobileSafari();c.default.isIpadPretendingToBeDesktop()&&c.default.isIosGreaterThanOrEqualTo(13)&&t&&(this.hasClickInteraction()||this.hasMouseDownInteraction())&&this.$el.css("pointer-events","all")}},render:function(){if(this.applyAccessibilityFeatures(),this.$el.css("transform",""),this.updateFixedPosition(),this.enablePointerEventsForIPadSafariDesktop(),this._configureAllWidthAllHeight(),this.configureAbsoluteCoordinates(),this._applyPosition(this.options.x,this.options.y,this.options.border),this._applyRotation(this.options.rotation,this.options.width,this.options.height),this._applyDimensions(this.options.width,this.options.height),this._applyOpacity(this.getOpacity()),this._applyVisibility(this.options.visible),this.$onClickShowHideTriggers=void 0,this._configureInteractions(),y.WebkitUtils.requiresHardwareAccelerateTransform(this.options.fixedPosition,"text"===this.type)&&y.WebkitUtils.hardwareAccelerateTransform(this.$el),"image"===this.type&&c.default.isDesktopSafari()&&this.hasActiveBlendingMode()){var t=this.$el.find("img");y.WebkitUtils.hardwareAccelerateTransform(t)}return this.doCustomScaling(),this._applyAnimations(),this._applyBorder(this.options.border),this._applyBackground(this.options.background),this._applyShadow(this.options.shadow,this.options.rotation,this.options.border,this.options.background),this},scaleComponent:function(){this.updateFixedPosition()},updateFixedPosition:function(){if(this.options.fixedPosition&&!c.default.desktop()){var t=this.options.pageView.$pageScroll,e=parseFloat(t.css("left")),i=parseFloat(t.css("top"));this.options.x=this.options.unfixedX+e,this.options.y=this.options.unfixedY+i,this._applyPosition(this.options.x,this.options.y,this.options.border)}},attachMedia:function(){return(new u.default.Deferred).resolve().promise()},applyChanges:function(t){h.default.allowAdaptiveLayouts&&(t=l.default.extend(t,t.overrides[E.default.getVariant()])),this.options=l.default.extend(this.options,t),this.render(),this.attachMedia(),this.rerunActivationAndEntryAnimations()},getApplyPositionTarget:function(){return this.$el},_applyPosition:function(t,e,i){t=l.default.isNil(t)?this.options.x:t,e=l.default.isNil(e)?this.options.y:e,i=l.default.isNil(i)?this.options.border:i||{};var n=this.getApplyPositionTarget();!l.default.isEmpty(i)&&l.default.isNumber(i.width)&&(t-=i.width,e-=i.width),n.css("left",t+"px"),n.css("top",e+"px")},getApplyDimensionsTarget:function(){return this.$el},_applyDimensions:function(t,e){t=l.default.isNil(t)?this.options.width:t,e=l.default.isNil(e)?this.options.height:e;var i=this.getApplyDimensionsTarget();i.css("width",t+"px"),i.css("height",e+"px"),i.css("transform-origin","center")},getApplyOpacityTarget:function(){return this.$el},_applyOpacity:function(t){t=l.default.isNil(t)?this.getOpacity():t,this.options.parentSmartgroup&&this.options.parentSmartgroup.getOpacity()<1&&(t*=this.options.parentSmartgroup.getOpacity()),this.getApplyOpacityTarget().css("opacity",t)},_applyVisibility:function(t){t?this.show():this.hide()},_applyRotation:function(t){((t=l.default.isNil(t)?this.options.rotation:t)||0===t)&&v.CssUtils.setTransformToElement(this.$el,{rotate:t})},getApplyBorderTarget:function(){return this.$el},_applyBorder:function(t){t=l.default.isNil(t)?this.options.border:t;var e=this.getApplyBorderTarget();l.default.isEmpty(t)?e.css("border","none"):(t.width?(e.css("borderWidth",t.width+"px"),t.color&&""!==t.color&&e.css("borderColor",t.color),t.style&&""!==t.style&&t.style.match(/(solid|dashed|dotted)/)?e.css("borderStyle",t.style):e.css("borderStyle","solid")):e.css("borderWidth","0"),e.css("borderRadius",this.getBorderRadius(t)))},getBorderRadius:function(t){if(t.radius){var e=(t.radius+"").split(",");return 1===e.length?parseInt(e[0],10)+"px":parseInt(e[0],10)+"px "+parseInt(e[1],10)+"px "+parseInt(e[2],10)+"px "+parseInt(e[3],10)+"px"}return""},entryAnimationsActivated:function(){return this._activatedEntryAnimations},isEntryAnimationConfiguredToReplayOnScroll:function(){return this.options.animationsReplayOnScroll},setWasInsideVisibleBoundaries:function(t){this.wasInsideVisibleBoundaries=t},getWasInsideVisibleBoundaries:function(){return this.wasInsideVisibleBoundaries},isAnyPartOfComponentWithinBoundaries:function(t,e){var i=(e=e||this.getComponentBoundaries()).componentTop<t.bottomY&&e.componentBottom>=t.topY;return t.hasXBoundaries&&(i=i&&e.componentLeft<t.rightX&&e.componentRight>=t.leftX),i},isAnyPartOfComponentWithinEntryAnimationBoundaries:function(t,e){return this.isAnyPartOfComponentWithinBoundaries(t.getEntryAnimationVisibleBoundaries(this.options.pageHeight,this.options.pageWidth),e)},isOutsideOfPage:function(){var t=new b.VisibleBoundaries(0,this.options.pageHeight,0,this.options.pageWidth);return!1===this.isAnyPartOfComponentWithinBoundaries(t)},getComponentActualWidthHeight:function(){var t=this.options.width,e=this.options.height,i=this.options.parentSmartgroup;return i&&(t*=i.options.scaleWidth,e*=i.options.scaleHeight),{width:t,height:e}},getComponentBoundaries:function(){var t=this.options.absoluteBoundaryX,e=this.options.absoluteBoundaryY,i=this.options.allHeight,n=this.options.allWidth,r=this.options.parentSmartgroup,o=this.isFixedPosition();if(r){t*=r.options.scaleWidth,t+=r.options.originalX,e*=r.options.scaleHeight,e+=r.options.originalY;var a=Math.toRad(r.options.rotation);if(a){var s=r.options.x+r.options.width/2,u=r.options.y+r.options.height/2,l=Math.rotateCoord(t,e,s,u,-a);t=l.x,e=l.y}i*=r.options.scaleHeight}var c=e+i,d=t+n;if(o){var h=this.getTopAndBottomFixedPosition(e,c);e=h.top,c=h.bottom}return{componentTop:e,componentLeft:t,componentBottom:c,componentRight:d}},getTopAndBottomFixedPosition:function(t,e){var i=this.options.pageView.$pinnedContainer,n=this.options.pageView.scaleContext,r=this.options.pageView.getScaleContext(),o=i?i.offset():{left:0,top:0},a=this.options.pageView.$pageScroll.offset().top-o.top;return n.useZoom(r.ratio)||(a/=r.ratio),{top:Math.floor(t-a),bottom:Math.floor(e-a)}},isFixedPosition:function(){if(this.options.fixedPosition||this.options.parentSmartgroup&&this.options.parentSmartgroup.options.fixedPosition)return!0;if(!l.default.isEmpty(this.parentViews))for(var t=0;t<this.parentViews.length;++t){var e=this.parentViews[t];if(void 0!==e.isFixedPosition&&e.isFixedPosition())return!0}return!1},_hasInteraction:function(t){var e=this.options.interactions;return!(!l.default.isArray(e)||0===e.length)&&this.getValidInteractionsByTrigger(t).length>0},hasClickInteraction:function(){return this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.CLICK)},hasMouseDownInteraction:function(){return this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.MOUSEDOWN)},hasHoverInteraction:function(){return c.default.desktop()&&this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.HOVER)},getResettableHoverInteractions:function(){if(this.hasHoverInteraction()){var t=this.getValidInteractionsByTrigger(this.getModule().INTERACTION_TRIGGERS.HOVER);return l.default.filter(t,(function(t){return t.resetWhenScrolledOffscreen}))}return null},hasResettableHoverInteractions:function(){var t=this.getResettableHoverInteractions();return t&&t.length>0},getValidInteractionsByTrigger:function(t){if(!this.validInteractions[t]||h.default.previewMode){var e=this.options.interactions,i=this;(e=l.default.filter(e,(function(e){return!!i._isValidInteraction(e)&&(l.default.isUndefined(t)||e.trigger===t)}))).sort((function(t,e){var i=-1!==["page-goto","page-next","page-prev"].indexOf(t.action),n=-1!==["page-goto","page-next","page-prev"].indexOf(e.action),r="page-enable-disable"==t.action,o="page-enable-disable"==e.action;return r&&n?-1:o&&i?1:0})),this.validInteractions[t]=e}return this.validInteractions[t]},_isValidInteraction:function(t){return!(-1!==l.default.indexOf(this.COMMERCE_ACTIONS,t.action)&&!this.options.allowCommerceIntegration)&&t.isValid()},createTimedTriggers:function(){var t=this.getModule(),e=this;if(this.canCreateTimedTriggers()){var i=l.default.groupBy(e.getValidInteractionsByTrigger(t.INTERACTION_TRIGGERS.VIEW),(function(t){return t.delay}));l.default.forOwn(i,(function(i,n){var r=l.default.filter(i,(function(t){return!e.timedTriggersCreatedAtLeastOnce||t.repeat}));if(r.length>0){var o=setTimeout((function(){l.default.each(r,(function(i){!function i(r){var o="cycle-next"===r.action||"cycle-previous"===r.action;h.default.shouldReduceMotion&&o||(e.simulateClick(!0,r),_.default.trigger(t.publishedEvents.TIMED_INTERACTION,e.addComponentAndClickDataToEvent(r))),o&&e.timedTriggerTimeouts.push(setTimeout((function(){i(r)}),1e3*n))}(i)}))}),1e3*n);e.timedTriggerTimeouts.push(o)}})),this.timedTriggersCreatedAtLeastOnce=!0,this.timedTriggersActivated=!0}},canCreateTimedTriggers:function(){if(this.timedTriggersActivated)return!1;if(!this.visible)return!1;var t=this.getModule();return!!this._hasInteraction(t.INTERACTION_TRIGGERS.VIEW)&&this.areAllParentsVisible()},simulateClick:function(t,e){var i={clientX:-1,clientY:-1,preventDefault:u.default.noop};this._handleClickInteraction(i,t,e)},_handleClickInteraction:function(t,e,i){var n=this.getModule(),r=!1;t.preventDefault();var o=[];if(e){if(!i)return;o=[i]}else o=this.getValidInteractionsByTrigger(n.INTERACTION_TRIGGERS.CLICK);l.default.each(o,l.default.bind((function(e){this._triggerClickAction(t,e)&&(r=!0)}),this));var a=this.addComponentAndClickDataToEvent({},t);if(_.default.trigger(n.publishedEvents.PAGE_COMPONENT_CLICKED,a),r){t.handledByComponent=!0;var s=this._hasParentWithLinkInteraction();e||s||n.trigger(n.publishedEvents.PAGE_COMPONENT_INTERACTION,a)}!e&&"mouse"===k.default.ask()&&this.$el.is(":focus")&&this.$el.blur()},handleClickWithoutInteraction:function(t){var e=this.getModule(),i=this.addComponentAndClickDataToEvent({},t);_.default.trigger(e.publishedEvents.PAGE_COMPONENT_CLICKED,i)},_triggerClickAction:function(t,e){var i=this.addComponentAndClickDataToEvent({},t);return e.triggerAction(i)},addComponentAndClickDataToEvent:function(t,e){var i=e&&e.originalEvent&&window.TouchEvent&&e.originalEvent instanceof TouchEvent?e.touches[0]:e;return u.default.extend(t,n({clickX:i?i.clientX:-1,clickY:i?i.clientY:-1},this.getEventInteractionData()))},_hasParentWithLinkInteraction:function(){var t=this.getParentsWithLinkInteraction();return t&&t.length>0},_handleMouseDownInteraction:function(t){for(var e=this.getModule(),i=this.getValidInteractionsByTrigger(e.INTERACTION_TRIGGERS.MOUSEDOWN),n=!1,r=this._hasParentWithLinkInteraction(),o=0,a=i;o<a.length;o++){var s=a[o];s.action===O.ActionTypes.changeState&&r?n=!0:this._triggerMouseDownAction(t,s)}if(!n){var u=this.getValidInteractionsByTrigger(e.INTERACTION_TRIGGERS.CLICK);if(!u||u.length<1){t.stopPropagation();var l=this.addComponentAndClickDataToEvent({},t);_.default.trigger(e.publishedEvents.PAGE_COMPONENT_CLICKED,l),r||e.trigger(e.publishedEvents.PAGE_COMPONENT_INTERACTION,l)}}},_copyCallingInteractionValuesForLinkInteraction:function(t,e){return t.lockState=e.lockState,t.hasOutTrigger=e.hasOutTrigger,t},_triggerMouseDownAction:function(t,e){var i=this.addComponentAndClickDataToEvent({},t);e.hasOutTrigger&&this.options.pageView.addActiveClickAndBindMouseEvents(this,e),e.triggerAction(i)},_handleMouseOverInteraction:function(t){var e=this,i=this.getValidInteractionsByTrigger(this.getModule().INTERACTION_TRIGGERS.HOVER);if(i.length>0){if(this.options.pageView.isMouseOverAnActiveHoverAreaWithHigherZIndex(this,t))return;this.options.pageView.deactivateNonParentHovers(this),i.forEach((function(t){if(t.action===O.ActionTypes.changeState){if(e._hasParentWithLinkInteraction())return;if(t.targets&&1===t.targets.length&&t.targets[0].id===e.options.id&&e.options.pageView.hasActiveHover(e))return}e._triggerMouseOverAction(t,e.getEventInteractionData())})),this.options.linkInteraction||this.sendPublishedHoverEvents()}},enableAutomaticHoverInteraction:function(t){if(this.hasHoverInteraction()){var e=this.getValidInteractionsByTrigger(this.getModule().INTERACTION_TRIGGERS.HOVER);0!==e.length&&this.options.pageView.automaticHoverInteractionCollection.add(this,e,this.options.pageView)}else this.options.pageView.automaticHoverInteractionCollection.remove(this.$el)},_triggerMouseOverAction:function(t,e){if(w.default.hasCustomFiringHoverAction(t)){var i=t.layerTargets,n=w.default.isHoverInteractionShowingLayers(t);i=l.default.filter(i,l.default.bind((function(t){var e=this.options.pageView.findChildView(t),i=this.options.pageView.isChildVisible(e);return n?!i:i}),this)),n?this.options.pageView.invokeShowAction(i):this.options.pageView.invokeHideAction(i),w.default.isTemporaryHoverInteractionShowingOrHidingLayers(t)&&this.options.pageView.addActiveHoverAndBindMouseEvents(this,t)}else t.hasOutTrigger&&(this.options.pageView.addActiveHoverAndBindMouseEvents(this,t),this.activateHoverArea()),t.triggerAction(e)},triggerMouseOutAction:function(t){var e=this;l.default.each(t.layerTargets,(function(t){e.options.pageView.findChildView(t).addPointerEvents()})),w.default.isShowLayersOnHoverInteraction(t)?this.options.pageView.invokeHideAction(t.layerTargets):w.default.isHideLayersInteraction(t)?this.options.pageView.invokeShowAction(t.layerTargets):t.hasOutTrigger&&t.triggerOutAction()},getApplyAnimationsTarget:function(){return this.$el},getAnimatedObjectModelData:function(){return{x:this.options.x,y:this.options.y,allWidth:this.options.allWidth,allHeight:this.options.allHeight,width:this.options.width,height:this.options.height,rotation:this.options.rotation,opacity:this.getOpacity(),scaleWidth:this.options.scaleWidth,scaleHeight:this.options.scaleHeight,pageWidth:this.options.pageWidth,pageHeight:this.options.pageHeight,parentSmartgroup:this.options.parentSmartgroup,requiresHardwareAcceleration:y.WebkitUtils.requiresHardwareAccelerateTransform(this.options.fixedPosition,"text"===this.type)}},_applyAnimations:function(){var t=this.getAnimatedObjectModelData();this.animatedObjectModel=new m.default(t);var e=this.getApplyAnimationsTarget();this.cleanupAnimations(),this.entryAnimations=this.buildAnimationPhases(e,this.options.animations,this.options.animationsRepeatAll,this.animatedObjectModel),this.exitAnimations=this.buildAnimationPhases(e,this.options.exitAnimations,!1,this.animatedObjectModel),this.resetToInitialState()},buildAnimationPhases:function(t,e,i,n){var r=[];if(e&&e.length>0)for(var o=function(t){t.play()},a=0;a<e.length;a++){i&&(e[a].loop=!1);var s=g.default.compileNewSequence(t,e[a],n);if(l.default.isNull(s))break;if(r.push(s),r[r.length-2]&&r[r.length-2].on(p.default.END_EVENT,l.default.bind((function(){l.default.defer(o,this)}),s)),!0===e[a].loop)break}return r},reset:function(){this.resetAnimations()},resetAnimations:function(){this.cleanupAnimations(),this.resetToInitialState(),this.runningExitAnimations=!1,this._activatedEntryAnimations=!1},resetTimers:function(){l.default.each(this.timedTriggerTimeouts,(function(t){window.clearTimeout(t)})),this.timedTriggerTimeouts=[],this.timedTriggersActivated=!1},whenLeavingVisibleBoundaries:function(){var t=this.entryAnimationsActivated()&&this.isEntryAnimationConfiguredToReplayOnScroll(),e=this.getModule(),i=!l.default.isEmpty(this.getValidInteractionsByTrigger(e.INTERACTION_TRIGGERS.VIEW))&&this.initiallyVisible&&this.areAllParentsInitiallyVisible();this.isOutsideOfPage()||(t&&(this.resetAnimations(),this.exitAnimationPromise&&(this.exitAnimationPromise.resolve(),this.exitAnimationPromise=null),this.visible&&"none"===this.$el.css("display")&&this.$el.show()),i&&this.resetTimers())},onActivationStart:function(){},onActivationEnd:function(){this.shouldRestartEntryAnimations=this.hasEntryAnimation()&&(this.options.animationsRepeatAll||this.options.animations[this.options.animations.length-1].loop)},onExitStart:function(){},onExitEnd:function(){},activateAndRunEntryAnimations:function(){if(this.onActivationStart(),this.hasEntryAnimation()&&!this.entryAnimationsActivated()){this._activatedEntryAnimations=!0;var t=this;this.runEntryAnimations().done((function(){t.onActivationEnd()}))}else this.onActivationEnd()},rerunActivationAndEntryAnimations:function(){if(this.onActivationStart(),this.hasEntryAnimation()){this._activatedEntryAnimations=!0;var t=this;this.runEntryAnimations().done((function(){t.onActivationEnd()}))}else this.onActivationEnd()},restartRepeatEntryAnimations:function(){this.onActivationStart();var t=this.options.animationsRepeatAll&&!h.default.shouldReduceMotion?0:this.options.animations.length-1,e=this;this.runEntryAnimations(t).done((function(){e.onActivationEnd()}))},runEntryAnimations:function(t){var e=this.getModule();if(t=t||0,!this.runningExitAnimations){l.default.each(this.entryAnimations,(function(t){t.cleanup()})),this.entryAnimations[t].resetToInitialState();var i=this,n=new u.default.Deferred,r=function(){l.default.last(i.entryAnimations).off(p.default.END_EVENT,r),i.options.animationsRepeatAll&&!h.default.shouldReduceMotion?l.default.defer(l.default.bind(i.runEntryAnimations,i)):(n.resolve(),_.default.trigger(e.publishedEvents.PAGE_COMPONENT_ANIMATION_END,i.id))};return l.default.last(this.entryAnimations).on(p.default.END_EVENT,r),this.entryAnimations[t].play(),this.entryAnimations.length>0&&_.default.trigger(e.publishedEvents.PAGE_COMPONENT_ANIMATION_START,this.id),n.promise()}return(new u.default.Deferred).resolve().promise()},runAllChildViewExitAnimations:function(t){if(t=t||[],!this.runningExitAnimations&&this.visible&&this.areAllParentsVisible()){var e=this;this.runningExitAnimations=!0,this.onExitStart();var i=this.runExitAnimations().then((function(){e.runningExitAnimations=!1,e.onExitEnd()}));t.push(i),this.childViews&&l.default.each(this.childViews,(function(e){e.runAllChildViewExitAnimations(t)}))}return t},runExitAnimations:function(){var t=this.getModule();this.entryAnimations&&l.default.each(this.entryAnimations,(function(t){t.cleanup()}));var e=new u.default.Deferred;if(this.exitAnimationPromise=e,l.default.isEmpty(this.exitAnimations)||"none"===this.$el.css("display"))_.default.trigger(t.publishedEvents.PAGE_COMPONENT_ANIMATION_END,this.id),e.resolve();else{var i=this,n=function(){_.default.trigger(t.publishedEvents.PAGE_COMPONENT_ANIMATION_END,i.id),e.resolve(),l.default.last(i.exitAnimations).off(p.default.END_EVENT,n)};l.default.last(this.exitAnimations).on(p.default.END_EVENT,n),l.default.each(this.exitAnimations,(function(t){t.cleanup()})),this.exitAnimations[0].resetToInitialState(),this.exitAnimations[0].play(),this.exitAnimations.length>0&&_.default.trigger(t.publishedEvents.PAGE_COMPONENT_ANIMATION_START,this.id)}return e.promise()},cleanupAnimations:function(){this.entryAnimations&&l.default.each(this.entryAnimations,(function(t){t.cleanup()})),this.exitAnimations&&l.default.each(this.exitAnimations,(function(t){t.cleanup()}))},hasEntryAnimation:function(){return this.entryAnimations&&l.default.size(this.entryAnimations)>0},doTriggerOnScroll:function(){return this.hasEntryAnimation()||this._hasInteraction(this.getModule().INTERACTION_TRIGGERS.VIEW)||"html"===this.type},resetToInitialState:function(){if(l.default.isEmpty(this.entryAnimations)){if(!l.default.isEmpty(this.exitAnimations)){var t=l.default.first(this.exitAnimations);if(!!(t.isEntryAnimation()||this.options.visible&&0===t.initialState.opacity))return void t.setToFinalState();t.resetToInitialState()}}else l.default.first(this.entryAnimations).resetToInitialState()},pauseAnimations:function(){this.entryAnimations&&l.default.each(this.entryAnimations,(function(t){t.pause()})),this.exitAnimations&&l.default.each(this.exitAnimations,(function(t){t.pause()}))},resumeAnimations:function(){this.entryAnimations&&l.default.each(this.entryAnimations,(function(t){t.resume()})),this.exitAnimations&&l.default.each(this.exitAnimations,(function(t){t.resume()}))},hasShadow:function(t){return!l.default.isEmpty(t)&&(t.x>0||t.x<0||t.y>0||t.y<0||t.blur>0)},getApplyShadowTarget:function(){return this.$el},_applyShadow:function(t,e){var i=this.getApplyShadowTarget();if(t=l.default.isNil(t)?this.options.shadow:t,e=l.default.isNil(e)?this.options.rotation:e,this.hasShadow(t)){var n={x:l.default.isNumber(t.x)?t.x:0,y:l.default.isNumber(t.y)?t.y:0};e&&0!==e&&this._rotateShadowCoordinates(n,e);var r="";r+=Math.round(n.x)+"px",r+=" "+Math.round(n.y)+"px",r+=t.blur?" "+t.blur+"px":" 0",r+=t.spread?" "+t.spread+"px":" 0",r+=" "+t.color,i.css("boxShadow",r)}else i.css("boxShadow","none")},_rotateShadowCoordinates:function(t,e){e=Math.toRad(e);var i=t.x*Math.cos(e)+t.y*Math.sin(e),n=-1*t.x*Math.sin(e)+t.y*Math.cos(e);t.x=i,t.y=n},_flipShadowCoordinates:function(t,e,i){e&&(t.x*=-1),i&&(t.y*=-1)},getApplyBackgroundTarget:function(){return this.$el},_applyBackground:function(t){t=l.default.isNil(t)?this.options.background:t;var e=this.getApplyBackgroundTarget();if(!t)return e.css("backgroundColor","transparent"),void e.css("backgroundImage","none");t.color?e.css("backgroundColor",t.color):e.css("backgroundColor","transparent"),t.gradient?e.css("backgroundImage","linear-gradient("+parseInt(t.gradient.angle,10)+"deg,"+d.default.buildStops(t.gradient.stops)+")"):e.css("backgroundImage","none")},getExtents:function(){var t=this.getExtentsDimensionData(),e=T.default.getExtentsPointsFromDimensions(t.x,t.y,t.width,t.height,t.rotation,t.borderWidth);return this._transformPointsToExtents(e)},_transformPointsToExtents:function(t){var e=this.transformPointToPageCoordinateSpace(t[0]),i=this.transformPointToPageCoordinateSpace(t[1]),n=this.transformPointToPageCoordinateSpace(t[2]),r=this.transformPointToPageCoordinateSpace(t[3]);return{x1:Math.round(Math.min(e.x,i.x,n.x,r.x)),y1:Math.round(Math.min(e.y,i.y,n.y,r.y)),x2:Math.round(Math.max(e.x,i.x,n.x,r.x)),y2:Math.round(Math.max(e.y,i.y,n.y,r.y))}},transformPointToPageCoordinateSpace:function(t){var e=new S.Point(t.x,t.y),i=this.parentViews;if(l.default.each(i,(function(t){if(t.options.rotation){var i=t.options.width/2,n=t.options.height/2;e.rotate(i,n,-Math.toRad(t.options.rotation))}e.x+=t.options.x||0,e.y+=t.options.y||0})),this.options.parentSmartgroup){var n=this.options.parentSmartgroup.options.x,r=this.options.parentSmartgroup.options.y,o=this.options.parentSmartgroup.options.width/2,a=this.options.parentSmartgroup.options.height/2,s=-Math.toRad(this.options.parentSmartgroup.options.rotation);0!==s&&e.rotate(o,a,s),e.x+=n,e.y+=r}return e},isFlipped:function(){return!l.default.isNil(this.options.flipHorizontal)||!l.default.isNil(this.options.flipVertical)},childrenUseBlendingModes:function(){if(!this.childViews)return!1;var t=this;return this.childViews.some((function(e){var i=l.default.bind(t.childrenUseBlendingModes,e);return e.hasActiveBlendingMode()||i()}))},hasActiveBlendingMode:function(){var t=this.options.blendingMode&&!A.BlendingModes.isDefaultBlendingMode(this.options.blendingMode),e=!!this.options.state&&l.default.some(this.options.states,(function(t){return t.config.blendingMode&&!A.BlendingModes.isDefaultBlendingMode(t.config.blendingMode)}));return t||e},show:function(){if(f.default.prototype.show.call(this),this.addPointerEvents(),this.hasAccessibilityFeature){if(void 0===this.$onClickShowHideTriggers&&this.populateOnClickShowHideTriggers(),this.$onClickShowHideTriggers.length){var t=this.isCarouselSlide?"aria-current":"aria-expanded";this.$onClickShowHideTriggers.attr(t,"true")}this.wasShownByFocusInteraction=!1}},hide:function(){if(f.default.prototype.hide.call(this),this.removePointerEvents(),this.hasAccessibilityFeature&&(void 0===this.$onClickShowHideTriggers&&this.populateOnClickShowHideTriggers(),this.$onClickShowHideTriggers.length)){if(this.isCarouselSlide?this.$onClickShowHideTriggers.removeAttr("aria-current"):this.$onClickShowHideTriggers.attr("aria-expanded","false"),this.wasShownByFocusInteraction)return void(this.wasShownByFocusInteraction=!1);if(!("keyboard"!==k.default.ask()||document.activeElement&&document.activeElement.classList.contains("ceros-no-return-focus"))){if(void 0===this.$outsideClickShowHideTriggers){var t=this;this.$outsideClickShowHideTriggers=this.$onClickShowHideTriggers.filter((function(){return t.id!==this.id&&!u.default.contains(t.$el[0],this)}))}1!==this.$outsideClickShowHideTriggers.length||this.$outsideClickShowHideTriggers.is(":focus")||this.$outsideClickShowHideTriggers.focus()}}},populateOnClickShowHideTriggers:function(){this.$onClickShowHideTriggers=u.default("[aria-controls~='"+this.id+"']")},parentsHaveInteractions:function(){var t=this.options.parentSmartGroup||this.parentViews;if(t&&(!Array.isArray(t)||t.length)){var e=[];if(this.options.parentSmartGroup)e=this.options.parentSmartGroup.interactions;else for(var i=0;i<this.parentViews.length;++i)this.parentViews[i].validInteractions&&(e.push(this.parentViews[i].validInteractions.click),e.push(this.parentViews[i].validInteractions.hover),e.push(this.parentViews[i].validInteractions.view));return!!l.default.filter(l.default.flatten(e)).length}},sendPublishedHoverEvents:function(){var t=this.getModule();t.trigger(t.publishedEvents.PAGE_COMPONENT_HOVER_INTERACTION,this.getEventInteractionData())},_handleOnEscKeyPressed:function(t){var e=this;I.default.isEscKeyPressed(t)&&this.$el.attr("aria-controls")&&(void 0===this.hideableTargets&&(this.hideableTargets=l.default.reduce(this.$el.attr("aria-controls").split(" "),(function(t,i){var n=e.options.pageView.findChildView(i);return n&&n.$el.hasClass("ceros-hideable")&&t.push(i),t}),[])),this.hideableTargets.length&&this.options.pageView.invokeHideAction(this.hideableTargets),t.stopPropagation())}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a="undefined"!=typeof WebKitAnimationEvent?"-webkit-":"undefined"!=typeof AnimationEvent?"":null,s=function(){this.ruleBuffer=[],this.keyframeInc=0,this.keyframeMap={},this.sequenceInc=0,this.sequenceMap={},this.pauseClassCache=[]};o.default.extend(s.prototype,{reset:function(){this.ruleBuffer=[],this.keyframeInc=0,this.keyframeMap={},this.sequenceInc=0,this.sequenceMap={},this.pauseClassCache=[]},_generateKeyframe:function(t,e,i,n){var r=t+"|"+JSON.stringify(e);if(0!==n&&(r+="|"+i+"|"+n),this.keyframeMap.hasOwnProperty(r))return this.keyframeMap[r];var s="@"+a+"keyframes keyframe"+this.keyframeInc+"{",u=o.default.sortBy(o.default.keys(e),(function(t){return parseInt(t,10)}));if(0===n)o.default.each(u,(function(i){s+=i+"{"+t+":"+e[i]+"}"}));else{var l=o.default.round(n/(n+i)*100,5),c=100-l;s+="0%{"+t+":"+e["0%"]+"}"+l+"%{"+t+":"+e["0%"]+"}",o.default.each(u,(function(i){"0%"!=i&&(s+=Math.round(l+c*(parseInt(i,10)/100))+"%{"+t+":"+e[i]+"}")}))}return s+="}",this.ruleBuffer.push(s),this.keyframeMap[r]="keyframe"+this.keyframeInc++,this.keyframeMap[r]},_generatePauseClass:function(t){var e="sequencePause"+t;if(!o.default.includes(this.pauseClassCache,e)){this.pauseClassCache.push(e);var i=[];o.default(t).times((function(){i.push("paused")})),this.ruleBuffer.push("."+e+"{"+a+"animation-play-state:"+i.join(",")+" !important;}")}return e},_generateRunClass:function(t,e,i,n){var r="sequenceRun"+this.sequenceInc++;return this.ruleBuffer.push("."+r+"{"+a+"animation-name:"+t.join(",")+";"+a+"animation-duration:"+e.join(",")+";"+a+"animation-timing-function:"+i.join(",")+";"+a+"animation-fill-mode:"+o.default.map(t,(function(){return"both"})).join(",")+";"+a+"animation-play-state:"+o.default.map(t,(function(){return"running"})).join(",")+";"+a+"animation-iteration-count:"+n.join(",")+";}"),r},generate:function(t){var e=o.default.map(t,(function(t){return t.getKey()})).join("&");if(!this.sequenceMap.hasOwnProperty(e)){var i=[],n=[],r=[],s=[],u=this;o.default.each(t,(function(t){var e="transform"==t.property?a+"transform":t.property;i.push(u._generateKeyframe(e,t.frames,t.duration,t.delay)),n.push(t.duration+t.delay+"ms"),r.push(t.easing),s.push(t.iterations)})),this.sequenceMap[e]={runClass:this._generateRunClass(i,n,r,s),pauseClass:this._generatePauseClass(t.length)}}return this.sequenceMap[e]},flush:function(){this.ruleBuffer.length>0&&(r.default("head").append(r.default("<style></style>").html(this.ruleBuffer.join("\n"))),this.ruleBuffer=[])}});var u=null;e.default=(null===u&&(u=new s),u)},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o={Tween:function(t,e,i,n,r,o){if(this.property=t,this.frames=e,this.duration=i,this.delay=n||0,this.iterations=r,this.easing=o,!this.frames.hasOwnProperty("0%"))throw Error("Tween must define 0% keyframe!");if(!this.frames.hasOwnProperty("100%"))throw Error("Tween must define 100% keyframe!");this._normalize()}};o.Tween.prototype={_normalize:function(){r.default.isUndefined(this.iterations)?this.iterations=1:r.default.isNumber(this.iterations)?(this.iterations=parseInt(this.iterations,10),this.iterations<0&&(this.iterations=0)):this.iterations="infinite"},getKey:function(){for(var t=r.default.values(this),e=0;e<t.length;e++)"object"==typeof t[e]&&(t[e]=JSON.stringify(t[e]));return t.join("|")}},e.default=o},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=["noDirection","center","left","right","up","down","topRight","topLeft","bottomRight","bottomLeft","backwards","forwards","verticalCenter","horizontalCenter","clockwise","counterClockwise","diagonal1","diagonal2"],a={},s={"Entry Effects":{FADE_IN:{label:"Fade In",directions:{noDirection:"fadeIn",left:"fadeLeft",right:"fadeRight",up:"fadeUp",down:"fadeDown"}},SPIN_FADE_IN:{label:"Spin and Fade In",directions:{counterClockwise:"spinLeftFade",clockwise:"spinRightFade"}},SLIDE_IN:{label:"Slide In",directions:{center:"enlargeFadeIn",left:"slideLeft",right:"slideRight",up:"slideUp",down:"slideDown",topRight:"slideTopRight",topLeft:"slideTopLeft",bottomRight:"slideBottomRight",bottomLeft:"slideBottomLeft"}},BOUNCE_IN:{label:"Bounce In",directions:{left:"bounceRight",right:"bounceLeft",up:"bounceUp",down:"bounceDown"}},LIGHTSPEED_IN:{label:"Light Speed In",directions:{left:"lightSpeedLeftIn",right:"lightSpeedRightIn"}},ROLL_IN:{label:"Roll In",directions:{left:"rollLeftIn",right:"rollRightIn"}},FLIP_IN:{label:"Rock In",directions:{verticalCenter:"flipInX",horizontalCenter:"flipInY"}},SHIFT_IN:{label:"Shift In",directions:{left:"shiftLeft",right:"shiftRight",up:"shiftUp",down:"shiftDown"}},SWING:{label:"Swing",directions:{left:"swingLeft",right:"swingRight",up:"swingTop",down:"swingBottom",bottomRight:"swingTopLeft",bottomLeft:"swingTopRight",topRight:"swingBottomLeft",topLeft:"swingBottomRight"}},SCALE_UP:{label:"Scale Up",directions:{left:"scaleUpLeft",right:"scaleUpRight",center:"enlarge",up:"scaleUpTop",down:"scaleUpBottom"}},EXPAND:{label:"Expand",directions:{left:"scaleUpHorizontalLeft",right:"scaleUpHorizontalRight",down:"scaleUpVerticalTop",up:"scaleUpVerticalBottom",horizontalCenter:"scaleUpHorizontalCenter",verticalCenter:"scaleUpVerticalCenter"}}},"Attention Seekers":{SPIN:{label:"Spin",directions:{clockwise:"spinRight",counterClockwise:"spinLeft"}},FLASH:{label:"Flash",directions:{noDirection:"flash"}},PULSE:{label:"Pulse",directions:{noDirection:"pulse"}},BOB:{label:"Bob",directions:{noDirection:"bob"}},TADA:{label:"Tada",directions:{noDirection:"tada"}},FLIP:{label:"Flip",directions:{horizontalCenter:"flip",verticalCenter:"flipHorizontal",diagonal2:"flipDiagonalRight",diagonal1:"flipDiagonalLeft"}},ROTATE_90:{label:"Rotate 90°",directions:{clockwise:"rotateCW90",counterClockwise:"rotateCCW90"}},SHAKE:{label:"Shake",directions:{noDirection:"shake"}},JELLO:{label:"Jello",directions:{noDirection:"jelloHorizontal"}},WOBBLE:{label:"Wobble",directions:{down:"wobbleTop",up:"wobbleBottom",right:"wobbleLeft",left:"wobbleRight"}},VIBRATE:{label:"Vibrate",directions:{noDirection:"vibrate"}},KEN_BURNS:{label:"Ken Burns",directions:{up:"kenBurnsTop",down:"kenBurnsBottom",left:"kenBurnsLeft",right:"kenBurnsRight"}}},"Exit Effects":{FADE_OUT:{label:"Fade Out",directions:{noDirection:"fadeOut",left:"fadeLeftOut",right:"fadeRightOut",up:"fadeUpOut",down:"fadeDownOut"}},SPIN_FADE_OUT:{label:"Spin and Fade Out",directions:{counterClockwise:"spinLeftFadeOut",clockwise:"spinRightFadeOut"}},SLIDE_OUT:{label:"Slide Out",directions:{right:"slideLeftOut",left:"slideRightOut",up:"slideUpOut",down:"slideDownOut",noDirection:"shrinkFadeOut",topRight:"slideTopRightOut",topLeft:"slideTopLeftOut",bottomRight:"slideBottomRightOut",bottomLeft:"slideBottomLeftOut"}},BOUNCE_OUT:{label:"Bounce Out",directions:{left:"bounceLeftOut",right:"bounceRightOut",up:"bounceUpOut",down:"bounceDownOut"}},LIGHTSPEED_OUT:{label:"Light Speed Out",directions:{left:"lightSpeedLeftOut",right:"lightSpeedRightOut"}},ROLL_OUT:{label:"Roll Out",directions:{left:"rollLeftOut",right:"rollRightOut"}},FLIP_OUT:{label:"Rock Out",directions:{verticalCenter:"flipOutX",horizontalCenter:"flipOutY"}},SHIFT_OUT:{label:"Shift Out",directions:{left:"shiftLeftOut",right:"shiftRightOut",up:"shiftUpOut",down:"shiftDownOut"}},SCALE_DOWN:{label:"Scale Down",directions:{left:"scaleDownLeft",right:"scaleDownRight",center:"shrink",down:"scaleDownTop",up:"scaleDownBottom"}},SHRINK:{label:"Shrink",directions:{down:"scaleDownVerticalTop",up:"scaleDownVerticalBottom",left:"scaleDownHorizontalLeft",right:"scaleDownHorizontalRight",verticalCenter:"scaleDownVerticalCenter",horizontalCenter:"scaleDownHorizontalCenter"}}}},u={},l={},c={};r.default.each(s,(function(t,e){c[e]={},r.default.each(t,(function(t,i){u[i]=t,c[e][i]=t.label,r.default.each(o,(function(e){t.directions.hasOwnProperty(e)&&(l[t.directions[e]]={title:i,direction:e})}))}))})),e.default={DIRECTIONS:o,EFFECT_MAP:u,DROPDOWN_OPTIONS:c,getTypeFromTitleAndDirection:function(t,e){return e||(e="noDirection"),u[t].directions[e]},getTitleAndDirectionFromType:function(t){return l[t]},getDirectionsForTitle:function(t){return r.default.keys(u[t].directions)},isEntryAnimation:function(t){if(a.hasOwnProperty(t))return a[t];for(var e=!1,i=s["Entry Effects"],n=Object.keys(i),o=0;o<n.length;++o){var u=r.default.values(i[n[o]].directions);if(r.default.includes(u,t)){e=!0;break}}return a[t]=e,e}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(4)),a=n(i(98)),s=n(i(3)),u={0:[0,0],15:[-30,6],30:[15,-6],45:[-15,3.6],60:[9,-2.4],75:[-6,1.2],100:[0,0]},l={0:[1,1],30:[1.25,.75],40:[.75,1.25],50:[1.15,.85],65:[.95,1.15],75:[1.05,.95],100:[1,1]},c={0:0,10:2,20:-4,30:4,40:-4,50:4,60:-4,70:4,80:-2,90:2,100:0},d={0:[0,0,0],20:[-3,-.1,-.1],30:[3,.1,.1],40:[-3,.1,.1],50:[3,.1,.1],60:[-3,.1,.1],70:[3,.1,.1],80:[-3,.1,.1],90:[3,.1,.1],100:[0,0,0]},h={0:[0,0],5:[-2,2],10:[-2,-2],15:[2,2],20:[2,-2],25:[-2,2],30:[-2,-2],35:[2,2],40:[2,-2],45:[-2,2],50:[-2,-2],55:[2,2],60:[2,-2],65:[-2,2],70:[-2,-2],75:[2,2],80:[2,-2],85:[-2,2],90:[-2,-2],95:[2,2],100:[0,0]};e.default={compileNewSequence:function(t,e,i){var n=null;if(r.default.isString(e.type)&&!r.default.isEmpty(e.type)&&r.default.isNumber(e.duration)&&e.duration>0){var s={$el:t,name:e.type,requiresHardwareAcceleration:i.get("requiresHardwareAcceleration")};(n=new a.default(s)).precompile(),!r.default.isUndefined(e.delay)&&r.default.isNumber(e.delay)||(e.delay=0),!0===e.loop&&n.setLoop(!0),r.default.isFunction(this[e.type])?this[e.type](n,e,i):o.default.warn("Animation type not supported: "+JSON.stringify(e)),n.compile()}return n},getIterations:function(t){var e=t.iterations?t.iterations:1;return!0===t.loop&&(e="infinite"),e},getDuration:function(t){return 1e3*t.duration},getDelay:function(t){return 1e3*t.delay},getEasing:function(t){return t.easing},buildTween:function(t,e,i){return new a.default.Tween(e,i,this.getDuration(t),this.getDelay(t),this.getIterations(t),this.getEasing(t))},fadeIn:function(t,e,i){t.add(this.buildTween(e,"opacity",{"0%":0,"100%":i.get("opacity")}))},fadeOut:function(t,e,i){t.add(this.buildTween(e,"opacity",{"0%":i.get("opacity"),"100%":0}))},spinSequence:function(t,e,i,n,r){var o=i.getScale(),a=i.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform",{"0%":"rotate("+n+"deg) scale("+o.x+","+o.y+")","100%":"rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"transform-origin",{"0%":a,"100%":a}))},spinRight:function(t,e,i){var n=i.get("rotation");this.spinSequence(t,e,i,n-360,n)},spinLeft:function(t,e,i){var n=i.get("rotation");this.spinSequence(t,e,i,n+360,n)},rotateCW90:function(t,e,i){var n=i.get("rotation");this.spinSequence(t,e,i,n-90,n)},rotateCCW90:function(t,e,i){var n=i.get("rotation");this.spinSequence(t,e,i,n+90,n)},slideInXSequence:function(t,e,i,n){var r=i.get("rotation"),o=i.getScale(),a=i.get("x");s.default.mobile()?t.add(this.buildTween(e,"left",{"0%":n.x+"px","100%":a+"px"})):t.add(this.buildTween(e,"transform",{"0%":"translateX("+(n.x-a)+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translateX(0px) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},slideInYSequence:function(t,e,i,n){var r=i.get("rotation"),o=i.getScale(),a=i.get("y");s.default.mobile()?t.add(this.buildTween(e,"top",{"0%":n.y+"px","100%":a+"px"})):t.add(this.buildTween(e,"transform",{"0%":"translateY("+(n.y-a)+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translateY(0px) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},slideInXYSequence:function(t,e,i,n,r){var o=i.get("rotation"),a=i.getScale(),u=i.get("x"),l=i.get("y");s.default.mobile()?(t.add(this.buildTween(e,"left",{"0%":n.x+"px","100%":u+"px"})),t.add(this.buildTween(e,"top",{"0%":r.y+"px","100%":l+"px"}))):t.add(this.buildTween(e,"transform",{"0%":"translateX("+(n.x-u)+"px) translateY("+(r.y-l)+"px) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translateX(0px) translateY(0px) rotate("+o+"deg) scale("+a.x+","+a.y+")"}))},slideLeft:function(t,e,i){this.slideLeftIn(t,e,i)},slideLeftIn:function(t,e,i){var n=i.getOffPageRight();this.slideInXSequence(t,e,i,n)},slideRight:function(t,e,i){this.slideRightIn(t,e,i)},slideRightIn:function(t,e,i){var n=i.getOffPageLeft();this.slideInXSequence(t,e,i,n)},slideDown:function(t,e,i){this.slideDownIn(t,e,i)},slideDownIn:function(t,e,i){var n=i.getOffPageTop();this.slideInYSequence(t,e,i,n)},slideUp:function(t,e,i){this.slideUpIn(t,e,i)},slideUpIn:function(t,e,i){var n=i.getOffPageBottom();this.slideInYSequence(t,e,i,n)},slideTopRight:function(t,e,i){var n=i.getOffPageBottom(),r=i.getOffPageLeft();this.slideInXYSequence(t,e,i,r,n)},slideTopLeft:function(t,e,i){var n=i.getOffPageRight(),r=i.getOffPageBottom();this.slideInXYSequence(t,e,i,n,r)},slideBottomRight:function(t,e,i){var n=i.getOffPageTop(),r=i.getOffPageLeft();this.slideInXYSequence(t,e,i,r,n)},slideBottomLeft:function(t,e,i){var n=i.getOffPageTop(),r=i.getOffPageRight();this.slideInXYSequence(t,e,i,r,n)},slideOutSequence:function(t,e,i,n){var r=i.get("x"),o=i.get("y");t.add(this.buildTween(e,"left",{"0%":r+"px","100%":n.x+"px"})),t.add(this.buildTween(e,"top",{"0%":o+"px","100%":n.y+"px"}))},slideOutXYSequence:function(t,e,i,n,r){var o=i.get("rotation"),a=i.getScale(),u=i.get("x"),l=i.get("y");s.default.mobile()?(t.add(this.buildTween(e,"left",{"0%":u+"px","100%":n.x+"px"})),t.add(this.buildTween(e,"top",{"0%":l+"px","100%":r.y+"px"}))):t.add(this.buildTween(e,"transform",{"0%":"translateX(0px) translateY(0px) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translateX("+(n.x-u)+"px) translateY("+(r.y-l)+"px) rotate("+o+"deg) scale("+a.x+","+a.y+")"}))},slideLeftOut:function(t,e,i){var n=i.getOffPageRight();this.slideOutSequence(t,e,i,n)},slideRightOut:function(t,e,i){var n=i.getOffPageLeft();this.slideOutSequence(t,e,i,n)},slideDownOut:function(t,e,i){var n=i.getOffPageBottom();this.slideOutSequence(t,e,i,n)},slideUpOut:function(t,e,i){var n=i.getOffPageTop();this.slideOutSequence(t,e,i,n)},slideTopRightOut:function(t,e,i){var n=i.getOffPageTop(),r=i.getOffPageRight();this.slideOutXYSequence(t,e,i,r,n)},slideTopLeftOut:function(t,e,i){var n=i.getOffPageTop(),r=i.getOffPageLeft();this.slideOutXYSequence(t,e,i,r,n)},slideBottomRightOut:function(t,e,i){var n=i.getOffPageRight(),r=i.getOffPageBottom();this.slideOutXYSequence(t,e,i,n,r)},slideBottomLeftOut:function(t,e,i){var n=i.getOffPageLeft(),r=i.getOffPageBottom();this.slideOutXYSequence(t,e,i,n,r)},shake:function(t,e,i){var n=i.get("rotation"),o=i.getTransformOriginString(.5,.5,!0),a=i.getScale(),s={};r.default.each(c,(function(t,e){s[e+"%"]="rotate("+(n+t)+"deg) scale("+a.x+", "+a.y+")"})),t.add(this.buildTween(e,"transform",s)),t.add(this.buildTween(e,"transform-origin",{"0%":o,"100%":o}))},shiftInSequence:function(t,e,i,n){var r=i.get("rotation"),o=i.getScale();n.x*=o.x,n.y*=o.y,t.add(this.buildTween(e,"transform",{"0%":"translate("+n.x+"px,"+n.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},shiftLeft:function(t,e,i){var n=i.get("allWidth"),r=i.getRelativeRotatedPoint(n,0);this.shiftInSequence(t,e,i,r)},shiftRight:function(t,e,i){var n=i.get("allWidth"),r=i.getRelativeRotatedPoint(-1*n,0);this.shiftInSequence(t,e,i,r)},shiftDown:function(t,e,i){var n=i.get("allHeight"),r=i.getRelativeRotatedPoint(0,-1*n);this.shiftInSequence(t,e,i,r)},shiftUp:function(t,e,i){var n=i.get("allHeight"),r=i.getRelativeRotatedPoint(0,n);this.shiftInSequence(t,e,i,r)},shiftOutSequence:function(t,e,i,n){var r=i.get("rotation"),o=i.getScale();n.x*=o.x,n.y*=o.y,t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate("+n.x+"px,"+n.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")"}))},shiftLeftOut:function(t,e,i){var n=i.get("allWidth"),r=i.getRelativeRotatedPoint(-1*n,0);this.shiftOutSequence(t,e,i,r)},shiftRightOut:function(t,e,i){var n=i.get("allWidth"),r=i.getRelativeRotatedPoint(n,0);this.shiftOutSequence(t,e,i,r)},shiftDownOut:function(t,e,i){var n=i.get("allHeight"),r=i.getRelativeRotatedPoint(0,n);this.shiftOutSequence(t,e,i,r)},shiftUpOut:function(t,e,i){var n=i.get("allHeight"),r=i.getRelativeRotatedPoint(0,-1*n);this.shiftOutSequence(t,e,i,r)},flash:function(t,e,i){var n=i.get("opacity");t.add(this.buildTween(e,"opacity",{"0%":n,"50%":0,"100%":n}))},pulse:function(t,e,i){var n=i.get("rotation"),r=i.getScale();t.add(this.buildTween(e,"transform",{"0%":"rotate("+n+"deg) scale("+r.x+","+r.y+")","50%":"rotate("+n+"deg) scale("+(r.x+.1)+","+(r.y+.1)+")","100%":"rotate("+n+"deg) scale("+r.x+","+r.y+")"}))},bob:function(t,e,i){var n=i.get("rotation"),r=i.getScale(),o=i.getRelativeRotatedPoint(0,-30),a=i.getRelativeRotatedPoint(0,-15);t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+n+"deg) scale("+r.x+","+r.y+")","40%":"translate("+o.x+"px,"+o.y+"px) rotate("+n+"deg) scale("+r.x+","+r.y+")","50%":"translate(0,0) rotate("+n+"deg) scale("+r.x+","+r.y+")","60%":"translate("+a.x+"px,"+a.y+"px) rotate("+n+"deg) scale("+r.x+","+r.y+")","80%":"translate(0,0) rotate("+n+"deg) scale("+r.x+","+r.y+")","100%":"translate(0,0) rotate("+n+"deg) scale("+r.x+","+r.y+")"}))},tada:function(t,e,i){var n=i.get("rotation"),o=i.getScale(),a={};r.default.each(d,(function(t,e){a[e+"%"]="rotate("+(n+t[0])+"deg) scale("+(o.x+t[1])+", "+(o.y+t[2])+")"})),t.add(this.buildTween(e,"transform",a));var s=i.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},flipSequence:function(t,e,i,n,r){var o=i.getOffsetRotation(),a=Math.rotateCoord(n,r,0,0,o),s=i.get("rotation"),u=i.getScale();t.add(this.buildTween(e,"transform",{"0%":"rotate3d("+a.x+","+a.y+", 0, 180deg) rotateZ("+s+"deg) scale("+u.x+", "+u.y+")","100%":"rotate3d("+a.x+","+a.y+", 0, 0deg) rotateZ("+s+"deg) scale("+u.x+", "+u.y+")"}));var l=i.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":l,"100%":l}))},flip:function(t,e,i){this.flipSequence(t,e,i,0,1)},flipHorizontal:function(t,e,i){this.flipSequence(t,e,i,1,0)},flipDiagonalRight:function(t,e,i){this.flipSequence(t,e,i,1,1)},flipDiagonalLeft:function(t,e,i){this.flipSequence(t,e,i,-1,1)},flipInX:function(t,e,i){var n=i.get("rotation"),r=i.getOffsetRotation(),o=i.getScale(),a=i.get("opacity"),s=Math.rotateCoord(1,0,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,90deg) rotateZ("+n+"deg) scale("+o.x+","+o.y+")","40%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-10deg) rotateZ("+n+"deg) scale("+o.x+","+o.y+")","70%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,10deg) rotateZ("+n+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+n+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}))},flipInY:function(t,e,i){var n=i.get("rotation"),r=i.getOffsetRotation(),o=i.getScale(),a=i.get("opacity"),s=Math.rotateCoord(0,1,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-90deg) rotateZ("+n+"deg) scale("+o.x+","+o.y+")","40%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-10deg) rotateZ("+n+"deg) scale("+o.x+","+o.y+")","70%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,10deg) rotateZ("+n+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+n+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}))},flipOutX:function(t,e,i){var n=i.get("rotation"),r=i.getOffsetRotation(),o=i.getScale(),a=i.get("opacity"),s=Math.rotateCoord(1,0,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+n+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,90deg) rotateZ("+n+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}))},flipOutY:function(t,e,i){var n=i.get("rotation"),r=i.getOffsetRotation(),o=i.getScale(),a=i.get("opacity"),s=Math.rotateCoord(0,1,0,0,r);t.add(this.buildTween(e,"transform",{"0%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,0deg) rotateZ("+n+"deg) scale("+o.x+","+o.y+")","100%":"perspective(400px) rotate3d("+s.x+","+s.y+",0,-90deg) rotateZ("+n+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}))},fadeInSequence:function(t,e,i,n){var r=i.get("rotation"),o=i.getScale(),a=i.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"translate("+n.x+"px,"+n.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}))},fadeUp:function(t,e,i){this.fadeUpIn(t,e,i)},fadeUpIn:function(t,e,i){var n=i.getRelativeRotatedPoint(0,25);this.fadeInSequence(t,e,i,n)},fadeDown:function(t,e,i){this.fadeDownIn(t,e,i)},fadeDownIn:function(t,e,i){var n=i.getRelativeRotatedPoint(0,-25);this.fadeInSequence(t,e,i,n)},fadeRight:function(t,e,i){this.fadeRightIn(t,e,i)},fadeRightIn:function(t,e,i){var n=i.getRelativeRotatedPoint(-25,0);this.fadeInSequence(t,e,i,n)},fadeLeft:function(t,e,i){this.fadeLeftIn(t,e,i)},fadeLeftIn:function(t,e,i){var n=i.getRelativeRotatedPoint(25,0);this.fadeInSequence(t,e,i,n)},fadeOutSequence:function(t,e,i,n){var r=i.get("rotation"),o=i.getScale(),a=i.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"translate("+n.x+"px,"+n.y+"px) rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}))},fadeUpOut:function(t,e,i){var n=i.getRelativeRotatedPoint(0,-25);this.fadeOutSequence(t,e,i,n)},fadeDownOut:function(t,e,i){var n=i.getRelativeRotatedPoint(0,25);this.fadeOutSequence(t,e,i,n)},fadeRightOut:function(t,e,i){var n=i.getRelativeRotatedPoint(25,0);this.fadeOutSequence(t,e,i,n)},fadeLeftOut:function(t,e,i){var n=i.getRelativeRotatedPoint(-25,0);this.fadeOutSequence(t,e,i,n)},bounceInSequence:function(t,e,i,n,r,o){var a=i.get("x"),s=i.get("y"),u=i.get("opacity");t.add(this.buildTween(e,"left",{"0%":n.x+"px","60%":a+r.x+"px","80%":a+o.x+"px","100%":a+"px"})),t.add(this.buildTween(e,"top",{"0%":n.y+"px","60%":s+r.y+"px","80%":s+o.y+"px","100%":s+"px"})),t.add(this.buildTween(e,"opacity",{"0%":0,"60%":u,"100%":u}))},bounceUp:function(t,e,i){this.bounceUpIn(t,e,i)},bounceUpIn:function(t,e,i){var n=i.getOffPageBottom(),r=i.getRelativeRotatedPoint(0,-30),o=i.getRelativeRotatedPoint(0,10);this.bounceInSequence(t,e,i,n,r,o)},bounceDown:function(t,e,i){this.bounceDownIn(t,e,i)},bounceDownIn:function(t,e,i){var n=i.getOffPageTop(),r=i.getRelativeRotatedPoint(0,30),o=i.getRelativeRotatedPoint(0,-10);this.bounceInSequence(t,e,i,n,r,o)},bounceLeft:function(t,e,i){this.bounceLeftIn(t,e,i)},bounceLeftIn:function(t,e,i){var n=i.getOffPageLeft(),r=i.getRelativeRotatedPoint(30,0),o=i.getRelativeRotatedPoint(-10,0);this.bounceInSequence(t,e,i,n,r,o)},bounceRight:function(t,e,i){this.bounceRightIn(t,e,i)},bounceRightIn:function(t,e,i){var n=i.getOffPageRight(),r=i.getRelativeRotatedPoint(-30,0),o=i.getRelativeRotatedPoint(10,0);this.bounceInSequence(t,e,i,n,r,o)},bounceOutSequence:function(t,e,i,n,r,o){var a=i.get("x"),s=i.get("y"),u=i.get("opacity");t.add(this.buildTween(e,"left",{"0%":a+"px","20%":a+r.x+"px","40%":a+o.x+"px","100%":n.x+"px"})),t.add(this.buildTween(e,"top",{"0%":s+"px","20%":s+r.y+"px","40%":s+o.y+"px","100%":n.y+"px"})),t.add(this.buildTween(e,"opacity",{"0%":u,"60%":u,"100%":0}))},bounceUpOut:function(t,e,i){var n=i.getOffPageTop(),r=i.getRelativeRotatedPoint(0,-10),o=i.getRelativeRotatedPoint(0,30);this.bounceOutSequence(t,e,i,n,r,o)},bounceDownOut:function(t,e,i){var n=i.getOffPageBottom(),r=i.getRelativeRotatedPoint(0,10),o=i.getRelativeRotatedPoint(0,-30);this.bounceOutSequence(t,e,i,n,r,o)},bounceLeftOut:function(t,e,i){var n=i.getOffPageLeft(),r=i.getRelativeRotatedPoint(-10,0),o=i.getRelativeRotatedPoint(30,0);this.bounceOutSequence(t,e,i,n,r,o)},bounceRightOut:function(t,e,i){var n=i.getOffPageRight(),r=i.getRelativeRotatedPoint(10,0),o=i.getRelativeRotatedPoint(-30,0);this.bounceOutSequence(t,e,i,n,r,o)},spinFadeInSequence:function(t,e,i,n){var r=i.get("rotation"),o=i.getScale(),a=i.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+(r+n)+"deg) scale("+o.x+","+o.y+")","100%":"rotate("+r+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":a}));var s=i.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},spinRightFade:function(t,e,i){this.spinRightFadeIn(t,e,i)},spinRightFadeIn:function(t,e,i){this.spinFadeInSequence(t,e,i,-90)},spinLeftFade:function(t,e,i){this.spinLeftFadeIn(t,e,i)},spinLeftFadeIn:function(t,e,i){this.spinFadeInSequence(t,e,i,90)},spinFadeOutSequence:function(t,e,i,n){var r=i.get("rotation"),o=i.getScale(),a=i.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+r+"deg) scale("+o.x+","+o.y+")","100%":"rotate("+(r+n)+"deg) scale("+o.x+","+o.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":a,"100%":0}));var s=i.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},spinRightFadeOut:function(t,e,i){this.spinFadeOutSequence(t,e,i,90)},spinLeftFadeOut:function(t,e,i){this.spinFadeOutSequence(t,e,i,-90)},lightSpeedInSequence:function(t,e,i,n,r,o){var a=i.get("rotation"),s=i.getScale(),u=i.get("opacity"),l="right"===o?1:-1;t.add(this.buildTween(e,"transform",{"0%":"translate("+n.x+"px,"+n.y+"px) skewX("+30*l+"deg) rotate("+a+"deg) scale("+s.x+","+s.y+")","60%":"translate("+r.x+"px,"+r.y+"px) skewX("+-30*l+"deg) rotate("+a+"deg) scale("+s.x+","+s.y+")","80%":"translate(0,0) skewX("+15*l+"deg) rotate("+a+"deg) scale("+s.x+","+s.y+")","100%":"translate(0,0) skewX(0deg) rotate("+a+"deg) scale("+s.x+","+s.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"60%":u,"100%":u}))},lightSpeedRight:function(t,e,i){this.lightSpeedRightIn(t,e,i)},lightSpeedRightIn:function(t,e,i){var n=i.getScale(),r=i.get("width")*n.x,o=i.get("pageWidth"),a=i.getRelativeRotatedPoint(-1*o,0),s=i.getRelativeRotatedPoint(Math.round(.6*r),0);this.lightSpeedInSequence(t,e,i,a,s,"right")},lightSpeedLeft:function(t,e,i){this.lightSpeedLeftIn(t,e,i)},lightSpeedLeftIn:function(t,e,i){var n=i.getScale(),r=i.get("width")*n.x,o=i.get("pageWidth"),a=i.getRelativeRotatedPoint(o,0),s=i.getRelativeRotatedPoint(-1*Math.round(.6*r),0);this.lightSpeedInSequence(t,e,i,a,s,"left")},lightSpeedOutSequence:function(t,e,i,n,r){var o=i.get("rotation"),a=i.getScale(),s=i.get("opacity"),u=30*("right"===r?-1:1);t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) skewX(0deg) rotate("+o+"deg) scale("+a.x+","+a.y+")","60%":"translate("+n.x+"px,"+n.y+"px) skewX("+u+"deg) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translate("+n.x+"px,"+n.y+"px) skewX(0deg) rotate("+o+"deg) scale("+a.x+","+a.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":s,"60%":0,"100%":0}))},lightSpeedRightOut:function(t,e,i){var n=i.get("pageWidth"),r=i.getRelativeRotatedPoint(n,0);this.lightSpeedOutSequence(t,e,i,r,"right")},lightSpeedLeftOut:function(t,e,i){var n=i.get("pageWidth"),r=i.getRelativeRotatedPoint(-1*n,0);this.lightSpeedOutSequence(t,e,i,r,"left")},rollInSequence:function(t,e,i,n,r){var o=i.get("rotation"),a=i.getScale(),s=i.get("opacity");n.x*=a.x,n.y*=a.y,t.add(this.buildTween(e,"transform",{"0%":"translate("+n.x+"px,"+n.y+"px) rotate("+(o+r)+"deg) scale("+a.x+","+a.y+")","100%":"translate(0,0) rotate("+o+"deg) scale("+a.x+","+a.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":s}));var u=i.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":u,"100%":u}))},rollLeft:function(t,e,i){this.rollLeftIn(t,e,i)},rollRightIn:function(t,e,i){var n=i.get("allWidth"),r=i.getRelativeRotatedPoint(-1*n,0);this.rollInSequence(t,e,i,r,-120)},rollRight:function(t,e,i){this.rollRightIn(t,e,i)},rollLeftIn:function(t,e,i){var n=i.get("allWidth"),r=i.getRelativeRotatedPoint(n,0);this.rollInSequence(t,e,i,r,120)},rollOutSequence:function(t,e,i,n,r){var o=i.get("rotation"),a=i.getScale(),s=i.get("opacity");n.x*=a.x,n.y*=a.y,t.add(this.buildTween(e,"transform",{"0%":"translate(0,0) rotate("+o+"deg) scale("+a.x+","+a.y+")","100%":"translate("+n.x+"px,"+n.y+"px) rotate("+(o+r)+"deg) scale("+a.x+","+a.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":s,"100%":0}));var u=i.getTransformOriginString(.5,.5);t.add(this.buildTween(e,"transform-origin",{"0%":u,"100%":u}))},rollLeftOut:function(t,e,i){var n=i.get("allWidth"),r=i.getRelativeRotatedPoint(-1*n,0);this.rollOutSequence(t,e,i,r,-120)},rollRightOut:function(t,e,i){var n=i.get("allWidth"),r=i.getRelativeRotatedPoint(n,0);this.rollOutSequence(t,e,i,r,120)},enlargeFadeIn:function(t,e,i){var n=i.get("rotation"),r=i.getScale(),o=i.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+n+"deg) scale(0)","100%":"rotate("+n+"deg) scale("+r.x+","+r.y+")"})),t.add(this.buildTween(e,"opacity",{"0%":0,"100%":o}))},shrinkFadeOut:function(t,e,i){var n=i.get("rotation"),r=i.getScale(),o=i.get("opacity");t.add(this.buildTween(e,"transform",{"0%":"rotate("+n+"deg) scale("+r.x+","+r.y+")","100%":"rotate("+n+"deg) scale(0)"})),t.add(this.buildTween(e,"opacity",{"0%":o,"100%":0}))},scale:function(t,e,i,n,r,o){var a=i.get("rotation"),s=i.getScale(),u="rotate("+a+"deg) scale(0, 0)",l="rotate("+a+"deg) scale("+s.x+","+s.y+")";o&&(u="rotate("+a+"deg) scale("+("x"===o?0:s.x)+","+("y"===o?0:s.y)+")");var c={"0%":u,"100%":l};if("down"===n&&(c={"0%":l,"100%":u}),t.add(this.buildTween(e,"transform",c)),r){var d=r;0===a&&1===s.x&&1===s.y||(d=i.getTransformOriginString(.5,.5,!0)),t.add(this.buildTween(e,"transform-origin",{"0%":r,"100%":d}))}},enlarge:function(t,e,i){this.scale(t,e,i,"up",i.getTransformOriginString(.5,.5,!0))},scaleUpRight:function(t,e,i){this.scale(t,e,i,"up",i.getTransformOriginString(0,.5))},scaleUpLeft:function(t,e,i){this.scale(t,e,i,"up",i.getTransformOriginString(1,.5))},scaleUpBottom:function(t,e,i){this.scale(t,e,i,"up",i.getTransformOriginString(.5,0))},scaleUpTop:function(t,e,i){this.scale(t,e,i,"up",i.getTransformOriginString(.5,1))},scaleUpVerticalTop:function(t,e,i){this.scale(t,e,i,"up",i.getTransformOriginString(1,0),"y")},scaleUpVerticalBottom:function(t,e,i){this.scale(t,e,i,"up",i.getTransformOriginString(0,1),"y")},scaleUpVerticalCenter:function(t,e,i){this.scale(t,e,i,"up",i.getTransformOriginString(.5,.5),"y")},scaleUpHorizontalLeft:function(t,e,i){this.scale(t,e,i,"up",i.getTransformOriginString(1,1),"x")},scaleUpHorizontalRight:function(t,e,i){this.scale(t,e,i,"up",i.getTransformOriginString(0,0),"x")},scaleUpHorizontalCenter:function(t,e,i){this.scale(t,e,i,"up",i.getTransformOriginString(.5,.5),"x")},shrink:function(t,e,i){this.scale(t,e,i,"down",i.getTransformOriginString(.5,.5,!0))},scaleDownLeft:function(t,e,i){this.scale(t,e,i,"down",i.getTransformOriginString(0,.5))},scaleDownRight:function(t,e,i){this.scale(t,e,i,"down",i.getTransformOriginString(1,.5))},scaleDownTop:function(t,e,i){this.scale(t,e,i,"down",i.getTransformOriginString(.5,1))},scaleDownBottom:function(t,e,i){this.scale(t,e,i,"down",i.getTransformOriginString(.5,0))},scaleDownVerticalTop:function(t,e,i){this.scale(t,e,i,"down",i.getTransformOriginString(0,1),"y")},scaleDownVerticalBottom:function(t,e,i){this.scale(t,e,i,"down",i.getTransformOriginString(1,0),"y")},scaleDownVerticalCenter:function(t,e,i){this.scale(t,e,i,"down",i.getTransformOriginString(.5,.5),"y")},scaleDownHorizontalLeft:function(t,e,i){this.scale(t,e,i,"down",i.getTransformOriginString(0,0),"x")},scaleDownHorizontalRight:function(t,e,i){this.scale(t,e,i,"down",i.getTransformOriginString(1,1),"x")},scaleDownHorizontalCenter:function(t,e,i){this.scale(t,e,i,"down",i.getTransformOriginString(.5,.5),"x")},swing:function(t,e,i,n,r){var o=i.get("rotation"),a=i.getScale();t.add(this.buildTween(e,"transform",{"0%":n+" rotate("+o+"deg) scale("+a.x+", "+a.y+")","100%":"rotateX(0) rotateY(0) rotate("+o+"deg) scale("+a.x+", "+a.y+")"})),t.add(this.buildTween(e,"transform-origin",{"0%":r,"100%":i.getTransformOriginString(.5,.5,!0)})),t.add(this.buildTween(e,"transform-box",{"0%":"fill-box","100%":"fill-box"}))},swingTopLeft:function(t,e,i){this.swing(t,e,i,"rotateX(180deg) rotateY(-180deg)",i.getTransformOriginString(0,0))},swingTopRight:function(t,e,i){this.swing(t,e,i,"rotateX(-180deg) rotateY(-180deg)",i.getTransformOriginString(1,0))},swingBottomLeft:function(t,e,i){this.swing(t,e,i,"rotateX(180deg) rotateY(180deg)",i.getTransformOriginString(0,1))},swingBottomRight:function(t,e,i){this.swing(t,e,i,"rotateX(-180deg) rotateY(180deg)",i.getTransformOriginString(1,1))},swingLeft:function(t,e,i){this.swing(t,e,i,"rotateY(180deg)",i.getTransformOriginString(1,.5))},swingRight:function(t,e,i){this.swing(t,e,i,"rotateY(-180deg)",i.getTransformOriginString(0,.5))},swingTop:function(t,e,i){this.swing(t,e,i,"rotateX(180deg)",i.getTransformOriginString(.5,1))},swingBottom:function(t,e,i){this.swing(t,e,i,"rotateX(-180deg)",i.getTransformOriginString(.5,0))},jelloHorizontal:function(t,e,i){var n=i.get("rotation"),o=i.getScale(),a={};r.default.each(l,(function(t,e){a[e+"%"]="scale("+t[0]*o.x+", "+t[1]*o.y+") rotate("+n+"deg)"})),t.add(this.buildTween(e,"transform",a))},wobble:function(t,e,i,n,o){var a=i.get("rotation"),s=i.getTransformOriginString(.5,.5,!0),l=i.getScale(),c="translate"+n,d=o?1:-1,h={};r.default.each(u,(function(t,e){var i=a+t[1]*d;h[e+"%"]=c+"("+t[0]+"px) rotate("+i+"deg) scale("+l.x+", "+l.y+")"})),t.add(this.buildTween(e,"transform",h)),t.add(this.buildTween(e,"transform-origin",{"0%":s,"100%":s}))},wobbleTop:function(t,e,i){this.wobble(t,e,i,"X",!0)},wobbleBottom:function(t,e,i){this.wobble(t,e,i,"X",!1)},wobbleLeft:function(t,e,i){this.wobble(t,e,i,"Y",!0)},wobbleRight:function(t,e,i){this.wobble(t,e,i,"Y",!1)},vibrate:function(t,e,i){var n=i.get("rotation"),o=i.getScale(),a={};r.default.each(h,(function(t,e){a[e+"%"]="translate("+t[0]+"px, "+t[1]+"px) rotate("+n+"deg) scale("+o.x+", "+o.y+")"})),t.add(this.buildTween(e,"transform",a))},kenBurns:function(t,e,i,n,r,o){var a=i.get("rotation"),s=i.getScale();t.add(this.buildTween(e,"transform",{"0%":"scale("+s.x+", "+s.y+") translate(0, 0) rotate("+a+"deg)","100%":"scale("+1.25*s.x+", "+1.25*s.y+") translate("+n+") rotate("+a+"deg)"})),t.add(this.buildTween(e,"transform-origin",{"0%":r,"100%":o}))},kenBurnsTop:function(t,e,i){this.kenBurns(t,e,i,"0, -15px",i.getTransformOriginString(.5,.16),i.getTransformOriginString(.5,0))},kenBurnsBottom:function(t,e,i){this.kenBurns(t,e,i,"0, 15px",i.getTransformOriginString(.5,.84),i.getTransformOriginString(.5,1))},kenBurnsLeft:function(t,e,i){this.kenBurns(t,e,i,"-20px, 0",i.getTransformOriginString(.16,.5),i.getTransformOriginString(0,.5))},kenBurnsRight:function(t,e,i){this.kenBurns(t,e,i,"20px, 0",i.getTransformOriginString(.84,.5),i.getTransformOriginString(1,.5))}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(5));e.default=o.default.Model.extend({getCenter:function(){return{x:this.get("x")+this.get("width")/2,y:this.get("y")+this.get("height")/2}},getScale:function(){return{x:r.default.isUndefined(this.get("scaleWidth"))?1:this.get("scaleWidth"),y:r.default.isUndefined(this.get("scaleHeight"))?1:this.get("scaleHeight")}},getOffsetX:function(){if(!this.get("parentSmartgroup"))return 0;var t=this.get("parentSmartgroup").options.scaleWidth;if(1===t)return this.get("parentSmartgroup").options.x;var e=this.get("parentSmartgroup").options.width/2-this.get("parentSmartgroup").options.width*t/2;return this.get("parentSmartgroup").options.x+e},getOffsetY:function(){if(!this.get("parentSmartgroup"))return 0;var t=this.get("parentSmartgroup").options.scaleHeight;if(1===t)return this.get("parentSmartgroup").options.y;var e=this.get("parentSmartgroup").options.height/2-this.get("parentSmartgroup").options.height*t/2;return this.get("parentSmartgroup").options.y+e},getOffsetRotation:function(){return this.get("parentSmartgroup")?Math.toRad(this.get("parentSmartgroup").options.rotation):0},getRelativeRotatedPoint:function(t,e){var i=this.getOffsetRotation();if(i){var n=this.get("allWidth")/2,r=this.get("allHeight")/2;t+=n,e+=r;var o=Math.rotateCoord(t,e,n,r,i);t=o.x-n,e=o.y-r}return{x:t,y:e}},getRotatedPoint:function(t,e){var i=this.getOffsetRotation();if(i){var n=this.get("allWidth")/2,r=this.get("allHeight")/2,o=this.getCenter();t+=n,e+=r;var a=Math.rotateCoord(t,e,o.x,o.y,i);t=a.x-n,e=a.y-r}return{x:t,y:e}},getRotatedCenter:function(){var t=this.getOffsetRotation(),e=this.get("parentSmartgroup"),i=this.getCenter();if(e&&t>0){var n=e.options.width/2,r=e.options.height/2;return Math.rotateCoord(i.x,i.y,n,r,-1*t)}return{x:i.x,y:i.y}},getOffPageY:function(t){var e=this.get("x"),i=this.get("parentSmartgroup"),n=this.getOffsetRotation();if(i&&n>0){var r=this.getCenter();return t-=this.getRotatedCenter().y-r.y,this.getRotatedPoint(e,t)}return{x:e,y:t}},getOffPageTop:function(){var t=-1*(1+this.getOffsetY());return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleHeight&&(t/=this.get("parentSmartgroup").options.scaleHeight),t-=this.get("allHeight"),this.getOffPageY(t)},getOffPageBottom:function(){var t=this.get("pageHeight")+1-this.getOffsetY();return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleHeight&&(t/=this.get("parentSmartgroup").options.scaleHeight),t+=this.get("allHeight")-this.get("height"),this.getOffPageY(t)},getOffPageX:function(t){var e=this.get("y"),i=this.get("parentSmartgroup"),n=this.getOffsetRotation();if(i&&n>0){var r=this.getCenter();return t-=this.getRotatedCenter().x-r.x,this.getRotatedPoint(t,e)}return{x:t,y:e}},getOffPageLeft:function(){var t=-1*(1+this.getOffsetX());return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleWidth&&(t/=this.get("parentSmartgroup").options.scaleWidth),t-=this.get("allWidth"),this.getOffPageX(t)},getOffPageRight:function(){var t=this.get("pageWidth")+1-this.getOffsetX();return this.get("parentSmartgroup")&&1!==this.get("parentSmartgroup").options.scaleWidth&&(t/=this.get("parentSmartgroup").options.scaleWidth),t+=this.get("allWidth")-this.get("width"),this.getOffPageX(t)},getTransformOriginString:function(t,e,i){var n=this.get("width")*t,r=this.get("height")*e;if(!i){var o=this.getScale();n*=o.x,r*=o.y}return n+"px "+r+"px"}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(1)),a=n(i(0)),s=n(i(4)),u=i(68),l=n(i(199)),c=n(i(283)),d=i(43),h=n(i(285)),f=i(286),p=n(i(13)),g=n(i(14)),m=function(t){this.prerenderDeferred=new o.default.Deferred,this.prerenderWorkQueue=[],this.accessibilityOverrides=new f.PrerenderAccessibilityOverride(t),this.pageView=t,this.pageIndex=this.pageView.getPageIndex(),this.nextZIndex=1,this.docFrag=document.createDocumentFragment(),this.pinnedDocFrag=document.createDocumentFragment(),this.automaticHoverInteractionCollection=t.automaticHoverInteractionCollection};m.prototype={prerender:function(){s.default.debug("Pre-rendering page idx: "+this.pageIndex);var t=Date.now();for(this.isPrerenderQueueEmpty()&&this.initPrerenderQueue();!this.isPrerenderQueueEmpty();)this.prerenderNextWorkItem();for(var e=this.accessibilityOverrides.applyOverrides();!e.next().done;);this.automaticHoverInteractionCollection.prepareAccessibleHoverTargets(),s.default.debug("Prerender complete for page idx: "+this.pageIndex+". Elapsed time: "+(Date.now()-t)+" ms"),this.prerenderDeferred.resolve()},lazyPrerender:function(){if(!this.isPrerendered()){var t=Date.now();s.default.debug("Starting lazy prerender on page idx: "+this.pageIndex),this.isPrerenderQueueEmpty()&&this.initPrerenderQueue();var e=!1,i=this.accessibilityOverrides.applyOverrides(),n=function(t){return Date.now()-t<10},r=a.default.bind((function(){var o=Date.now();if(!this.isPrerendered()){if(this.isPrerenderQueueEmpty())do{e=i.next().done}while(!e&&n(o));else do{this.prerenderNextWorkItem()}while(!this.isPrerenderQueueEmpty()&&n(o));this.isPrerenderQueueEmpty()&&e?(this.automaticHoverInteractionCollection.prepareAccessibleHoverTargets(),s.default.debug("Lazy prerender complete for page idx: "+this.pageIndex+". Elapsed time: "+(Date.now()-t)+" ms"),this.prerenderDeferred.resolve()):window.requestAnimationFrame(r)}}),this);window.requestAnimationFrame(r)}return this.prerenderDeferred.promise()},initPrerenderQueue:function(){this.pageView.resetPageForPrerender(),this.nextZIndex=1,this.docFrag=document.createDocumentFragment(),this.pinnedDocFrag=document.createDocumentFragment(),this.prerenderWorkQueue=c.default.createPreRenderList(this.pageView),this.prerenderWorkQueue.unshift(this.getCanvasBackgroundFromQueue(this.prerenderWorkQueue)),s.default.debug("Prerender queue for page idx: "+this.pageIndex+" has "+this.prerenderWorkQueue.length+" items.")},getCanvasBackgroundFromQueue:function(t){for(var e,i=t.length-1;i>=0;--i){var n=t[i];if(e="canvas-background-component"===n.model.type?t.splice(i,1)[0]:this.getCanvasBackgroundFromQueue(n.childViews))break}return e},addViewToDOM:function(t,e){var i=e.$el.hasClass("group")||e.$el.hasClass("hover-area")?h.default.determineEffectivePositionOf(e.$el):e.options,n=i.x,r=i.y;h.default.insert(t,e.$el[0],n,r),e.hoverArea&&(this.addViewToDOM(t,e.hoverArea),this.setObjectViewToNextHighestZIndex(e.hoverArea))},addComponentToDOM:function(t){t.options.fixedPosition&&r.default.desktop()?this.addViewToDOM(this.pinnedDocFrag,t):this.addViewToDOM(this.docFrag,t)},prerenderObjectView:function(t,e){t=this.pageView.applyPageContext(t);var i=l.default.createComponentFromObject(t);return null!==i&&(i.render(),i.doTriggerOnScroll()&&this.pageView._addScrollTriggeredObject(i),i.hasResettableHoverInteractions()&&this.pageView.addResetWhenOffscreenHoverTrigger(i),i.options.fixedPosition&&this.pageView.setFixedPosition(i),e||(this.setObjectViewToNextHighestZIndex(i),this.addComponentToDOM(i))),i},prerenderFolderView:function(t,e){var i=new u.FolderView(t);return i.childViews=e,a.default.each(i.childViews,a.default.bind((function(t){i.isInitiallyVisible()||t.hide(),t.addParentView(i),t.addContainerId(i.getId())}),this)),i},prerenderGroupView:function(t,e){var i=this;t=this.pageView.applyPageContext(t);var n=l.default.createComponentFromObject(t);return n.childViews=e,n.childrenUseBlendingModes()?this.addBlendingModesFocusClass(n):this.setObjectViewToNextHighestZIndex(n),"mask-group"===t.type?(this.reArrangeMaskGroupViews(n),n.render()):(a.default.each(e,(function(t){var e=t;e.addParentView(n),e.addContainerId(n.getId()),e.childrenUseBlendingModes()||i.setObjectViewToNextHighestZIndex(e),e.hasActiveBlendingMode()&&i.addBlendingModesFocusClass(e),i.addViewToDOM(n.$el[0],e)})),n.render()),n.doTriggerOnScroll()&&this.pageView._addScrollTriggeredObject(n),n.hasResettableHoverInteractions()&&this.pageView.addResetWhenOffscreenHoverTrigger(n),n.options.fixedPosition&&this.pageView.setFixedPosition(n),this.addComponentToDOM(n),n},reArrangeMaskGroupViews:function(t){var e=t.getMaskView(),i=t.getWrappedView();e.addParentView(t),e.addContainerId(t.getId()),i.addParentView(e),i.addContainerId(e.getId()),this.setObjectViewToNextHighestZIndex(e),this.setObjectViewToNextHighestZIndex(i),t.options.interactions&&t.options.interactions.length&&e.setMaskInteractions(t.options.interactions),this.addViewToDOM(e.$el[0],i),this.addViewToDOM(t.$el[0],e)},prerenderSmartgroupView:function(t,e){var i=this;t=this.pageView.applyPageContext(t);var n=l.default.createComponentFromObject(t);return n.childViews=e,this.setObjectViewToNextHighestZIndex(n),function t(e){a.default.each(e,(function(e){if("folder"===e.options.type)t(e.childViews);else{var r=e;i.setObjectViewToNextHighestZIndex(r),i.addViewToDOM(n.$el[0],r),"image-component"===e.options.type&&e.$el.css("mix-blend-mode",d.BlendingModes.getDefault()),r.setParentSmartgroup(n),r.updatePositionForHoverArea()}}))}(n.childViews),n.render(),n.addContainerId(n.id),n.doTriggerOnScroll()&&this.pageView._addScrollTriggeredObject(n),n.options.fixedPosition&&this.pageView.setFixedPosition(n),this.addComponentToDOM(n),n},setObjectViewToNextHighestZIndex:function(t){t.setInitialZIndex(this.nextZIndex),this.nextZIndex++},addBlendingModesFocusClass:function(t){var e=r.default.isBrowserFirefox()?"blending-modes-focus-mozilla":"blending-modes-focus";t.$el.addClass(e)},isPrerendered:function(){return"resolved"===this.prerenderDeferred.state()},getPrerenderPromise:function(){return this.prerenderDeferred.promise()},getDocumentFragment:function(){return this.docFrag},getPinnedDocumentFragment:function(){return this.pinnedDocFrag},isPrerenderQueueEmpty:function(){return!this.prerenderWorkQueue||0===this.prerenderWorkQueue.length},prerenderNextWorkItem:function(){var t=this.prerenderWorkQueue.shift();this.prerenderSingleWorkItem(t),t&&t.model&&p.default.hasFeature(g.default.ACCESSIBILITY)&&this.accessibilityOverrides.analyzeLayerForOverrides(t)},prerenderSingleWorkItem:function(t){if(t)if(t.isSmartgroupLayer()){var e=this.prerenderSmartgroupView(t.model,t.childViews);t.setView(e)}else if(t.isFolder()){var i=this.prerenderFolderView(t.model,t.childViews);t.setView(i)}else if(t.isGroup()){var n=this.prerenderGroupView(t.model,t.childViews);t.setView(n)}else if(t.isScranchor())h.default.insert(this.docFrag,t.$el[0],t.x,t.y,!0),t.adjustYCoordinateWithinGroup();else{var r;r=t.findParentSmartgroupOrGroupModel();var o=this.prerenderObjectView(t.model,r);t.setView(o)}}},e.default=m},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(97)),s=n(i(32));e.default=a.default.extend({initialize:function(){a.default.prototype.initialize.call(this),this.childViews={}},hide:function(){o.default.each(this.childViews,(function(t){t.hide()}))},addContainerId:function(t){o.default.each(this.childViews,(function(e){e.addContainerId(t)}))},addParentView:function(t){this.parentViews.push(t),o.default.each(this.childViews,(function(e){e.addParentView(t)}))},areAllParentsVisible:function(){return o.default.every(this.parentViews,(function(t){return t.visible}))},isHovered:function(t){return o.default.some(this.childViews,(function(e){e.isHovered(t)}))},addPointerEvents:function(){o.default.each(this.childViews,(function(t){t.addPointerEvents()}))},runAllChildViewExitAnimations:function(t){this.runningExitAnimations=!0,t=t||[],o.default.each(this.childViews,(function(e){e.runAllChildViewExitAnimations(t)}));var e=this;return r.default.when.apply(r.default,t).done((function(){e.runningExitAnimations=!1})),t},reset:function(){this.runningExitAnimations=!1},getExtents:function(){var t;return this.childViews?o.default.each(this.childViews,function(e){var i=e.getExtents();t=t?s.default.getSmallestContainingRectangle(t,i):i}.bind(this)):t={},t},getFirstAvailableZIndex:function(){var t=0;return this.childViews&&this.childViews.length>0&&(t="folder"===this.childViews[0].options.type?this.childViews[0].getFirstAvailableZIndex():this.childViews[0].$el.css("zIndex")||0),t},isFixedPosition:function(){return!1}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(4)),o=n(i(200)),a=n(i(201)),s=n(i(202)),u=n(i(207)),l=n(i(208)),c=n(i(209)),d=n(i(211)),h=n(i(216)),f=n(i(104)),p=n(i(218)),g=n(i(235)),m=n(i(108)),v=n(i(29)),y=i(109),_=i(238),b=i(240),T=i(242),w=i(243),S=i(245),E=i(280),A=i(282);e.default={createComponentFromObject:function(t){var e=null;switch(t.type){case"html-component":e=new u.default(t);break;case"chartblocks-chart-component":e=new l.default(t);break;case"hubspot-form-component":e=new c.default(t);break;case"marketo-form-component":e=new d.default(t);break;case"hotspot-component":e=new h.default(t);break;case"hotspot-path-component":e=new _.HotspotPathComponentView(t);break;case"canvas-background-component":e=new o.default(t);break;case"shape-component":switch(t.shape){case"square":e=new a.default(t);break;case"circle":e=new b.CircleComponentView(t);break;case"triangle":case"right-triangle":e=new w.TriangleComponentView(t);break;default:e=new s.default(t)}break;case"line-component":e=new T.LineComponentView(t);break;case"image-component":e=v.default.isVectorBased(t.contentType)?new E.VectorImageComponentView(t):new f.default(t);break;case"smartgroup":e=new g.default(t);break;case"group":e=new m.default(t);break;case"mask-group":e=new A.MaskGroupView(t);break;case"text-component":e=new S.TextComponentView(t);break;case"video-widget":e=p.default.create(t);break;case"custom-shape-component":e=new y.CustomShapeComponentView(t);break;default:return r.default.warn("Object type not supported:",t.type),null}return e}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6);e.default=n.AbstractComponentView.extend({type:"canvas-background",initialize:function(t){t.height=t.pageView.getPageHeight(),t.width=t.pageView.documentVersion.getExperienceWidth(),n.AbstractComponentView.prototype.initialize.apply(this,arguments)},applyChanges:function(t){t.height=this.options.pageView.getPageHeight(),t.width=this.options.pageView.documentVersion.getExperienceWidth(),n.AbstractComponentView.prototype.applyChanges.apply(this,arguments)}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=i(6),a=n(i(47));e.default=o.AbstractComponentView.extend({type:"shape",render:function(){if(this.isMaskImage()&&(this.options.allWidth=void 0,this.options.allHeight=void 0,this._configureAllWidthAllHeight()),o.AbstractComponentView.prototype.render.call(this),this.isMaskImage()){var t=this.createMaskImage();this.renderAsMask(t)}else!r.default.isEmpty(this.options.background)||!r.default.isEmpty(this.options.border)&&0!==this.options.border.width||r.default.isEmpty(this.options.action)||this.$el.css({"background-color":"white",opacity:0});return this},hasShadow:function(t){return!r.default.isEmpty(this.options.background)&&o.AbstractComponentView.prototype.hasShadow.call(this,t)},createMaskImage:function(){var t=this.options,e=t.x,i=t.y,n=t.width,r=t.height,o=t.allHeight,s=t.allWidth,u=t.rotation,l=this.getBorderForMask(),c='\n        <svg\n          id="mask-'+this.options.id+'"\n          overflow="visible"\n          xmlns="http://www.w3.org/2000/svg">\n           <rect\n                width="'+n+'"\n                height="'+r+'"\n                style="fill:rgb(0,0,0);\n                stroke-width:0;\n                stroke:rgb(0,0,0)"\n                rx="'+l+'"\n                transform="rotate('+u+", "+s/2+", "+o/2+") translate("+e+", "+i+')"/>\n        </svg>\n      ';return a.default.encodedSvgStringAsBase64(c)},renderAsMask:function(t){var e={"-webkit-mask-image":t,"mask-image":t,"-webkit-mask-repeat":"no-repeat","-webkit-mask-position":"0px 0px"};this.$el.css(e)},isMaskImage:function(){return!(!this.options.maskInfo||!this.options.maskInfo.maskedObjectId)},_applyRotation:function(t){this.isMaskImage()||o.AbstractComponentView.prototype._applyRotation.call(this,t)},_applyPosition:function(t,e){this.isMaskImage()?o.AbstractComponentView.prototype._applyPosition.call(this,0,0):o.AbstractComponentView.prototype._applyPosition.call(this,t,e)},_applyDimensions:function(t,e){this.isMaskImage()?o.AbstractComponentView.prototype._applyDimensions.call(this,this.options.allWidth,this.options.allHeight):o.AbstractComponentView.prototype._applyDimensions.call(this,t,e)},_applyBorder:function(t){this.isMaskImage()||o.AbstractComponentView.prototype._applyBorder.call(this,t)},getBorderForMask:function(){var t=this.options.border;if(t.radius){var e=(t.radius+"").split(",");if(1==e.length)return parseInt(e[0],10)}return 0},getApplyShadowTarget:function(){return this.isMaskImage()&&this.parentViews.length>0?this.parentViews[0].$el:o.AbstractComponentView.prototype.getApplyShadowTarget.call(this)}})},function(t,e,i){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&n(e,t,i);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=a(i(4)),u=a(i(0)),l=a(i(203)),c=a(i(204)),d=a(i(3)),h=o(i(17));e.default=l.default.extend({type:"shape",render:function(){var t=this.canvasElement();if(!u.default.isFunction(t[0].getContext))return this;this.scale=c.default.getScale(),this.startX=0,this.startY=0;var e={width:this.options.width,height:this.options.height};if("square"===this.options.shape)throw Error("This component view cannot be used for square!");this.addShadowPadding(e),this.addBorderPadding(e),this.options.allWidth=e.width,this.options.allHeight=e.height,l.default.prototype.render.call(this);var i=this.options.shadow,n=this.options.border,r=this.options.background,o=e.width,a=e.height;!u.default.isEmpty(r)||!u.default.isEmpty(n)&&0!==n.width||u.default.isEmpty(this.options.action)||t.css({"background-color":"white",opacity:0}),this._applyDimensions(o,a),t[0].width=o*(d.default.retina()?2:1),t[0].height=a*(d.default.retina()?2:1);var s=this.getContextAndApplyBorderShadowStyles();return this.renderBackground(s,n,r,i),this},addShadowPadding:function(t){var e=this.options.shadow;if(!u.default.isEmpty(e)&&!u.default.isEmpty(this.options.background)&&""!==e){var i=this.options.rotation;if(i&&0!==i){var n=u.default.isNumber(e.x)?e.x:0,r=u.default.isNumber(e.y)?e.y:0;i=Math.toRad(i),e.x=n*Math.cos(i)+r*Math.sin(i),e.y=-1*n*Math.sin(i)+r*Math.cos(i)}e.blur=u.default.isNumber(e.blur)?Math.abs(e.blur):0,e.x=u.default.isNumber(e.x)?e.x:0,e.y=u.default.isNumber(e.y)?e.y:0,d.default.retina()&&!e.retinaReady&&(e.blur*=2,e.x*=2,e.y*=2,e.retinaReady=!0),e.x<0&&(this.options.x-=Math.abs(e.x)+e.blur,this.startX+=Math.abs(e.x)+e.blur),e.y<0&&(this.options.y-=Math.abs(e.y)+e.blur,this.startY+=Math.abs(e.y)+e.blur),t.width+=Math.abs(e.x)+e.blur,t.height+=Math.abs(e.y)+e.blur,e.blur>Math.abs(e.x)&&this._applyShadowXOffset(t,e),e.blur>Math.abs(e.y)&&this._applyShadowYOffset(t,e),this.options.shadow=e}},_applyShadowXOffset:function(t,e){var i=e.blur-Math.abs(e.x),n=this.options.isXAdjusted?0:i;t.width+=i,this.startX+=i,this.options.x-=n,this.options.isXAdjusted=!0},_applyShadowYOffset:function(t,e){var i=e.blur-Math.abs(e.y),n=this.options.isYAdjusted?0:i;t.height+=i,this.startY+=i,this.options.y-=n,this.options.isYAdjusted=!0},addBorderPadding:function(t){var e=this.options.border;!u.default.isEmpty(e)&&""!==e&&u.default.isNumber(e.width)&&(t.width+=2*e.width*this._sizeFactorForPointyShapes()+this._offsetForPointyShapes(e),t.height+=2*e.width*this._sizeFactorForPointyShapes()+this._offsetForPointyShapes(e),this.options.x-=e.width+this._offsetForPointyShapes(e),this.options.y-=e.width+this._offsetForPointyShapes(e),this.startX+=e.width+this._offsetForPointyShapes(e),this.startY+=e.width+this._offsetForPointyShapes(e))},getContextAndApplyBorderShadowStyles:function(){var t=this.canvasElement().get(0).getContext("2d");d.default.retina()&&t.scale(2,2),t.translate(this.startX,this.startY);var e=this.options.border;u.default.isEmpty(e)||""===e||(t.lineWidth=1==e.width?1.0001:e.width,t.strokeStyle=e.color);var i=this.options.shadow;return u.default.isEmpty(i)||u.default.isEmpty(this.options.background)||""===i||(t.shadowOffsetX=i.x,t.shadowOffsetY=i.y,t.shadowColor=i.color,t.shadowBlur=i.blur),t},_applyShadow:function(){},_applyBorder:function(){},_applyBackground:function(){},_sizeFactorForPointyShapes:function(){return"star2"==this.options.shape||"double-arrow"==this.options.shape?2:1},_offsetForPointyShapes:function(t){return"star2"==this.options.shape||"double-arrow"==this.options.shape||"single-arrow"==this.options.shape?t.width:0},renderBackground:function(t,e,i,n){t.save(),(u.default.isUndefined(this.options.pathData)||u.default.isNull(this.options.pathData)||""===this.options.pathData)&&(this.path=c.default.getPathFunc(this.options.shape)),"square"==this.options.shape||(null!==this.path?(t.save(),t.scale(this.options.width/this.scale.x,this.options.height/this.scale.y),t.beginPath(),this.path(t),t.closePath(),t.restore()):s.default.error("Unsupported shape")),t.save(),i&&i.gradient?this._renderGradient(t,i.gradient):i&&i.color&&(t.fillStyle=i.color,t.fill()),t.restore(),e&&e.width>0&&t.stroke(),t.restore()},_applyPosition:function(t,e,i){t=u.default.isNil(t)?this.options.x:t,e=u.default.isNil(e)?this.options.y:e;var n=this.getApplyPositionTarget();"square"==this.options.shape?l.default.prototype._applyPosition.call(this,t,e,i):(n.css("left",t+"px"),n.css("top",e+"px"))},_renderGradient:function(t,e){var i=h.calcRotatedLineIntersect(e.angle,this.options.width,this.options.height),n=i.startPt,r=i.endPt,o=t.createLinearGradient(Math.round(n.getX()),Math.round(n.getY()),Math.round(r.getX()),Math.round(r.getY()));u.default.each(e.stops,u.default.bind((function(t){o.addColorStop(t.stop,t.color)}),this)),t.fillStyle=o,t.fill()}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),a=i(6);e.default=a.AbstractComponentView.extend({tagName:"canvas",canvasElement:function(){return this.$el.is("canvas")?this.$el:this.$el.find("canvas")},getApplyDimensionsTarget:function(){return this.$el.add(this.$el.find("canvas"))},applyTagOverride:function(){var t=this.tagOverride(),e=this.canvasElement();if(t){var i=this.getSpecifiedAttributes(this.$el[0].attributes),n=o.default("<"+t.tagName+"></"+t.tagName+">");n.attr(r.default.assign({},i,t.attributes));var a=this.getSpecifiedAttributes(n[0].attributes);if(this.$el.is(t.tagName)&&r.default.isEqual(i,a))return;this.unbindInteractions(),this.$el.replaceWith(n),e.css("left",0),e.css("top",0),this.setElement(n.append(e))}else this.$el.is("canvas")||(this.unbindInteractions(),e.attr("style",this.$el.attr("style")),this.$el.replaceWith(e),this.setElement(e))}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(205)),s=n(i(80)),u=n(i(206)),l=function(){this.shapes=r.default(u.default),this.scale={x:parseInt(this.shapes.filter(":first").attr("width"),10),y:parseInt(this.shapes.filter(":first").attr("height"),10)},this.paths={},this.shapes.find("g").each(o.default.bind((function(t,e){var i,n=(e=r.default(e)).attr("id"),o=e.children(),s=this.getScale().x,u=this.getScale().y;this.paths[n]=null,o.length>0&&(o.is("path")?(i=a.default.parse(o.attr("d")),this.paths[n]=function(t){a.default.trace(t,i)}):o.is("polygon")?(i=a.default.pointsToPath(o.attr("points")),this.paths[n]=function(t){a.default.trace(t,i)}):o.is("circle")?this.paths[n]=function(t){var e=s>u?u/2:s/2;t.translate(s/2,u/2),t.scale(s>u?s/u:1,u>s?u/s:1),t.arc(0,0,e,0,Math.toRad(360),!0)}:o.is("rect")&&(this.paths[n]=function(t){t.rect(0,0,s,u)}))}),this))};o.default.extend(l.prototype,{getScale:function(){return this.scale},getPathFunc:function(t){return this.paths[t]},getAllShapes:function(){return o.default.keys(this.paths)},hasShape:function(t){return o.default.has(this.paths,t)},getImageResource:function(t,e,i,n,a){var u=r.default('<canvas width="'+e+'" height="'+i+'"></canvas>'),l=u[0].getContext("2d");l.save(),l.clearRect(0,0,e,i),o.default.isUndefined(n)||(l.fillStyle=n),o.default.isUndefined(a)||(l.strokeStyle=a);var c=this.getPathFunc(t);null!==c&&(l.scale(e/this.getScale().x,i/this.getScale().y),l.beginPath(),c(l),o.default.isUndefined(n)||l.fill(),o.default.isUndefined(a)||l.stroke()),l.restore();var d=new s.default(u[0].toDataURL());return u.remove(),d}}),e.default=new l},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o,a,s=n(i(4)),u=n(i(0));e.default=(o=function(t,e){"string"==typeof e&&(e=r(e)),t.beginPath();var i,n,o,a,l,c,d=0,h=0,f=null,p=null;u.default.each(e,(function(e,r){var u=e.coords;switch(e.op){case"m":d+=u[0],h+=u[1],t.moveTo(d,h);break;case"M":f=d=u[0],p=h=u[1],t.moveTo(d,h);break;case"c":i=d+u[0],n=h+u[1],o=d+u[2],a=h+u[3],d+=u[4],h+=u[5],l=2*d-o,c=2*h-a,t.bezierCurveTo(i,n,o,a,d,h);break;case"C":i=u[0],n=u[1],o=u[2],a=u[3],d=u[4],h=u[5],l=2*d-o,c=2*h-a,t.bezierCurveTo(i,n,o,a,d,h);break;case"s":o=d+u[0],a=h+u[1],d+=u[2],h+=u[3],t.bezierCurveTo(l,c,o,a,d,h),l=2*d-o,c=2*h-a;break;case"q":i=d+u[0],n=h+u[1],d+=u[2],h+=u[3],l=2*d-i,c=2*h-n,t.quadraticCurveTo(i,n,d,h);break;case"t":d+=u[0],h+=u[1],t.quadraticCurveTo(l,c,d,h),l=2*d-l,c=2*h-c;break;case"l":d+=u[0],h+=u[1],t.lineTo(d,h);break;case"L":d=u[0],h=u[1],t.lineTo(d,h);break;case"h":d+=u[0],t.lineTo(d,h);break;case"H":d=u[0],t.lineTo(d,h);break;case"v":h+=u[0],t.lineTo(d,h);break;case"V":h=u[0],t.lineTo(d,h);break;case"z":case"Z":t.lineTo(f,p);break;default:s.default.warn("UNKNOWN SVG OP: "+e.op)}}))},{pointsToPath:function(t){t=t.replace(/(\s+)/g,";").split(";");var e="M";return u.default.each(t,(function(t,i){t.length>0&&(e+=(0===i?"":"L")+t)})),e+="z"},parse:r=function(t){var e=t.replace(/([MmZzLlHhVvCcSsQqTtAa])\s/g,"$1").replace(/\s-/g,"-").replace(/\s/g,",").match(/([MmZzLlHhVvCcSsQqTtAa](-?\d+[\.\s]?\d*,?)*)/g),i=[];return u.default.each(e,(function(t,n){var r=t.substr(1).replace(/-/g,",-").replace(/(^,)/,"").split(",");u.default.each(r,(function(t,e){r[e]=parseFloat(t)})),i.push({op:e[n].substr(0,1),coords:r})})),i},render:a=function(t,e,i,n){e&&null!==e&&(o(t,e),n&&t.stroke(),i&&t.fill())},stroke:function(t,e){a(t,e,!1,!0)},fill:function(t,e){a(t,e,!0,!1)},trace:o})},function(t,e){t.exports='<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- Generator: Adobe Illustrator 16.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --\x3e\n<svg version="1.2" baseProfile="tiny" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"\n\t y="0px" width="1000px" height="1000px" viewBox="0 0 1000 1000" xml:space="preserve">\n<g id="single-arrow" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M0,346.2l696.6,0V0L1000,500\n\t\tl-303.4,500V653.9L0,653.9V346.2z"/>\n</g>\n<g id="double-arrow" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M232.8,653.9V1000L0,500\n\t\tL232.8,0v346.1l534.5,0V0L1000,500l-232.8,500V653.9L232.8,653.9z"/>\n</g>\n<g id="rounded-square" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M1000,883.3\n\t\tc0,64.2-52.5,116.7-116.7,116.7H116.7C52.5,1000,0,947.5,0,883.3V116.7C0,52.5,52.5,0,116.7,0h766.7C947.5,0,1000,52.5,1000,116.7\n\t\tV883.3z"/>\n</g>\n<g id="triangle" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M500,0L0,1000h1000L500,0"/>\n</g>\n<g id="right-triangle" display="none">\n\t<polygon display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" points="0.1,1000.5\n\t\t1000.5,1000.5 1000.5,0.1 \t"/>\n</g>\n<g id="single-arrow-fat" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M454.5,0L1000,500l-545.5,500\n\t\tV700H0V300h454.5V0z"/>\n</g>\n<g id="double-arrow-fat" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M517,680.3L517,680.3l-252,0\n\t\tV1000L0,500L265,0v319.6h218v0h252V0l265,500l-265,500V680.3H517z"/>\n</g>\n<g id="round-bubble" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M650.3,786.5\n\t\tC516.5,972.5,288.8,1000,288.8,1000c75.1-73.8,98.5-146,100.4-204.9C166.4,754.5,0,594.2,0,402.5C0,180.2,223.9,0,500,0\n\t\ts500,180.2,500,402.5C1000,582.6,853,735.1,650.3,786.5z"/>\n</g>\n<g id="square-bubble" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M796.5,800H648.4l-302.2,200\n\t\tl54.9-200H203.5C91.1,800,0,705.2,0,588.3V211.7C0,94.8,91.1,0,203.5,0h592.9C908.9,0,1000,94.8,1000,211.7v376.7\n\t\tC1000,705.2,908.9,800,796.5,800z"/>\n</g>\n<g id="star" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M500,0l154.5,329.2L1000,382\n\t\tL750,638.2l59,361.8L500,829.2L191,1000l59-361.8L0,382l345.5-52.8L500,0z"/>\n</g>\n<g id="star2" display="none">\n\t<path display="inline" fill-rule="evenodd" fill="none" stroke="#000000" stroke-miterlimit="10" d="M500.3,0l-98.1,410.7L0,382.3\n\t\tl339.8,225.2L191,999.6l308.1-270.4L808.7,1000L659,607.7l341-225.5l-402.3,28.2L500.3,0z"/>\n</g>\n<g id="pentagon" display="none">\n\t<path display="inline" fill="none" stroke="#000000" stroke-miterlimit="10" d="M1000,382l-191,618H191L0,382L500,0L1000,382z"/>\n</g>\n<g id="circle" display="none">\n\t<circle display="inline" fill="none" stroke="#000000" stroke-miterlimit="10" cx="500" cy="500" r="500"/>\n</g>\n<g id="square" display="none">\n\t<rect x="0" y="0" display="inline" fill="none" stroke="#000000" stroke-miterlimit="10" width="1000" height="1000"/>\n</g>\n</svg>\n'},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(2)),s=i(6);e.default=s.AbstractComponentView.extend({type:"html",onActivationStart:function(){if(this.previousCustomHtml!==this.options.customHtml)if(this.previousCustomHtml=this.options.customHtml,-1!==this.options.customHtml.indexOf("http:")&&"https:"===location.protocol)if(a.default.previewMode){this.$el.html("<p style='background-color:white'>Can't load an insecure resource on a secure page. Please publish your experience or change the embed code to use https.</p>")}else this.$el.empty();else if(this._hasHubspotCall()){var t=window.hbspt.forms.create;window.hbspt.forms.create=o.default.bind((function(e){e&&!e.target&&(e.target="#"+r.default.escapeSelector(this.el.id)),t(e)}),this),this._parseHtml(),window.hbspt.forms.create=t}else this._parseHtml()},_parseHtml:function(){this.$el.empty().html(r.default.parseHTML(this.options.customHtml,document,!0))},_hasHubspotCall:function(){return-1!==this.options.customHtml.indexOf("hbspt.forms.create")},_applyBorder:function(){},_applyBackground:function(){},_applyShadow:function(){},_applyOpacity:function(){}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=i(6);e.default=o.AbstractComponentView.extend({type:"chartblocks-chart",renderHash:null,render:function(){o.AbstractComponentView.prototype.render.call(this);var t=this.generateRenderHash();if(t!==this.renderHash){this.oldX=this.options.x,this.oldY=this.options.y;var e=r.default("<iframe />");e.attr({width:this.options.width,height:this.options.height,src:this.getEmbedUrl(),frameBorder:"0"}),this.$el.empty(),this.$el.append(e),this.renderHash=t}},getEmbedUrl:function(){return"//embed.chartblocks.com/1.0/?c="+this.options.chartId+"&t="+this.options.requestToken},generateRenderHash:function(){return[this.options.width,this.options.height,this.options.chartId,this.options.requestToken].join(":")}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),a=n(i(3)),s=n(i(210)),u=n(i(9)),l=n(i(102));e.default=l.default.extend({type:"hubspot-form",getContainerDivId:function(){return"hubspot-"+this.options.id.replace("|","_")},getContainerClassName:function(){return"hubspot-"+(this.options.originalObjectId||this.options.id)},renderForm:function(){this.$el.empty();var t=o.default('<div id="'+this.getContainerDivId()+'"></div>');t.addClass(this.getContainerClassName()),this.$el.append(t),s.default.renderForm({portalId:this.options.hubId,formId:this.options.formId,css:this.options.css,domId:this.getContainerDivId(),onFormSubmit:r.default.bind(this.handleSubmit,this)})},handleSubmit:function(t){this.doIframeHack(t),this.triggerSubmitInteractions("hubspot",this.options.hubId)},scaleComponent:function(){var t=this.options.pageView.getScaleContext().ratio,e=this.$("#"+this.getContainerDivId());this.options.pageView.scaleContext.useZoom(t)?e.css({zoom:1/t,transform:"scale("+t+")","transform-origin":"0 0",width:100/t+"%","-moz-transform-origin":"0 0","-webkit-transform-origin":"0 0","-ms-transform-origin":"0 0"}):e.css({zoom:"initial",transform:"initial","transform-origin":"initial",width:"initial","-moz-transform-origin":"initial","-webkit-transform-origin":"initial","-ms-transform-origin":"initial"}),l.default.prototype.scaleComponent.call(this)},doIframeHack:function(t){if(a.default.isIos()||a.default.edge||a.default.isDesktopSafari()||a.default.msie){var e=!1,i=null,n=o.default(t).find("input[name=hs_context]").val();if(!r.default.isEmpty(n))try{var s=JSON.parse(n),l=u.default.getLocationWithoutParamsAndLayoutOrPageNumber();s.redirectUrl&&0===s.redirectUrl.indexOf(l)&&(i=s.redirectUrl),e=r.default.isEmpty(s.redirectUrl)||Boolean(i)}catch(t){}if(e){o.default("#hubspot-submit").remove();var c=o.default("<iframe></iframe>");c.attr("id","hubspot-submit"),c.attr("name","hubspot-submit"),c.css({position:"absolute",left:"99999px"}),o.default(document.body).append(c),o.default(t).attr("target","hubspot-submit"),i&&this.doThankYouMessageHack(t,i)}}},doThankYouMessageHack:function(t,e){var i=window.location.href,n=e+"&submissionGuid=1";window.history.replaceState({},"",n),r.default.defer(r.default.bind((function(){o.default(t).remove(),s.default.renderForm({portalId:this.options.hubId,formId:this.options.formId,css:this.options.css,domId:this.getContainerDivId(),onFormReady:function(){window.history.replaceState({},"",i)}})}),this))}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1));e.default={renderForm:function(t){t.onFormReady=t.onFormReady||r.default.noop,t.onFormSubmit=t.onFormSubmit||r.default.noop;var e=null;t.onTimeout&&(e=setTimeout(t.onTimeout,1e4)),this.removeStyleTagForDomId(t.domId),window.hbspt.forms.create({portalId:t.portalId,formId:t.formId,css:t.css,target:"#"+t.domId,onFormReady:function(i,n){e&&clearTimeout(e);var r=o.default("head style").last();-1!==r.text().indexOf(t.css)&&r.attr("data-hubspot-form",t.domId),t.onFormReady(i,n)},onFormSubmit:t.onFormSubmit})},removeStyleTagForDomId:function(t){o.default("style[data-hubspot-form="+t+"]").remove()}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),a=n(i(212)),s=n(i(102));e.default=s.default.extend({type:"marketo-form",getContainerDivId:function(){return"marketo-"+this.options.id.replace("|","_")},getContainerClassName:function(){return"marketo-"+(this.options.originalObjectId||this.options.id)},renderForm:function(){this.$el.empty();var t=o.default('<form id="'+this.getContainerDivId()+'"></form>');t.addClass(this.getContainerClassName()),this.$el.append(t),a.default.renderForm({munchkinId:this.options.munchkinId,formId:this.options.formId,marketoInstanceUrl:this.options.marketoInstanceUrl,domId:this.getContainerDivId(),renderingElement:t,onFormSubmit:r.default.bind(this.handleSubmit,this),onFormReady:r.default.bind(this.handleReady,this),onTimeout:function(){window.Rollbar&&window.Rollbar.error("Marketo form failed to load. (Timeout error.)",{munchkinId:this.options.munchkinId,formId:this.options.formId,marketoInstanceUrl:this.options.marketoInstanceUrl})}})},handleReady:function(t){},handleSubmit:function(t,e){return this.triggerSubmitInteractions("marketo",this.options.munchkinId),r.default.defer(r.default.bind(this.renderForm,this)),!1}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),a=n(i(7)),s=n(i(213));e.default={renderForm:function(t){var e=this;t.onFormReady=t.onFormReady||r.default.noop,t.onFormSubmit=t.onFormSubmit||r.default.noop;var i=null;t.onTimeout&&(i=setTimeout(t.onTimeout,1e4)),window.MktoForms2.loadForm(t.marketoInstanceUrl,t.munchkinId,t.formId,(function(n){n?(n.render(t.renderingElement),i&&clearTimeout(i),n.getFormElem().find(".cf_widgetLoader").length>0?e.waitForSocialSignonRender(n).done((function(){n.onSuccess(t.onFormSubmit),t.onFormReady(n)})).fail((function(){t.onTimeout&&t.onTimeout()})):(n.onSuccess(t.onFormSubmit),t.onFormReady(n))):(i&&clearTimeout(i),t.onError&&t.onError(a.default.render("Your form, {{formName}}, has been deleted from your Marketo account. Please make a new form in Marketo or choose an existing form for this experience.",{formName:t.formName})))}))},waitForSocialSignonRender:function(t){var e=new o.default.Deferred,i=r.default.bind((function(){return o.default.trim(t.getFormElem().find(".cf_widget_socialsignon").html())}),this);return s.default.waitFor(i,125,1e4).done((function(){e.resolve()})).fail((function(){e.reject()})),e.promise()}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(214));e.default={waitFor:function(t,e,i){var n=new r.default.Deferred,a=o.default(),s=function(){t()?n.resolve():o.default()-a>i?n.reject():setTimeout(s,e)};return s(),n.promise()}}},function(t,e,i){"use strict";var n;(function(r){var o,a,s=Math.round,u={},l=t.exports,c=/^\/?Date\((\-?\d+)/i,d=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,h=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,f=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,p=/\d\d?/,g=/\d{1,3}/,m=/\d{3}/,v=/\d{1,4}/,y=/[+\-]?\d{1,6}/,_=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,b=/Z|[\+\-]\d\d:?\d\d/i,T=/T/i,w=/[\+\-]?\d+(\.\d{1,3})?/,S=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,E=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],A=/([\+\-]|\d\d)/gi,C="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),P={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},I={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},O={},x="DDD w W M D d".split(" "),k="M D H h m s w W".split(" "),R={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return B(this.year()%100,2)},YYYY:function(){return B(this.year(),4)},YYYYY:function(){return B(this.year(),5)},gg:function(){return B(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return B(this.weekYear(),5)},GG:function(){return B(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return B(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return B(~~(this.milliseconds()/10),2)},SSS:function(){return B(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+B(~~(t/60),2)+":"+B(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+B(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};function M(t,e){return function(i){return B(t.call(this,i),e)}}function L(t,e){return function(i){return this.lang().ordinal(t.call(this,i),e)}}for(;x.length;)a=x.pop(),R[a+"o"]=L(R[a],a);for(;k.length;)a=k.pop(),R[a+a]=M(R[a],2);function D(){}function N(t){U(this,t)}function F(t){var e=t.years||t.year||t.y||0,i=t.months||t.month||t.M||0,n=t.weeks||t.week||t.w||0,r=t.days||t.day||t.d||0,o=t.hours||t.hour||t.h||0,a=t.minutes||t.minute||t.m||0,s=t.seconds||t.second||t.s||0,u=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=u+1e3*s+6e4*a+36e5*o,this._days=r+7*n,this._months=i+12*e,this._data={},this._bubble()}function U(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function V(t){return t<0?Math.ceil(t):Math.floor(t)}function B(t,e){for(var i=t+"";i.length<e;)i="0"+i;return i}function j(t,e,i,n){var r,a,s=e._milliseconds,u=e._days,l=e._months;s&&t._d.setTime(+t._d+s*i),(u||l)&&(r=t.minute(),a=t.hour()),u&&t.date(t.date()+u*i),l&&t.month(t.month()+l*i),s&&!n&&o.updateOffset(t),(u||l)&&(t.minute(r),t.hour(a))}function H(t){return"[object Array]"===Object.prototype.toString.call(t)}function G(t,e){var i,n=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0;for(i=0;i<n;i++)~~t[i]!=~~e[i]&&o++;return o+r}function W(t){return t?I[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function z(t){if(!t)return o.fn._lang;if(!u[t]&&l)try{i(215)("./"+t)}catch(t){return o.fn._lang}return u[t]}function $(t,e){var i=5;function n(e){return t.lang().longDateFormat(e)||e}for(;i--&&f.test(e);)e=e.replace(f,n);return O[e]||(O[e]=function(t){var e,i,n,r=t.match(h);for(e=0,i=r.length;e<i;e++)R[r[e]]?r[e]=R[r[e]]:r[e]=(n=r[e]).match(/\[.*\]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(n){var o="";for(e=0;e<i;e++)o+=r[e]instanceof Function?r[e].call(n,t):r[e];return o}}(e)),O[e](t)}function q(t,e){switch(t){case"DDDD":return m;case"YYYY":return v;case"YYYYY":return y;case"S":case"SS":case"SSS":case"DDD":return g;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return _;case"a":case"A":return z(e._l)._meridiemParse;case"X":return w;case"Z":case"ZZ":return b;case"T":return T;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return p;default:return new RegExp(t.replace("\\",""))}}function Y(t){var e=((b.exec(t)||[])[0]+"").match(A)||["-",0,0],i=60*e[1]+~~e[2];return"+"===e[0]?-i:i}function K(t,e,i){var n,r=i._a;switch(t){case"M":case"MM":r[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":null!=(n=z(i._l).monthsParse(e))?r[1]=n:i._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(r[2]=~~e);break;case"YY":r[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":r[0]=~~e;break;case"a":case"A":i._isPm=z(i._l).isPM(e);break;case"H":case"HH":case"h":case"hh":r[3]=~~e;break;case"m":case"mm":r[4]=~~e;break;case"s":case"ss":r[5]=~~e;break;case"S":case"SS":case"SSS":r[6]=~~(1e3*("0."+e));break;case"X":i._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=Y(e)}null==e&&(i._isValid=!1)}function X(t){var e,i,n=[];if(!t._d){for(e=0;e<7;e++)t._a[e]=n[e]=null==t._a[e]?2===e?1:0:t._a[e];n[3]+=~~((t._tzm||0)/60),n[4]+=~~((t._tzm||0)%60),i=new Date(0),t._useUTC?(i.setUTCFullYear(n[0],n[1],n[2]),i.setUTCHours(n[3],n[4],n[5],n[6])):(i.setFullYear(n[0],n[1],n[2]),i.setHours(n[3],n[4],n[5],n[6])),t._d=i}}function Z(t){var e,i,n=t._f.match(h),r=t._i;for(t._a=[],e=0;e<n.length;e++)(i=(q(n[e],t).exec(r)||[])[0])&&(r=r.slice(r.indexOf(i)+i.length)),R[n[e]]&&K(n[e],i,t);r&&(t._il=r),t._isPm&&t._a[3]<12&&(t._a[3]+=12),!1===t._isPm&&12===t._a[3]&&(t._a[3]=0),X(t)}function Q(t){var e=t._i,i=c.exec(e);e===r?t._d=new Date:i?t._d=new Date(+i[1]):"string"==typeof e?function(t){var e,i=t._i,n=S.exec(i);if(n){for(t._f="YYYY-MM-DD"+(n[2]||" "),e=0;e<4;e++)if(E[e][1].exec(i)){t._f+=E[e][0];break}b.exec(i)&&(t._f+=" Z"),Z(t)}else t._d=new Date(i)}(t):H(e)?(t._a=e.slice(0),X(t)):t._d=e instanceof Date?new Date(+e):new Date(e)}function J(t,e,i,n,r){return r.relativeTime(e||1,!!i,t,n)}function tt(t,e,i){var n,r=i-e,a=i-t.day();return a>r&&(a-=7),a<r-7&&(a+=7),n=o(t).add("d",a),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function et(t){var e=t._i,i=t._f;return null===e||""===e?null:("string"==typeof e&&(t._i=e=z().preparse(e)),o.isMoment(e)?(t=U({},e))._d=new Date(+e._d):i?H(i)?function(t){var e,i,n,r,o,a=99;for(r=0;r<t._f.length;r++)(e=U({},t))._f=t._f[r],Z(e),i=new N(e),o=G(e._a,i.toArray()),i._il&&(o+=i._il.length),o<a&&(a=o,n=i);U(t,n)}(t):Z(t):Q(t),new N(t))}function it(t,e){o.fn[t]=o.fn[t+"s"]=function(t){var i=this._isUTC?"UTC":"";return null!=t?(this._d["set"+i+e](t),o.updateOffset(this),this):this._d["get"+i+e]()}}for(R.DDDD=M(R.DDD,3),D.prototype={set:function(t){var e,i;for(i in t)"function"==typeof(e=t[i])?this[i]=e:this["_"+i]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,i,n;for(this._monthsParse||(this._monthsParse=[]),e=0;e<12;e++)if(this._monthsParse[e]||(i=o([2e3,e]),n="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[e]=new RegExp(n.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;e<7;e++)if(this._weekdaysParse[e]||(i=o([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var i=this._calendar[t];return"function"==typeof i?i.apply(e):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,i,n){var r=this._relativeTime[i];return"function"==typeof r?r(t,e,i,n):r.replace(/%d/i,t)},pastFuture:function(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return tt(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},(o=function(t,e,i){return et({_i:t,_f:e,_l:i,_isUTC:!1})}).utc=function(t,e,i){return et({_useUTC:!0,_isUTC:!0,_l:i,_i:t,_f:e})},o.unix=function(t){return o(1e3*t)},o.duration=function(t,e){var i,n,r=o.isDuration(t),a="number"==typeof t,s=r?t._input:a?{}:t,u=d.exec(t);return a?e?s[e]=t:s.milliseconds=t:u&&(i="-"===u[1]?-1:1,s={y:0,d:~~u[2]*i,h:~~u[3]*i,m:~~u[4]*i,s:~~u[5]*i,ms:~~u[6]*i}),n=new F(s),r&&t.hasOwnProperty("_lang")&&(n._lang=t._lang),n},o.version="2.1.0",o.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",o.updateOffset=function(){},o.lang=function(t,e){if(!t)return o.fn._lang._abbr;e?function(t,e){e.abbr=t,u[t]||(u[t]=new D),u[t].set(e),u[t]}(t,e):u[t]||z(t),o.duration.fn._lang=o.fn._lang=z(t)},o.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),z(t)},o.isMoment=function(t){return t instanceof N},o.isDuration=function(t){return t instanceof F},o.fn=N.prototype={clone:function(){return o(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return $(o(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._a?this._isValid=!G(this._a,(this._isUTC?o.utc(this._a):o(this._a)).toArray()):this._isValid=!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=$(this,t||o.defaultFormat);return this.lang().postformat(e)},add:function(t,e){return j(this,"string"==typeof t?o.duration(+e,t):o.duration(t,e),1),this},subtract:function(t,e){return j(this,"string"==typeof t?o.duration(+e,t):o.duration(t,e),-1),this},diff:function(t,e,i){var n,r,a=this._isUTC?o(t).zone(this._offset||0):o(t).local(),s=6e4*(this.zone()-a.zone());return"year"===(e=W(e))||"month"===e?(n=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),r+=(this-o(this).startOf("month")-(a-o(a).startOf("month")))/n,r-=6e4*(this.zone()-o(this).startOf("month").zone()-(a.zone()-o(a).startOf("month").zone()))/n,"year"===e&&(r/=12)):(n=this-a,r="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-s)/864e5:"week"===e?(n-s)/6048e5:n),i?r:V(r)},from:function(t,e){return o.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(o(),t)},calendar:function(){var t=this.diff(o().startOf("day"),"days",!0),e=t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(e,this))},isLeapYear:function(){var t=this.year();return t%4==0&&t%100!=0||t%400==0},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&"number"!=typeof(t=this.lang().weekdaysParse(t))?this:this.add({d:t-e}):e},month:function(t){var e,i=this._isUTC?"UTC":"";return null!=t?("string"==typeof t&&"number"!=typeof(t=this.lang().monthsParse(t))||(e=this.date(),this.date(1),this._d["set"+i+"Month"](t),this.date(Math.min(e,this.daysInMonth())),o.updateOffset(this)),this):this._d["get"+i+"Month"]()},startOf:function(t){switch(t=W(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(t){return this.startOf(t).add(t,1).subtract("ms",1)},isAfter:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)>+o(t).startOf(e)},isBefore:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)<+o(t).startOf(e)},isSame:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)==+o(t).startOf(e)},min:function(t){return(t=o.apply(null,arguments))<this?this:t},max:function(t){return(t=o.apply(null,arguments))>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=Y(t)),Math.abs(t)<16&&(t*=60),this._offset=t,this._isUTC=!0,e!==t&&j(this,o.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return o.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var e=s((o(this).startOf("day")-o(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},weekYear:function(t){var e=tt(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=tt(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=tt(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},lang:function(t){return t===r?this._lang:(this._lang=z(t),this)}},a=0;a<C.length;a++)it(C[a].toLowerCase().replace(/s$/,""),C[a]);function nt(t){o.duration.fn[t]=function(){return this._data[t]}}function rt(t,e){o.duration.fn["as"+t]=function(){return+this/e}}for(a in it("year","FullYear"),o.fn.days=o.fn.day,o.fn.months=o.fn.month,o.fn.weeks=o.fn.week,o.fn.isoWeeks=o.fn.isoWeek,o.fn.toJSON=o.fn.toISOString,o.duration.fn=F.prototype={_bubble:function(){var t,e,i,n,r=this._milliseconds,o=this._days,a=this._months,s=this._data;s.milliseconds=r%1e3,t=V(r/1e3),s.seconds=t%60,e=V(t/60),s.minutes=e%60,i=V(e/60),s.hours=i%24,o+=V(i/24),s.days=o%30,a+=V(o/30),s.months=a%12,n=V(a/12),s.years=n},weeks:function(){return V(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(t){var e,i,n,r,o,a,u,l,c,d=+this,h=(e=d,i=!t,n=this.lang(),r=s(Math.abs(e)/1e3),o=s(r/60),a=s(o/60),u=s(a/24),l=s(u/365),(c=r<45&&["s",r]||1===o&&["m"]||o<45&&["mm",o]||1===a&&["h"]||a<22&&["hh",a]||1===u&&["d"]||u<=25&&["dd",u]||u<=45&&["M"]||u<345&&["MM",s(u/30)]||1===l&&["y"]||["yy",l])[2]=i,c[3]=e>0,c[4]=n,J.apply({},c));return t&&(h=this.lang().pastFuture(d,h)),this.lang().postformat(h)},add:function(t,e){var i=o.duration(t,e);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(t,e){var i=o.duration(t,e);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(t){return this[(t=W(t)).toLowerCase()+"s"]()},as:function(t){return this["as"+(t=W(t)).charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:o.fn.lang},P)P.hasOwnProperty(a)&&(rt(a,P[a]),nt(a.toLowerCase()));rt("Weeks",6048e5),o.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},o.lang("en",{ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),l&&(t.exports=o),"undefined"==typeof ender&&(this.moment=o),(n=function(){return o}.apply(e,[]))===r||(t.exports=n)}).call(this)},function(t,e,i){var n={"./i-live-here":103,"./i-live-here.js":103};function r(t){var e=o(t);return i(e)}function o(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=o,t.exports=r,r.id=215},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(6);e.default=n.AbstractComponentView.extend({type:"hotspot",render:function(){return n.AbstractComponentView.prototype.render.call(this),this.$el.css({"background-color":"transparent"}),this},_applyBorder:function(){},_applyBackground:function(){},_applyShadow:function(){},_applyOpacity:function(){},isUsingHoverAreaForMouseOut:function(){return!1}})},function(t,e){t.exports='<div class="media-loading__media-type-icon {{#isImage}}-image{{/isImage}}{{^isImage}}-video{{/isImage}}"></div>\n<div class="media-loading__spinner"><div class="loader-spinner"></div></div>\n'},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=n(i(219)),a=n(i(222)),s=i(223),u=n(i(104)),l=n(i(233)),c=n(i(234)),d=n(i(13)),h=n(i(14));function f(t){return r.default.mobile()?new a.default(t):d.default.hasFeature(h.default.ACCESSIBILITY)&&d.default.hasFeature(h.default.ACCESSIBLE_VIDEO)?new s.VideoComponentView(t):new o.default(t)}function p(t){return t.imageLoader=t.posterLoader,new u.default(t)}function g(t){return l.default.isNoSupport()?function(t){if(t.noAutoplayFallbackOption===c.default.NO_AUTOPLAY_FALLBACK_OPTIONS.SHOW_THUMBNAIL_IMAGE)return p(t);return f(t)}(t):l.default.isMutedSupport()?function(t){var e=t.mutedAutoplayFallbackOption;if(e===c.default.MUTED_AUTOPLAY_FALLBACK_OPTIONS.TAP_TO_PLAY)return f(t);if(e===c.default.MUTED_AUTOPLAY_FALLBACK_OPTIONS.SHOW_THUMBNAIL_IMAGE)return p(t);return t.tapToPlay=!1,t.muted=!0,f(t)}(t):(t.tapToPlay=!1,f(t))}e.default={create:function(t){return t.videoAutoPlay?g(t):f(t)}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(3)),s=n(i(50)),u=n(i(221));e.default=s.default.extend({_getVideoFormats:function(){var t=[];return a.default.isIE11()&&a.default.isWindowsLessThan("8.1")||t.push({format:"hls-playlist",type:"vnd.apple.mpegurl"}),t.concat([{format:"original",type:"mp4"},{format:"h264-high",type:"mp4"},{format:"h264-low",type:"mp4"}])},doPlatformSpecificSetup:function(){var t=this.getResolvedVideoUrlForFormat("hls-playlist");if(u.default.isSupported()&&t){var e=new u.default;e.startLevel=-1,e.loadSource(t),e.attachMedia(this.videoHandle)}else this._setVideoSources();a.default.isBrowserChromeGreaterThanOrEqualTo(67)&&this._isShowControls()&&(this.$el.addClass("hide-native-play-button"),this.$el.on("mouseenter",o.default.bind((function(t){this.videoHandle.readyState<=1||(this._isPlaying()?this.showPauseButton():this.showPlayButton())}),this)).on("mouseleave",o.default.bind((function(t){this.$pauseButton&&this.$pauseButton.fadeOut()}),this)),this.$vid.on("ended",o.default.bind((function(t){this.showPlayButton()}),this)),this.$el.on("mousemove",o.default.bind((function(t){this._isPlaying()&&this.showPauseButton()}),this)))},configurePlatformSpecificEvents:function(){this.$vid.on("progress load canplaythrough",o.default.bind((function(){this.videoHandle.readyState>1&&(this.isVideoReady=!0,this.canAutoplay()?this._hidePosterAndShowVideo():this.showPlayButton(),this.trigger(this.EVENTS.VIDEO_READY),this.$vid.off("progress load canplaythrough"))}),this)),this.$vid.on("play",o.default.bind((function(t){this.$playButton&&this.$playButton.hide()}),this))},showPlayButton:function(){if(!this._isPlaying()){if(this.$playButton)return this.$playButton.removeAttr("aria-hidden"),void this.$playButton.show();this.$playButton=r.default("<button>",{attr:{"aria-label":"Play Video"},class:"video-play-button"}),this.options.width>64&&this.options.height>64?this.$playButton.addClass("video-play-button-large"):this.$playButton.addClass("video-play-button-small"),this.$el.append(this.$playButton),this.$playButton.on("click",o.default.bind((function(t){t.preventDefault(),this._hidePosterAndShowVideo(),this.$playButton.hide(),this.$playButton.attr("aria-hidden",!0),this.videoHandle.play(),a.default.isBrowserChromeGreaterThanOrEqualTo(67)&&this.showPauseButton()}),this))}},showPauseButton:function(){if(this._isPlaying()){if(this.$pauseButton)return this.pauseButtonTimeout&&clearTimeout(this.pauseButtonTimeout),this.$pauseButton.show(),this.$pauseButton.removeAttr("aria-hidden"),void this.setPauseButtonTimeout();this.$pauseButton=r.default("<div>",{attr:{"aria-label":"Pause Video"},class:"video-pause-button"}),this.options.width>64&&this.options.height>64?this.$pauseButton.addClass("video-pause-button-large"):this.$pauseButton.addClass("video-pause-button-small"),this.$el.append(this.$pauseButton),this.$pauseButton.on("click",o.default.bind((function(t){t.preventDefault(),this.manuallyPause(),this.$pauseButton.hide(),this.$pauseButton.attr("aria-hidden",!0),this.showPlayButton()}),this)),this.setPauseButtonTimeout()}},setPauseButtonTimeout:function(){this.pauseButtonTimeout=setTimeout(o.default.bind((function(){this.$pauseButton.fadeOut()}),this),2500)}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={on:function(t,e){throw new Error("on() must be defined by child class")},getPosition:function(){throw new Error("getPosition() must be defined by child class")},getLength:function(){throw new Error("getLength() must be defined by child class")},isPlaying:function(){throw new Error("isPlaying() must be defined by child class")},getCurrentSource:function(){throw new Error("getCurrentSource() must be defined by child class")}}},function(t,e,i){"use strict";"undefined"!=typeof self&&self,t.exports=function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=27)}([function(t,e,i){function n(){}function r(t,e){return"["+t+"] > "+e}function o(t){var e=self.console[t];return e?function(){for(var i=arguments.length,n=Array(i),o=0;o<i;o++)n[o]=arguments[o];n[0]&&(n[0]=r(t,n[0])),e.apply(self.console,n)}:n}i.d(e,"a",(function(){return l})),i.d(e,"b",(function(){return c}));var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s={trace:n,debug:n,log:n,warn:n,info:n,error:n},u=s,l=function(t){if(!0===t||"object"===(void 0===t?"undefined":a(t))){!function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];i.forEach((function(e){u[e]=t[e]?t[e].bind(t):o(e)}))}(t,"debug","log","info","warn","error");try{u.log()}catch(t){u=s}}else u=s},c=s},function(t,e,i){e.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(t,e,i){i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return r}));var n={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},r={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(t,e,i){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=i(0),o=i(2),a=i(1),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=new Set(["hlsEventGeneric","hlsHandlerDestroying","hlsHandlerDestroyed"]),l=function(){function t(e){n(this,t),this.hls=e,this.onEvent=this.onEvent.bind(this);for(var i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}return t.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},t.prototype.onHandlerDestroying=function(){},t.prototype.onHandlerDestroyed=function(){},t.prototype.isEventHandler=function(){return"object"===s(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},t.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){if(u.has(t))throw new Error("Forbidden event-name: "+t);this.hls.on(t,this.onEvent)}),this)},t.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){this.hls.off(t,this.onEvent)}),this)},t.prototype.onEvent=function(t,e){this.onEventGeneric(t,e)},t.prototype.onEventGeneric=function(t,e){try{(function(t,e){var i="on"+t.replace("hls","");if("function"!=typeof this[i])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+i+")");return this[i].bind(this,e)}).call(this,t,e).call()}catch(e){r.b.error("An internal error happened while handling event "+t+'. Error message: "'+e.message+'". Here is a stacktrace:',e),this.hls.trigger(a.a.ERROR,{type:o.b.OTHER_ERROR,details:o.a.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}},t}();e.a=l},function(t,e,i){!function(e){var i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/;?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,a={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),!(e=e.trim())){if(!i.alwaysNormalize)return t;var r=a.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=a.normalizePath(r.path),a.buildURLFromParts(r)}var o=a.parseURL(e);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return i.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):e;var s=a.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=n.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,d=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(d)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=i.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(r,"");t.length!==(t=t.replace(o,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=a}()},function(t,e,i){i.d(e,"b",(function(){return r}));var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,i){for(var n=i,r=0;t.isHeader(e,i);)r+=10,r+=t._readSize(e,i+6),t.isFooter(e,i+10)&&(r+=10),i+=r;if(r>0)return e.subarray(n,n+r)},t._readSize=function(t,e){var i=0;return i=(127&t[e])<<21,i|=(127&t[e+1])<<14,(i|=(127&t[e+2])<<7)|127&t[e+3]},t.getTimeStamp=function(e){for(var i=t.getID3Frames(e),n=0;n<i.length;n++){var r=i[n];if(t.isTimeStampFrame(r))return t._readTimeStamp(r)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var i=String.fromCharCode(e[0],e[1],e[2],e[3]),n=t._readSize(e,4);return{type:i,size:n,data:e.subarray(10,10+n)}},t.getID3Frames=function(e){for(var i=0,n=[];t.isHeader(e,i);){for(var r=t._readSize(e,i+6),o=(i+=10)+r;i+8<o;){var a=t._getFrameData(e.subarray(i)),s=t._decodeFrame(a);s&&n.push(s),i+=a.size+10}t.isFooter(e,i)&&(i+=10)}return n},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),i=1&e[3],n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,i&&(n+=47721858.84),Math.round(n)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var i=t._utf8ArrayToStr(e.data,!0),n=new Uint8Array(e.data.subarray(i.length+1));return{key:e.type,info:i,data:n.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var i=1,n=t._utf8ArrayToStr(e.data.subarray(i));i+=n.length+1;var r=t._utf8ArrayToStr(e.data.subarray(i));return{key:e.type,info:n,data:r}}var o=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:o}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var i=1,n=t._utf8ArrayToStr(e.data.subarray(i));i+=n.length+1;var r=t._utf8ArrayToStr(e.data.subarray(i));return{key:e.type,info:n,data:r}}var o=t._utf8ArrayToStr(e.data);return{key:e.type,data:o}},t._utf8ArrayToStr=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.length,n=void 0,r=void 0,o=void 0,a="",s=0;s<i;){if(0===(n=t[s++])&&e)return a;if(0!==n&&3!==n)switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=String.fromCharCode(n);break;case 12:case 13:r=t[s++],a+=String.fromCharCode((31&n)<<6|63&r);break;case 14:r=t[s++],o=t[s++],a+=String.fromCharCode((15&n)<<12|(63&r)<<6|(63&o)<<0)}}return a},t}(),r=n._utf8ArrayToStr;e.a=n},function(t,e,i){var n=i(4),r=i.n(n),o=i(16),a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(){var e;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this._elementaryStreams=((e={})[t.ElementaryStreamTypes.AUDIO]=!1,e[t.ElementaryStreamTypes.VIDEO]=!1,e)}return t.prototype.addElementaryStream=function(t){this._elementaryStreams[t]=!0},t.prototype.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},t.prototype.createInitializationVector=function(t){for(var e=new Uint8Array(16),i=12;i<16;i++)e[i]=t>>8*(15-i)&255;return e},t.prototype.fragmentDecryptdataFromLevelkey=function(t,e){var i=t;return t&&t.method&&t.uri&&!t.iv&&((i=new o.a).method=t.method,i.baseuri=t.baseuri,i.reluri=t.reluri,i.iv=this.createInitializationVector(e)),i},a(t,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=r.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var t=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var i=this.lastByteRangeEndOffset;t[0]=i||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0],this._byteRange=t}return t}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}],[{key:"ElementaryStreamTypes",get:function(){return{AUDIO:"audio",VIDEO:"video"}}}]),t}();e.a=s},function(t,e,i){e.a={search:function(t,e){for(var i=0,n=t.length-1,r=null,o=null;i<=n;){var a=e(o=t[r=(i+n)/2|0]);if(a>0)i=r+1;else{if(!(a<0))return o;n=r-1}}return null}}},function(t,e,i){e.a={isBuffered:function(t,e){try{if(t)for(var i=t.buffered,n=0;n<i.length;n++)if(e>=i.start(n)&&e<=i.end(n))return!0}catch(t){}return!1},bufferInfo:function(t,e,i){try{if(t){var n=t.buffered,r=[],o=void 0;for(o=0;o<n.length;o++)r.push({start:n.start(o),end:n.end(o)});return this.bufferedInfo(r,e,i)}}catch(t){}return{len:0,start:e,end:e,nextStart:void 0}},bufferedInfo:function(t,e,i){var n=[],r=void 0,o=void 0,a=void 0,s=void 0,u=void 0;for(t.sort((function(t,e){return t.start-e.start||e.end-t.end})),u=0;u<t.length;u++){var l=n.length;if(l){var c=n[l-1].end;t[u].start-c<i?t[u].end>c&&(n[l-1].end=t[u].end):n.push(t[u])}else n.push(t[u])}for(u=0,r=0,o=a=e;u<n.length;u++){var d=n[u].start,h=n[u].end;if(e+i>=d&&e<h)o=d,r=(a=h)-e;else if(e+i<d){s=d;break}}return{len:r,start:o,end:a,nextStart:s}}}},function(t,e,i){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=i(33),o=i(34),a=i(35),s=i(2),u=i(0),l=function(){function t(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.removePKCS7Padding,a=void 0===o||o;if(n(this,t),this.logEnabled=!0,this.observer=e,this.config=i,this.removePKCS7Padding=a,a)try{var s=crypto||self.crypto;this.subtle=s.subtle||s.webkitSubtle}catch(t){}this.disableWebCrypto=!this.subtle}return t.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},t.prototype.decrypt=function(t,e,i,n){var s=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(u.b.log("JS AES decrypt"),this.logEnabled=!1);var l=this.decryptor;l||(this.decryptor=l=new a.a),l.expandKey(e),n(l.decrypt(t,0,i,this.removePKCS7Padding))}else{this.logEnabled&&(u.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new o.a(c,e)),this.fastAesKey.expandKey().then((function(o){new r.a(c,i).decrypt(t,o).catch((function(r){s.onWebCryptoError(r,t,e,i,n)})).then((function(t){n(t)}))})).catch((function(r){s.onWebCryptoError(r,t,e,i,n)}))}},t.prototype.onWebCryptoError=function(t,e,i,n,r){this.config.enableSoftwareAES?(u.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,i,n,r)):(u.b.error("decrypting error : "+t.message),this.observer.trigger(Event.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},t.prototype.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e.a=l},function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function r(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,a,s,u,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(o(i=this._events[t]))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(r(i))for(s=Array.prototype.slice.call(arguments,1),a=(l=i.slice()).length,u=0;u<a;u++)l[u].apply(this,s);return!0},i.prototype.addListener=function(t,e){var a;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?r(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,r(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var r=!1;return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,e){var i,o,a,s;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(i=this._events[t]).length,o=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(r(i)){for(s=a;s-- >0;)if(i[s]===e||i[s].listener&&i[s].listener===e){o=s;break}if(o<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,i){e.a=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}},function(t,e,i){i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return a}));var n=i(3),r=i(1),o={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"},a=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,r.a.BUFFER_APPENDED,r.a.FRAG_BUFFERED,r.a.FRAG_LOADED));return n.bufferPadding=.2,n.fragments=Object.create(null),n.timeRanges=Object.create(null),n.config=i.config,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.fragments=null,this.timeRanges=null,this.config=null,n.a.prototype.destroy.call(this),t.prototype.destroy.call(this)},e.prototype.getBufferedFrag=function(t,e){var i=this.fragments,n=Object.keys(i).filter((function(n){var r=i[n];if(r.body.type!==e)return!1;if(!r.buffered)return!1;var o=r.body;return o.startPTS<=t&&t<=o.endPTS}));if(0===n.length)return null;var r=n.pop();return i[r].body},e.prototype.detectEvictedFragments=function(t,e){var i=this,n=void 0,r=void 0;Object.keys(this.fragments).forEach((function(o){var a=i.fragments[o];if(!0===a.buffered){var s=a.range[t];if(s){n=s.time;for(var u=0;u<n.length;u++)if(r=n[u],!1===i.isTimeBuffered(r.startPTS,r.endPTS,e)){i.removeFragment(a.body);break}}}}))},e.prototype.detectPartialFragments=function(t){var e=this,i=this.getFragmentKey(t),n=this.fragments[i];n&&(n.buffered=!0,Object.keys(this.timeRanges).forEach((function(i){if(!0===t.hasElementaryStream(i)){var r=e.timeRanges[i];n.range[i]=e.getBufferedTimes(t.startPTS,t.endPTS,r)}})))},e.prototype.getBufferedTimes=function(t,e,i){for(var n=[],r=void 0,o=void 0,a=!1,s=0;s<i.length;s++){if(r=i.start(s)-this.bufferPadding,o=i.end(s)+this.bufferPadding,t>=r&&e<=o){n.push({startPTS:Math.max(t,i.start(s)),endPTS:Math.min(e,i.end(s))});break}if(t<o&&e>r)n.push({startPTS:Math.max(t,i.start(s)),endPTS:Math.min(e,i.end(s))}),a=!0;else if(e<=r)break}return{time:n,partial:a}},e.prototype.getFragmentKey=function(t){return t.type+"_"+t.level+"_"+t.sn},e.prototype.getPartialFragment=function(t){var e=this,i=void 0,n=void 0,r=void 0,o=null,a=0;return Object.keys(this.fragments).forEach((function(s){var u=e.fragments[s];e.isPartial(u)&&(n=u.body.startPTS-e.bufferPadding,r=u.body.endPTS+e.bufferPadding,t>=n&&t<=r&&(i=Math.min(t-n,r-t),a<=i&&(o=u.body,a=i)))})),o},e.prototype.getState=function(t){var e=this.getFragmentKey(t),i=this.fragments[e],n=o.NOT_LOADED;return void 0!==i&&(n=i.buffered?!0===this.isPartial(i)?o.PARTIAL:o.OK:o.APPENDING),n},e.prototype.isPartial=function(t){return!0===t.buffered&&(void 0!==t.range.video&&!0===t.range.video.partial||void 0!==t.range.audio&&!0===t.range.audio.partial)},e.prototype.isTimeBuffered=function(t,e,i){for(var n=void 0,r=void 0,o=0;o<i.length;o++){if(n=i.start(o)-this.bufferPadding,r=i.end(o)+this.bufferPadding,t>=n&&e<=r)return!0;if(e<=n)return!1}return!1},e.prototype.onFragLoaded=function(t){var e=t.frag;if(!isNaN(e.sn)){var i=this.getFragmentKey(e),n={body:e,range:Object.create(null),buffered:!1};this.fragments[i]=n}},e.prototype.onBufferAppended=function(t){var e=this;this.timeRanges=t.timeRanges,Object.keys(this.timeRanges).forEach((function(t){var i=e.timeRanges[t];e.detectEvictedFragments(t,i)}))},e.prototype.onFragBuffered=function(t){this.detectPartialFragments(t.frag)},e.prototype.hasFragment=function(t){var e=this.getFragmentKey(t);return void 0!==this.fragments[e]},e.prototype.removeFragment=function(t){var e=this.getFragmentKey(t);delete this.fragments[e]},e.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},e}(n.a)},function(t,e,i){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var o=function(t){function e(i){n(this,e);for(var o=arguments.length,a=Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];var u=r(this,t.call.apply(t,[this,i].concat(a)));return u._tickInterval=null,u._tickCallCount=0,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.clearInterval(),t.prototype.destroy.call(this)},e.prototype.hasInterval=function(){return null!==this._tickInterval},e.prototype.setInterval=function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return!this._tickInterval&&(this._tickInterval=setInterval(this.tick.bind(this,!1),t),!0)})),e.prototype.clearInterval=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)})),e.prototype.tick=function(){1==++this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&setTimeout(this.tick.bind(this),0),this._tickCallCount=0)},e.prototype.doTick=function(){throw new Error("TaskLoop is abstract and `doLoop` must be implemented")},e}(i(3).a);e.a=o},function(t,e,i){var n=i(1),r=i(3),o=i(2),a=i(0),s=i(15),u=i(28),l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},d={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},h=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n.a.MANIFEST_LOADING,n.a.LEVEL_LOADING,n.a.AUDIO_TRACK_LOADING,n.a.SUBTITLE_TRACK_LOADING));return r.loaders={},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.canHaveQualityLevels=function(t){return t!==c.AUDIO_TRACK&&t!==c.SUBTITLE_TRACK},e.mapContextToLevelType=function(t){switch(t.type){case c.AUDIO_TRACK:return d.AUDIO;case c.SUBTITLE_TRACK:return d.SUBTITLE;default:return d.MAIN}},e.getResponseUrl=function(t,e){var i=t.url;return void 0!==i&&0!==i.indexOf("data:")||(i=e.url),i},e.prototype.createInternalLoader=function(t){var e=this.hls.config,i=e.pLoader,n=e.loader,r=new(i||n)(e);return t.loader=r,this.loaders[t.type]=r,r},e.prototype.getInternalLoader=function(t){return this.loaders[t.type]},e.prototype.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},e.prototype.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},e.prototype.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},e.prototype.onManifestLoading=function(t){this.load(t.url,{type:c.MANIFEST})},e.prototype.onLevelLoading=function(t){this.load(t.url,{type:c.LEVEL,level:t.level,id:t.id})},e.prototype.onAudioTrackLoading=function(t){this.load(t.url,{type:c.AUDIO_TRACK,id:t.id})},e.prototype.onSubtitleTrackLoading=function(t){this.load(t.url,{type:c.SUBTITLE_TRACK,id:t.id})},e.prototype.load=function(t,e){var i=this.hls.config,n=this.getInternalLoader(e);if(n){var r=n.context;if(r&&r.url===t)return a.b.trace("playlist request ongoing"),!1;a.b.warn("aborting previous loader for type: "+e.type),n.abort()}var o,s,u=void 0,l=void 0,d=void 0,h=void 0;switch(e.type){case c.MANIFEST:u=i.manifestLoadingMaxRetry,l=i.manifestLoadingTimeOut,d=i.manifestLoadingRetryDelay,h=i.manifestLoadingMaxRetryTimeout;break;case c.LEVEL:u=0,l=i.levelLoadingTimeOut;break;default:u=i.levelLoadingMaxRetry,l=i.levelLoadingTimeOut,d=i.levelLoadingRetryDelay,h=i.levelLoadingMaxRetryTimeout,a.b.log("Playlist loader for "+e.type+" "+(e.level||e.id))}return n=this.createInternalLoader(e),e.url=t,e.responseType=e.responseType||"",o={timeout:l,maxRetry:u,retryDelay:d,maxRetryDelay:h},s={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},n.load(e,o,s),!0},e.prototype.loadsuccess=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(i.isSidxRequest)return this._handleSidxRequest(t,i),void this._handlePlaylistLoaded(t,e,i,n);this.resetInternalLoader(i.type);var r=t.data;e.tload=performance.now(),0===r.indexOf("#EXTM3U")?r.indexOf("#EXTINF:")>0||r.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(t,e,i,n):this._handleMasterPlaylist(t,e,i,n):this._handleManifestParsingError(t,i,"no EXTM3U delimiter",n)},e.prototype.loaderror=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._handleNetworkError(e,i)},e.prototype.loadtimeout=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._handleNetworkError(e,i,!0)},e.prototype._handleMasterPlaylist=function(t,i,r,o){var s=this.hls,l=t.data,c=e.getResponseUrl(t,r),d=u.a.parseMasterPlaylist(l,c);if(d.length){var h=d.map((function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}})),f=u.a.parseMasterPlaylistMedia(l,c,"AUDIO",h),p=u.a.parseMasterPlaylistMedia(l,c,"SUBTITLES");if(f.length){var g=!1;f.forEach((function(t){t.url||(g=!0)})),!1===g&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(a.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),f.unshift({type:"main",name:"main"}))}s.trigger(n.a.MANIFEST_LOADED,{levels:d,audioTracks:f,subtitles:p,url:c,stats:i,networkDetails:o})}else this._handleManifestParsingError(t,r,"no level found in manifest",o)},e.prototype._handleTrackOrLevelPlaylist=function(t,i,r,o){var a=this.hls,s=r.id,l=r.level,d=r.type,h=e.getResponseUrl(t,r),f=isNaN(l)?isNaN(s)?0:s:l,p=e.mapContextToLevelType(r),g=u.a.parseLevelPlaylist(t.data,h,f,p);if(g.tload=i.tload,d===c.MANIFEST){var m={url:h,details:g};a.trigger(n.a.MANIFEST_LOADED,{levels:[m],audioTracks:[],url:h,stats:i,networkDetails:o})}if(i.tparsed=performance.now(),g.needSidxRanges){var v=g.initSegment.url;this.load(v,{isSidxRequest:!0,type:d,level:l,levelDetails:g,id:s,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else r.levelDetails=g,this._handlePlaylistLoaded(t,i,r,o)},e.prototype._handleSidxRequest=function(t,e){var i=s.a.parseSegmentIndex(new Uint8Array(t.data));i.references.forEach((function(t,i){var n=t.info,r=e.levelDetails.fragments[i];0===r.byteRange.length&&(r.rawByteRange=String(1+n.end-n.start)+"@"+String(n.start))})),e.levelDetails.initSegment.rawByteRange=String(i.moovEndOffset)+"@0"},e.prototype._handleManifestParsingError=function(t,e,i,r){this.hls.trigger(n.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:i,networkDetails:r})},e.prototype._handleNetworkError=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=void 0,a=void 0,s=this.getInternalLoader(t);switch(t.type){case c.MANIFEST:r=i?o.a.MANIFEST_LOAD_TIMEOUT:o.a.MANIFEST_LOAD_ERROR,a=!0;break;case c.LEVEL:r=i?o.a.LEVEL_LOAD_TIMEOUT:o.a.LEVEL_LOAD_ERROR,a=!1;break;case c.AUDIO_TRACK:r=i?o.a.AUDIO_TRACK_LOAD_TIMEOUT:o.a.AUDIO_TRACK_LOAD_ERROR,a=!1;break;default:a=!1}s&&(s.abort(),this.resetInternalLoader(t.type)),this.hls.trigger(n.a.ERROR,{type:o.b.NETWORK_ERROR,details:r,fatal:a,url:s.url,loader:s,context:t,networkDetails:e})},e.prototype._handlePlaylistLoaded=function(t,i,r,o){var a=r.type,s=r.level,u=r.id,l=r.levelDetails;if(l.targetduration)if(e.canHaveQualityLevels(r.type))this.hls.trigger(n.a.LEVEL_LOADED,{details:l,level:s||0,id:u||0,stats:i,networkDetails:o});else switch(a){case c.AUDIO_TRACK:this.hls.trigger(n.a.AUDIO_TRACK_LOADED,{details:l,id:u,stats:i,networkDetails:o});break;case c.SUBTITLE_TRACK:this.hls.trigger(n.a.SUBTITLE_TRACK_LOADED,{details:l,id:u,stats:i,networkDetails:o})}else this._handleManifestParsingError(t,r,"invalid target duration",o)},l(e,null,[{key:"ContextType",get:function(){return c}},{key:"LevelType",get:function(){return d}}]),e}(r.a);e.a=h},function(t,e,i){var n=i(0),r=i(1),o=Math.pow(2,32)-1,a=function(){function t(e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e,this.remuxer=i}return t.prototype.resetTimeStamp=function(t){this.initPTS=t},t.prototype.resetInitSegment=function(e,i,n,o){if(e&&e.byteLength){var a=this.initData=t.parseInitSegment(e);null==i&&(i="mp4a.40.5"),null==n&&(n="avc1.42e01e");var s={};a.audio&&a.video?s.audiovideo={container:"video/mp4",codec:i+","+n,initSegment:o?e:null}:(a.audio&&(s.audio={container:"audio/mp4",codec:i,initSegment:o?e:null}),a.video&&(s.video={container:"video/mp4",codec:n,initSegment:o?e:null})),this.observer.trigger(r.a.FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else i&&(this.audioCodec=i),n&&(this.videoCodec=n)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint16=function(t,e){t.data&&(e+=t.start,t=t.data);var i=t[e]<<8|t[e+1];return i<0?65536+i:i},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var i=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return i<0?4294967296+i:i},t.writeUint32=function(t,e,i){t.data&&(e+=t.start,t=t.data),t[e]=i>>24,t[e+1]=i>>16&255,t[e+2]=i>>8&255,t[e+3]=255&i},t.findBox=function(e,i){var n=[],r=void 0,o=void 0,a=void 0,s=void 0,u=void 0,l=void 0;if(e.data?(u=e.start,a=e.end,e=e.data):(u=0,a=e.byteLength),!i.length)return null;for(r=u;r<a;)l=(o=t.readUint32(e,r))>1?r+o:a,t.bin2str(e.subarray(r+4,r+8))===i[0]&&(1===i.length?n.push({data:e,start:r+8,end:l}):(s=t.findBox({data:e,start:r+8,end:l},i.slice(1))).length&&(n=n.concat(s))),r=l;return n},t.parseSegmentIndex=function(e){var i=t.findBox(e,["moov"])[0],n=i?i.end:null,r=0,o=t.findBox(e,["sidx"]),a=void 0;if(!o||!o[0])return null;a=[];var s=(o=o[0]).data[0];r=0===s?8:16;var u=t.readUint32(o,r);r+=4,r+=0===s?8:16,r+=2;var l=o.end+0,c=t.readUint16(o,r);r+=2;for(var d=0;d<c;d++){var h=r,f=t.readUint32(o,h);h+=4;var p=2147483647&f;if(1==(2147483648&f)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var g=t.readUint32(o,h);h+=4,a.push({referenceSize:p,subsegmentDuration:g,info:{duration:g/u,start:l,end:l+p-1}}),l+=p,r=h+=4}return{earliestPresentationTime:0,timescale:u,version:s,referencesCount:c,references:a,moovEndOffset:n}},t.parseInitSegment=function(e){var i=[];return t.findBox(e,["moov","trak"]).forEach((function(e){var r=t.findBox(e,["tkhd"])[0];if(r){var o=r.data[r.start],a=0===o?12:20,s=t.readUint32(r,a),u=t.findBox(e,["mdia","mdhd"])[0];if(u){a=0===(o=u.data[u.start])?12:20;var l=t.readUint32(u,a),c=t.findBox(e,["mdia","hdlr"])[0];if(c){var d={soun:"audio",vide:"video"}[t.bin2str(c.data.subarray(c.start+8,c.start+12))];if(d){var h=t.findBox(e,["mdia","minf","stbl","stsd"]);if(h.length){h=h[0];var f=t.bin2str(h.data.subarray(h.start+12,h.start+16));n.b.log("MP4Demuxer:"+d+":"+f+" found")}i[s]={timescale:l,type:d},i[d]={timescale:l,id:s}}}}}})),i},t.getStartDTS=function(e,i){var n,r,o=void 0;return o=t.findBox(i,["moof","traf"]),n=[].concat.apply([],o.map((function(i){return t.findBox(i,["tfhd"]).map((function(n){var r,o;return r=t.readUint32(n,4),o=e[r].timescale||9e4,t.findBox(i,["tfdt"]).map((function(e){var i,n=void 0;return i=e.data[e.start],n=t.readUint32(e,4),1===i&&(n*=Math.pow(2,32),n+=t.readUint32(e,8)),n}))[0]/o}))}))),r=Math.min.apply(null,n),isFinite(r)?r:0},t.offsetStartDTS=function(e,i,n){t.findBox(i,["moof","traf"]).map((function(i){return t.findBox(i,["tfhd"]).map((function(r){var a=t.readUint32(r,4),s=e[a].timescale||9e4;t.findBox(i,["tfdt"]).map((function(e){var i=e.data[e.start],r=t.readUint32(e,4);if(0===i)t.writeUint32(e,4,r-n*s);else{r*=Math.pow(2,32),r+=t.readUint32(e,8),r-=n*s,r=Math.max(r,0);var a=Math.floor(r/(o+1)),u=Math.floor(r%(o+1));t.writeUint32(e,4,a),t.writeUint32(e,8,u)}}))}))}))},t.prototype.append=function(e,i,n,o){var a=this.initData;a||(this.resetInitSegment(e,this.audioCodec,this.videoCodec,!1),a=this.initData);var s,u=this.initPTS;if(void 0===u){var l=t.getStartDTS(a,e);this.initPTS=u=l-i,this.observer.trigger(r.a.INIT_PTS_FOUND,{initPTS:u})}t.offsetStartDTS(a,e,u),s=t.getStartDTS(a,e),this.remuxer.remux(a.audio,a.video,null,null,s,n,o,e)},t.prototype.destroy=function(){},t}();e.a=a},function(t,e,i){var n=i(4),r=i.n(n),o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.method=null,this.key=null,this.iv=null,this._uri=null}return o(t,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=r.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),t}();e.a=a},function(t,e,i){function n(t,e){var i=o[e];return!!i&&!0===i[t.slice(0,4)]}function r(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}i.d(e,"b",(function(){return n})),i.d(e,"a",(function(){return r}));var o={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}}},function(t,e,i){var n=i(1),r=i(19),o=i(0),a=i(2),s=i(10),u=i.n(s),l=i(45),c=i.n(l),d=i(11),h=Object(d.a)(),f=function(){function t(e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.hls=e,this.id=i;var s=this.observer=new u.a,l=e.config;s.trigger=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];s.emit.apply(s,[t,t].concat(i))},s.off=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];s.removeListener.apply(s,[t].concat(i))};var d=function(t,i){(i=i||{}).frag=this.frag,i.id=this.id,e.trigger(t,i)}.bind(this);s.on(n.a.FRAG_DECRYPTED,d),s.on(n.a.FRAG_PARSING_INIT_SEGMENT,d),s.on(n.a.FRAG_PARSING_DATA,d),s.on(n.a.FRAG_PARSED,d),s.on(n.a.ERROR,d),s.on(n.a.FRAG_PARSING_METADATA,d),s.on(n.a.FRAG_PARSING_USERDATA,d),s.on(n.a.INIT_PTS_FOUND,d);var f={mp4:h.isTypeSupported("video/mp4"),mpeg:h.isTypeSupported("audio/mpeg"),mp3:h.isTypeSupported('audio/mp4; codecs="mp3"')},p=navigator.vendor;if(l.enableWorker&&"undefined"!=typeof Worker){o.b.log("demuxing in webworker");var g=void 0;try{g=this.w=c()(46),this.onwmsg=this.onWorkerMessage.bind(this),g.addEventListener("message",this.onwmsg),g.onerror=function(t){e.trigger(n.a.ERROR,{type:a.b.OTHER_ERROR,details:a.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},g.postMessage({cmd:"init",typeSupported:f,vendor:p,id:i,config:JSON.stringify(l)})}catch(t){o.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),g&&URL.revokeObjectURL(g.objectURL),this.demuxer=new r.a(s,f,l,p),this.w=void 0}}else this.demuxer=new r.a(s,f,l,p)}return t.prototype.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var i=this.observer;i&&(i.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,e,i,n,r,a,s,u){var l=this.w,c=isNaN(r.startDTS)?r.start:r.startDTS,d=r.decryptdata,h=this.frag,f=!(h&&r.cc===h.cc),p=!(h&&r.level===h.level),g=h&&r.sn===h.sn+1,m=!p&&g;if(f&&o.b.log(this.id+":discontinuity detected"),p&&o.b.log(this.id+":switch detected"),this.frag=r,l)l.postMessage({cmd:"demux",data:t,decryptdata:d,initSegment:e,audioCodec:i,videoCodec:n,timeOffset:c,discontinuity:f,trackSwitch:p,contiguous:m,duration:a,accurateTimeOffset:s,defaultInitPTS:u},t instanceof ArrayBuffer?[t]:[]);else{var v=this.demuxer;v&&v.push(t,d,e,i,n,c,f,p,m,a,s,u)}},t.prototype.onWorkerMessage=function(t){var e=t.data,i=this.hls;switch(e.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case n.a.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,i.trigger(e.event,e.data)}},t}();e.a=f},function(t,e,i){var n=i(1),r=i(2),o=i(9),a=i(36),s=i(15),u=i(37),l=i(40),c=i(41),d=i(44),h=function(){function t(e,i,n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e,this.typeSupported=i,this.config=n,this.vendor=r}return t.prototype.destroy=function(){var t=this.demuxer;t&&t.destroy()},t.prototype.push=function(t,e,i,r,a,s,u,l,c,d,h,f){if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var p=this.decrypter;null==p&&(p=this.decrypter=new o.a(this.observer,this.config));var g=this,m=void 0;try{m=performance.now()}catch(t){m=Date.now()}p.decrypt(t,e.key.buffer,e.iv.buffer,(function(t){var o=void 0;try{o=performance.now()}catch(t){o=Date.now()}g.observer.trigger(n.a.FRAG_DECRYPTED,{stats:{tstart:m,tdecrypt:o}}),g.pushDecrypted(new Uint8Array(t),e,new Uint8Array(i),r,a,s,u,l,c,d,h,f)}))}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(i),r,a,s,u,l,c,d,h,f)},t.prototype.pushDecrypted=function(t,e,i,o,h,f,p,g,m,v,y,_){var b=this.demuxer;if(!b||(p||g)&&!this.probe(t)){for(var T=this.observer,w=this.typeSupported,S=this.config,E=[{demux:u.a,remux:c.a},{demux:s.a,remux:d.a},{demux:a.a,remux:c.a},{demux:l.a,remux:c.a}],A=0,C=E.length;A<C;A++){var P=E[A],I=P.demux.probe;if(I(t)){var O=this.remuxer=new P.remux(T,S,w,this.vendor);b=new P.demux(T,O,S,w),this.probe=I;break}}if(!b)return void T.trigger(n.a.ERROR,{type:r.b.MEDIA_ERROR,details:r.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=b}var x=this.remuxer;(p||g)&&(b.resetInitSegment(i,o,h,v),x.resetInitSegment()),p&&(b.resetTimeStamp(_),x.resetTimeStamp(_)),"function"==typeof b.setDecryptData&&b.setDecryptData(e),b.append(t,f,m,y)},t}();e.a=h},function(t,e,i){function n(t,e){return 255===t[e]&&240==(246&t[e+1])}function r(t,e){return 1&t[e+1]?7:9}function o(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function a(t){return 9216e4/t}function s(t,e,i,n,a){var s,u=void 0,l=t.length;if(s=r(t,e),u=o(t,e),(u-=s)>0&&e+s+u<=l)return{headerLength:s,frameLength:u,stamp:i+n*a}}e.d=function(t,e){return!!(e+1<t.length&&n(t,e))},e.e=function(t,e){if(e+1<t.length&&n(t,e)){var i=r(t,e);e+5<t.length&&(i=o(t,e));var a=e+i;if(a===t.length||a+1<t.length&&n(t,a))return!0}return!1},e.c=function(t,e,i,n,r){if(!t.samplerate){var o=function(t,e,i,n){var r,o=void 0,a=void 0,s=void 0,c=void 0,d=navigator.userAgent.toLowerCase(),h=n,f=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return o=1+((192&e[i+2])>>>6),(r=(60&e[i+2])>>>2)>f.length-1?void t.trigger(Event.ERROR,{type:l.b.MEDIA_ERROR,details:l.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+r}):(s=(1&e[i+2])<<2,s|=(192&e[i+3])>>>6,u.b.log("manifest codec:"+n+",ADTS data:type:"+o+",sampleingIndex:"+r+"["+f[r]+"Hz],channelConfig:"+s),/firefox/i.test(d)?r>=6?(o=5,c=new Array(4),a=r-3):(o=2,c=new Array(2),a=r):-1!==d.indexOf("android")?(o=2,c=new Array(2),a=r):(o=5,c=new Array(4),n&&(-1!==n.indexOf("mp4a.40.29")||-1!==n.indexOf("mp4a.40.5"))||!n&&r>=6?a=r-3:((n&&-1!==n.indexOf("mp4a.40.2")&&(r>=6&&1===s||/vivaldi/i.test(d))||!n&&1===s)&&(o=2,c=new Array(2)),a=r)),c[0]=o<<3,c[0]|=(14&r)>>1,c[1]|=(1&r)<<7,c[1]|=s<<3,5===o&&(c[1]|=(14&a)>>1,c[2]=(1&a)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:f[r],channelCount:s,codec:"mp4a.40."+o,manifestCodec:h})}(e,i,n,r);t.config=o.config,t.samplerate=o.samplerate,t.channelCount=o.channelCount,t.codec=o.codec,t.manifestCodec=o.manifestCodec,u.b.log("parsed codec:"+t.codec+",rate:"+o.samplerate+",nb channel:"+o.channelCount)}},e.b=a,e.a=function(t,e,i,n,r){var o=s(e,i,n,r,a(t.samplerate));if(o){var u=o.stamp,l=o.headerLength,c=o.frameLength,d={unit:e.subarray(i+l,i+l+c),pts:u,dts:u};return t.samples.push(d),t.len+=c,{sample:d,length:c+l}}};var u=i(0),l=i(2)},function(t,e,i){var n={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,i,n,r){if(!(i+24>e.length)){var o=this.parseHeader(e,i);if(o&&i+o.frameLength<=e.length){var a=n+r*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:e.subarray(i,i+o.frameLength),pts:a,dts:a};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(s),t.len+=o.frameLength,{sample:s,length:o.frameLength}}}},parseHeader:function(t,e){var i=t[e+1]>>3&3,r=t[e+1]>>1&3,o=t[e+2]>>4&15,a=t[e+2]>>2&3,s=t[e+2]>>1&1;if(1!==i&&0!==o&&15!==o&&3!==a){var u=3===i?3-r:3===r?3:4,l=1e3*n.BitratesMap[14*u+o-1],c=3===i?0:2===i?1:2,d=n.SamplingRateMap[3*c+a],h=t[e+3]>>6==3?1:2,f=n.SamplesCoefficients[i][r],p=n.BytesInSlot[r],g=8*f*p;return{sampleRate:d,channelCount:h,frameLength:parseInt(f*l/d+s,10)*p,samplesPerFrame:g}}},isHeaderPattern:function(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var i=this.parseHeader(t,e),n=4;i&&i.frameLength&&(n=i.frameLength);var r=e+n;if(r===t.length||r+1<t.length&&this.isHeaderPattern(t,r))return!0}return!1}};e.a=n},function(t,e,i){function n(t,e,i){var n=t[e],r=t[i],a=r.startPTS;isNaN(a)?r.start=i>e?n.start+n.duration:Math.max(n.start-r.duration,0):i>e?(n.duration=a-n.start,n.duration<0&&o.b.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):(r.duration=n.start-a,r.duration<0&&o.b.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!"))}function r(t,e,i,r,o,a){var s=i;if(!isNaN(e.startPTS)){var u=Math.abs(e.startPTS-i);isNaN(e.deltaPTS)?e.deltaPTS=u:e.deltaPTS=Math.max(u,e.deltaPTS),s=Math.max(i,e.startPTS),i=Math.min(i,e.startPTS),r=Math.max(r,e.endPTS),o=Math.min(o,e.startDTS),a=Math.max(a,e.endDTS)}var l=i-e.start;e.start=e.startPTS=i,e.maxStartPTS=s,e.endPTS=r,e.startDTS=o,e.endDTS=a,e.duration=r-i;var c=e.sn;if(!t||c<t.startSN||c>t.endSN)return 0;var d,h=void 0,f=void 0;for(d=c-t.startSN,(h=t.fragments)[d]=e,f=d;f>0;f--)n(h,f,f-1);for(f=d;f<h.length-1;f++)n(h,f,f+1);return t.PTSKnown=!0,l}e.b=r,e.a=function(t,e){var i=Math.max(t.startSN,e.startSN)-e.startSN,n=Math.min(t.endSN,e.endSN)-e.startSN,a=e.startSN-t.startSN,s=t.fragments,u=e.fragments,l=0,c=void 0;if(e.initSegment&&t.initSegment&&(e.initSegment=t.initSegment),n<i)e.PTSKnown=!1;else{for(var d=i;d<=n;d++){var h=s[a+d],f=u[d];f&&h&&(l=h.cc-f.cc,isNaN(h.startPTS)||(f.start=f.startPTS=h.startPTS,f.endPTS=h.endPTS,f.duration=h.duration,f.backtracked=h.backtracked,f.dropped=h.dropped,c=f))}if(l)for(o.b.log("discontinuity sliding from playlist, take drift into account"),d=0;d<u.length;d++)u[d].cc+=l;if(c)r(e,c,c.startPTS,c.endPTS,c.startDTS,c.endDTS);else if(a>=0&&a<s.length){var p=s[a].start;for(d=0;d<u.length;d++)u[d].start+=p}e.PTSKnown=t.PTSKnown}};var o=i(0)},function(t,e,i){e.a={toString:function(t){for(var e="",i=t.length,n=0;n<i;n++)e+="["+t.start(n).toFixed(3)+","+t.end(n).toFixed(3)+"]";return e}}},function(t,e,i){function n(t,e){var i=t.fragments,n=e.fragments;if(n.length&&i.length){var r=function(t,e){for(var i=null,n=0;n<t.length;n+=1){var r=t[n];if(r&&r.cc===e){i=r;break}}return i}(i,n[0].cc);return!r||r&&!r.startPTS?void a.b.log("No frag in previous level to align on"):r}a.b.log("No fragments to align")}function r(t,e){e.fragments.forEach((function(e){if(e){var i=e.start+t;e.start=e.startPTS=i,e.endPTS=i+e.duration}})),e.PTSKnown=!0}e.b=function(t,e){return o.a.search(t,(function(t){return t.cc<e?1:t.cc>e?-1:0}))},e.a=function(t,e,i){if(function(t,e,i){var n=!1;return e&&e.details&&i&&(i.endCC>i.startCC||t&&t.cc<i.startCC)&&(n=!0),n}(t,e,i)){var o=n(e.details,i);o&&(a.b.log("Adjusting PTS using last level due to CC increase within current level"),r(o.start,i))}if(!1===i.PTSKnown&&e&&e.details&&e.details.fragments&&e.details.fragments.length){var s=e.details.programDateTime,u=(i.programDateTime-s)/1e3+e.details.fragments[0].start;isNaN(u)||(a.b.log("adjusting PTS using programDateTime delta, sliding:"+u.toFixed(3)),r(u,i))}};var o=i(7),a=i(0)},function(t,e,i){e.b=function(t,e){var i=null;try{i=new window.Event("addtrack")}catch(t){(i=document.createEvent("Event")).initEvent("addtrack",!1,!1)}i.track=t,e.dispatchEvent(i)},e.a=function(t){if(t&&t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}},function(t,e,i){function n(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new l,this.regionList=[]}function r(){this.values=Object.create(null)}function o(t,e,i,n){var r=n?t.split(n):[t];for(var o in r)if("string"==typeof r[o]){var a=r[o].split(i);2===a.length&&e(a[0],a[1])}}function a(t,e,i){function n(){var e=function(t){function e(t,e,i,n){return 3600*(0|t)+60*(0|e)+(0|i)+(0|n)/1e3}var i=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}(t);if(null===e)throw new Error("Malformed timestamp: "+s);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function a(){t=t.replace(/^\s+/,"")}var s=t;if(a(),e.startTime=n(),a(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+s);t=t.substr(3),a(),e.endTime=n(),a(),function(t,e){var n=new r;o(t,(function(t,e){switch(t){case"region":for(var r=i.length-1;r>=0;r--)if(i[r].id===e){n.set(t,i[r].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var o=e.split(","),a=o[0];n.integer(t,a),n.percent(t,a)&&n.set("snapToLines",!1),n.alt(t,a,["auto"]),2===o.length&&n.alt("lineAlign",o[1],["start",d,"end"]);break;case"position":o=e.split(","),n.percent(t,o[0]),2===o.length&&n.alt("positionAlign",o[1],["start",d,"end","line-left","line-right","auto"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start",d,"end","left","right"])}}),/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical","");var a=n.get("line","auto");"auto"===a&&-1===c.line&&(a=-1),e.line=a,e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align",d);var s=n.get("position","auto");"auto"===s&&50===c.position&&(s="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=s}(t,e)}function s(t){return t.replace(/<br(?: \/)?>/gi,"\n")}i.d(e,"b",(function(){return s}));var u=i(61),l=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};r.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var c=new u.a(0,0,0),d="middle"===c.align?"middle":"center";n.prototype={parse:function(t){function e(){var t=i.buffer,e=0;for(t=s(t);e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,i.buffer=t.substr(e),n}var i=this;t&&(i.buffer+=i.decoder.decode(t,{stream:!0}));try{var n=void 0;if("INITIAL"===i.state){if(!/\r\n|\n/.test(i.buffer))return this;var r=(n=e()).match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Error("Malformed WebVTT signature.");i.state="HEADER"}for(var l=!1;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(l?l=!1:n=e(),i.state){case"HEADER":/:/.test(n)?function(t){o(t,(function(t,e){switch(t){case"Region":console.log("parse region",e)}}),/:/)}(n):n||(i.state="ID");continue;case"NOTE":n||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(n)){i.state="NOTE";break}if(!n)continue;if(i.cue=new u.a(0,0,""),i.state="CUE",-1===n.indexOf("--\x3e")){i.cue.id=n;continue}case"CUE":try{a(n,i.cue,i.regionList)}catch(t){i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var c=-1!==n.indexOf("--\x3e");if(!n||c&&(l=!0)){i.oncue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}i.cue.text&&(i.cue.text+="\n"),i.cue.text+=n;continue;case"BADCUE":n||(i.state="ID");continue}}}catch(t){"CUETEXT"===i.state&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state="INITIAL"===i.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new Error("Malformed WebVTT signature.")}catch(t){throw t}return t.onflush&&t.onflush(),this}},e.a=n},function(t,e,i){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=i(4),o=i.n(r),a=i(2),s=i(14),u=i(30),l=i(31),c=i(32),d=i(47),h=i(48),f=i(49),p=i(0),g=i(50),m=i(12),v=i(1),y=i(10),_=i.n(y),b=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();i(70);var T=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,t);var r=t.DefaultConfig;if((i.liveSyncDurationCount||i.liveMaxLatencyDurationCount)&&(i.liveSyncDuration||i.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var o in r)o in i||(i[o]=r[o]);if(void 0!==i.liveMaxLatencyDurationCount&&i.liveMaxLatencyDurationCount<=i.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==i.liveMaxLatencyDuration&&(i.liveMaxLatencyDuration<=i.liveSyncDuration||void 0===i.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(p.a)(i.debug),this.config=i,this._autoLevelCapping=-1;var a=this.observer=new _.a;a.trigger=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];a.emit.apply(a,[t,t].concat(i))},a.off=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];a.removeListener.apply(a,[t].concat(i))},this.on=a.on.bind(a),this.off=a.off.bind(a),this.trigger=a.trigger.bind(a);var f=this.abrController=new i.abrController(this),g=new i.bufferController(this),v=new i.capLevelController(this),y=new i.fpsController(this),b=new s.a(this),T=new u.a(this),w=new l.a(this),S=new h.a(this),E=this.levelController=new d.a(this),A=new m.b(this),C=this.streamController=new c.a(this,A),P=[E,C],I=i.audioStreamController;I&&P.push(new I(this,A)),this.networkControllers=P;var O=[b,T,w,f,g,v,y,S,A];if(I=i.audioTrackController){var x=new I(this);this.audioTrackController=x,O.push(x)}if(I=i.subtitleTrackController){var k=new I(this);this.subtitleTrackController=k,O.push(k)}if(I=i.emeController){var R=new I(this);this.emeController=R,O.push(R)}[i.subtitleStreamController,i.timelineController].forEach((function(t){t&&O.push(new t(e))})),this.coreComponents=O}return t.isSupported=function(){return Object(f.a)()},b(t,null,[{key:"version",get:function(){return"0.9.1"}},{key:"Events",get:function(){return v.a}},{key:"ErrorTypes",get:function(){return a.b}},{key:"ErrorDetails",get:function(){return a.a}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:g.a},set:function(e){t.defaultConfig=e}}]),t.prototype.destroy=function(){p.b.log("destroy"),this.trigger(v.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(t){t.destroy()})),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(t){p.b.log("attachMedia"),this.media=t,this.trigger(v.a.MEDIA_ATTACHING,{media:t})},t.prototype.detachMedia=function(){p.b.log("detachMedia"),this.trigger(v.a.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(t){t=o.a.buildAbsoluteURL(window.location.href,t,{alwaysNormalize:!0}),p.b.log("loadSource:"+t),this.url=t,this.trigger(v.a.MANIFEST_LOADING,{url:t})},t.prototype.startLoad=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;p.b.log("startLoad("+t+")"),this.networkControllers.forEach((function(e){e.startLoad(t)}))},t.prototype.stopLoad=function(){p.b.log("stopLoad"),this.networkControllers.forEach((function(t){t.stopLoad()}))},t.prototype.swapAudioCodec=function(){p.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){p.b.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)},b(t,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){p.b.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){p.b.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){p.b.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){p.b.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){p.b.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){p.b.log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,i=t?t.length:0,n=0;n<i;n++)if((t[n].realBitrate?Math.max(t[n].realBitrate,t[n].bitrate):t[n].bitrate)>e)return n;return 0}},{key:"maxAutoLevel",get:function(){var t=this.levels,e=this.autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextAutoLevel",get:function(){var t=this;return Math.min(Math.max(t.abrController.nextAutoLevel,t.minAutoLevel),t.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),t}();e.default=T},function(t,e,i){var n=i(4),r=i.n(n),o=i(6),a=i(16),s=i(29),u=i(0),l=i(17),c=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,d=/#EXT-X-MEDIA:(.*)/g,h=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),f=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,p=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.findGroup=function(t,e){if(!t)return null;for(var i=null,n=0;n<t.length;n++){var r=t[n];r.id===e&&(i=r)}return i},t.convertAVC1ToAVCOTI=function(t){var e=void 0,i=t.split(".");return i.length>2?(e=i.shift()+".",e+=parseInt(i.shift()).toString(16),e+=("000"+parseInt(i.shift()).toString(16)).substr(-4)):e=t,e},t.resolve=function(t,e){return r.a.buildAbsoluteURL(e,t,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,i){var n=[],r=void 0;for(c.lastIndex=0;null!=(r=c.exec(e));){var o={},a=o.attrs=new s.a(r[1]);o.url=t.resolve(r[2],i);var u=a.decimalResolution("RESOLUTION");u&&(o.width=u.width,o.height=u.height),o.bitrate=a.decimalInteger("AVERAGE-BANDWIDTH")||a.decimalInteger("BANDWIDTH"),o.name=a.NAME,function(t,e){["video","audio"].forEach((function(i){var n=t.filter((function(t){return Object(l.b)(t,i)}));if(n.length){var r=n.filter((function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}));e[i+"Codec"]=r.length>0?r[0]:n[0],t=t.filter((function(t){return-1===n.indexOf(t)}))}})),e.unknownCodecs=t}([].concat((a.CODECS||"").split(/[ ,]+/)),o),o.videoCodec&&-1!==o.videoCodec.indexOf("avc1")&&(o.videoCodec=t.convertAVC1ToAVCOTI(o.videoCodec)),n.push(o)}return n},t.parseMasterPlaylistMedia=function(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=void 0,a=[],u=0;for(d.lastIndex=0;null!==(o=d.exec(e));){var l={},c=new s.a(o[1]);if(c.TYPE===n){if(l.groupId=c["GROUP-ID"],l.name=c.NAME,l.type=n,l.default="YES"===c.DEFAULT,l.autoselect="YES"===c.AUTOSELECT,l.forced="YES"===c.FORCED,c.URI&&(l.url=t.resolve(c.URI,i)),l.lang=c.LANGUAGE,l.name||(l.name=l.lang),r.length){var h=t.findGroup(r,l.groupId);l.audioCodec=h?h.codec:r[0].codec}l.id=u++,a.push(l)}}return a},t.parseLevelPlaylist=function(t,e,i,n){var r=0,l=0,c={type:null,version:null,url:e,fragments:[],live:!0,startSN:0},d=new a.a,p=0,g=null,m=new o.a,v=void 0,y=void 0;for(h.lastIndex=0;null!==(v=h.exec(t));){var _=v[1];if(_){m.duration=parseFloat(_);var b=(" "+v[2]).slice(1);m.title=b||null,m.tagList.push(b?["INF",_,b]:["INF",_])}else if(v[3]){if(!isNaN(m.duration)){var T=r++;m.type=n,m.start=l,m.levelkey=d,m.sn=T,m.level=i,m.cc=p,m.baseurl=e,m.relurl=(" "+v[3]).slice(1),c.programDateTime&&(g?m.rawProgramDateTime?m.pdt=Date.parse(m.rawProgramDateTime):m.pdt=g.pdt+1e3*g.duration:m.pdt=Date.parse(c.programDateTime),m.endPdt=m.pdt+1e3*m.duration),c.fragments.push(m),g=m,l+=m.duration,m=new o.a}}else if(v[4]){if(m.rawByteRange=(" "+v[4]).slice(1),g){var w=g.byteRangeEndOffset;w&&(m.lastByteRangeEndOffset=w)}}else if(v[5])m.rawProgramDateTime=(" "+v[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),void 0===c.programDateTime&&(c.programDateTime=new Date(new Date(Date.parse(v[5]))-1e3*l));else{for(v=v[0].match(f),y=1;y<v.length&&void 0===v[y];y++);var S=(" "+v[y+1]).slice(1),E=(" "+v[y+2]).slice(1);switch(v[y]){case"#":m.tagList.push(E?[S,E]:[S]);break;case"PLAYLIST-TYPE":c.type=S.toUpperCase();break;case"MEDIA-SEQUENCE":r=c.startSN=parseInt(S);break;case"TARGETDURATION":c.targetduration=parseFloat(S);break;case"VERSION":c.version=parseInt(S);break;case"EXTM3U":break;case"ENDLIST":c.live=!1;break;case"DIS":p++,m.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":p=parseInt(S);break;case"KEY":var A=S,C=new s.a(A),P=C.enumeratedString("METHOD"),I=C.URI,O=C.hexadecimalInteger("IV");P&&(d=new a.a,I&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(P)>=0&&(d.method=P,d.baseuri=e,d.reluri=I,d.key=null,d.iv=O));break;case"START":var x=S,k=new s.a(x).decimalFloatingPoint("TIME-OFFSET");isNaN(k)||(c.startTimeOffset=k);break;case"MAP":var R=new s.a(S);m.relurl=R.URI,m.rawByteRange=R.BYTERANGE,m.baseurl=e,m.level=i,m.type=n,m.sn="initSegment",c.initSegment=m,m=new o.a;break;default:u.b.warn("line parsed but not handled: "+v)}}}return(m=g)&&!m.relurl&&(c.fragments.pop(),l-=m.duration),c.totalduration=l,c.averagetargetduration=l/c.fragments.length,c.endSN=r-1,c.startCC=c.fragments[0]?c.fragments[0].cc:0,c.endCC=p,!c.initSegment&&c.fragments.length&&c.fragments.every((function(t){return t.relurl.endsWith(".mp4")}))&&(u.b.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(m=new o.a).relurl=c.fragments[0].relurl,m.baseurl=e,m.level=i,m.type=n,m.sn="initSegment",c.initSegment=m,c.needSidxRanges=!0),c},t}();e.a=p},function(t,e,i){var n=/^(\d+)x(\d+)$/,r=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,o=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(i)&&(this[i]=e[i])}return t.prototype.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var i=new Uint8Array(e.length/2),n=0;n<e.length/2;n++)i[n]=parseInt(e.slice(2*n,2*n+2),16);return i}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},t.prototype.decimalFloatingPoint=function(t){return parseFloat(this[t])},t.prototype.enumeratedString=function(t){return this[t]},t.prototype.decimalResolution=function(t){var e=n.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e=void 0,i={};for(r.lastIndex=0;null!==(e=r.exec(t));){var n=e[2];0===n.indexOf('"')&&n.lastIndexOf('"')===n.length-1&&(n=n.slice(1,-1)),i[e[1]]=n}return i},t}();e.a=o},function(t,e,i){var n=i(1),r=i(3),o=i(2),a=i(0),s=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n.a.FRAG_LOADING));return r.loaders={},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){var e=this.loaders;for(var i in e){var n=e[i];n&&n.destroy()}this.loaders={},t.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag,i=e.type,n=this.loaders,r=this.hls.config,o=r.fLoader,s=r.loader;e.loaded=0;var u=n[i];u&&(a.b.warn("abort previous fragment loader for type: "+i),u.abort()),u=n[i]=e.loader=r.fLoader?new o(r):new s(r);var l,c,d=void 0;d={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var h=e.byteRangeStartOffset,f=e.byteRangeEndOffset;isNaN(h)||isNaN(f)||(d.rangeStart=h,d.rangeEnd=f),l={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},u.load(d,l,c)},e.prototype.loadsuccess=function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=t.data,a=i.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(n.a.FRAG_LOADED,{payload:o,frag:a,stats:e,networkDetails:r})},e.prototype.loaderror=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(n.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:i})},e.prototype.loadtimeout=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=e.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(n.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:i})},e.prototype.loadprogress=function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.frag;o.loaded=t.loaded,this.hls.trigger(n.a.FRAG_LOAD_PROGRESS,{frag:o,stats:t,networkDetails:r})},e}(r.a);e.a=s},function(t,e,i){var n=i(1),r=i(3),o=i(2),a=i(0),s=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n.a.KEY_LOADING));return r.loaders={},r.decryptkey=null,r.decrypturl=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},r.a.prototype.destroy.call(this)},e.prototype.onKeyLoading=function(t){var e=t.frag,i=e.type,r=this.loaders[i],o=e.decryptdata,s=o.uri;if(s!==this.decrypturl||null===this.decryptkey){var u,l,c,d=this.hls.config;r&&(a.b.warn("abort previous key loader for type:"+i),r.abort()),e.loader=this.loaders[i]=new d.loader(d),this.decrypturl=s,this.decryptkey=null,u={url:s,frag:e,responseType:"arraybuffer"},l={timeout:d.fragLoadingTimeOut,maxRetry:d.fragLoadingMaxRetry,retryDelay:d.fragLoadingRetryDelay,maxRetryDelay:d.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(u,l,c)}else this.decryptkey&&(o.key=this.decryptkey,this.hls.trigger(n.a.KEY_LOADED,{frag:e}))},e.prototype.loadsuccess=function(t,e,i){var r=i.frag;this.decryptkey=r.decryptdata.key=new Uint8Array(t.data),r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(n.a.KEY_LOADED,{frag:r})},e.prototype.loaderror=function(t,e){var i=e.frag,r=i.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(n.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.KEY_LOAD_ERROR,fatal:!1,frag:i,response:t})},e.prototype.loadtimeout=function(t,e){var i=e.frag,r=i.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(n.a.ERROR,{type:o.b.NETWORK_ERROR,details:o.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:i})},e}(r.a);e.a=s},function(t,e,i){var n=i(7),r=i(8),o=i(18),a=i(1),s=i(12),u=i(6),l=i(14),c=i(22),d=i(23),h=i(2),f=i(0),p=i(24),g=i(13),m=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),v="STOPPED",y="IDLE",_="KEY_LOADING",b="FRAG_LOADING",T="FRAG_LOADING_WAITING_RETRY",w="WAITING_LEVEL",S="PARSING",E="PARSED",A="BUFFER_FLUSHING",C="ENDED",P="ERROR",I=function(t){function e(i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,a.a.MEDIA_ATTACHED,a.a.MEDIA_DETACHING,a.a.MANIFEST_LOADING,a.a.MANIFEST_PARSED,a.a.LEVEL_LOADED,a.a.KEY_LOADED,a.a.FRAG_LOADED,a.a.FRAG_LOAD_EMERGENCY_ABORTED,a.a.FRAG_PARSING_INIT_SEGMENT,a.a.FRAG_PARSING_DATA,a.a.FRAG_PARSED,a.a.ERROR,a.a.AUDIO_TRACK_SWITCHING,a.a.AUDIO_TRACK_SWITCHED,a.a.BUFFER_CREATED,a.a.BUFFER_APPENDED,a.a.BUFFER_FLUSHED));return r.fragmentTracker=n,r.config=i.config,r.audioCodecSwap=!1,r._state=v,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onHandlerDestroying=function(){this.stopLoad()},e.prototype.onHandlerDestroyed=function(){this.state=v,this.fragmentTracker=null},e.prototype.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,i=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var n=i.startLevel;-1===n&&(n=0,this.bitrateTest=!0),this.level=i.nextLoadLevel=n,this.loadedmetadata=!1}e>0&&-1===t&&(f.b.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=y,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=v},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.clearInterval(),this.state=v,this.forceStartLoad=!1},e.prototype.doTick=function(){switch(this.state){case A:this.fragLoadError=0;break;case y:this._doTickIdle();break;case w:var t=this.levels[this.level];t&&t.details&&(this.state=y);break;case T:var e=performance.now(),i=this.retryDate;(!i||e>=i||this.media&&this.media.seeking)&&(f.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=y)}this._checkBuffer(),this._checkFragmentChanged()},e.prototype._doTickIdle=function(){var t=this.hls,e=t.config,i=this.media;if(void 0!==this.levelLastLoaded&&(i||!this.startFragRequested&&e.startFragPrefetch)){var n;n=this.loadedmetadata?i.currentTime:this.nextLoadPosition;var o=t.nextLoadLevel,s=this.levels[o];if(s){var u=s.bitrate,l=void 0;l=u?Math.max(8*e.maxBufferSize/u,e.maxBufferLength):e.maxBufferLength,l=Math.min(l,e.maxMaxBufferLength);var c=r.a.bufferInfo(this.mediaBuffer?this.mediaBuffer:i,n,e.maxBufferHole),d=c.len;if(!(d>=l)){f.b.trace("buffer length of "+d.toFixed(3)+" is below max of "+l.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=o;var h=s.details;if(void 0===h||!0===h.live&&this.levelLastLoaded!==o)return void(this.state=w);var p=this.fragPrevious;if(!h.live&&p&&!p.backtracked&&p.sn===h.endSN&&!c.nextStart&&Math.min(i.duration,p.start+p.duration)-Math.max(c.end,p.start)<=Math.max(.2,p.duration)){var g={};return this.altAudio&&(g.type="video"),this.hls.trigger(a.a.BUFFER_EOS,g),void(this.state=C)}this._fetchPayloadOrEos(n,c,h)}}}},e.prototype._fetchPayloadOrEos=function(t,e,i){var n=this.fragPrevious,r=this.level,o=i.fragments,a=o.length;if(0!==a){var s=o[0].start,u=o[a-1].start+o[a-1].duration,l=e.end,c=void 0;if(i.initSegment&&!i.initSegment.data)c=i.initSegment;else if(i.live){var d=this.config.initialLiveManifestSize;if(a<d)return void f.b.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+d);if(null===(c=this._ensureFragmentAtLivePoint(i,l,s,u,n,o,a)))return}else l<s&&(c=o[0]);c||(c=this._findFragment(s,n,a,o,l,u,i)),c&&this._loadFragmentOrKey(c,r,i,t,l)}},e.prototype._ensureFragmentAtLivePoint=function(t,e,i,r,o,a,s){var u=this.hls.config,l=this.media,c=void 0,d=void 0!==u.liveMaxLatencyDuration?u.liveMaxLatencyDuration:u.liveMaxLatencyDurationCount*t.targetduration;if(e<Math.max(i-u.maxFragLookUpTolerance,r-d)){var h=this.liveSyncPosition=this.computeLivePosition(i,t);f.b.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+h.toFixed(3)),e=h,l&&l.readyState&&l.duration>h&&(l.currentTime=h),this.nextLoadPosition=h}if(t.PTSKnown&&e>r&&l&&l.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(o)if(t.programDateTime)c=this._findFragmentByPDT(a,o.endPdt+1);else{var p=o.sn+1;if(p>=t.startSN&&p<=t.endSN){var g=a[p-t.startSN];o.cc===g.cc&&(c=g,f.b.log("live playlist, switching playlist, load frag with next SN: "+c.sn))}c||(c=n.a.search(a,(function(t){return o.cc-t.cc})))&&f.b.log("live playlist, switching playlist, load frag with same CC: "+c.sn)}c||(c=a[Math.min(s-1,Math.round(s/2))],f.b.log("live playlist, switching playlist, unknown, load middle frag : "+c.sn))}return c},e.prototype._findFragmentByPDT=function(t,e){if(!t||void 0===e)return null;if(e<t[0].pdt)return null;if(e>=t[t.length-1].endPdt)return null;for(var i=0;i<t.length;++i){var n=t[i];if(e<n.endPdt)return n}return null},e.prototype._findFragmentBySN=function(t,e,i,r){var o=void 0,a=this.hls.config.maxFragLookUpTolerance,s=t?e[t.sn-e[0].sn+1]:void 0,u=function(t){var e=Math.min(a,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-e<=i?1:t.start-e>i&&t.start?-1:0};return i<r&&(i>r-a&&(a=0),o=s&&!u(s)?s:n.a.search(e,u)),o},e.prototype._findFragment=function(t,e,i,n,r,o,a){var s,u=this.hls.config,l=void 0;if(s=r<o?a.programDateTime?this._findFragmentByPDT(n,1e3*r+(a.programDateTime?Date.parse(a.programDateTime):0)-1e3*t):this._findFragmentBySN(e,n,r,o):n[i-1]){var c=(l=s).sn-a.startSN,d=e&&l.level===e.level,h=n[c-1],p=n[c+1];if(e&&l.sn===e.sn)if(d&&!l.backtracked)if(l.sn<a.endSN){var g=e.deltaPTS;g&&g>u.maxBufferHole&&e.dropped&&c?(l=h,f.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(l=p,f.b.log("SN just loaded, load next one: "+l.sn))}else l=null;else l.backtracked&&(p&&p.backtracked?(f.b.warn("Already backtracked from fragment "+p.sn+", will not backtrack to fragment "+l.sn+". Loading fragment "+p.sn),l=p):(f.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),l.dropped=0,h?(l=h).backtracked=!0:c&&(l=null)))}return l},e.prototype._loadFragmentOrKey=function(t,e,i,n,r){if(t.decryptdata&&null!=t.decryptdata.uri&&null==t.decryptdata.key)f.b.log("Loading key for "+t.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+e),this.state=_,this.hls.trigger(a.a.KEY_LOADING,{frag:t});else{f.b.log("Loading "+t.sn+" of ["+i.startSN+" ,"+i.endSN+"],level "+e+", currentTime:"+n.toFixed(3)+",bufferEnd:"+r.toFixed(3));var u=this.fragmentTracker.getState(t);this.fragCurrent=t,this.startFragRequested=!0,isNaN(t.sn)||t.bitrateTest||(this.nextLoadPosition=t.start+t.duration),t.backtracked||u===s.a.NOT_LOADED?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.hls.trigger(a.a.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new o.a(this.hls,"main")),this.state=b):u===s.a.APPENDING&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)}},e.prototype.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,l.a.LevelType.MAIN)},e.prototype.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},e.prototype._checkFragmentChanged=function(){var t=void 0,e=void 0,i=this.media;if(i&&i.readyState&&!1===i.seeking&&((e=i.currentTime)>i.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=e),r.a.isBuffered(i,e)?t=this.getBufferedFrag(e):r.a.isBuffered(i,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var n=t;if(n!==this.fragPlaying){this.hls.trigger(a.a.FRAG_CHANGED,{frag:n});var o=n.level;this.fragPlaying&&this.fragPlaying.level===o||this.hls.trigger(a.a.LEVEL_SWITCHED,{level:o}),this.fragPlaying=n}}},e.prototype.immediateLevelSwitch=function(){if(f.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,e=void 0;t?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e}var i=this.fragCurrent;i&&i.loader&&i.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},e.prototype.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,r.a.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},e.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e,i=void 0,n=void 0;if((e=this.getBufferedFrag(t.currentTime))&&e.startPTS>1&&this.flushMainBuffer(0,e.startPTS-1),t.paused)i=0;else{var r=this.hls.nextLoadLevel,o=this.levels[r],a=this.fragLastKbps;i=a&&this.fragCurrent?this.fragCurrent.duration*o.bitrate/(1e3*a)+1:0}if((n=this.getBufferedFrag(t.currentTime+i))&&(n=this.followingBufferedFrag(n))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(n.maxStartPTS,Number.POSITIVE_INFINITY)}}},e.prototype.flushMainBuffer=function(t,e){this.state=A;var i={startOffset:t,endOffset:e};this.altAudio&&(i.type="video"),this.hls.trigger(a.a.BUFFER_FLUSHING,i)},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var i=this.config;this.levels&&i.autoStartLoad&&this.hls.startLoad(i.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(f.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach((function(t){t.details&&t.details.fragments.forEach((function(t){t.backtracked=void 0}))})),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){var t=this.media,e=t?t.currentTime:void 0,i=this.config;isNaN(e)||f.b.log("media seeking to "+e.toFixed(3));var n=this.mediaBuffer?this.mediaBuffer:t,o=r.a.bufferInfo(n,e,this.config.maxBufferHole);if(this.state===b){var a=this.fragCurrent;if(0===o.len&&a){var s=i.maxFragLookUpTolerance,u=a.start-s,l=a.start+a.duration+s;e<u||e>l?(a.loader&&(f.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=y):f.b.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===C&&(0===o.len&&(this.fragPrevious=0),this.state=y);t&&(this.lastCurrentTime=e),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=e),this.tick()},e.prototype.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;isNaN(e)||f.b.log("media seeked to "+e.toFixed(3)),this.tick()},e.prototype.onMediaEnded=function(){f.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestLoading=function(){f.b.log("trigger BUFFER_RESET"),this.hls.trigger(a.a.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},e.prototype.onManifestParsed=function(t){var e=!1,i=!1,n=void 0;t.levels.forEach((function(t){(n=t.audioCodec)&&(-1!==n.indexOf("mp4a.40.2")&&(e=!0),-1!==n.indexOf("mp4a.40.5")&&(i=!0))})),this.audioCodecSwitch=e&&i,this.audioCodecSwitch&&f.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1;var r=this.config;(r.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(r.startPosition)},e.prototype.onLevelLoaded=function(t){var e=t.details,i=t.level,n=this.levels[this.levelLastLoaded],r=this.levels[i],o=e.totalduration,s=0;if(f.b.log("level "+i+" loaded ["+e.startSN+","+e.endSN+"],duration:"+o),e.live){var u=r.details;u&&e.fragments.length>0?(c.a(u,e),s=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(s,u),e.PTSKnown&&!isNaN(s)?f.b.log("live playlist sliding:"+s.toFixed(3)):(f.b.log("live playlist - outdated PTS, unknown sliding"),Object(p.a)(this.fragPrevious,n,e))):(f.b.log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,Object(p.a)(this.fragPrevious,n,e))}else e.PTSKnown=!1;if(r.details=e,this.levelLastLoaded=i,this.hls.trigger(a.a.LEVEL_UPDATED,{details:e,level:i}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var l=e.startTimeOffset;isNaN(l)?e.live?(this.startPosition=this.computeLivePosition(s,e),f.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(l<0&&(f.b.log("negative start time offset "+l+", count from end of last fragment"),l=s+o+l),f.b.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===w&&(this.state=y),this.tick()},e.prototype.onKeyLoaded=function(){this.state===_&&(this.state=y,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,i=t.frag;if(this.state===b&&e&&"main"===i.type&&i.level===e.level&&i.sn===e.sn){var n=t.stats,r=this.levels[e.level],s=r.details;if(f.b.log("Loaded  "+e.sn+" of ["+s.startSN+" ,"+s.endSN+"],level "+e.level),this.bitrateTest=!1,this.stats=n,!0===i.bitrateTest&&this.hls.nextLoadLevel)this.state=y,this.startFragRequested=!1,n.tparsed=n.tbuffered=performance.now(),this.hls.trigger(a.a.FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.tick();else if("initSegment"===i.sn)this.state=y,n.tparsed=n.tbuffered=performance.now(),s.initSegment.data=t.payload,this.hls.trigger(a.a.FRAG_BUFFERED,{stats:n,frag:e,id:"main"}),this.tick();else{this.state=S;var u=s.totalduration,l=e.level,c=e.sn,d=this.config.defaultAudioCodec||r.audioCodec;this.audioCodecSwap&&(f.b.log("swapping playlist audio codec"),void 0===d&&(d=this.lastAudioCodec),d&&(d=-1!==d.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,f.b.log("Parsing "+c+" of ["+s.startSN+" ,"+s.endSN+"],level "+l+", cc "+e.cc);var h=this.demuxer;h||(h=this.demuxer=new o.a(this.hls,"main"));var p=this.media,g=!(p&&p.seeking)&&(s.PTSKnown||!s.live),m=s.initSegment?s.initSegment.data:[];h.push(t.payload,m,d,r.videoCodec,e,u,g,void 0)}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,i=t.frag;if(e&&"main"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===S){var n=t.tracks,r=void 0,o=void 0;if(n.audio&&this.altAudio&&delete n.audio,o=n.audio){var s=this.levels[this.level].audioCodec,u=navigator.userAgent.toLowerCase();s&&this.audioCodecSwap&&(f.b.log("swapping playlist audio codec"),s=-1!==s.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==o.metadata.channelCount&&-1===u.indexOf("firefox")&&(s="mp4a.40.5"),-1!==u.indexOf("android")&&"audio/mpeg"!==o.container&&(s="mp4a.40.2",f.b.log("Android: force audio codec to "+s)),o.levelCodec=s,o.id=t.id}for(r in(o=n.video)&&(o.levelCodec=this.levels[this.level].videoCodec,o.id=t.id),this.hls.trigger(a.a.BUFFER_CODECS,n),n){o=n[r],f.b.log("main track:"+r+",container:"+o.container+",codecs[level/parsed]=["+o.levelCodec+"/"+o.codec+"]");var l=o.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(a.a.BUFFER_APPENDING,{type:r,data:l,parent:"main",content:"initSegment"}))}this.tick()}},e.prototype.onFragParsingData=function(t){var e=this,i=this.fragCurrent,n=t.frag;if(i&&"main"===t.id&&n.sn===i.sn&&n.level===i.level&&("audio"!==t.type||!this.altAudio)&&this.state===S){var r=this.levels[this.level],o=i;if(isNaN(t.endPTS)&&(t.endPTS=t.startPTS+i.duration,t.endDTS=t.startDTS+i.duration),!0===t.hasAudio&&o.addElementaryStream(u.a.ElementaryStreamTypes.AUDIO),!0===t.hasVideo&&o.addElementaryStream(u.a.ElementaryStreamTypes.VIDEO),f.b.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(o.dropped=t.dropped,o.dropped)if(o.backtracked)f.b.warn("Already backtracked on this fragment, appending with the gap");else{var s=r.details;if(!s||o.sn!==s.startSN)return f.b.warn("missing video frame(s), backtracking fragment"),this.fragmentTracker.removeFragment(o),o.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=y,this.fragPrevious=o,void this.tick();f.b.warn("missing video frame(s) on first frag, appending with gap")}else o.backtracked=!1;var l=c.b(r.details,o,t.startPTS,t.endPTS,t.startDTS,t.endDTS),d=this.hls;d.trigger(a.a.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:l,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach((function(i){i&&i.length&&e.state===S&&(e.appended=!0,e.pendingBuffering=!0,d.trigger(a.a.BUFFER_APPENDING,{type:t.type,data:i,parent:"main",content:"data"}))})),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,i=t.frag;e&&"main"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===S&&(this.stats.tparsed=performance.now(),this.state=E,this._checkAppendedParsed())},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url,i=t.id;if(!e){if(this.mediaBuffer!==this.media){f.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var n=this.fragCurrent;n.loader&&(f.b.log("switching to main audio track, cancel main fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=y}var r=this.hls;r.trigger(a.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),r.trigger(a.a.AUDIO_TRACK_SWITCHED,{id:i}),this.altAudio=!1}},e.prototype.onAudioTrackSwitched=function(t){var e=t.id,i=!!this.hls.audioTracks[e].url;if(i){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(f.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=i,this.tick()},e.prototype.onBufferCreated=function(t){var e=t.tracks,i=void 0,n=void 0,r=!1;for(var o in e){var a=e[o];"main"===a.id?(n=o,i=a,"video"===o&&(this.videoBuffer=e[o].buffer)):r=!0}r&&i?(f.b.log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media},e.prototype.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==S&&e!==E||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==E||this.appended&&this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;f.b.log("main buffered : "+d.a.toString(e.buffered)),this.fragPrevious=t;var i=this.stats;i.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*i.total/(i.tbuffered-i.tfirst)),this.hls.trigger(a.a.FRAG_BUFFERED,{stats:i,frag:t,id:"main"}),this.state=y}this.tick()}},e.prototype.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var i=!!this.media&&r.a.isBuffered(this.media,this.media.currentTime)&&r.a.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case h.a.FRAG_LOAD_ERROR:case h.a.FRAG_LOAD_TIMEOUT:case h.a.KEY_LOAD_ERROR:case h.a.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var n=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);f.b.warn("mediaController: frag loading failed, retry in "+n+" ms"),this.retryDate=performance.now()+n,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=T}else f.b.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=P;break;case h.a.LEVEL_LOAD_ERROR:case h.a.LEVEL_LOAD_TIMEOUT:this.state!==P&&(t.fatal?(this.state=P,f.b.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==w||(this.state=y));break;case h.a.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==S&&this.state!==E||(i?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=y):(f.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},e.prototype._reduceMaxBufferLength=function(t){var e=this.config;return e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,f.b.warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},e.prototype._checkBuffer=function(){var t=this.media,e=this.config;if(t&&t.readyState){var i=t.currentTime,n=(this.mediaBuffer?this.mediaBuffer:t).buffered;if(!this.loadedmetadata&&n.length){this.loadedmetadata=!0;var o=t.seeking?i:this.startPosition;i!==o&&(f.b.log("target start position not buffered, seek to buffered.start(0) "+o+" from current time"+i+" "),t.currentTime=o)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var s=r.a.bufferInfo(t,i,e.maxBufferHole),u=!(t.paused&&t.readyState>1||t.ended||0===t.buffered.length);if(i!==this.lastCurrentTime)this.stallReported&&(f.b.warn("playback not stuck anymore @"+i+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(u){var l=performance.now(),c=this.hls;if(this.stalled){var d=l-this.stalled,p=s.len,g=this.nudgeRetry||0,m=this.fragmentTracker.getPartialFragment(i);if(null!==m)for(var v=0,y=0;y<t.buffered.length;y++){var _=t.buffered.start(y);if(i>=v&&i<_)return t.currentTime=Math.max(_,t.currentTime+.1),f.b.warn("skipping hole, adjusting currentTime from "+i+" to "+t.currentTime),this.stalled=void 0,void c.trigger(a.a.ERROR,{type:h.b.MEDIA_ERROR,details:h.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+i+" to "+t.currentTime,frag:m});v=t.buffered.end(y)}if(p>.5&&d>1e3*e.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,f.b.warn("playback stalling in high buffer @"+i),c.trigger(a.a.ERROR,{type:h.b.MEDIA_ERROR,details:h.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:p})),this.stalled=void 0,this.nudgeRetry=++g,g<e.nudgeMaxRetry){var b=t.currentTime,T=b+g*e.nudgeOffset;f.b.log("adjust currentTime from "+b+" to "+T),t.currentTime=T,c.trigger(a.a.ERROR,{type:h.b.MEDIA_ERROR,details:h.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else f.b.error("still stuck in high buffer @"+i+" after "+e.nudgeMaxRetry+", raise fatal error"),c.trigger(a.a.ERROR,{type:h.b.MEDIA_ERROR,details:h.a.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=l,this.stallReported=!1}}}},e.prototype.onFragLoadEmergencyAborted=function(){this.state=y,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},e.prototype.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;this.fragmentTracker.detectEvictedFragments(u.a.ElementaryStreamTypes.VIDEO,t.buffered),this.state=y,this.fragPrevious=null},e.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},e.prototype.computeLivePosition=function(t,e){var i=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-i)},m(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,f.b.log("main stream:"+e+"->"+t),this.hls.trigger(a.a.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}]),e}(g.a);e.a=I},function(t,e,i){var n=function(){function t(e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.subtle=e,this.aesIV=i}return t.prototype.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}();e.a=n},function(t,e,i){var n=function(){function t(e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.subtle=e,this.key=i}return t.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}();e.a=n},function(t,e,i){var n=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return t.prototype.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),i=new Uint32Array(4),n=0;n<4;n++)i[n]=e.getUint32(4*n);return i},t.prototype.initTable=function(){var t=this.sBox,e=this.invSBox,i=this.subMix,n=i[0],r=i[1],o=i[2],a=i[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],d=s[3],h=new Uint32Array(256),f=0,p=0,g=0;for(g=0;g<256;g++)h[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var m=p^p<<1^p<<2^p<<3^p<<4;m=m>>>8^255&m^99,t[f]=m,e[m]=f;var v=h[f],y=h[v],_=h[y],b=257*h[m]^16843008*m;n[f]=b<<24|b>>>8,r[f]=b<<16|b>>>16,o[f]=b<<8|b>>>24,a[f]=b,b=16843009*_^65537*y^257*v^16843008*f,u[m]=b<<24|b>>>8,l[m]=b<<16|b>>>16,c[m]=b<<8|b>>>24,d[m]=b,f?(f=v^h[h[h[_^v]]],p^=h[h[p]]):f=p=1}},t.prototype.expandKey=function(t){for(var e=this.uint8ArrayToUint32Array_(t),i=!0,n=0;n<e.length&&i;)i=e[n]===this.key[n],n++;if(!i){this.key=e;var r=this.keySize=e.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var o=this.ksRows=4*(r+6+1),a=void 0,s=void 0,u=this.keySchedule=new Uint32Array(o),l=this.invKeySchedule=new Uint32Array(o),c=this.sBox,d=this.rcon,h=this.invSubMix,f=h[0],p=h[1],g=h[2],m=h[3],v=void 0,y=void 0;for(a=0;a<o;a++)a<r?v=u[a]=e[a]:(y=v,a%r==0?(y=c[(y=y<<8|y>>>24)>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[255&y],y^=d[a/r|0]<<24):r>6&&a%r==4&&(y=c[y>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[255&y]),u[a]=v=(u[a-r]^y)>>>0);for(s=0;s<o;s++)a=o-s,y=3&s?u[a]:u[a-4],l[s]=s<4||a<=4?y:f[c[y>>>24]]^p[c[y>>>16&255]]^g[c[y>>>8&255]]^m[c[255&y]],l[s]=l[s]>>>0}},t.prototype.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},t.prototype.decrypt=function(t,e,i,n){for(var r=this.keySize+6,o=this.invKeySchedule,a=this.invSBox,s=this.invSubMix,u=s[0],l=s[1],c=s[2],d=s[3],h=this.uint8ArrayToUint32Array_(i),f=h[0],p=h[1],g=h[2],m=h[3],v=new Int32Array(t),y=new Int32Array(v.length),_=void 0,b=void 0,T=void 0,w=void 0,S=void 0,E=void 0,A=void 0,C=void 0,P=void 0,I=void 0,O=void 0,x=void 0,k=void 0,R=void 0,M=this.networkToHostOrderSwap;e<v.length;){for(P=M(v[e]),I=M(v[e+1]),O=M(v[e+2]),x=M(v[e+3]),S=P^o[0],E=x^o[1],A=O^o[2],C=I^o[3],k=4,R=1;R<r;R++)_=u[S>>>24]^l[E>>16&255]^c[A>>8&255]^d[255&C]^o[k],b=u[E>>>24]^l[A>>16&255]^c[C>>8&255]^d[255&S]^o[k+1],T=u[A>>>24]^l[C>>16&255]^c[S>>8&255]^d[255&E]^o[k+2],w=u[C>>>24]^l[S>>16&255]^c[E>>8&255]^d[255&A]^o[k+3],S=_,E=b,A=T,C=w,k+=4;_=a[S>>>24]<<24^a[E>>16&255]<<16^a[A>>8&255]<<8^a[255&C]^o[k],b=a[E>>>24]<<24^a[A>>16&255]<<16^a[C>>8&255]<<8^a[255&S]^o[k+1],T=a[A>>>24]<<24^a[C>>16&255]<<16^a[S>>8&255]<<8^a[255&E]^o[k+2],w=a[C>>>24]<<24^a[S>>16&255]<<16^a[E>>8&255]<<8^a[255&A]^o[k+3],k+=3,y[e]=M(_^f),y[e+1]=M(w^p),y[e+2]=M(T^g),y[e+3]=M(b^m),f=P,p=I,g=O,m=x,e+=4}return n?function(t){var e=t.byteLength,i=e&&new DataView(t).getUint8(e-1);return i?t.slice(0,e-i):t}(y.buffer):y.buffer},t.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}();e.a=n},function(t,e,i){var n=i(20),r=i(0),o=i(5),a=function(){function t(e,i,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e,this.config=n,this.remuxer=i}return t.prototype.resetInitSegment=function(t,e,i,n){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:n,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){if(!t)return!1;for(var e=(o.a.getID3Data(t,0)||[]).length,i=t.length;e<i;e++)if(n.e(t,e))return r.b.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(t,e,i,a){for(var s=this._audioTrack,u=o.a.getID3Data(t,0)||[],l=o.a.getTimeStamp(u),c=l?90*l:9e4*e,d=0,h=c,f=t.length,p=u.length,g=[{pts:h,dts:h,data:u}];p<f-1;)if(n.d(t,p)&&p+5<f){n.c(s,this.observer,t,p,s.manifestCodec);var m=n.a(s,t,p,c,d);if(!m){r.b.log("Unable to parse AAC frame");break}p+=m.length,h=m.sample.pts,d++}else o.a.isHeader(t,p)?(u=o.a.getID3Data(t,p),g.push({pts:h,dts:h,data:u}),p+=u.length):p++;this.remuxer.remux(s,{samples:[]},{samples:g,inputTimeScale:9e4},{samples:[]},e,i,a)},t.prototype.destroy=function(){},t}();e.a=a},function(t,e,i){var n=i(20),r=i(21),o=i(1),a=i(38),s=i(39),u=i(0),l=i(2),c={video:0,audio:1,id3:2,text:3},d=function(){function t(e,i,n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e,this.config=n,this.typeSupported=r,this.remuxer=i,this.sampleAes=null}return t.prototype.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new s.a(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var i=t._syncOffset(e);return!(i<0||(i&&u.b.warn("MPEG2-TS detected but first sync word found @ offset "+i+", junk ahead ?"),0))},t._syncOffset=function(t){for(var e=Math.min(1e3,t.length-564),i=0;i<e;){if(71===t[i]&&71===t[i+188]&&71===t[i+376])return i;i++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:c[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},t.prototype.resetInitSegment=function(e,i,n,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=t.createTrack("video",r),this._audioTrack=t.createTrack("audio",r),this._id3Track=t.createTrack("id3",r),this._txtTrack=t.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=i,this.videoCodec=n,this._duration=r},t.prototype.resetTimeStamp=function(){},t.prototype.append=function(e,i,n,r){var a=void 0,s=e.length,c=void 0,d=void 0,h=void 0,f=void 0,p=!1;this.contiguous=n;var g=this.pmtParsed,m=this._avcTrack,v=this._audioTrack,y=this._id3Track,_=m.pid,b=v.pid,T=y.pid,w=this._pmtId,S=m.pesData,E=v.pesData,A=y.pesData,C=this._parsePAT,P=this._parsePMT,I=this._parsePES,O=this._parseAVCPES.bind(this),x=this._parseAACPES.bind(this),k=this._parseMPEGPES.bind(this),R=this._parseID3PES.bind(this),M=t._syncOffset(e);for(s-=(s+M)%188,a=M;a<s;a+=188)if(71===e[a]){if(c=!!(64&e[a+1]),d=((31&e[a+1])<<8)+e[a+2],(48&e[a+3])>>4>1){if((h=a+5+e[a+4])===a+188)continue}else h=a+4;switch(d){case _:c&&(S&&(f=I(S))&&void 0!==f.pts&&O(f,!1),S={data:[],size:0}),S&&(S.data.push(e.subarray(h,a+188)),S.size+=a+188-h);break;case b:c&&(E&&(f=I(E))&&void 0!==f.pts&&(v.isAAC?x(f):k(f)),E={data:[],size:0}),E&&(E.data.push(e.subarray(h,a+188)),E.size+=a+188-h);break;case T:c&&(A&&(f=I(A))&&void 0!==f.pts&&R(f),A={data:[],size:0}),A&&(A.data.push(e.subarray(h,a+188)),A.size+=a+188-h);break;case 0:c&&(h+=e[h]+1),w=this._pmtId=C(e,h);break;case w:c&&(h+=e[h]+1);var L=P(e,h,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(_=L.avc)>0&&(m.pid=_),(b=L.audio)>0&&(v.pid=b,v.isAAC=L.isAAC),(T=L.id3)>0&&(y.pid=T),p&&!g&&(u.b.log("reparse from beginning"),p=!1,a=M-188),g=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(o.a.ERROR,{type:l.b.MEDIA_ERROR,details:l.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});S&&(f=I(S))&&void 0!==f.pts?(O(f,!0),m.pesData=null):m.pesData=S,E&&(f=I(E))&&void 0!==f.pts?(v.isAAC?x(f):k(f),v.pesData=null):(E&&E.size&&u.b.log("last AAC PES packet truncated,might overlap between fragments"),v.pesData=E),A&&(f=I(A))&&void 0!==f.pts?(R(f),y.pesData=null):y.pesData=A,null==this.sampleAes?this.remuxer.remux(v,m,y,this._txtTrack,i,n,r):this.decryptAndRemux(v,m,y,this._txtTrack,i,n,r)},t.prototype.decryptAndRemux=function(t,e,i,n,r,o,a){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,(function(){s.decryptAndRemuxAvc(t,e,i,n,r,o,a)}))}else this.decryptAndRemuxAvc(t,e,i,n,r,o,a)},t.prototype.decryptAndRemuxAvc=function(t,e,i,n,r,o,a){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,(function(){s.remuxer.remux(t,e,i,n,r,o,a)}))}else this.remuxer.remux(t,e,i,n,r,o,a)},t.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},t.prototype._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},t.prototype._parsePMT=function(t,e,i,n){var r,o=void 0,a={audio:-1,avc:-1,id3:-1,isAAC:!0};for(r=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<r;){switch(o=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!n){u.b.log("unkown stream type:"+t[e]);break}case 15:-1===a.audio&&(a.audio=o);break;case 21:-1===a.id3&&(a.id3=o);break;case 219:if(!n){u.b.log("unkown stream type:"+t[e]);break}case 27:-1===a.avc&&(a.avc=o);break;case 3:case 4:i?-1===a.audio&&(a.audio=o,a.isAAC=!1):u.b.log("MPEG audio found, not supported in this browser for now");break;case 36:u.b.warn("HEVC stream type found, not supported for now");break;default:u.b.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return a},t.prototype._parsePES=function(t){var e=0,i=void 0,n=void 0,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,c=void 0,d=t.data;if(!t||0===t.size)return null;for(;d[0].length<19&&d.length>1;){var h=new Uint8Array(d[0].length+d[1].length);h.set(d[0]),h.set(d[1],d[0].length),d[0]=h,d.splice(1,1)}if(1===((i=d[0])[0]<<16)+(i[1]<<8)+i[2]){if((r=(i[4]<<8)+i[5])&&r>t.size-6)return null;192&(n=i[7])&&((s=536870912*(14&i[9])+4194304*(255&i[10])+16384*(254&i[11])+128*(255&i[12])+(254&i[13])/2)>4294967295&&(s-=8589934592),64&n?((l=536870912*(14&i[14])+4194304*(255&i[15])+16384*(254&i[16])+128*(255&i[17])+(254&i[18])/2)>4294967295&&(l-=8589934592),s-l>54e5&&(u.b.warn(Math.round((s-l)/9e4)+"s delta between PTS and DTS, align them"),s=l)):l=s),c=(o=i[8])+9,t.size-=c,a=new Uint8Array(t.size);for(var f=0,p=d.length;f<p;f++){var g=(i=d[f]).byteLength;if(c){if(c>g){c-=g;continue}i=i.subarray(c),g-=c,c=0}a.set(i,e),e+=g}return r&&(r-=o+3),{data:a,pts:s,dts:l,len:r}}return null},t.prototype.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var i=e.samples,n=i.length;!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(n||this.contiguous)?(t.id=n,i.push(t)):e.dropped++}t.debug.length&&u.b.log(t.pts+"/"+t.dts+":"+t.debug)},t.prototype._parseAVCPES=function(t,e){var i=this,n=this._avcTrack,r=this._parseAVCNALu(t.data),o=void 0,s=this.avcSample,u=void 0,l=!1,c=void 0,d=this.pushAccesUnit.bind(this),h=function(t,e,i,n){return{key:t,pts:e,dts:i,units:[],debug:n}};t.data=null,s&&r.length&&!n.audFound&&(d(s,n),s=this.avcSample=h(!1,t.pts,t.dts,"")),r.forEach((function(e){switch(e.type){case 1:u=!0,s||(s=i.avcSample=h(!0,t.pts,t.dts,"")),s.frame=!0;var r=e.data;if(l&&r.length>4){var f=new a.a(r).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(s.key=!0)}break;case 5:u=!0,s||(s=i.avcSample=h(!0,t.pts,t.dts,"")),s.key=!0,s.frame=!0;break;case 6:u=!0,(o=new a.a(i.discardEPB(e.data))).readUByte();for(var p=0,g=0,m=!1,v=0;!m&&o.bytesAvailable>1;){p=0;do{p+=v=o.readUByte()}while(255===v);g=0;do{g+=v=o.readUByte()}while(255===v);if(4===p&&0!==o.bytesAvailable){if(m=!0,181===o.readUByte()&&49===o.readUShort()&&1195456820===o.readUInt()&&3===o.readUByte()){var y=o.readUByte(),_=31&y,b=[y,o.readUByte()];for(c=0;c<_;c++)b.push(o.readUByte()),b.push(o.readUByte()),b.push(o.readUByte());i._insertSampleInOrder(i._txtTrack.samples,{type:3,pts:t.pts,bytes:b})}}else if(g<o.bytesAvailable)for(c=0;c<g;c++)o.readUByte()}break;case 7:if(u=!0,l=!0,!n.sps){var T=(o=new a.a(e.data)).readSPS();n.width=T.width,n.height=T.height,n.pixelRatio=T.pixelRatio,n.sps=[e.data],n.duration=i._duration;var w=e.data.subarray(1,4),S="avc1.";for(c=0;c<3;c++){var E=w[c].toString(16);E.length<2&&(E="0"+E),S+=E}n.codec=S}break;case 8:u=!0,n.pps||(n.pps=[e.data]);break;case 9:u=!1,n.audFound=!0,s&&d(s,n),s=i.avcSample=h(!1,t.pts,t.dts,"");break;case 12:u=!1;break;default:u=!1,s&&(s.debug+="unknown NAL "+e.type+" ")}s&&u&&s.units.push(e)})),e&&s&&(d(s,n),this.avcSample=null)},t.prototype._insertSampleInOrder=function(t,e){var i=t.length;if(i>0){if(e.pts>=t[i-1].pts)t.push(e);else for(var n=i-1;n>=0;n--)if(e.pts<t[n].pts){t.splice(n,0,e);break}}else t.push(e)},t.prototype._getLastNalUnit=function(){var t=this.avcSample,e=void 0;if(!t||0===t.units.length){var i=this._avcTrack.samples;t=i[i.length-1]}if(t){var n=t.units;e=n[n.length-1]}return e},t.prototype._parseAVCNALu=function(t){var e=0,i=t.byteLength,n=void 0,r=void 0,o=this._avcTrack,a=o.naluState||0,s=a,u=[],l=void 0,c=-1,d=void 0;for(-1===a&&(c=0,d=31&t[0],a=0,e=1);e<i;)if(n=t[e++],a)if(1!==a)if(n)if(1===n){if(c>=0)l={data:t.subarray(c,e-a-1),type:d},u.push(l);else{var h=this._getLastNalUnit();if(h&&(s&&e<=4-s&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-s)),(r=e-a-1)>0)){var f=new Uint8Array(h.data.byteLength+r);f.set(h.data,0),f.set(t.subarray(0,r),h.data.byteLength),h.data=f}}e<i?(c=e,d=31&t[e],a=0):a=-1}else a=0;else a=3;else a=n?0:2;else a=n?0:1;if(c>=0&&a>=0&&(l={data:t.subarray(c,i),type:d,state:a},u.push(l)),0===u.length){var p=this._getLastNalUnit();if(p){var g=new Uint8Array(p.data.byteLength+t.byteLength);g.set(p.data,0),g.set(t,p.data.byteLength),p.data=g}}return o.naluState=a,u},t.prototype.discardEPB=function(t){for(var e,i=t.byteLength,n=[],r=1,o=void 0;r<i-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return t;e=i-n.length,o=new Uint8Array(e);var a=0;for(r=0;r<e;a++,r++)a===n[0]&&(a++,n.shift()),o[r]=t[a];return o},t.prototype._parseAACPES=function(t){var e,i,r=this._audioTrack,a=t.data,s=t.pts,c=this.aacOverFlow,d=this.aacLastPTS,h=void 0,f=void 0,p=void 0;if(c){var g=new Uint8Array(c.byteLength+a.byteLength);g.set(c,0),g.set(a,c.byteLength),a=g}for(f=0,i=a.length;f<i-1&&!n.d(a,f);f++);if(f){var m=void 0,v=void 0;if(f<i-1?(m="AAC PES did not start with ADTS header,offset:"+f,v=!1):(m="no ADTS header found in AAC PES",v=!0),u.b.warn("parsing error:"+m),this.observer.trigger(o.a.ERROR,{type:l.b.MEDIA_ERROR,details:l.a.FRAG_PARSING_ERROR,fatal:v,reason:m}),v)return}if(n.c(r,this.observer,a,f,this.audioCodec),h=0,e=n.b(r.samplerate),c&&d){var y=d+e;Math.abs(y-s)>1&&(u.b.log("AAC: align PTS for overlapping frames by "+Math.round((y-s)/90)),s=y)}for(;f<i;)if(n.d(a,f)&&f+5<i){var _=n.a(r,a,f,s,h);if(!_)break;f+=_.length,p=_.sample.pts,h++}else f++;c=f<i?a.subarray(f,i):null,this.aacOverFlow=c,this.aacLastPTS=p},t.prototype._parseMPEGPES=function(t){for(var e=t.data,i=e.length,n=0,o=0,a=t.pts;o<i;)if(r.a.isHeader(e,o)){var s=r.a.appendFrame(this._audioTrack,e,o,a,n);if(!s)break;o+=s.length,n++}else o++},t.prototype._parseID3PES=function(t){this._id3Track.samples.push(t)},t}();e.a=d},function(t,e,i){var n=i(0),r=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return t.prototype.loadWord=function(){var t=this.data,e=this.bytesAvailable,i=t.byteLength-e,n=new Uint8Array(4),r=Math.min(4,e);if(0===r)throw new Error("no bytes available");n.set(t.subarray(i,i+r)),this.word=new DataView(n.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r},t.prototype.skipBits=function(t){var e=void 0;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},t.prototype.readBits=function(t){var e=Math.min(this.bitsAvailable,t),i=this.word>>>32-e;return t>32&&n.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?i<<e|this.readBits(e):i},t.prototype.skipLZ=function(){var t=void 0;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},t.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},t.prototype.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},t.prototype.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},t.prototype.readBoolean=function(){return 1===this.readBits(1)},t.prototype.readUByte=function(){return this.readBits(8)},t.prototype.readUShort=function(){return this.readBits(16)},t.prototype.readUInt=function(){return this.readBits(32)},t.prototype.skipScalingList=function(t){var e=8,i=8,n=void 0;for(n=0;n<t;n++)0!==i&&(i=(e+this.readEG()+256)%256),e=0===i?e:i},t.prototype.readSPS=function(){var t,e,i,n,r=0,o=0,a=0,s=0,u=void 0,l=void 0,c=void 0,d=this.readUByte.bind(this),h=this.readBits.bind(this),f=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),m=this.skipEG.bind(this),v=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(d(),t=d(),h(5),g(3),d(),v(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var _=f();if(3===_&&g(1),v(),v(),g(1),p())for(l=3!==_?8:12,c=0;c<l;c++)p()&&y(c<6?16:64)}v();var b=f();if(0===b)f();else if(1===b)for(g(1),m(),m(),u=f(),c=0;c<u;c++)m();v(),g(1),e=f(),i=f(),0===(n=h(1))&&g(1),g(1),p()&&(r=f(),o=f(),a=f(),s=f());var T=[1,1];if(p()&&p())switch(d()){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:T=[d()<<8|d(),d()<<8|d()]}return{width:Math.ceil(16*(e+1)-2*r-2*o),height:(2-n)*(i+1)*16-(n?2:4)*(a+s),pixelRatio:T}},t.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}();e.a=r},function(t,e,i){var n=i(9),r=function(){function t(e,i,r,o){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.decryptdata=r,this.discardEPB=o,this.decrypter=new n.a(e,i,{removePKCS7Padding:!1})}return t.prototype.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},t.prototype.decryptAacSample=function(t,e,i,n){var r=t[e].unit,o=r.subarray(16,r.length-r.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,(function(o){o=new Uint8Array(o),r.set(o,16),n||s.decryptAacSamples(t,e+1,i)}))},t.prototype.decryptAacSamples=function(t,e,i){for(;;e++){if(e>=t.length)return void i();if(!(t[e].unit.length<32)){var n=this.decrypter.isSync();if(this.decryptAacSample(t,e,i,n),!n)return}}},t.prototype.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,i=new Int8Array(e),n=0,r=32;r<=t.length-16;r+=160,n+=16)i.set(t.subarray(r,r+16),n);return i},t.prototype.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var i=0,n=32;n<=t.length-16;n+=160,i+=16)t.set(e.subarray(i,i+16),n);return t},t.prototype.decryptAvcSample=function(t,e,i,n,r,o){var a=this.discardEPB(r.data),s=this.getAvcEncryptedData(a),u=this;this.decryptBuffer(s.buffer,(function(s){r.data=u.getAvcDecryptedUnit(a,s),o||u.decryptAvcSamples(t,e,i+1,n)}))},t.prototype.decryptAvcSamples=function(t,e,i,n){for(;;e++,i=0){if(e>=t.length)return void n();for(var r=t[e].units;!(i>=r.length);i++){var o=r[i];if(!(o.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(t,e,i,n,o,a),!a)return}}}},t}();e.a=r},function(t,e,i){var n=i(5),r=i(0),o=i(21),a=function(){function t(e,i,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e,this.config=n,this.remuxer=i}return t.prototype.resetInitSegment=function(t,e,i,n){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:n,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(t){var e=void 0,i=void 0,a=n.a.getID3Data(t,0);if(a&&void 0!==n.a.getTimeStamp(a))for(e=a.length,i=Math.min(t.length-1,e+100);e<i;e++)if(o.a.probe(t,e))return r.b.log("MPEG Audio sync word found !"),!0;return!1},t.prototype.append=function(t,e,i,r){for(var a=n.a.getID3Data(t,0),s=n.a.getTimeStamp(a),u=s?90*s:9e4*e,l=a.length,c=t.length,d=0,h=0,f=this._audioTrack,p=[{pts:u,dts:u,data:a}];l<c;)if(o.a.isHeader(t,l)){var g=o.a.appendFrame(f,t,l,u,d);if(!g)break;l+=g.length,h=g.sample.pts,d++}else n.a.isHeader(t,l)?(a=n.a.getID3Data(t,l),p.push({pts:h,dts:h,data:a}),l+=a.length):l++;this.remuxer.remux(f,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},e,i,r)},t.prototype.destroy=function(){},t}();e.a=a},function(t,e,i){var n=i(42),r=i(1),o=i(0),a=i(43),s=i(2),u=function(){function t(e,i,n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e,this.config=i,this.typeSupported=n;var o=navigator.userAgent;this.isSafari=r&&r.indexOf("Apple")>-1&&o&&!o.match("CriOS"),this.ISGenerated=!1}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},t.prototype.resetInitSegment=function(){this.ISGenerated=!1},t.prototype.remux=function(t,e,i,n,a,s,u){if(this.ISGenerated||this.generateIS(t,e,a),this.ISGenerated){var l=t.samples.length,c=e.samples.length,d=a,h=a;if(l&&c){var f=(t.samples[0].dts-e.samples[0].dts)/e.inputTimeScale;d+=Math.max(0,f),h+=Math.max(0,-f)}if(l){t.timescale||(o.b.warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,a));var p=this.remuxAudio(t,d,s,u);if(c){var g=void 0;p&&(g=p.endPTS-p.startPTS),e.timescale||(o.b.warn("regenerate InitSegment as video detected"),this.generateIS(t,e,a)),this.remuxVideo(e,h,s,g,u)}}else if(c){var m=this.remuxVideo(e,h,s,0,u);m&&t.codec&&this.remuxEmptyAudio(t,d,s,m)}}i.samples.length&&this.remuxID3(i,a),n.samples.length&&this.remuxText(n,a),this.observer.trigger(r.a.FRAG_PARSED)},t.prototype.generateIS=function(t,e,i){var n=this.observer,u=t.samples,l=e.samples,c=this.typeSupported,d="audio/mp4",h={},f={tracks:h},p=void 0===this._initPTS,g=void 0,m=void 0;if(p&&(g=m=1/0),t.config&&u.length&&(t.timescale=t.samplerate,o.b.log("audio sampling rate : "+t.samplerate),t.isAAC||(c.mpeg?(d="audio/mpeg",t.codec=""):c.mp3&&(t.codec="mp3")),h.audio={container:d,codec:t.codec,initSegment:!t.isAAC&&c.mpeg?new Uint8Array:a.a.initSegment([t]),metadata:{channelCount:t.channelCount}},p&&(g=m=u[0].pts-t.inputTimeScale*i)),e.sps&&e.pps&&l.length){var v=e.inputTimeScale;e.timescale=v,h.video={container:"video/mp4",codec:e.codec,initSegment:a.a.initSegment([e]),metadata:{width:e.width,height:e.height}},p&&(g=Math.min(g,l[0].pts-v*i),m=Math.min(m,l[0].dts-v*i),this.observer.trigger(r.a.INIT_PTS_FOUND,{initPTS:g}))}Object.keys(h).length?(n.trigger(r.a.FRAG_PARSING_INIT_SEGMENT,f),this.ISGenerated=!0,p&&(this._initPTS=g,this._initDTS=m)):n.trigger(r.a.ERROR,{type:s.b.MEDIA_ERROR,details:s.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},t.prototype.remuxVideo=function(t,e,i,n,u){var l=8,c=t.timescale,d=void 0,h=void 0,f=void 0,p=void 0,g=void 0,m=void 0,v=void 0,y=t.samples,_=[],b=y.length,T=this._PTSNormalize,w=this._initDTS,S=this.nextAvcDts,E=this.isSafari;if(0!==b){E&&(i|=y.length&&S&&(u&&Math.abs(e-S/c)<.1||Math.abs(y[0].pts-S-w)<c/5)),i||(S=e*c),y.forEach((function(t){t.pts=T(t.pts-w,S),t.dts=T(t.dts-w,S)})),y.sort((function(t,e){var i=t.dts-e.dts,n=t.pts-e.pts;return i||n||t.id-e.id}));var A=y.reduce((function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)}),0);if(A<0){o.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(A/90)+" ms to overcome this issue");for(var C=0;C<y.length;C++)y[C].dts+=A}var P=y[0];g=Math.max(P.dts,0),p=Math.max(P.pts,0);var I=Math.round((g-S)/90);i&&I&&(I>1?o.b.log("AVC:"+I+" ms hole between fragments detected,filling it"):I<-1&&o.b.log("AVC:"+-I+" ms overlapping between fragments detected"),g=S,y[0].dts=g,p=Math.max(p-I,S),y[0].pts=p,o.b.log("Video/PTS/DTS adjusted: "+Math.round(p/90)+"/"+Math.round(g/90)+",delta:"+I+" ms")),P=y[y.length-1],v=Math.max(P.dts,0),m=Math.max(P.pts,0,v),E&&(d=Math.round((v-g)/(y.length-1)));for(var O=0,x=0,k=0;k<b;k++){for(var R=y[k],M=R.units,L=M.length,D=0,N=0;N<L;N++)D+=M[N].data.length;x+=D,O+=L,R.length=D,R.dts=E?g+k*d:Math.max(R.dts,g),R.pts=Math.max(R.pts,R.dts)}var F=x+4*O+8;try{h=new Uint8Array(F)}catch(t){return void this.observer.trigger(r.a.ERROR,{type:s.b.MUX_ERROR,details:s.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:F,reason:"fail allocating video mdat "+F})}var U=new DataView(h.buffer);U.setUint32(0,F),h.set(a.a.types.mdat,4);for(var V=0;V<b;V++){for(var B=y[V],j=B.units,H=0,G=void 0,W=0,z=j.length;W<z;W++){var $=j[W],q=$.data,Y=$.data.byteLength;U.setUint32(l,Y),l+=4,h.set(q,l),l+=Y,H+=4+Y}if(E)G=Math.max(0,d*Math.round((B.pts-B.dts)/d));else{if(V<b-1)d=y[V+1].dts-B.dts;else{var K=this.config,X=B.dts-y[V>0?V-1:V].dts;if(K.stretchShortVideoTrack){var Z=K.maxBufferHole,Q=Math.floor(Z*c),J=(n?p+n*c:this.nextAudioPts)-B.pts;J>Q?((d=J-X)<0&&(d=X),o.b.log("It is approximately "+J/90+" ms to the next segment; using duration "+d/90+" ms for the last video frame.")):d=X}else d=X}G=Math.round(B.pts-B.dts)}_.push({size:H,duration:d,cts:G,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:B.key?2:1,isNonSync:B.key?0:1}})}this.nextAvcDts=v+d;var tt=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,_.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var et=_[0].flags;et.dependsOn=2,et.isNonSync=0}t.samples=_,f=a.a.moof(t.sequenceNumber++,g,t),t.samples=[];var it={data1:f,data2:h,startPTS:p/c,endPTS:(m+d)/c,startDTS:g/c,endDTS:this.nextAvcDts/c,type:"video",hasAudio:!1,hasVideo:!0,nb:_.length,dropped:tt};return this.observer.trigger(r.a.FRAG_PARSING_DATA,it),it}},t.prototype.remuxAudio=function(t,e,i,u){var l=t.inputTimeScale,c=t.timescale,d=l/c,h=(t.isAAC?1024:1152)*d,f=this._PTSNormalize,p=this._initDTS,g=!t.isAAC&&this.typeSupported.mpeg,m=void 0,v=void 0,y=void 0,_=void 0,b=void 0,T=void 0,w=void 0,S=t.samples,E=[],A=this.nextAudioPts;if(i|=S.length&&A&&(u&&Math.abs(e-A/l)<.1||Math.abs(S[0].pts-A-p)<20*h),S.forEach((function(t){t.pts=t.dts=f(t.pts-p,e*l)})),0!==(S=S.filter((function(t){return t.pts>=0}))).length){if(i||(A=u?e*l:S[0].pts),t.isAAC)for(var C=this.config.maxAudioFramesDrift,P=0,I=A;P<S.length;){var O,x=S[P];O=x.pts-I;var k=Math.abs(1e3*O/l);if(O<=-C*h)o.b.warn("Dropping 1 audio frame @ "+(I/l).toFixed(3)+"s due to "+Math.round(k)+" ms overlap."),S.splice(P,1),t.len-=x.unit.length;else if(O>=C*h&&k<1e4&&I){var R=Math.round(O/h);o.b.warn("Injecting "+R+" audio frame @ "+(I/l).toFixed(3)+"s due to "+Math.round(1e3*O/l)+" ms gap.");for(var M=0;M<R;M++){var L=Math.max(I,0);(y=n.a.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(o.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),y=x.unit.subarray()),S.splice(P,0,{unit:y,pts:L,dts:L}),t.len+=y.length,I+=h,P++}x.pts=x.dts=I,I+=h,P++}else Math.abs(O),x.pts=x.dts=I,I+=h,P++}for(var D=0,N=S.length;D<N;D++){var F=S[D],U=F.unit,V=F.pts;if(void 0!==w)v.duration=Math.round((V-w)/d);else{var B=Math.round(1e3*(V-A)/l),j=0;if(i&&t.isAAC&&B){if(B>0&&B<1e4)j=Math.round((V-A)/h),o.b.log(B+" ms hole between AAC samples detected,filling it"),j>0&&((y=n.a.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(y=U.subarray()),t.len+=j*y.length);else if(B<-12){o.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(A/l).toFixed(3)+"s/"+(V/l).toFixed(3)+"s/"+-B+"ms"),t.len-=U.byteLength;continue}V=A}if(T=V,!(t.len>0))return;var H=g?t.len:t.len+8;m=g?0:8;try{_=new Uint8Array(H)}catch(t){return void this.observer.trigger(r.a.ERROR,{type:s.b.MUX_ERROR,details:s.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:H,reason:"fail allocating audio mdat "+H})}g||(new DataView(_.buffer).setUint32(0,H),_.set(a.a.types.mdat,4));for(var G=0;G<j;G++)(y=n.a.getSilentFrame(t.manifestCodec||t.codec,t.channelCount))||(o.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),y=U.subarray()),_.set(y,m),m+=y.byteLength,v={size:y.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(v)}_.set(U,m);var W=U.byteLength;m+=W,v={size:W,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},E.push(v),w=V}var z=0,$=E.length;if($>=2&&(z=E[$-2].duration,v.duration=z),$){this.nextAudioPts=A=w+d*z,t.len=0,t.samples=E,b=g?new Uint8Array:a.a.moof(t.sequenceNumber++,T/d,t),t.samples=[];var q=T/l,Y=A/l,K={data1:b,data2:_,startPTS:q,endPTS:Y,startDTS:q,endDTS:Y,type:"audio",hasAudio:!0,hasVideo:!1,nb:$};return this.observer.trigger(r.a.FRAG_PARSING_DATA,K),K}return null}},t.prototype.remuxEmptyAudio=function(t,e,i,r){var a=t.inputTimeScale,s=a/(t.samplerate?t.samplerate:a),u=this.nextAudioPts,l=(void 0!==u?u:r.startDTS*a)+this._initDTS,c=r.endDTS*a+this._initDTS,d=1024*s,h=Math.ceil((c-l)/d),f=n.a.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(o.b.warn("remux empty Audio"),f){for(var p=[],g=0;g<h;g++){var m=l+g*d;p.push({unit:f,pts:m,dts:m}),t.len+=f.length}t.samples=p,this.remuxAudio(t,e,i)}else o.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},t.prototype.remuxID3=function(t,e){var i=t.samples.length,n=void 0,o=t.inputTimeScale,a=this._initPTS,s=this._initDTS;if(i){for(var u=0;u<i;u++)(n=t.samples[u]).pts=(n.pts-a)/o,n.dts=(n.dts-s)/o;this.observer.trigger(r.a.FRAG_PARSING_METADATA,{samples:t.samples})}t.samples=[],e=e},t.prototype.remuxText=function(t,e){t.samples.sort((function(t,e){return t.pts-e.pts}));var i=t.samples.length,n=void 0,o=t.inputTimeScale,a=this._initPTS;if(i){for(var s=0;s<i;s++)(n=t.samples[s]).pts=(n.pts-a)/o;this.observer.trigger(r.a.FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[],e=e},t.prototype._PTSNormalize=function(t,e){var i;if(void 0===e)return t;for(i=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=i;return t},t}();e.a=u},function(t,e,i){var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},t}();e.a=n},function(t,e,i){var n=Math.pow(2,32)-1,r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.init=function(){t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var e=void 0;for(e in t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:i,audio:n};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=o,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,a,u,a,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,r))},t.box=function(t){for(var e=Array.prototype.slice.call(arguments,1),i=8,n=e.length,r=n,o=void 0;n--;)i+=e[n].byteLength;for((o=new Uint8Array(i))[0]=i>>24&255,o[1]=i>>16&255,o[2]=i>>8&255,o[3]=255&i,o.set(t,4),n=0,i=8;n<r;n++)o.set(e[n],i),i+=e[n].byteLength;return o},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,i){i*=e;var r=Math.floor(i/(n+1)),o=Math.floor(i%(n+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24,r>>16&255,r>>8&255,255&r,o>>24,o>>16&255,o>>8&255,255&o,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,i,n){return t.box(t.types.moof,t.mfhd(e),t.traf(n,i))},t.moov=function(e){for(var i=e.length,n=[];i--;)n[i]=t.trak(e[i]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(t.mvex(e)))},t.mvex=function(e){for(var i=e.length,n=[];i--;)n[i]=t.trex(e[i]);return t.box.apply(null,[t.types.mvex].concat(n))},t.mvhd=function(e,i){i*=e;var r=Math.floor(i/(n+1)),o=Math.floor(i%(n+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24,r>>16&255,r>>8&255,255&r,o>>24,o>>16&255,o>>8&255,255&o,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,a)},t.sdtp=function(e){var i=e.samples||[],n=new Uint8Array(4+i.length),r=void 0,o=void 0;for(o=0;o<i.length;o++)r=i[o].flags,n[o+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return t.box(t.types.sdtp,n)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var i=[],n=[],r=void 0,o=void 0,a=void 0;for(r=0;r<e.sps.length;r++)a=(o=e.sps[r]).byteLength,i.push(a>>>8&255),i.push(255&a),i=i.concat(Array.prototype.slice.call(o));for(r=0;r<e.pps.length;r++)a=(o=e.pps[r]).byteLength,n.push(a>>>8&255),n.push(255&a),n=n.concat(Array.prototype.slice.call(o));var s=t.box(t.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|e.sps.length].concat(i).concat([e.pps.length]).concat(n))),u=e.width,l=e.height,c=e.pixelRatio[0],d=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var i=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var i=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,255&i,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var i=e.id,r=e.duration*e.timescale,o=e.width,a=e.height,s=Math.floor(r/(n+1)),u=Math.floor(r%(n+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,u>>24,u>>16&255,u>>8&255,255&u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,255&o,0,0,a>>8&255,255&a,0,0]))},t.traf=function(e,i){var r=t.sdtp(e),o=e.id,a=Math.floor(i/(n+1)),s=Math.floor(i%(n+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),t.trun(e,r.length+16+20+8+16+8+8),r)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var i=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,i){var n=e.samples||[],r=n.length,o=12+16*r,a=new Uint8Array(o),s=void 0,u=void 0,l=void 0,c=void 0,d=void 0,h=void 0;for(i+=8+o,a.set([0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,255&r,i>>>24&255,i>>>16&255,i>>>8&255,255&i],0),s=0;s<r;s++)l=(u=n[s]).duration,c=u.size,d=u.flags,h=u.cts,a.set([l>>>24&255,l>>>16&255,l>>>8&255,255&l,c>>>24&255,c>>>16&255,c>>>8&255,255&c,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.paddingValue<<1|d.isNonSync,61440&d.degradPrio,15&d.degradPrio,h>>>24&255,h>>>16&255,h>>>8&255,255&h],12+16*s);return t.box(t.types.trun,a)},t.initSegment=function(e){t.types||t.init();var i=t.moov(e),n=void 0;return(n=new Uint8Array(t.FTYP.byteLength+i.byteLength)).set(t.FTYP),n.set(i,t.FTYP.byteLength),n},t}();e.a=r},function(t,e,i){var n=i(1),r=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e}return t.prototype.destroy=function(){},t.prototype.resetTimeStamp=function(){},t.prototype.resetInitSegment=function(){},t.prototype.remux=function(t,e,i,r,o,a,s,u){var l=this.observer,c="";t&&(c+="audio"),e&&(c+="video"),l.trigger(n.a.FRAG_PARSING_DATA,{data1:u,startPTS:o,startDTS:o,type:c,hasAudio:!!t,hasVideo:!!e,nb:1,dropped:0}),l.trigger(n.a.FRAG_PARSED)},t}();e.a=r},function(t,e,i){function n(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e.oe=function(t){throw console.error(t),t};var n=e(e.s=ENTRY_MODULE);return n.default||n}function r(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(t,e,n){var o={};o[n]=[];var a=e.toString(),s=a.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!s)return o;for(var c,d=s[1],h=new RegExp("(\\\\n|\\W)"+r(d)+l,"g");c=h.exec(a);)"dll-reference"!==c[3]&&o[n].push(c[3]);for(h=new RegExp("\\("+r(d)+'\\("(dll-reference\\s('+u+'))"\\)\\)'+l,"g");c=h.exec(a);)t[c[2]]||(o[n].push(c[1]),t[c[2]]=i(c[1]).m),o[c[2]]=o[c[2]]||[],o[c[2]].push(c[4]);return o}function a(t){return Object.keys(t).reduce((function(e,i){return e||t[i].length>0}),!1)}function s(t,e){for(var i={main:[e]},n={main:[]},r={main:{}};a(i);)for(var s=Object.keys(i),u=0;u<s.length;u++){var l=s[u],c=i[l].pop();if(r[l]=r[l]||{},!r[l][c]&&t[l][c]){r[l][c]=!0,n[l]=n[l]||[],n[l].push(c);for(var d=o(t,t[l][c],l),h=Object.keys(d),f=0;f<h.length;f++)i[h[f]]=i[h[f]]||[],i[h[f]]=i[h[f]].concat(d[h[f]])}}return n}var u="[\\.|\\-|\\+|\\w|/|@]+",l="\\((/\\*.*?\\*/)?s?.*?("+u+").*?\\)";t.exports=function(t,e){e=e||{};var r={main:i.m},o=e.all?{main:Object.keys(r)}:s(r,t),a="";Object.keys(o).filter((function(t){return"main"!==t})).forEach((function(t){for(var e=0;o[t][e];)e++;o[t].push(e),r[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+t+" = ("+n.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o[t].map((function(e){return JSON.stringify(e)+": "+r[t][e].toString()})).join(",")+"});\n"})),a=a+"("+n.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o.main.map((function(t){return JSON.stringify(t)+": "+r.main[t].toString()})).join(",")+"})(self);";var u=new window.Blob([a],{type:"text/javascript"});if(e.bare)return u;var l=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),c=new window.Worker(l);return c.objectURL=l,c}},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=i(1),o=i(0),a=i(10),s=i.n(a);e.default=function(t){var e=new s.a;e.trigger=function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];e.emit.apply(e,[t,t].concat(n))},e.off=function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];e.removeListener.apply(e,[t].concat(n))};var i=function(e,i){t.postMessage({event:e,data:i})};t.addEventListener("message",(function(r){var a=r.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);t.demuxer=new n.a(e,a.typeSupported,s,a.vendor);try{Object(o.a)(!0===s.debug)}catch(t){console.warn("demuxerWorker: unable to enable logs")}i("init",null);break;case"demux":t.demuxer.push(a.data,a.decryptdata,a.initSegment,a.audioCodec,a.videoCodec,a.timeOffset,a.discontinuity,a.trackSwitch,a.contiguous,a.duration,a.accurateTimeOffset,a.defaultInitPTS)}})),e.on(r.a.FRAG_DECRYPTED,i),e.on(r.a.FRAG_PARSING_INIT_SEGMENT,i),e.on(r.a.FRAG_PARSED,i),e.on(r.a.ERROR,i),e.on(r.a.FRAG_PARSING_METADATA,i),e.on(r.a.FRAG_PARSING_USERDATA,i),e.on(r.a.INIT_PTS_FOUND,i),e.on(r.a.FRAG_PARSING_DATA,(function(e,i){var n=[],r={event:e,data:i};i.data1&&(r.data1=i.data1.buffer,n.push(i.data1.buffer),delete i.data1),i.data2&&(r.data2=i.data2.buffer,n.push(i.data2.buffer),delete i.data2),t.postMessage(r,n)}))}},function(t,e,i){var n=i(1),r=i(3),o=i(0),a=i(2),s=i(17),u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n.a.MANIFEST_LOADED,n.a.LEVEL_LOADED,n.a.FRAG_LOADED,n.a.ERROR));return r.canload=!1,r.currentLevelIndex=null,r.manualLevelIndex=-1,r.timer=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onHandlerDestroying=function(){this.cleanTimer(),this.manualLevelIndex=-1},e.prototype.cleanTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach((function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)})),null!==this.timer&&this.loadLevel()},e.prototype.stopLoad=function(){this.canload=!1},e.prototype.onManifestLoaded=function(t){var e=[],i=void 0,r={},u=null,l=!1,c=!1,d=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),h=[];if(t.levels.forEach((function(t){t.loadError=0,t.fragmentError=!1,l=l||!!t.videoCodec,c=c||!!t.audioCodec||!(!t.attrs||!t.attrs.AUDIO),!0===d&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),void 0===(u=r[t.bitrate])?(t.url=[t.url],t.urlId=0,r[t.bitrate]=t,e.push(t)):u.url.push(t.url)})),!0===l&&!0===c&&(e=e.filter((function(t){return!!t.videoCodec}))),e=e.filter((function(t){var e=t.audioCodec,i=t.videoCodec;return(!e||Object(s.a)(e))&&(!i||Object(s.a)(i))})),t.audioTracks&&(h=t.audioTracks.filter((function(t){return!t.audioCodec||Object(s.a)(t.audioCodec,"audio")}))),e.length>0){i=e[0].bitrate,e.sort((function(t,e){return t.bitrate-e.bitrate})),this._levels=e;for(var f=0;f<e.length;f++)if(e[f].bitrate===i){this._firstLevel=f,o.b.log("manifest loaded,"+e.length+" level(s) found, first bitrate:"+i);break}this.hls.trigger(n.a.MANIFEST_PARSED,{levels:e,audioTracks:h,firstLevel:this._firstLevel,stats:t.stats,audio:c,video:l,altAudio:h.length>0})}else this.hls.trigger(n.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},e.prototype.setLevelInternal=function(t){var e=this._levels,i=this.hls;if(t>=0&&t<e.length){if(this.cleanTimer(),this.currentLevelIndex!==t){o.b.log("switching to level "+t),this.currentLevelIndex=t;var r=e[t];r.level=t,i.trigger(n.a.LEVEL_SWITCHING,r)}var s=e[t],u=s.details;if(!u||!0===u.live){var l=s.urlId;i.trigger(n.a.LEVEL_LOADING,{url:s.url[l],level:t,id:l})}}else i.trigger(n.a.ERROR,{type:a.b.OTHER_ERROR,details:a.a.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},e.prototype.onError=function(t){if(!0!==t.fatal){var e=!1,i=!1,n=void 0;switch(t.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:case a.a.KEY_LOAD_ERROR:case a.a.KEY_LOAD_TIMEOUT:n=t.frag.level,i=!0;break;case a.a.LEVEL_LOAD_ERROR:case a.a.LEVEL_LOAD_TIMEOUT:n=t.context.level,e=!0;break;case a.a.REMUX_ALLOC_ERROR:n=t.level,e=!0}void 0!==n&&this.recoverLevel(t,n,e,i)}else t.type===a.b.NETWORK_ERROR&&this.cleanTimer()},e.prototype.recoverLevel=function(t,e,i,n){var r=this,a=this.hls.config,s=t.details,u=this._levels[e],l=void 0,c=void 0,d=void 0;if(u.loadError++,u.fragmentError=n,!0===i){if(!(this.levelRetryCount+1<=a.levelLoadingMaxRetry))return o.b.error("level controller, cannot recover from "+s+" error"),this.currentLevelIndex=null,this.cleanTimer(),void(t.fatal=!0);c=Math.min(Math.pow(2,this.levelRetryCount)*a.levelLoadingRetryDelay,a.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return r.loadLevel()}),c),t.levelRetry=!0,this.levelRetryCount++,o.b.warn("level controller, "+s+", retry in "+c+" ms, current retry count is "+this.levelRetryCount)}!0!==i&&!0!==n||((l=u.url.length)>1&&u.loadError<l?(o.b.warn("level controller, "+s+" for level "+e+": switching to redundant stream id "+u.urlId),u.urlId=(u.urlId+1)%l,u.details=void 0):-1===this.manualLevelIndex?(d=0===e?this._levels.length-1:e-1,o.b.warn("level controller, "+s+": switch to "+d),this.hls.nextAutoLevel=this.currentLevelIndex=d):!0===n&&(o.b.warn("level controller, "+s+": reload a fragment"),this.currentLevelIndex=null))},e.prototype.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var i=this._levels[e.level];void 0!==i&&(i.fragmentError=!1,i.loadError=0,this.levelRetryCount=0)}},e.prototype.onLevelLoaded=function(t){var e=this,i=t.level;if(i===this.currentLevelIndex){var n=this._levels[i];!1===n.fragmentError&&(n.loadError=0,this.levelRetryCount=0);var r=t.details;if(r.live){var a=1e3*(r.averagetargetduration?r.averagetargetduration:r.targetduration),s=a,u=n.details;u&&r.endSN===u.endSN&&(s/=2,o.b.log("same live playlist, reload twice faster")),s-=performance.now()-t.stats.trequest,s=Math.max(a/2,Math.round(s)),o.b.log("live playlist, reload in "+Math.round(s)+" ms"),this.timer=setTimeout((function(){return e.loadLevel()}),s)}else this.cleanTimer()}},e.prototype.loadLevel=function(){var t=void 0,e=void 0;null!==this.currentLevelIndex&&!0===this.canload&&void 0!==(t=this._levels[this.currentLevelIndex])&&t.url.length>0&&(e=t.urlId,this.hls.trigger(n.a.LEVEL_LOADING,{url:t.url[e],level:this.currentLevelIndex,id:e}))},u(e,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&void 0!==e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}]),e}(r.a);e.a=l},function(t,e,i){var n=i(1),r=i(3),o=i(5),a=i(25),s=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n.a.MEDIA_ATTACHED,n.a.MEDIA_DETACHING,n.a.FRAG_PARSING_METADATA));return r.id3Track=void 0,r.media=void 0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){r.a.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){this.media=t.media,this.media},e.prototype.onMediaDetaching=function(){Object(a.a)(this.id3Track),this.id3Track=void 0,this.media=void 0},e.prototype.getID3Track=function(t){for(var e=0;e<t.length;e++){var i=t[e];if("metadata"===i.kind&&"id3"===i.label)return Object(a.b)(i,this.media),i}return this.media.addTextTrack("metadata","id3")},e.prototype.onFragParsingMetadata=function(t){var e=t.frag,i=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var n=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,r=0;r<i.length;r++){var a=o.a.getID3Frames(i[r].data);if(a){var s=i[r].pts,u=r<i.length-1?i[r+1].pts:e.endPTS;s===u&&(u+=1e-4);for(var l=0;l<a.length;l++){var c=a[l];if(!o.a.isTimeStampFrame(c)){var d=new n(s,u,"");d.value=c,this.id3Track.addCue(d)}}}}},e}(r.a);e.a=s},function(t,e,i){e.a=function(){var t=Object(n.a)(),e=window.SourceBuffer||window.WebKitSourceBuffer,i=t&&"function"==typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),r=!e||e.prototype&&"function"==typeof e.prototype.appendBuffer&&"function"==typeof e.prototype.remove;return!!i&&!!r};var n=i(11)},function(t,e,i){i.d(e,"a",(function(){return m}));var n=i(51),r=i(54),o=i(55),a=i(56),s=i(57),u=i(58),l=i(59),c=i(60),d=i(62),h=i(66),f=i(67),p=i(68),g=i(69),m={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:s.a,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:n.a,bufferController:r.a,capLevelController:o.a,fpsController:a.a,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:g.a};m.subtitleStreamController=f.a,m.subtitleTrackController=h.a,m.timelineController=d.a,m.cueHandler=c,m.enableCEA708Captions=!0,m.enableWebVTT=!0,m.captionsTextTrack1Label="English",m.captionsTextTrack1LanguageCode="en",m.captionsTextTrack2Label="Spanish",m.captionsTextTrack2LanguageCode="es",m.audioStreamController=l.a,m.audioTrackController=u.a,m.emeController=p.a},function(t,e,i){var n=i(1),r=i(3),o=i(8),a=i(2),s=i(0),u=i(52),l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),c=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n.a.FRAG_LOADING,n.a.FRAG_LOADED,n.a.FRAG_BUFFERED,n.a.ERROR));return r.lastLoadedFragLevel=0,r._nextAutoLevel=-1,r.hls=i,r.timer=null,r._bwEstimator=null,r.onCheck=r._abandonRulesCheck.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.clearTimer(),r.a.prototype.destroy.call(this)},e.prototype.onFragLoading=function(t){var e=t.frag;if("main"===e.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var i=this.hls,n=t.frag.level,r=i.levels[n].details.live,o=i.config,a=void 0,s=void 0;r?(a=o.abrEwmaFastLive,s=o.abrEwmaSlowLive):(a=o.abrEwmaFastVoD,s=o.abrEwmaSlowVoD),this._bwEstimator=new u.a(i,s,a,o.abrEwmaDefaultEstimate)}this.fragCurrent=e}},e.prototype._abandonRulesCheck=function(){var t=this.hls,e=t.media,i=this.fragCurrent,r=i.loader,a=t.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return s.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var u=r.stats;if(e&&u&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&i.autoLevel&&i.level){var l=performance.now()-u.trequest,c=Math.abs(e.playbackRate);if(l>500*i.duration/c){var d=t.levels,h=Math.max(1,u.bw?u.bw/8:1e3*u.loaded/l),f=d[i.level],p=f.realBitrate?Math.max(f.realBitrate,f.bitrate):f.bitrate,g=u.total?u.total:Math.max(u.loaded,Math.round(i.duration*p/8)),m=e.currentTime,v=(g-u.loaded)/h,y=(o.a.bufferInfo(e,m,t.config.maxBufferHole).end-m)/c;if(y<2*i.duration/c&&v>y){var _=void 0,b=void 0;for(b=i.level-1;b>a;b--){var T=d[b].realBitrate?Math.max(d[b].realBitrate,d[b].bitrate):d[b].bitrate;if((_=i.duration*T/(6.4*h))<y)break}_<v&&(s.b.warn("loading too slow, abort fragment loading and switch to level "+b+":fragLoadedDelay["+b+"]<fragLoadedDelay["+(i.level-1)+"];bufferStarvationDelay:"+_.toFixed(1)+"<"+v.toFixed(1)+":"+y.toFixed(1)),t.nextLoadLevel=b,this._bwEstimator.sample(l,u.loaded),r.abort(),this.clearTimer(),t.trigger(n.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,stats:u}))}}}},e.prototype.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&!isNaN(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var i=this.hls.levels[e.level],n=(i.loaded?i.loaded.bytes:0)+t.stats.loaded,r=(i.loaded?i.loaded.duration:0)+t.frag.duration;i.loaded={bytes:n,duration:r},i.realBitrate=Math.round(8*n/r)}if(t.frag.bitrateTest){var o=t.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(t)}}},e.prototype.onFragBuffered=function(t){var e=t.stats,i=t.frag;if(!(!0===e.aborted||"main"!==i.type||isNaN(i.sn)||i.bitrateTest&&e.tload!==e.tbuffered)){var n=e.tparsed-e.trequest;s.b.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(n,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),i.bitrateTest?this.bitrateTestDelay=n/1e3:this.bitrateTestDelay=0}},e.prototype.onError=function(t){switch(t.details){case a.a.FRAG_LOAD_ERROR:case a.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},e.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},e.prototype._findBestLevel=function(t,e,i,n,r,o,a,u,l){for(var c=r;c>=n;c--){var d,h=l[c].details,f=h?h.totalduration/h.fragments.length:e,p=!!h&&h.live;d=c<=t?a*i:u*i;var g=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,m=g*f/d;if(s.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(d)+"/"+g+"/"+f+"/"+o+"/"+m),d>g&&(!m||p&&!this.bitrateTestDelay||m<o))return c}return-1},l(e,[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(!(-1===t||e&&e.canEstimate()))return t;var i=this._nextABRAutoLevel;return-1!==t&&(i=Math.min(t,i)),i},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,i=t.levels,n=t.config,r=t.minAutoLevel,a=t.media,u=this.lastLoadedFragLevel,l=this.fragCurrent?this.fragCurrent.duration:0,c=a?a.currentTime:0,d=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,h=this._bwEstimator?this._bwEstimator.getEstimate():n.abrEwmaDefaultEstimate,f=(o.a.bufferInfo(a,c,n.maxBufferHole).end-c)/d,p=this._findBestLevel(u,l,h,r,e,f,n.abrBandWidthFactor,n.abrBandWidthUpFactor,i);if(p>=0)return p;s.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=l?Math.min(l,n.maxStarvationDelay):n.maxStarvationDelay,m=n.abrBandWidthFactor,v=n.abrBandWidthUpFactor;if(0===f){var y=this.bitrateTestDelay;y&&(g=(l?Math.min(l,n.maxLoadingDelay):n.maxLoadingDelay)-y,s.b.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),m=v=1)}return p=this._findBestLevel(u,l,h,r,e,f+g,m,v,i),Math.max(p,0)}}]),e}(r.a);e.a=c},function(t,e,i){var n=i(53),r=function(){function t(e,i,r,o){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.hls=e,this.defaultEstimate_=o,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new n.a(i),this.fast_=new n.a(r)}return t.prototype.sample=function(t,e){var i=8e3*e/(t=Math.max(t,this.minDelayMs_)),n=t/1e3;this.fast_.sample(n,i),this.slow_.sample(n,i)},t.prototype.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},t.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.prototype.destroy=function(){},t}();e.a=r},function(t,e,i){var n=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return t.prototype.sample=function(t,e){var i=Math.pow(this.alpha_,t);this.estimate_=e*(1-i)+i*this.estimate_,this.totalWeight_+=t},t.prototype.getTotalWeight=function(){return this.totalWeight_},t.prototype.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}();e.a=n},function(t,e,i){var n=i(1),r=i(3),o=i(0),a=i(2),s=i(11),u=Object(s.a)(),l=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n.a.MEDIA_ATTACHING,n.a.MEDIA_DETACHING,n.a.MANIFEST_PARSED,n.a.BUFFER_RESET,n.a.BUFFER_APPENDING,n.a.BUFFER_CODECS,n.a.BUFFER_EOS,n.a.BUFFER_FLUSHING,n.a.LEVEL_PTS_UPDATED,n.a.LEVEL_UPDATED));return r._msDuration=null,r._levelDuration=null,r._live=null,r._objectUrl=null,r.onsbue=r.onSBUpdateEnd.bind(r),r.onsbe=r.onSBUpdateError.bind(r),r.pendingTracks={},r.tracks={},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){r.a.prototype.destroy.call(this)},e.prototype.onLevelPtsUpdated=function(t){var e=t.type,i=this.tracks.audio;if("audio"===e&&i&&"audio/mpeg"===i.container){var n=this.sourceBuffer.audio;if(Math.abs(n.timestampOffset-t.start)>.1){var r=n.updating;try{n.abort()}catch(t){r=!0,o.b.warn("can not abort audio buffer: "+t)}r?this.audioTimestampOffset=t.start:(o.b.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+t.start),n.timestampOffset=t.start)}}},e.prototype.onManifestParsed=function(t){var e=t.audio,i=t.video||t.levels.length&&t.audio,n=0;t.altAudio&&(e||i)&&(n=(e?1:0)+(i?1:0),o.b.log(n+" sourceBuffer(s) expected")),this.sourceBufferNb=n},e.prototype.onMediaAttaching=function(t){var e=this.media=t.media;if(e){var i=this.mediaSource=new u;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),i.addEventListener("sourceopen",this.onmso),i.addEventListener("sourceended",this.onmse),i.addEventListener("sourceclose",this.onmsc),e.src=URL.createObjectURL(i),this._objectUrl=e.src}},e.prototype.onMediaDetaching=function(){o.b.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){o.b.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):o.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(n.a.MEDIA_DETACHED)},e.prototype.onMediaSourceOpen=function(){o.b.log("media source opened"),this.hls.trigger(n.a.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},e.prototype.checkPendingTracks=function(){var t=this.pendingTracks,e=Object.keys(t).length;e&&(this.sourceBufferNb<=e||0===this.sourceBufferNb)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},e.prototype.onMediaSourceClose=function(){o.b.log("media source closed")},e.prototype.onMediaSourceEnded=function(){o.b.log("media source ended")},e.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;o.b.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var e=this.parent,i=this.segments.reduce((function(t,i){return i.parent===e?t+1:t}),0),r={},a=this.sourceBuffer;for(var s in a)r[s]=a[s].buffered;this.hls.trigger(n.a.BUFFER_APPENDED,{parent:e,pending:i,timeRanges:r}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},e.prototype.onSBUpdateError=function(t){o.b.error("sourceBuffer error:",t),this.hls.trigger(n.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var i=t[e];try{this.mediaSource.removeSourceBuffer(i),i.removeEventListener("updateend",this.onsbue),i.removeEventListener("error",this.onsbe)}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},e.prototype.onBufferCodecs=function(t){if(0===Object.keys(this.sourceBuffer).length){for(var e in t)this.pendingTracks[e]=t[e];var i=this.mediaSource;i&&"open"===i.readyState&&this.checkPendingTracks()}},e.prototype.createSourceBuffers=function(t){var e=this.sourceBuffer,i=this.mediaSource;for(var r in t)if(!e[r]){var s=t[r],u=s.levelCodec||s.codec,l=s.container+";codecs="+u;o.b.log("creating sourceBuffer("+l+")");try{var c=e[r]=i.addSourceBuffer(l);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),this.tracks[r]={codec:u,container:s.container},s.buffer=c}catch(t){o.b.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(n.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:l})}}this.hls.trigger(n.a.BUFFER_CREATED,{tracks:t})},e.prototype.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},e.prototype.onBufferAppendFail=function(t){o.b.error("sourceBuffer error:",t.event),this.hls.trigger(n.a.ERROR,{type:a.b.MEDIA_ERROR,details:a.a.BUFFER_APPENDING_ERROR,fatal:!1})},e.prototype.onBufferEos=function(t){var e=this.sourceBuffer,i=t.type;for(var n in e)i&&n!==i||e[n].ended||(e[n].ended=!0,o.b.log(n+" sourceBuffer now EOS"));this.checkEos()},e.prototype.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var i in t){var n=t[i];if(!n.ended)return;if(n.updating)return void(this._needsEos=!0)}o.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){o.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},e.prototype.onBufferFlushing=function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()},e.prototype.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._live=e.live,this.updateMediaElementDuration())},e.prototype.updateMediaElementDuration=function(){var t=this.hls.config,e=void 0;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var i in this.sourceBuffer)if(!0===this.sourceBuffer[i].updating)return;e=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===t.liveDurationInfinity?(o.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>e||e===1/0||isNaN(e))&&(o.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},e.prototype.doFlush=function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,i=this.sourceBuffer;try{for(var r in i)e+=i[r].buffered.length}catch(t){o.b.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(n.a.BUFFER_FLUSHED)}},e.prototype.doAppending=function(){var t=this.hls,e=this.sourceBuffer,i=this.segments;if(Object.keys(e).length){if(this.media.error)return this.segments=[],void o.b.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(i&&i.length){var r=i.shift();try{var s=e[r.type];s?s.updating?i.unshift(r):(s.ended=!1,this.parent=r.parent,s.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(e){o.b.error("error while trying to append buffer:"+e.message),i.unshift(r);var u={type:a.b.MEDIA_ERROR,parent:r.parent};22!==e.code?(this.appendError?this.appendError++:this.appendError=1,u.details=a.a.BUFFER_APPEND_ERROR,this.appendError>t.config.appendErrorMaxRetry?(o.b.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),i=[],u.fatal=!0,t.trigger(n.a.ERROR,u)):(u.fatal=!1,t.trigger(n.a.ERROR,u))):(this.segments=[],u.details=a.a.BUFFER_FULL_ERROR,u.fatal=!1,t.trigger(n.a.ERROR,u))}}}},e.prototype.flushBuffer=function(t,e,i){var n=void 0,r=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=this.sourceBuffer;if(Object.keys(c).length){if(o.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var d in c)if(!i||d===i){if((n=c[d]).ended=!1,n.updating)return o.b.warn("cannot flush, sb updating in progress"),!1;try{for(r=0;r<n.buffered.length;r++)if(a=n.buffered.start(r),s=n.buffered.end(r),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&e===Number.POSITIVE_INFINITY?(u=t,l=e):(u=Math.max(a,t),l=Math.min(s,e)),Math.min(l,s)-u>.5)return this.flushBufferCounter++,o.b.log("flush "+d+" ["+u+","+l+"], of ["+a+","+s+"], pos:"+this.media.currentTime),n.remove(u,l),!1}catch(t){o.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else o.b.warn("abort flushing too many retries");o.b.log("buffer flushed")}return!0},e}(r.a);e.a=l},function(t,e,i){var n=i(1),r=i(3),o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t){function e(i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n.a.FPS_DROP_LEVEL_CAPPING,n.a.MEDIA_ATTACHING,n.a.MANIFEST_PARSED))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))},e.prototype.onFpsDropLevelCapping=function(t){e.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},e.prototype.onMediaAttaching=function(t){this.media=t.media instanceof HTMLVideoElement?t.media:null},e.prototype.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],e.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=t.levels,e.firstLevel=this.getMaxLevel(t.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},e.prototype.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},e.prototype.getMaxLevel=function(t){var i=this;if(!this.levels)return-1;var n=this.levels.filter((function(n,r){return e.isLevelAllowed(r,i.restrictedLevels)&&r<=t}));return e.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},e.isLevelAllowed=function(t){return-1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(t)},e.getMaxLevelByMediaSize=function(t,e,i){if(!t||t&&!t.length)return-1;for(var n=t.length-1,r=0;r<t.length;r+=1){var o=t[r];if((o.width>=e||o.height>=i)&&function(t,e){return!e||t.width!==e.width||t.height!==e.height}(o,t[r+1])){n=r;break}}return n},o(e,[{key:"mediaWidth",get:function(){var t=void 0,i=this.media;return i&&(t=i.width||i.clientWidth||i.offsetWidth,t*=e.contentScaleFactor),t}},{key:"mediaHeight",get:function(){var t=void 0,i=this.media;return i&&(t=i.height||i.clientHeight||i.offsetHeight,t*=e.contentScaleFactor),t}}],[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}}]),e}(r.a);e.a=a},function(t,e,i){var n=i(1),r=i(3),o=i(0),a=function(t){function e(i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n.a.MEDIA_ATTACHING))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},e.prototype.onMediaAttaching=function(t){var e=this.hls.config;e.capLevelOnFPSDrop&&("function"==typeof(this.video=t.media instanceof HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod))},e.prototype.checkFPS=function(t,e,i){var r=performance.now();if(e){if(this.lastTime){var a=r-this.lastTime,s=i-this.lastDroppedFrames,u=e-this.lastDecodedFrames,l=1e3*s/a,c=this.hls;if(c.trigger(n.a.FPS_DROP,{currentDropped:s,currentDecoded:u,totalDroppedFrames:i}),l>0&&s>c.config.fpsDroppedMonitoringThreshold*u){var d=c.currentLevel;o.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=d)&&(d-=1,c.trigger(n.a.FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:c.currentLevel}),c.autoLevelCapping=d,c.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=i,this.lastDecodedFrames=e}},e.prototype.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},e}(r.a);e.a=a},function(t,e,i){var n=i(0),r=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return t.prototype.destroy=function(){this.abort(),this.loader=null},t.prototype.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},t.prototype.load=function(t,e,i){this.context=t,this.config=e,this.callbacks=i,this.stats={trequest:performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},t.prototype.loadInternal=function(){var t=void 0,e=this.context;t=this.loader=new XMLHttpRequest;var i=this.stats;i.tfirst=0,i.loaded=0;var n=this.xhrSetup;try{if(n)try{n(t,e.url)}catch(i){t.open("GET",e.url,!0),n(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(i){return void this.callbacks.onError({code:t.status,text:i.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},t.prototype.readystatechange=function(t){var e=t.currentTarget,i=e.readyState,r=this.stats,o=this.context,a=this.config;if(!r.aborted&&i>=2)if(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(performance.now(),r.trequest)),4===i){var s=e.status;if(s>=200&&s<300){r.tload=Math.max(r.tfirst,performance.now());var u=void 0,l=void 0;l="arraybuffer"===o.responseType?(u=e.response).byteLength:(u=e.responseText).length,r.loaded=r.total=l;var c={url:e.responseURL,data:u};this.callbacks.onSuccess(c,r,o,e)}else r.retry>=a.maxRetry||s>=400&&s<499?(n.b.error(s+" while loading "+o.url),this.callbacks.onError({code:s,text:e.statusText},o,e)):(n.b.warn(s+" while loading "+o.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),r.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout)},t.prototype.loadtimeout=function(){n.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},t.prototype.loadprogress=function(t){var e=t.currentTarget,i=this.stats;i.loaded=t.loaded,t.lengthComputable&&(i.total=t.total);var n=this.callbacks.onProgress;n&&n(i,this.context,null,e)},t}();e.a=r},function(t,e,i){var n=i(1),r=i(3),o=i(0),a=i(2),s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n.a.MANIFEST_LOADING,n.a.MANIFEST_PARSED,n.a.AUDIO_TRACK_LOADED,n.a.ERROR));return r.ticks=0,r.ontick=r.tick.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.destroy=function(){this.cleanTimer(),r.a.prototype.destroy.call(this)},e.prototype.cleanTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},e.prototype.tick=function(){1==++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},e.prototype.doTick=function(){this.updateTrack(this.trackId)},e.prototype.onError=function(t){t.fatal&&t.type===a.b.NETWORK_ERROR&&this.cleanTimer()},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestParsed=function(t){var e=this,i=t.audioTracks||[],r=!1;this.tracks=i,this.hls.trigger(n.a.AUDIO_TRACKS_UPDATED,{audioTracks:i});var a=0;i.forEach((function(t){if(t.default&&!r)return e.audioTrack=a,void(r=!0);a++})),!1===r&&i.length&&(o.b.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)},e.prototype.onAudioTrackLoaded=function(t){t.id<this.tracks.length&&(o.b.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*t.details.targetduration)),!t.details.live&&this.timer&&this.cleanTimer())},e.prototype.setAudioTrackInternal=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,o.b.log("switching to audioTrack "+t);var e=this.tracks[t],i=this.hls,r=e.type,a=e.url,s={id:t,type:r,url:a};i.trigger(n.a.AUDIO_TRACK_SWITCHING,s);var u=e.details;!a||void 0!==u&&!0!==u.live||(o.b.log("(re)loading playlist for audioTrack "+t),i.trigger(n.a.AUDIO_TRACK_LOADING,{url:a,id:t}))}},e.prototype.updateTrack=function(t){if(t>=0&&t<this.tracks.length){this.cleanTimer(),this.trackId=t,o.b.log("updating audioTrack "+t);var e=this.tracks[t],i=e.url,r=e.details;!i||void 0!==r&&!0!==r.live||(o.b.log("(re)loading playlist for audioTrack "+t),this.hls.trigger(n.a.AUDIO_TRACK_LOADING,{url:i,id:t}))}},s(e,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.trackId===t&&void 0!==this.tracks[t].details||this.setAudioTrackInternal(t)}}]),e}(r.a);e.a=u},function(t,e,i){var n=i(7),r=i(8),o=i(18),a=i(1),s=i(22),u=i(23),l=i(2),c=i(0),d=i(24),h=i(13),f=i(12),p=i(6),g=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),m="STOPPED",v="STARTING",y="IDLE",_="PAUSED",b="KEY_LOADING",T="FRAG_LOADING",w="FRAG_LOADING_WAITING_RETRY",S="WAITING_TRACK",E="PARSING",A="PARSED",C="BUFFER_FLUSHING",P="ENDED",I="ERROR",O="WAITING_INIT_PTS",x=function(t){function e(i,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,a.a.MEDIA_ATTACHED,a.a.MEDIA_DETACHING,a.a.AUDIO_TRACKS_UPDATED,a.a.AUDIO_TRACK_SWITCHING,a.a.AUDIO_TRACK_LOADED,a.a.KEY_LOADED,a.a.FRAG_LOADED,a.a.FRAG_PARSING_INIT_SEGMENT,a.a.FRAG_PARSING_DATA,a.a.FRAG_PARSED,a.a.ERROR,a.a.BUFFER_RESET,a.a.BUFFER_CREATED,a.a.BUFFER_APPENDED,a.a.BUFFER_FLUSHED,a.a.INIT_PTS_FOUND));return r.fragmentTracker=n,r.config=i.config,r.audioCodecSwap=!1,r._state=m,r.initPTS=[],r.waitingFragment=null,r.videoTrackCC=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onHandlerDestroying=function(){this.stopLoad()},e.prototype.onHandlerDestroyed=function(){this.state=m,this.fragmentTracker=null},e.prototype.onInitPtsFound=function(t){var e=t.id,i=t.frag.cc,n=t.initPTS;"main"===e&&(this.initPTS[i]=n,this.videoTrackCC=i,c.b.log("InitPTS for cc: "+i+" found from video track: "+n),this.state===O&&this.tick())},e.prototype.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,e>0&&-1===t?(c.b.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=y):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=v),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=m},e.prototype.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=m},e.prototype.doTick=function(){var t=void 0,e=void 0,i=void 0,o=this.hls,s=o.config;switch(this.state){case I:case _:case C:break;case v:this.state=S,this.loadedmetadata=!1;break;case y:var u=this.tracks;if(!u)break;if(!this.media&&(this.startFragRequested||!s.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var l=this.mediaBuffer?this.mediaBuffer:this.media,h=this.videoBuffer?this.videoBuffer:this.media,p=r.a.bufferInfo(l,t,s.maxBufferHole),g=r.a.bufferInfo(h,t,s.maxBufferHole),m=p.len,E=p.end,A=this.fragPrevious,x=Math.min(s.maxBufferLength,s.maxMaxBufferLength),k=Math.max(x,g.len),R=this.audioSwitch,M=this.trackId;if((m<k||R)&&M<u.length){if(void 0===(i=u[M].details)){this.state=S;break}if(!R&&!i.live&&A&&A.sn===i.endSN&&!p.nextStart&&(!this.media.seeking||this.media.duration-E<A.duration/2)){this.hls.trigger(a.a.BUFFER_EOS,{type:"audio"}),this.state=P;break}var L=i.fragments,D=L.length,N=L[0].start,F=L[D-1].start+L[D-1].duration,U=void 0;if(R)if(i.live&&!i.PTSKnown)c.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),E=0;else if(E=t,i.PTSKnown&&t<N){if(!(p.end>N||p.nextStart))return;c.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=N+.05}if(i.initSegment&&!i.initSegment.data)U=i.initSegment;else if(E<=N){if(U=L[0],null!==this.videoTrackCC&&U.cc!==this.videoTrackCC&&(U=Object(d.b)(L,this.videoTrackCC)),i.live&&U.loadIdx&&U.loadIdx===this.fragLoadIdx){var V=p.nextStart?p.nextStart:N;return c.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(V+.05)),void(this.media.currentTime=V+.05)}}else{var B=void 0,j=s.maxFragLookUpTolerance,H=A?L[A.sn-L[0].sn+1]:void 0,G=function(t){var e=Math.min(j,t.duration);return t.start+t.duration-e<=E?1:t.start-e>E&&t.start?-1:0};E<F?(E>F-j&&(j=0),B=H&&!G(H)?H:n.a.search(L,G)):B=L[D-1],B&&(U=B,N=B.start,A&&U.level===A.level&&U.sn===A.sn&&(U.sn<i.endSN?(U=L[U.sn+1-i.startSN],c.b.log("SN just loaded, load next one: "+U.sn)):U=null))}U&&(U.decryptdata&&null!=U.decryptdata.uri&&null==U.decryptdata.key?(c.b.log("Loading key for "+U.sn+" of ["+i.startSN+" ,"+i.endSN+"],track "+M),this.state=b,o.trigger(a.a.KEY_LOADING,{frag:U})):(c.b.log("Loading "+U.sn+", cc: "+U.cc+" of ["+i.startSN+" ,"+i.endSN+"],track "+M+", currentTime:"+t+",bufferEnd:"+E.toFixed(3)),this.fragmentTracker.getState(U)===f.a.NOT_LOADED&&(this.fragCurrent=U,this.startFragRequested=!0,isNaN(U.sn)||(this.nextLoadPosition=U.start+U.duration),o.trigger(a.a.FRAG_LOADING,{frag:U}),this.state=T)))}break;case S:(e=this.tracks[this.trackId])&&e.details&&(this.state=y);break;case w:var W=performance.now(),z=this.retryDate,$=(l=this.media)&&l.seeking;(!z||W>=z||$)&&(c.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=y);break;case O:var q=this.videoTrackCC;if(void 0===this.initPTS[q])break;var Y=this.waitingFragment;if(Y){var K=Y.frag.cc;q!==K?(e=this.tracks[this.trackId]).details&&e.details.live&&(c.b.warn("Waiting fragment CC ("+K+") does not match video track CC ("+q+")"),this.waitingFragment=null,this.state=y):(this.state=T,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=y}},e.prototype.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var i=this.config;this.tracks&&i.autoStartLoad&&this.startLoad(i.startPosition)},e.prototype.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(c.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},e.prototype.onMediaSeeking=function(){this.state===P&&(this.state=y),this.media&&(this.lastCurrentTime=this.media.currentTime),this.tick()},e.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},e.prototype.onAudioTracksUpdated=function(t){c.b.log("audio tracks updated"),this.tracks=t.audioTracks},e.prototype.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=_,this.waitingFragment=null,e?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=y),this.tick()},e.prototype.onAudioTrackLoaded=function(t){var e=t.details,i=t.id,n=this.tracks[i],r=e.totalduration,o=0;if(c.b.log("track "+i+" loaded ["+e.startSN+","+e.endSN+"],duration:"+r),e.live){var a=n.details;a&&e.fragments.length>0?(s.a(a,e),o=e.fragments[0].start,e.PTSKnown?c.b.log("live audio playlist sliding:"+o.toFixed(3)):c.b.log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,c.b.log("live audio playlist - first load, unknown sliding"))}else e.PTSKnown=!1;if(n.details=e,!this.startFragRequested){if(-1===this.startPosition){var u=e.startTimeOffset;isNaN(u)?this.startPosition=0:(c.b.log("start time offset found in playlist, adjust startPosition to "+u),this.startPosition=u)}this.nextLoadPosition=this.startPosition}this.state===S&&(this.state=y),this.tick()},e.prototype.onKeyLoaded=function(){this.state===b&&(this.state=y,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,i=t.frag;if(this.state===T&&e&&"audio"===i.type&&i.level===e.level&&i.sn===e.sn){var n=this.tracks[this.trackId],r=n.details,s=r.totalduration,u=e.level,l=e.sn,d=e.cc,h=this.config.defaultAudioCodec||n.audioCodec||"mp4a.40.2",f=this.stats=t.stats;if("initSegment"===l)this.state=y,f.tparsed=f.tbuffered=performance.now(),r.initSegment.data=t.payload,this.hls.trigger(a.a.FRAG_BUFFERED,{stats:f,frag:e,id:"audio"}),this.tick();else{this.state=E,this.appended=!1,this.demuxer||(this.demuxer=new o.a(this.hls,"audio"));var p=this.initPTS[d],g=r.initSegment?r.initSegment.data:[];r.initSegment||void 0!==p?(this.pendingBuffering=!0,c.b.log("Demuxing "+l+" of ["+r.startSN+" ,"+r.endSN+"],track "+u),this.demuxer.push(t.payload,g,h,null,e,s,!1,p)):(c.b.log("unknown video PTS for continuity counter "+d+", waiting for video PTS before demuxing audio frag "+l+" of ["+r.startSN+" ,"+r.endSN+"],track "+u),this.waitingFragment=t,this.state=O)}}this.fragLoadError=0},e.prototype.onFragParsingInitSegment=function(t){var e=this.fragCurrent,i=t.frag;if(e&&"audio"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===E){var n=t.tracks,r=void 0;if(n.video&&delete n.video,r=n.audio){r.levelCodec=r.codec,r.id=t.id,this.hls.trigger(a.a.BUFFER_CODECS,n),c.b.log("audio track:audio,container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var o=r.initSegment;if(o){var s={type:"audio",data:o,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[s]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(a.a.BUFFER_APPENDING,s))}this.tick()}}},e.prototype.onFragParsingData=function(t){var e=this,i=this.fragCurrent,n=t.frag;if(i&&"audio"===t.id&&"audio"===t.type&&n.sn===i.sn&&n.level===i.level&&this.state===E){var r=this.trackId,o=this.tracks[r],u=this.hls;isNaN(t.endPTS)&&(t.endPTS=t.startPTS+i.duration,t.endDTS=t.startDTS+i.duration),i.addElementaryStream(p.a.ElementaryStreamTypes.AUDIO),c.b.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),s.b(o.details,i,t.startPTS,t.endPTS);var d=this.audioSwitch,h=this.media,f=!1;if(d&&h)if(h.readyState){var g=h.currentTime;c.b.log("switching audio track : currentTime:"+g),g>=t.startPTS&&(c.b.log("switching audio track : flushing all audio"),this.state=C,u.trigger(a.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),f=!0,this.audioSwitch=!1,u.trigger(a.a.AUDIO_TRACK_SWITCHED,{id:r}))}else this.audioSwitch=!1,u.trigger(a.a.AUDIO_TRACK_SWITCHED,{id:r});var m=this.pendingData;if(!m)return console.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void u.trigger(a.a.ERROR,{type:l.b.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach((function(e){e&&e.length&&m.push({type:t.type,data:e,parent:"audio",content:"data"})})),!f&&m.length&&(m.forEach((function(t){e.state===E&&(e.pendingBuffering=!0,e.hls.trigger(a.a.BUFFER_APPENDING,t))})),this.pendingData=[],this.appended=!0)),this.tick()}},e.prototype.onFragParsed=function(t){var e=this.fragCurrent,i=t.frag;e&&"audio"===t.id&&i.sn===e.sn&&i.level===e.level&&this.state===E&&(this.stats.tparsed=performance.now(),this.state=A,this._checkAppendedParsed())},e.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},e.prototype.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},e.prototype.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==E&&e!==A||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},e.prototype._checkAppendedParsed=function(){if(!(this.state!==A||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,i=this.hls;if(t){this.fragPrevious=t,e.tbuffered=performance.now(),i.trigger(a.a.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var n=this.mediaBuffer?this.mediaBuffer:this.media;c.b.log("audio buffered : "+u.a.toString(n.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,i.trigger(a.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=y}this.tick()}},e.prototype.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case l.a.FRAG_LOAD_ERROR:case l.a.FRAG_LOAD_TIMEOUT:if(!t.fatal){var i=this.fragLoadError;i?i++:i=1;var n=this.config;if(i<=n.fragLoadingMaxRetry){this.fragLoadError=i;var o=Math.min(Math.pow(2,i-1)*n.fragLoadingRetryDelay,n.fragLoadingMaxRetryTimeout);c.b.warn("audioStreamController: frag loading failed, retry in "+o+" ms"),this.retryDate=performance.now()+o,this.state=w}else c.b.error("audioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=I}break;case l.a.AUDIO_TRACK_LOAD_ERROR:case l.a.AUDIO_TRACK_LOAD_TIMEOUT:case l.a.KEY_LOAD_ERROR:case l.a.KEY_LOAD_TIMEOUT:this.state!==I&&(this.state=t.fatal?I:y,c.b.warn("audioStreamController: "+t.details+" while loading frag,switch to "+this.state+" state ..."));break;case l.a.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===E||this.state===A)){var s=this.mediaBuffer,u=this.media.currentTime;if(s&&r.a.isBuffered(s,u)&&r.a.isBuffered(s,u+.5)){var d=this.config;d.maxMaxBufferLength>=d.maxBufferLength&&(d.maxMaxBufferLength/=2,c.b.warn("audio:reduce max buffer length to "+d.maxMaxBufferLength+"s")),this.state=y}else c.b.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=C,this.hls.trigger(a.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},e.prototype.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(c.b.log("appending pending audio data on Buffer Flushed"),e.forEach((function(e){t.hls.trigger(a.a.BUFFER_APPENDING,e)})),this.appended=!0,this.pendingData=[],this.state=A):(this.state=y,this.fragPrevious=null,this.tick())},g(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,c.b.log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}]),e}(h.a);e.a=x},function(t,e,i){Object.defineProperty(e,"__esModule",{value:!0}),e.newCue=function(t,e,i,r){for(var o=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=window.VTTCue||window.TextTrackCue,d=0;d<r.rows.length;d++)if(s=!0,u=0,l="",!(o=r.rows[d]).isEmpty()){for(var h=0;h<o.chars.length;h++)o.chars[h].uchar.match(/\s/)&&s?u++:(l+=o.chars[h].uchar,s=!1);o.cueStartTime=e,e===i&&(i+=1e-4),a=new c(e,i,Object(n.b)(l.trim())),u>=16?u--:u++,navigator.userAgent.match(/Firefox\//)?a.line=d+1:a.line=d>7?d-2:d+1,a.align="left",a.position=Math.max(0,Math.min(100,u/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(a)}};var n=i(26)},function(t,e,i){e.a=function(){function t(t){return"string"==typeof t&&!!o[t.toLowerCase()]&&t.toLowerCase()}function e(t){return"string"==typeof t&&!!a[t.toLowerCase()]&&t.toLowerCase()}function i(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function n(n,o,a){var s=this,u=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),l={};u?s=document.createElement("custom"):l.enumerable=!0,s.hasBeenReset=!1;var c="",d=!1,h=n,f=o,p=a,g=null,m="",v=!0,y="auto",_="start",b=50,T="middle",w=50,S="middle";if(Object.defineProperty(s,"id",i({},l,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(s,"pauseOnExit",i({},l,{get:function(){return d},set:function(t){d=!!t}})),Object.defineProperty(s,"startTime",i({},l,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},l,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},l,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},l,{get:function(){return g},set:function(t){g=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},l,{get:function(){return m},set:function(e){var i=t(e);if(!1===i)throw new SyntaxError("An invalid or illegal string was specified.");m=i,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},l,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},l,{get:function(){return y},set:function(t){if("number"!=typeof t&&t!==r)throw new SyntaxError("An invalid number or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},l,{get:function(){return _},set:function(t){var i=e(t);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");_=i,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},l,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},l,{get:function(){return T},set:function(t){var i=e(t);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");T=i,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},l,{get:function(){return w},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},l,{get:function(){return S},set:function(t){var i=e(t);if(!i)throw new SyntaxError("An invalid or illegal string was specified.");S=i,this.hasBeenReset=!0}})),s.displayState=void 0,u)return s}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var r="auto",o={"":!0,lr:!0,rl:!0},a={start:!0,middle:!0,end:!0,left:!0,right:!0};return n.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},n}()},function(t,e,i){function n(t,e,i,n){return Math.min(e,n)-Math.max(t,i)}var r=i(1),o=i(3),a=i(63),s=i(64),u=i(65),l=i(0),c=i(25),d=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,r.a.MEDIA_ATTACHING,r.a.MEDIA_DETACHING,r.a.FRAG_PARSING_USERDATA,r.a.FRAG_DECRYPTED,r.a.MANIFEST_LOADING,r.a.MANIFEST_LOADED,r.a.FRAG_LOADED,r.a.LEVEL_SWITCHING,r.a.INIT_PTS_FOUND));if(n.hls=i,n.config=i.config,n.enabled=!0,n.Cues=i.config.cueHandler,n.textTracks=[],n.tracks=[],n.unparsedVttFrags=[],n.initPTS=void 0,n.cueRanges=[],n.config.enableCEA708Captions){var o=new s.a(n,1),u=new s.a(n,2);n.cea608Parser=new a.a(0,o,u)}return n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.addCues=function(t,e,i,r){for(var o=this.cueRanges,a=!1,s=o.length;s--;){var u=o[s],l=n(u[0],u[1],e,i);if(l>=0&&(u[0]=Math.min(u[0],e),u[1]=Math.max(u[1],i),a=!0,l/(i-e)>.5))return}a||o.push([e,i]),this.Cues.newCue(this[t],e,i,r)},e.prototype.onInitPtsFound=function(t){var e=this;void 0===this.initPTS&&(this.initPTS=t.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach((function(t){e.onFragLoaded(t)})),this.unparsedVttFrags=[])},e.prototype.getExistingTrack=function(t){var e=this.media;if(e)for(var i=0;i<e.textTracks.length;i++){var n=e.textTracks[i];if(!0===n["textTrack"+t])return n}return null},e.prototype.createCaptionsTrack=function(t){var e="textTrack"+t;if(!this[e]){var i=this.getExistingTrack(t);if(i)this[e]=i,Object(c.a)(this[e]),Object(c.b)(this[e],this.media);else{var n=this.createTextTrack("captions",this.config["captionsTextTrack"+t+"Label"],this.config["captionsTextTrack"+t+"LanguageCode"]);n&&(n[e]=!0,this[e]=n)}}},e.prototype.createTextTrack=function(t,e,i){var n=this.media;if(n)return n.addTextTrack(t,e,i)},e.prototype.destroy=function(){o.a.prototype.destroy.call(this)},e.prototype.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},e.prototype.onMediaDetaching=function(){Object(c.a)(this.textTrack1),Object(c.a)(this.textTrack2)},e.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},e.prototype._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var i=0;i<e.length;i++)Object(c.a)(e[i])}},e.prototype.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=t.subtitles||[];var i=this.media?this.media.textTracks:[];this.tracks.forEach((function(t,n){var r=void 0;if(n<i.length){var o=i[n];(function(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)})(o,t)&&(r=o)}r||(r=e.createTextTrack("subtitles",t.name,t.lang)),t.default?r.mode=e.hls.subtitleDisplay?"showing":"hidden":r.mode="disabled",e.textTracks.push(r)}))}},e.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},e.prototype.onFragLoaded=function(t){var e=t.frag,i=t.payload;if("main"===e.type){var n=e.sn;if(n!==this.lastSn+1){var o=this.cea608Parser;o&&o.reset()}this.lastSn=n}else if("subtitle"===e.type)if(i.byteLength){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);var a=e.decryptdata;null!=a&&null!=a.key&&"AES-128"===a.method||this._parseVTTs(e,i)}else this.hls.trigger(r.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},e.prototype._parseVTTs=function(t,e){var i=this.vttCCs;i[t.cc]||(i[t.cc]={start:t.start,prevCC:this.prevCC,new:!0},this.prevCC=t.cc);var n=this.textTracks,o=this.hls;u.a.parse(e,this.initPTS,i,t.cc,(function(e){var i=n[t.trackId];"disabled"!==i.mode?(e.forEach((function(t){if(!i.cues.getCueById(t.id))try{i.addCue(t)}catch(n){var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,i.addCue(e)}})),o.trigger(r.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})):o.trigger(r.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}),(function(e){l.b.log("Failed to parse VTT cue: "+e),o.trigger(r.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}))},e.prototype.onFragDecrypted=function(t){var e=t.payload,i=t.frag;if("subtitle"===i.type){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(t);this._parseVTTs(i,e)}},e.prototype.onFragParsingUserdata=function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var i=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,i)}},e.prototype.extractCea608Data=function(t){for(var e=31&t[0],i=2,n=void 0,r=void 0,o=void 0,a=[],s=0;s<e;s++)n=t[i++],r=127&t[i++],o=127&t[i++],0===r&&0===o||0!=(4&n)&&0==(3&n)&&(a.push(r),a.push(o));return a},e}(o.a);e.a=d},function(t,e,i){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},o=function(t){var e=t;return r.hasOwnProperty(t)&&(e=r[t]),String.fromCharCode(e)},a=15,s=100,u={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},l={17:2,18:4,21:6,22:8,23:10,19:13,20:15},c={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},d={25:2,26:4,29:6,30:8,31:10,27:13,28:15},h=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],f={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){var i=this.verboseFilter[t];this.verboseLevel>=i&&console.log(this.time+" ["+t+"] "+e)}},p=function(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i].toString(16));return e},g=function(){function t(e,i,r,o,a){n(this,t),this.foreground=e||"white",this.underline=i||!1,this.italics=r||!1,this.background=o||"black",this.flash=a||!1}return t.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.prototype.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],i=0;i<e.length;i++){var n=e[i];t.hasOwnProperty(n)&&(this[n]=t[n])}},t.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.prototype.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},t.prototype.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},t.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),m=function(){function t(e,i,r,o,a,s){n(this,t),this.uchar=e||" ",this.penState=new g(i,r,o,a,s)}return t.prototype.reset=function(){this.uchar=" ",this.penState.reset()},t.prototype.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},t.prototype.setPenState=function(t){this.penState.copy(t)},t.prototype.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},t.prototype.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},t.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),v=function(){function t(){n(this,t),this.chars=[];for(var e=0;e<s;e++)this.chars.push(new m);this.pos=0,this.currPenState=new g}return t.prototype.equals=function(t){for(var e=!0,i=0;i<s;i++)if(!this.chars[i].equals(t.chars[i])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<s;e++)this.chars[e].copy(t.chars[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<s;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},t.prototype.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(f.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>s&&(f.log("ERROR","Too large cursor position "+this.pos),this.pos=s)},t.prototype.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var i=this.pos+1;i<e+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(e)},t.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.prototype.insertChar=function(t){t>=144&&this.backSpace();var e=o(t);this.pos>=s?f.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},t.prototype.clearFromPos=function(t){var e=void 0;for(e=t;e<s;e++)this.chars[e].reset()},t.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.prototype.getTextString=function(){for(var t=[],e=!0,i=0;i<s;i++){var n=this.chars[i].uchar;" "!==n&&(e=!1),t.push(n)}return e?"":t.join("")},t.prototype.setPenStyles=function(t){this.currPenState.setStyles(t),this.chars[this.pos].setPenState(this.currPenState)},t}(),y=function(){function t(){n(this,t),this.rows=[];for(var e=0;e<a;e++)this.rows.push(new v);this.currRow=14,this.nrRollUpRows=null,this.reset()}return t.prototype.reset=function(){for(var t=0;t<a;t++)this.rows[t].clear();this.currRow=14},t.prototype.equals=function(t){for(var e=!0,i=0;i<a;i++)if(!this.rows[i].equals(t.rows[i])){e=!1;break}return e},t.prototype.copy=function(t){for(var e=0;e<a;e++)this.rows[e].copy(t.rows[e])},t.prototype.isEmpty=function(){for(var t=!0,e=0;e<a;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},t.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},t.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.prototype.insertChar=function(t){this.rows[this.currRow].insertChar(t)},t.prototype.setPen=function(t){this.rows[this.currRow].setPenStyles(t)},t.prototype.moveCursor=function(t){this.rows[this.currRow].moveCursor(t)},t.prototype.setCursor=function(t){f.log("INFO","setCursor: "+t),this.rows[this.currRow].setCursor(t)},t.prototype.setPAC=function(t){f.log("INFO","pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var i=0;i<a;i++)this.rows[i].clear();var n=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var o=r.rows[n].cueStartTime;if(o&&o<f.time)for(var s=0;s<this.nrRollUpRows;s++)this.rows[e-this.nrRollUpRows+s+1].copy(r.rows[n+s])}}this.currRow=e;var u=this.rows[this.currRow];if(null!==t.indent){var l=t.indent,c=Math.max(l-1,0);u.setCursor(t.indent),t.color=u.chars[c].penState.foreground}var d={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(d)},t.prototype.setBkgData=function(t){f.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},t.prototype.setRollUpRows=function(t){this.nrRollUpRows=t},t.prototype.rollUp=function(){if(null!==this.nrRollUpRows){f.log("TEXT",this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),f.log("INFO","Rolling up")}else f.log("DEBUG","roll_up but nrRollUpRows not set yet")},t.prototype.getDisplayText=function(t){t=t||!1;for(var e=[],i="",n=-1,r=0;r<a;r++){var o=this.rows[r].getTextString();o&&(n=r+1,t?e.push("Row "+n+": '"+o+"'"):e.push(o.trim()))}return e.length>0&&(i=t?"["+e.join(" | ")+"]":e.join("\n")),i},t.prototype.getTextAndFormat=function(){return this.rows},t}(),_=function(){function t(e,i){n(this,t),this.chNr=e,this.outputFilter=i,this.mode=null,this.verbose=0,this.displayedMemory=new y,this.nonDisplayedMemory=new y,this.lastOutputScreen=new y,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return t.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},t.prototype.getHandler=function(){return this.outputFilter},t.prototype.setHandler=function(t){this.outputFilter=t},t.prototype.setPAC=function(t){this.writeScreen.setPAC(t)},t.prototype.setBkgData=function(t){this.writeScreen.setBkgData(t)},t.prototype.setMode=function(t){t!==this.mode&&(this.mode=t,f.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},t.prototype.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var i=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";f.log("INFO",i+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(f.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.prototype.ccRCL=function(){f.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.prototype.ccBS=function(){f.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.prototype.ccAOF=function(){},t.prototype.ccAON=function(){},t.prototype.ccDER=function(){f.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.prototype.ccRU=function(t){f.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},t.prototype.ccFON=function(){f.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.prototype.ccRDC=function(){f.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.prototype.ccTR=function(){f.log("INFO","TR"),this.setMode("MODE_TEXT")},t.prototype.ccRTD=function(){f.log("INFO","RTD"),this.setMode("MODE_TEXT")},t.prototype.ccEDM=function(){f.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.prototype.ccCR=function(){f.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.prototype.ccENM=function(){f.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.prototype.ccEOC=function(){if(f.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,f.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.prototype.ccTO=function(t){f.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},t.prototype.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var i=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][i]}f.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},t.prototype.outputDataUpdate=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=f.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),!0===t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},t.prototype.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),b=function(){function t(e,i,r){n(this,t),this.field=e||1,this.outputs=[i,r],this.channels=[new _(1,i),new _(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return t.prototype.getHandler=function(t){return this.channels[t].getHandler()},t.prototype.setHandler=function(t,e){this.channels[t].setHandler(e)},t.prototype.addData=function(t,e){var i=void 0,n=void 0,r=void 0,o=!1;this.lastTime=t,f.setTime(t);for(var a=0;a<e.length;a+=2)n=127&e[a],r=127&e[a+1],0!==n||0!==r?(f.log("DATA","["+p([e[a],e[a+1]])+"] -> ("+p([n,r])+")"),(i=this.parseCmd(n,r))||(i=this.parseMidrow(n,r)),i||(i=this.parsePAC(n,r)),i||(i=this.parseBackgroundAttributes(n,r)),!i&&(o=this.parseChars(n,r))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(o):f.log("WARNING","No channel found yet. TEXT-MODE?")),i?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,f.log("WARNING","Couldn't parse cleaned data "+p([n,r])+" orig: "+p([e[a],e[a+1]])))):this.dataCounters.padding+=2},t.prototype.parseCmd=function(t,e){var i;if(!((20===t||28===t)&&e>=32&&e<=47||(23===t||31===t)&&e>=33&&e<=35))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,f.log("DEBUG","Repeated command ("+p([t,e])+") is dropped"),!0;i=20===t||23===t?1:2;var n=this.channels[i-1];return 20===t||28===t?32===e?n.ccRCL():33===e?n.ccBS():34===e?n.ccAOF():35===e?n.ccAON():36===e?n.ccDER():37===e?n.ccRU(2):38===e?n.ccRU(3):39===e?n.ccRU(4):40===e?n.ccFON():41===e?n.ccRDC():42===e?n.ccTR():43===e?n.ccRTD():44===e?n.ccEDM():45===e?n.ccCR():46===e?n.ccENM():47===e&&n.ccEOC():n.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=i,!0},t.prototype.parseMidrow=function(t,e){var i=null;return(17===t||25===t)&&e>=32&&e<=47&&((i=17===t?1:2)!==this.currChNr?(f.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[i-1].ccMIDROW(e),f.log("DEBUG","MIDROW ("+p([t,e])+")"),!0))},t.prototype.parsePAC=function(t,e){var i,n;if(!((t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127||(16===t||24===t)&&e>=64&&e<=95))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;i=t<=23?1:2,n=e>=64&&e<=95?1===i?u[t]:c[t]:1===i?l[t]:d[t];var r=this.interpretPAC(n,e);return this.channels[i-1].setPAC(r),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=i,!0},t.prototype.interpretPAC=function(t,e){var i,n={color:null,italics:!1,indent:null,underline:!1,row:t};return i=e>95?e-96:e-64,n.underline=1==(1&i),i<=13?n.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(n.italics=!0,n.color="white"):n.indent=4*Math.floor((i-16)/2),n},t.prototype.parseChars=function(t,e){var i,n=null,r=null,a=null;if(t>=25?(n=2,a=t-8):(n=1,a=t),a>=17&&a<=19?(i=17===a?e+80:18===a?e+112:e+144,f.log("INFO","Special char '"+o(i)+"' in channel "+n),r=[i]):t>=32&&t<=127&&(r=0===e?[t]:[t,e]),r){var s=p(r);f.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r},t.prototype.parseBackgroundAttributes=function(t,e){var i=void 0,n=void 0,r=void 0,o=void 0;return!(!((16===t||24===t)&&e>=32&&e<=47)&&!((23===t||31===t)&&e>=45&&e<=47)||(i={},16===t||24===t?(n=Math.floor((e-32)/2),i.background=h[n],e%2==1&&(i.background=i.background+"_semi")):45===e?i.background="transparent":(i.foreground="black",47===e&&(i.underline=!0)),r=t<24?1:2,o=this.channels[r-1],o.setBkgData(i),this.lastCmdA=null,this.lastCmdB=null,0))},t.prototype.reset=function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null},t.prototype.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)},t}();e.a=b},function(t,e,i){var n=function(){function t(e,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.timelineController=e,this.track=i,this.startTime=null,this.endTime=null,this.screen=null}return t.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues("textTrack"+this.track,this.startTime,this.endTime,this.screen),this.startTime=null)},t.prototype.newCue=function(t,e,i){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=i,this.timelineController.createCaptionsTrack(this.track)},t}();e.a=n},function(t,e,i){var n=i(26),r=i(5),o=function(t,e,i){return t.substr(i||0,e.length)===e},a=function(t){for(var e=5381,i=t.length;i;)e=33*e^t.charCodeAt(--i);return(e>>>0).toString()},s={parse:function(t,e,i,s,u,l){var c=Object(r.b)(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),d="00:00.000",h=0,f=0,p=0,g=[],m=void 0,v=!0,y=new n.a;y.oncue=function(t){var e=i[s],n=i.ccOffset;e&&e.new&&(void 0!==f?n=i.ccOffset=e.start:function(t,e,i){var n=t[e],r=t[n.prevCC];if(!r||!r.new&&n.new)return t.ccOffset=t.presentationOffset=n.start,void(n.new=!1);for(;r&&r.new;)t.ccOffset+=n.start-r.start,n.new=!1,r=t[(n=r).prevCC];t.presentationOffset=i}(i,s,p)),p&&(n=p+i.ccOffset-i.presentationOffset),t.startTime+=n-f,t.endTime+=n-f,t.id=a(t.startTime.toString())+a(t.endTime.toString())+a(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&g.push(t)},y.onparsingerror=function(t){m=t},y.onflush=function(){m&&l?l(m):u(g)},c.forEach((function(t){if(v){if(o(t,"X-TIMESTAMP-MAP=")){v=!1,t.substr(16).split(",").forEach((function(t){o(t,"LOCAL:")?d=t.substr(6):o(t,"MPEGTS:")&&(h=parseInt(t.substr(7)))}));try{h-=e=e<0?e+8589934592:e,f=function(t){var e=parseInt(t.substr(-3)),i=parseInt(t.substr(-6,2)),n=parseInt(t.substr(-9,2)),r=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;return isNaN(e)||isNaN(i)||isNaN(n)||isNaN(r)?-1:(e+=1e3*i,e+=6e4*n,e+=36e5*r)}(d)/1e3,p=h/9e4,-1===f&&(m=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){m=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(v=!1)}y.parse(t+"\n")})),y.flush()}};e.a=s},function(t,e,i){function n(t){for(var e=[],i=0;i<t.length;i++)"subtitles"===t[i].kind&&e.push(t[i]);return e}var r=i(1),o=i(3),a=i(0),s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,r.a.MEDIA_ATTACHED,r.a.MEDIA_DETACHING,r.a.MANIFEST_LOADING,r.a.MANIFEST_LOADED,r.a.SUBTITLE_TRACK_LOADED));return n.tracks=[],n.trackId=-1,n.media=void 0,n.subtitleDisplay=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._onTextTracksChanged=function(){if(this.media){for(var t=-1,e=n(this.media.textTracks),i=0;i<e.length;i++)if("hidden"===e[i].mode)t=i;else if("showing"===e[i].mode){t=i;break}this.subtitleTrack=t}},e.prototype.destroy=function(){o.a.prototype.destroy.call(this)},e.prototype.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(void 0!==this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval((function(){e.trackChangeListener()}),500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},e.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)},e.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},e.prototype.onManifestLoaded=function(t){var e=this,i=t.subtitles||[];this.tracks=i,this.trackId=-1,this.hls.trigger(r.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:i}),i.forEach((function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)}))},e.prototype.onTick=function(){var t=this.trackId,e=this.tracks[t];if(e){var i=e.details;void 0!==i&&!0!==i.live||(a.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(r.a.SUBTITLE_TRACK_LOADING,{url:e.url,id:t}))}},e.prototype.onSubtitleTrackLoaded=function(t){var e=this;t.id<this.tracks.length&&(a.b.log("subtitle track "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval((function(){e.onTick()}),1e3*t.details.targetduration,this)),!t.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))},e.prototype.setSubtitleTrackInternal=function(t){if(!(t<-1||t>=this.tracks.length)){this.timer&&(clearInterval(this.timer),this.timer=null);var e=n(this.media.textTracks);if(-1!==this.trackId&&(e[this.trackId].mode="disabled"),this.trackId=t,a.b.log("switching to subtitle track "+t),this.hls.trigger(r.a.SUBTITLE_TRACK_SWITCH,{id:t}),-1!==t){var i=this.tracks[t];t<e.length&&(e[t].mode=this.subtitleDisplay?"showing":"hidden");var o=i.details;void 0!==o&&!0!==o.live||(a.b.log("(re)loading playlist for subtitle track "+t),this.hls.trigger(r.a.SUBTITLE_TRACK_LOADING,{url:i.url,id:t}))}}},s(e,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&this.setSubtitleTrackInternal(t)}}]),e}(o.a);e.a=u},function(t,e,i){var n=i(1),r=i(0),o=i(9),a=i(13),s="STOPPED",u="IDLE",l="KEY_LOADING",c="FRAG_LOADING",d=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,n.a.MEDIA_ATTACHED,n.a.ERROR,n.a.KEY_LOADED,n.a.FRAG_LOADED,n.a.SUBTITLE_TRACKS_UPDATED,n.a.SUBTITLE_TRACK_SWITCH,n.a.SUBTITLE_TRACK_LOADED,n.a.SUBTITLE_FRAG_PROCESSED));return r.config=i.config,r.vttFragSNsProcessed={},r.vttFragQueues=void 0,r.currentlyProcessing=null,r.state=s,r.currentTrackId=-1,r.decrypter=new o.a(i.observer,i.config),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.onHandlerDestroyed=function(){this.state=s},e.prototype.clearVttFragQueues=function(){var t=this;this.vttFragQueues={},this.tracks.forEach((function(e){t.vttFragQueues[e.id]=[]}))},e.prototype.nextFrag=function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var t=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.fragCurrent=t,this.hls.trigger(n.a.FRAG_LOADING,{frag:t}),this.state=c}},e.prototype.onSubtitleFragProcessed=function(t){t.success&&this.vttFragSNsProcessed[t.frag.trackId].push(t.frag.sn),this.currentlyProcessing=null,this.state=u,this.nextFrag()},e.prototype.onMediaAttached=function(){this.state=u},e.prototype.onError=function(t){var e=t.frag;e&&"subtitle"!==e.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},e.prototype.doTick=function(){var t=this;switch(this.state){case u:var e,i=this.tracks,o=this.currentTrackId,a=this.vttFragSNsProcessed[o],s=this.vttFragQueues[o],c=this.currentlyProcessing?this.currentlyProcessing.sn:-1;if(!i)break;if(o<i.length&&(e=i[o].details),void 0===e)break;e.fragments.forEach((function(e){(function(t){return a.indexOf(t.sn)>-1})(e)||e.sn===c||function(t){return s.some((function(e){return e.sn===t.sn}))}(e)||(e.decryptdata&&null!=e.decryptdata.uri&&null==e.decryptdata.key?(r.b.log("Loading key for "+e.sn),t.state=l,t.hls.trigger(n.a.KEY_LOADING,{frag:e})):(e.trackId=o,s.push(e),t.nextFrag()))}))}},e.prototype.onSubtitleTracksUpdated=function(t){var e=this;r.b.log("subtitle tracks updated"),this.tracks=t.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach((function(t){e.vttFragSNsProcessed[t.id]=[]}))},e.prototype.onSubtitleTrackSwitch=function(t){this.currentTrackId=t.id,-1!==this.currentTrackId&&void 0!==this.tracks[this.currentTrackId].details&&this.tick()},e.prototype.onSubtitleTrackLoaded=function(){this.tick()},e.prototype.onKeyLoaded=function(){this.state===l&&(this.state=u,this.tick())},e.prototype.onFragLoaded=function(t){var e=this.fragCurrent,i=t.frag.decryptdata,r=t.frag,o=this.hls;if(this.state===c&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&null!=i&&null!=i.key&&"AES-128"===i.method){var a=void 0;try{a=performance.now()}catch(t){a=Date.now()}this.decrypter.decrypt(t.payload,i.key.buffer,i.iv.buffer,(function(t){var e=void 0;try{e=performance.now()}catch(t){e=Date.now()}o.trigger(n.a.FRAG_DECRYPTED,{frag:r,payload:t,stats:{tstart:a,tdecrypt:e}})}))}},e}(a.a);e.a=d},function(t,e,i){var n=i(3),r=i(1),o=i(2),a=i(0),s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u="com.widevine.alpha",l="com.microsoft.playready",c=function(t){function e(i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,i,r.a.MEDIA_ATTACHED,r.a.MANIFEST_PARSED));return n._widevineLicenseUrl=i.config.widevineLicenseUrl,n._licenseXhrSetup=i.config.licenseXhrSetup,n._emeEnabled=i.config.emeEnabled,n._requestMediaKeySystemAccess=i.config.requestMediaKeySystemAccessFunc,n._mediaKeysList=[],n._media=null,n._hasSetMediaKeys=!1,n._isMediaEncrypted=!1,n._requestLicenseFailureCount=0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getLicenseServerUrl=function(t){var e=void 0;switch(t){case u:e=this._widevineLicenseUrl;break;default:e=null}return e||(a.b.error('No license server URL configured for key-system "'+t+'"'),this.hls.trigger(r.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),e},e.prototype._attemptKeySystemAccess=function(t,e,i){var n=this,r=function(t,e,i){switch(t){case u:return function(t,e,i){var n={videoCapabilities:[]};return e.forEach((function(t){n.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"'})})),[n]}(0,i);default:throw Error("Unknown key-system: "+t)}}(t,0,i);r?(a.b.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(t,r).then((function(e){n._onMediaKeySystemAccessObtained(t,e)})).catch((function(e){a.b.error('Failed to obtain key-system "'+t+'" access:',e)}))):a.b.warn("Can not create config for key-system (maybe because platform is not supported):",t)},e.prototype._onMediaKeySystemAccessObtained=function(t,e){var i=this;a.b.log('Access for key-system "'+t+'" obtained');var n={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(n),e.createMediaKeys().then((function(e){n.mediaKeys=e,a.b.log('Media-keys created for key-system "'+t+'"'),i._onMediaKeysCreated()})).catch((function(t){a.b.error("Failed to create media-keys:",t)}))},e.prototype._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach((function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))}))},e.prototype._onNewMediaKeySession=function(t){var e=this;a.b.log("New key-system session "+t.sessionId),t.addEventListener("message",(function(i){e._onKeySessionMessage(t,i.message)}),!1)},e.prototype._onKeySessionMessage=function(t,e){a.b.log("Got EME message event, creating license request"),this._requestLicense(e,(function(e){a.b.log("Received license data, updating key-session"),t.update(e)}))},e.prototype._onMediaEncrypted=function(t,e){a.b.log('Media is encrypted using "'+t+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=t,this._mediaEncryptionInitData=e,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},e.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return a.b.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(r.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_KEYS,fatal:!0});a.b.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},e.prototype._generateRequestWithPreferredKeySession=function(){var t=this,e=this._mediaKeysList[0];if(!e)return a.b.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(r.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(e.mediaKeysSessionInitialized)a.b.warn("Key-Session already initialized but requested again");else{var i=e.mediaKeysSession;i||(a.b.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(r.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_SESSION,fatal:!0}));var n=this._mediaEncryptionInitDataType,s=this._mediaEncryptionInitData;a.b.log('Generating key-session request for "'+n+'" init data type'),e.mediaKeysSessionInitialized=!0,i.generateRequest(n,s).then((function(){a.b.debug("Key-session generation succeeded")})).catch((function(e){a.b.error("Error generating key-session request:",e),t.hls.trigger(r.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},e.prototype._createLicenseXhr=function(t,e,i){var n=new XMLHttpRequest,s=this._licenseXhrSetup;try{if(s)try{s(n,t)}catch(e){n.open("POST",t,!0),s(n,t)}n.readyState||n.open("POST",t,!0)}catch(t){return a.b.error("Error setting up key-system license XHR",t),void this.hls.trigger(r.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return n.responseType="arraybuffer",n.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,n,t,e,i),n},e.prototype._onLicenseRequestReadyStageChange=function(t,e,i,n){switch(t.readyState){case 4:if(200===t.status)this._requestLicenseFailureCount=0,a.b.log("License request succeeded"),n(t.response);else{if(a.b.error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),++this._requestLicenseFailureCount<=3){var s=3-this._requestLicenseFailureCount+1;return a.b.warn("Retrying license request, "+s+" attempts left"),void this._requestLicense(i,n)}this.hls.trigger(r.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},e.prototype._generateLicenseRequestChallenge=function(t,e){var i=void 0;return t.mediaKeySystemDomain===l?a.b.error("PlayReady is not supported (yet)"):t.mediaKeySystemDomain===u?i=e:a.b.error("Unsupported key-system:",t.mediaKeySystemDomain),i},e.prototype._requestLicense=function(t,e){a.b.log("Requesting content license for key-system");var i=this._mediaKeysList[0];if(!i)return a.b.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(r.a.ERROR,{type:o.b.KEY_SYSTEM_ERROR,details:o.a.KEY_SYSTEM_NO_ACCESS,fatal:!0});var n=this.getLicenseServerUrl(i.mediaKeySystemDomain),s=this._createLicenseXhr(n,t,e);a.b.log("Sending license request to URL: "+n),s.send(this._generateLicenseRequestChallenge(i,t))},e.prototype.onMediaAttached=function(t){var e=this;if(this._emeEnabled){var i=t.media;this._media=i,i.addEventListener("encrypted",(function(t){e._onMediaEncrypted(t.initDataType,t.initData)}))}},e.prototype.onManifestParsed=function(t){if(this._emeEnabled){var e=t.levels.map((function(t){return t.audioCodec})),i=t.levels.map((function(t){return t.videoCodec}));this._attemptKeySystemAccess(u,e,i)}},s(e,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),e}(n.a);e.a=c},function(t,e,i){i.d(e,"a",(function(){return n}));var n=window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null},function(t,e){String.prototype.endsWith||function(){var t=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),e={}.toString,i=function(t){if(null==this)throw TypeError();var i=String(this);if(t&&"[object RegExp]"==e.call(t))throw TypeError();var n=i.length,r=String(t),o=r.length,a=n;if(arguments.length>1){var s=arguments[1];void 0!==s&&(a=s?Number(s):0)!=a&&(a=0)}var u=Math.min(Math.max(a,0),n),l=u-o;if(l<0)return!1;for(var c=-1;++c<o;)if(i.charCodeAt(l+c)!=r.charCodeAt(c))return!1;return!0};t?t(String.prototype,"endsWith",{value:i,configurable:!0,writable:!0}):String.prototype.endsWith=i}()}]).default},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(3)),a=n(i(50));e.default=a.default.extend({_getVideoFormats:function(){var t="h264-high";return o.default.smartPhone()&&(t="h264-low"),[{format:"hls-playlist",type:"vnd.apple.mpegurl"},{format:t,type:"mp4"},{format:"original",type:"mp4"}]},onClick:function(t){return t&&t.preventDefault(),this._isPlaying()?this.manuallyPause():this.play(),!1},show:function(){a.default.prototype.show.apply(this),this.loadAndShowVideo()},getElementWidth:function(){var t=this.options.pageView.getScaleContext().ratio;return this.options.width*t},getElementHeight:function(){var t=this.options.pageView.getScaleContext().ratio;return this.options.height*t},doPlatformSpecificSetup:function(){this._setVideoSources(),this.applyVideoControlsFix(!0),o.default.isMobileSafari()&&this._isShowControls()&&this.$vid.on("touchmove",(function(t){t.stopPropagation()}))},configurePlatformSpecificEvents:function(){this._isShowControls()||this.bindInteraction(this.$el,r.default.bind(this.onClick,this)),this.$vid.on("progress load canplaythrough",r.default.bind((function(){this.videoHandle.readyState>=1&&(this.isVideoReady=!0,this._hidePosterAndShowVideo(),this.applyVideoControlsFix(!1),window.addEventListener("resize",r.default.bind(this.applyVideoControlsFix,this,!1)),this.trigger(this.EVENTS.VIDEO_READY),this.$vid.off("progress load canplaythrough"))}),this))},applyVideoControlsFix:function(t){var e=this.options.pageView.getScaleContext().ratio,i="";t&&(i="translateX(-2048px) "),i+="scale("+1/e+", "+1/e+")",this.$vid.css({transform:i,"transform-origin":"top left",left:this.options.x*e,top:this.options.y*e,width:Math.ceil(this.options.width*e),height:Math.ceil(this.options.height*e)})}})},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__decorate||function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},s=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(r,o){function a(t){try{u(n.next(t))}catch(t){o(t)}}function s(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},u=this&&this.__generator||function(t,e){var i,n,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.VideoComponentView=void 0;var c=l(i(0)),d=l(i(1)),h=l(i(4)),f=l(i(2)),p=l(i(3)),g=i(6),m=l(i(69)),v=l(i(106)),y=l(i(107)),_=l(i(10)),b=i(224),T=i(26),w=f.default.mediaDomainMap?c.default.invert(f.default.mediaDomainMap):null,S=[10,20,30,40,50,60,70,80,90,100],E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isVideoReady=!1,e.playedOnce=!1,e.isAutoPaused=!1,e.isManuallyPaused=!1,e.isRewound=!1,e.hasManualPauseDetectionBeenBound=!1,e}var i;return r(e,t),i=e,e.prototype.initialize=function(e){var i;t.prototype.initialize.call(this,e),this.areMediaPropertiesSet()&&(this.videoSlug=null===(i=this.options.video)||void 0===i?void 0:i.substr(this.options.video.lastIndexOf("/")+1),this.isVideoReady=!1,this.posterLoader=this.options.posterLoader,this.tapToPlay=!!this.options.tapToPlay,this.muted=!!this.options.muted,this.initializePoster(),f.default.previewMode&&(this.mediaLoadingScreen=new m.default({height:this.options.height,isImage:!1}),this.$el.append(this.mediaLoadingScreen.$el)),this.posterLoader&&(this.posterLoader.onImageLoaded(this.attachMedia,this),f.default.previewMode&&this.posterLoader.onImageLoaded(this.hideMediaLoadingScreen,this)))},e.prototype.hideMediaLoadingScreen=function(){this.mediaLoadingScreen.close()},e.prototype.onActivationStart=function(){var t;null===(t=this.videoTracker)||void 0===t||t.enableTracking()},e.prototype.areMediaPropertiesSet=function(){return!(!this.options.video||!this.options.poster)},e.prototype.attachMedia=function(){return s(this,void 0,void 0,(function(){var t,e,i=this;return u(this,(function(n){return t=new d.default.Deferred,this.areMediaPropertiesSet()&&(e=this.getPosterFrameResource())?e.loadNow().done((function(e){var n;i.$poster.attr("src",e.getSrc()),null===(n=i.videoHandle)||void 0===n||n.poster(e.getSrc()),t.resolve()})):t.resolve(),[2,t]}))}))},e.prototype.getPosterFrameResource=function(){var t=null;return this.posterLoader&&((t=this.posterLoader.getCurrentResource())||h.default.warn("Poster image should have been added to resource loader during preload")),t},e.prototype.doTriggerOnScroll=function(){return!0},e.prototype.getPosterFrameSrc=function(){return this.posterLoader?this.posterLoader.getCurrentUrl():""},e.prototype.initializePoster=function(){this.$poster=d.default("<img>",{width:"100%",height:"100%",position:"absolute",top:0,left:0,alt:""}),this.$el.append(this.$poster)},e.prototype.onActivationEnd=function(){this.hidePosterAndShowVideo(),this.canAutoplay()&&!this.isManuallyPaused?(this.play(),this.videoHandle.autoplay(!0)):this.bindVideoElementPauseAndPlayForManualPauseDetection()},e.prototype.onExitStart=function(){this.hideVideoAndShowPoster(),this.autoPause(),this.rewindEndedAutoplayingVideo()},e.prototype.getVideoFormats=function(){var t=[];return p.default.isIE11()&&p.default.isWindowsLessThan("8.1")||t.push({format:"hls-playlist",type:"vnd.apple.mpegurl"}),t.concat([{format:"original",type:"mp4"},{format:"h264-high",type:"mp4"},{format:"h264-low",type:"mp4"}])},e.prototype.getResolvedVideoUrlForFormat=function(t){var e=this.options.videoMedia,i=null;if(e){var n=e.encodings;if(!n[t])return null;i=n[t],w&&(i=_.default.makeUrlAbsolute(i),i=_.default.replaceProtocolIfHttpsRequest(i),i=this.switchAmazonDomainInUrl(i))}return void 0===i&&(h.default.warn("Resolved video not found!",i),i=this.options.video+"/redirect/"+t),i},e.prototype.switchAmazonDomainInUrl=function(t){var e=t.match(/https?:\/\/(([a-z0-9-]*)\.[^\/]*)/i);if(e){var i=e[1],n=e[2];c.default.has(w,n)&&(t=t.replace(i,w[n]))}return t},e.prototype.setVideoSources=function(){var t=this;this.getVideoFormats().forEach((function(e){var i=t.getResolvedVideoUrlForFormat(e.format);if(i){var n="video/"+e.type;"hls-playlist"!==e.format&&"dash-playlist"!==e.format||(n="application/"+e.type),t.$vid.append(d.default("<source>",{src:i,type:n}))}}))},e.prototype.isLoopForever=function(){return this.options.videoAutoPlay&&this.options.videoLoop},e.prototype.isShowControls=function(){return!this.options.videoAutoPlay||!this.options.videoHideControls},e.prototype.hideVideo=function(){this.videoHandle&&this.videoHandle.hide()},e.prototype.showVideo=function(){this.videoHandle&&this.videoHandle.show()},e.prototype.hideVideoAndShowPoster=function(){var t;this.videoHandle&&!this.getCurrentTime()&&(this.isVideoReady&&this.hideVideo(),null===(t=this.$poster)||void 0===t||t.show())},e.prototype.hidePosterAndShowVideo=function(){var t;null===(t=this.$poster)||void 0===t||t.hide(),this.isVideoReady&&this.showVideo()},e.prototype.isPlaying=function(){return!!this.videoHandle&&!this.isVideoHandleEnded()&&!this.isVideoHandlePaused()&&this.getCurrentTime()>0},e.prototype.isEnded=function(){return!!this.isVideoReady&&this.isVideoHandleEnded()},e.prototype.setCurrentTime=function(t){this.isVideoReady&&this.videoHandle.currentTime(t)},e.prototype.getCurrentTime=function(){return this.isVideoReady?this.videoHandle.currentTime():0},e.prototype.reset=function(){t.prototype.reset.call(this),this.pauseAnyVideoAndRewindAutoPlayingVideo(),this.isRewound&&this.options.videoAutoPlay&&(this.isManuallyPaused=!1)},e.prototype.whenLeavingVisibleBoundaries=function(){void 0===this.isPinned&&(this.isPinned=this.options.fixedPosition||!(!this.options.parentSmartGroup||!this.options.parentSmartGroup.fixedPosition),!this.isPinned&&this.parentViews&&(this.isPinned=this.parentViews.some((function(t){return t.options.fixedPosition})))),this.isPinned||(t.prototype.whenLeavingVisibleBoundaries.call(this),this.disableVideoTrackingAndAutoPlayingVideo())},e.prototype.disableVideoTrackingAndAutoPlayingVideo=function(){this.disableVideoTracking(),this.options.videoAutoPlay&&this.pauseAnyVideoAndRewindAutoPlayingVideo()},e.prototype.disableVideoTracking=function(){this.videoTracker&&this.videoTracker.disableTracking()},e.prototype.pauseAnyVideoAndRewindAutoPlayingVideo=function(){this.autoPause(),this.rewindEndedAutoplayingVideo()},e.prototype.rewindEndedAutoplayingVideo=function(){this.options.videoAutoPlay&&this.isEnded()&&(this.setCurrentTime(0),this.isRewound=!0)},e.prototype.loadAndShowVideo=function(){this.isVideoReady?this.hidePosterAndShowVideo():(this.canAutoplay()&&("none"===this.videoHandle.preload()||p.default.isIos())&&(this.isVideoReady=!0),this.bindVideoElementPauseAndPlayForManualPauseDetection())},e.prototype.play=function(){var t=this;this.loadAndShowVideo(),this.videoTracker&&this.videoTracker.enableTracking(),this.isVideoReady?this.videoHandle.play():this.on(i.EVENTS.VIDEO_READY,(function(){t.videoHandle.play()})),this.isRewound=!1},e.prototype.autoPause=function(){this.isVideoReady&&!this.isPaused()&&(this.videoTracker&&this.videoTracker.disableTracking(),this.isAutoPaused=!0,this.videoHandle.pause())},e.prototype.getElementWidth=function(){return this.options.width},e.prototype.getElementHeight=function(){return this.options.height},e.prototype.render=function(){return t.prototype.render.call(this),this.buildVideoElement(),this},e.prototype.buildVideoElement=function(){var t="none";this.initiallyVisible&&this.areAllParentsInitiallyVisible()&&this.options.pageView.isTop()&&(t="auto");var e={id:this.id,width:"100%",height:"100%",poster:this.getPosterFrameSrc(),preload:t,"webkit-playsinline":!0,playsinline:!0,type:"application/x-mpegURL"};this.muted&&(e.muted=!0),this.isLoopForever()&&(e.loop=!0),this.$vid=d.default("<video>",e),this.$vid.addClass("video-js vjs-default-skin vjs-big-play-centered vjs-show-big-play-button-on-pause vjs-ceros-theme"),this.$vid.prop({controls:this.isShowControls(),muted:this.muted}),this.options.videoAutoPlay&&(this.$vid.css("object-fit","fill"),this.$vid.addClass("hide-big-play-button")),this.$poster&&(this.$poster.after(this.$vid),this.$poster.css("display","none"));var i=new v.default(this.$vid),n=c.default.get(this.options,"videoMedia.duration");this.videoTracker=new y.default(i,n),this.initializeVideoJS(),this.configureVideoEvents(i),this.configureVideoReadyEvents(),this.updateVideoJSAccessibilityFeatures()},e.prototype.applyChanges=function(e){this.videoHandle.dispose(),this.hasManualPauseDetectionBeenBound=!1,t.prototype.applyChanges.call(this,e)},e.prototype.manuallyPause=function(){this.isVideoReady&&!this.isPaused()&&(this.videoTracker&&this.videoTracker.disableTracking(),this.isAutoPaused=!1,this.videoHandle.pause())},e.prototype.isPaused=function(){return this.$vid[0].paused},e.prototype.configureVideoEvents=function(t){var e=this;t.on("play",(function(){e.playedOnce=!0,h.default.debug("Currently playing from src "+t.getCurrentSource())})),this.videoTracker.on(this.videoTracker.EVENTS.PLAY,(function(t){e.triggerEvent(e.getModule().publishedEvents.PAGE_VIDEO_PLAY,t)})),this.options.videoLoop||(this.videoTracker.on(this.videoTracker.EVENTS.PROGRESS_TIME,(function(t){e.triggerEvent(e.getModule().publishedEvents.PAGE_VIDEO_PROGRESS_TIME,t)})),this.videoTracker.on(this.videoTracker.EVENTS.PROGRESS_PERCENT,(function(t){S.includes(t.progressPercent)&&e.triggerEvent(e.getModule().publishedEvents.PAGE_VIDEO_PROGRESS_PERCENT,t)})))},e.prototype.bindVideoElementPauseAndPlayForManualPauseDetection=function(){var t=this;this.hasManualPauseDetectionBeenBound||(this.$vid.bind("pause",(function(){t.onVideoPause()})),this.$vid.bind("play",(function(){t.onVideoPlay()})),this.hasManualPauseDetectionBeenBound=!0)},e.prototype.onVideoPause=function(){this.isManuallyPaused=!this.isAutoPaused},e.prototype.onVideoPlay=function(){this.isManuallyPaused=!1,this.isAutoPaused=!1},e.prototype.triggerEvent=function(t,e){var i=o({componentSlug:this.options.id,videoSlug:this.videoSlug,pageSlug:this.options.pageView.model.get("slug")},e);this.getModule().trigger(t,i)},e.prototype.canAutoplay=function(){return!!this.options.videoAutoPlay&&(!this.tapToPlay||this.playedOnce)},e.prototype._applyRotation=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype._applyBackground=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype._applyBorder=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype._configureAction=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.setAriaRole=function(){this.hasAccessibilityFeature&&this.options.ariaLabel?(this.$el.attr("role","region"),this.$el.attr("tabIndex","-1")):(this.$el.removeAttr("role"),this.$el.removeAttr("tabIndex"))},e.prototype.updateVideoJSAccessibilityFeatures=function(){this.hasAccessibilityFeature&&(this.videoHandle.removeAttribute("aria-label"),this.videoHandle.removeAttribute("role"),this.videoHandle.removeAttribute("tabIndex"))},e.prototype.initializeVideoJS=function(){this.setVideoSources();var t=this.options.pageView;this.videoHandle=b.Video(this.$vid.get(0),(function(){var e=t.getScaleContext().ratio,i=t.scaleContext.useZoom(e);return{scale:e,zoomScale:i?e:1,transformScale:i?1:e}}))},e.prototype.configureVideoReadyEvents=function(){var t=this;this.$vid.on("progress load canplaythrough",(function(){t.getVideoHandleReadyState()>1&&(t.isVideoReady=!0,t.canAutoplay()&&t.hidePosterAndShowVideo(),t.trigger(i.EVENTS.VIDEO_READY),t.$vid.off("progress load canplaythrough"))}))},e.prototype.getVideoHandleReadyState=function(){return this.videoHandle.readyState()},e.prototype.isVideoHandlePaused=function(){return this.videoHandle.paused()},e.prototype.isVideoHandleEnded=function(){return this.videoHandle.ended()},e.EVENTS={VIDEO_READY:"video_ready"},e=i=a([T.BackboneShim({type:"video",tagName:"div",className:null,defaults:{tapToPlay:!0,muted:!1,$vid:null}})],e)}(g.AbstractComponentView);e.VideoComponentView=E},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Video=void 0;var r=n(i(33)),o=i(229),a=i(230),s=i(231),u=i(232);e.Video=function(t,e,i){return r.default.registerComponent("VolumeBar",a.VolumeBar),r.default.registerComponent("MouseTimeDisplay",s.MouseTimeDisplay),r.default.registerComponent("SeekBar",o.SeekBar),r.default.registerComponent("ProgressControl",u.ProgressControl),r.default(t,{getExperienceScale:e,controlBar:{pictureInPictureToggle:!1,children:["progressControl","playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},html5:{nativeAudioTracks:!1,nativeTextTracks:!1}},i)}},function(t,e,i){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=i(226),r=i(227),o=i(228);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,i){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return d(this,t)}return l(this,t,e,i)}function l(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,i,n):"string"==typeof e?function(t,e,i){"string"==typeof i&&""!==i||(i="utf8");if(!u.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,i),r=(t=s(t,n)).write(e,i);r!==n&&(t=t.slice(0,r));return t}(t,e,i):function(t,e){if(u.isBuffer(e)){var i=0|f(e.length);return 0===(t=s(t,i)).length||e.copy(t,0,0,i),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):h(t,e);if("Buffer"===e.type&&o(e.data))return h(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e){if(c(e),t=s(t,e<0?0:0|f(e)),!u.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function h(t,e){var i=e.length<0?0:0|f(e.length);t=s(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function f(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function p(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return j(t).length;default:if(n)return B(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,i);case"utf8":case"utf-8":return C(this,e,i);case"ascii":return P(this,e,i);case"latin1":case"binary":return I(this,e,i);case"base64":return A(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function m(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function v(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=u.from(e,n)),u.isBuffer(e))return 0===e.length?-1:y(t,e,i,n,r);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):y(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function y(t,e,i,n,r){var o,a=1,s=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,i/=2}function l(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(r){var c=-1;for(o=i;o<s;o++)if(l(t,o)===l(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(i+u>s&&(i=s-u),o=i;o>=0;o--){for(var d=!0,h=0;h<u;h++)if(l(t,o+h)!==l(e,h)){d=!1;break}if(d)return o}return-1}function _(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n))>r&&(n=r):n=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[i+a]=s}return a}function b(t,e,i,n){return H(B(e,t.length-i),t,i,n)}function T(t,e,i,n){return H(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(e),t,i,n)}function w(t,e,i,n){return T(t,e,i,n)}function S(t,e,i,n){return H(j(e),t,i,n)}function E(t,e,i,n){return H(function(t,e){for(var i,n,r,o=[],a=0;a<t.length&&!((e-=2)<0);++a)i=t.charCodeAt(a),n=i>>8,r=i%256,o.push(r),o.push(n);return o}(e,t.length-i),t,i,n)}function A(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function C(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var o,a,s,u,l=t[r],c=null,d=l>239?4:l>223?3:l>191?2:1;if(r+d<=i)switch(d){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[r+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,d=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),r+=d}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var i="",n=0;for(;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return i}(n)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,i){return l(null,t,e,i)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,i){return function(t,e,i,n){return c(e),e<=0?s(t,e):void 0!==i?"string"==typeof n?s(t,e).fill(i,n):s(t,e).fill(i):s(t,e)}(null,t,e,i)},u.allocUnsafe=function(t){return d(null,t)},u.allocUnsafeSlow=function(t){return d(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,o=Math.min(i,n);r<o;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=u.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var a=t[i];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):g.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,i,n,r){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(n>>>=0),a=(i>>>=0)-(e>>>=0),s=Math.min(o,a),l=this.slice(n,r),c=t.slice(e,i),d=0;d<s;++d)if(l[d]!==c[d]){o=l[d],a=c[d];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},u.prototype.indexOf=function(t,e,i){return v(this,t,e,i,!0)},u.prototype.lastIndexOf=function(t,e,i){return v(this,t,e,i,!1)},u.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return _(this,t,e,i);case"utf8":case"utf-8":return b(this,t,e,i);case"ascii":return T(this,t,e,i);case"latin1":case"binary":return w(this,t,e,i);case"base64":return S(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function P(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function I(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function O(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",o=e;o<i;++o)r+=V(t[o]);return r}function x(t,e,i){for(var n=t.slice(e,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function k(t,e,i){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,i,n,r,o){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function M(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-i,2);r<o;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function L(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-i,4);r<o;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function D(t,e,i,n,r,o){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function N(t,e,i,n,o){return o||D(t,0,i,4),r.write(t,e,i,n,23,4),i+4}function F(t,e,i,n,o){return o||D(t,0,i,8),r.write(t,e,i,n,52,8),i+8}u.prototype.slice=function(t,e){var i,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(i=this.subarray(t,e)).__proto__=u.prototype;else{var r=e-t;i=new u(r,void 0);for(var o=0;o<r;++o)i[o]=this[o+t]}return i},u.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||k(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n},u.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||k(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},u.prototype.readUInt8=function(t,e){return e||k(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||k(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||k(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||k(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n>=(r*=128)&&(n-=Math.pow(2,8*e)),n},u.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||k(t,e,this.length);for(var n=e,r=1,o=this[t+--n];n>0&&(r*=256);)o+=this[t+--n]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},u.prototype.readInt8=function(t,e){return e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||k(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},u.prototype.readInt16BE=function(t,e){e||k(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},u.prototype.readInt32LE=function(t,e){return e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||k(t,4,this.length),r.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||k(t,4,this.length),r.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||k(t,8,this.length),r.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||k(t,8,this.length),r.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||R(this,t,e,i,Math.pow(2,8*i)-1,0);var r=1,o=0;for(this[e]=255&t;++o<i&&(r*=256);)this[e+o]=t/r&255;return e+i},u.prototype.writeUIntBE=function(t,e,i,n){(t=+t,e|=0,i|=0,n)||R(this,t,e,i,Math.pow(2,8*i)-1,0);var r=i-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+i},u.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);R(this,t,e,i,r-1,-r)}var o=0,a=1,s=0;for(this[e]=255&t;++o<i&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+i},u.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);R(this,t,e,i,r-1,-r)}var o=i-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+i},u.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):M(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):M(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,i){return N(this,t,e,!0,i)},u.prototype.writeFloatBE=function(t,e,i){return N(this,t,e,!1,i)},u.prototype.writeDoubleLE=function(t,e,i){return F(this,t,e,!0,i)},u.prototype.writeDoubleBE=function(t,e,i){return F(this,t,e,!1,i)},u.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,o=n-i;if(this===t&&i<e&&e<n)for(r=o-1;r>=0;--r)t[r+e]=this[r+i];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+o),e);return o},u.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var o;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(o=e;o<i;++o)this[o]=t;else{var a=u.isBuffer(t)?t:B(new u(t,n).toString()),s=a.length;for(o=0;o<i-e;++o)this[o+e]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function V(t){return t<16?"0"+t.toString(16):t.toString(16)}function B(t,e){var i;e=e||1/0;for(var n=t.length,r=null,o=[],a=0;a<n;++a){if((i=t.charCodeAt(a))>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&o.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;o.push(i)}else if(i<2048){if((e-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function j(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function H(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}}).call(this,i(28))},function(t,e,i){"use strict";e.byteLength=function(t){var e=l(t),i=e[0],n=e[1];return 3*(i+n)/4-n},e.toByteArray=function(t){var e,i,n=l(t),a=n[0],s=n[1],u=new o(function(t,e,i){return 3*(e+i)/4-i}(0,a,s)),c=0,d=s>0?a-4:a;for(i=0;i<d;i+=4)e=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;2===s&&(e=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,u[c++]=255&e);1===s&&(e=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e);return u},e.fromByteArray=function(t){for(var e,i=t.length,r=i%3,o=[],a=0,s=i-r;a<s;a+=16383)o.push(c(t,a,a+16383>s?s:a+16383));1===r?(e=t[i-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],r[a.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");return-1===i&&(i=e),[i,i===e?0:4-i%4]}function c(t,e,i){for(var r,o,a=[],s=e;s<i;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(o=r)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e,i){"use strict";e.read=function(t,e,i,n,r){var o,a,s=8*r-n-1,u=(1<<s)-1,l=u>>1,c=-7,d=i?r-1:0,h=i?-1:1,f=t[e+d];for(d+=h,o=f&(1<<-c)-1,f>>=-c,c+=s;c>0;o=256*o+t[e+d],d+=h,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;c>0;a=256*a+t[e+d],d+=h,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),o-=l}return(f?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,i,n,r,o){var a,s,u,l=8*o-r-1,c=(1<<l)-1,d=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+d>=1?h/u:h*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=c?(s=0,a=c):a+d>=1?(s=(e*u-1)*Math.pow(2,r),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;t[i+f]=255&s,f+=p,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;t[i+f]=255&a,f+=p,a/=256,l-=8);t[i+f-p]|=128*g}},function(t,e,i){"use strict";var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&o(e,t,i);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.SeekBar=void 0;var u=s(i(33)),l=i(70),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.calculateDistance=function(t){var e=(0,this.options_.playerOptions.getExperienceScale)().zoomScale,i=l.getPointerPosition(this.el_,t,e);return this.vertical()?i.y:i.x},e}(u.getComponent("SeekBar"));e.SeekBar=c},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&o(e,t,i);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.VolumeBar=void 0;var u=s(i(33)),l=i(70),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.calculateDistance=function(t){var e=(0,this.options_.playerOptions.getExperienceScale)().zoomScale,i=l.getPointerPosition(this.el_,t,e);return this.vertical()?i.y:i.x},e}(u.getComponent("VolumeBar"));e.VolumeBar=c},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&o(e,t,i);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.MouseTimeDisplay=void 0;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(t,e){var i=this,n=(0,this.options_.playerOptions.getExperienceScale)().scale,r=e*this.player_.duration(),o=1*t.width/n;this.getChild("timeTooltip").updateTime(t,e,r,(function(){i.el_.style.left=o*e+"px"}))},e}(s(i(33)).getComponent("MouseTimeDisplay"));e.MouseTimeDisplay=u},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&o(e,t,i);return a(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressControl=void 0;var u=s(i(33)),l=i(70);var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var i=e.getChild("playProgressBar"),n=e.getChild("mouseTimeDisplay");if(i||n){var r,o,a,s=e.el(),u=(0,this.options_.playerOptions.getExperienceScale)().zoomScale,c=l.getBoundingClientRect(s,u),d=l.getPointerPosition(s,t,u).x;r=0,o=1,a=d,d=Math.min(Math.max(a,r),o),n&&n.update(c,d),i&&i.update(c,e.getProgress())}}},e}(u.getComponent("progressControl"));e.ProgressControl=c},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(3)),a="full",s="muted",u="none",l=r.default.once((function(){return o.default.isIos()?o.default.isIosLessThan(10)?u:s:o.default.isAndroid()&&o.default.isBrowserChrome()?o.default.isBrowserChromeLessThan(53)?u:s:o.default.isDesktopSafari()&&!o.default.isDesktopSafariLessThan(11)||o.default.desktop()&&o.default.isBrowserChrome()&&!o.default.isBrowserChromeLessThan(66)||o.default.desktop()&&o.default.isBrowserFirefoxGreaterThanOrEqualTo(63)?s:a}));e.default={isFullSupport:function(){return l()===a},isMutedSupport:function(){return l()===s},isNoSupport:function(){return l()===u}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={NO_AUTOPLAY_FALLBACK_OPTIONS:{TAP_TO_PLAY:"tap-to-play",SHOW_THUMBNAIL_IMAGE:"show-thumbnail-image"},MUTED_AUTOPLAY_FALLBACK_OPTIONS:{PLAY_MUTED_VIDEO:"play-muted-video",TAP_TO_PLAY:"tap-to-play",SHOW_THUMBNAIL_IMAGE:"show-thumbnail-image"}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(2)),a=i(71),s=i(24),u=n(i(32));e.default=a.AbstractTransformableGroupView.extend({sizeAdjusted:!1,initialize:function(){a.AbstractTransformableGroupView.prototype.initialize.call(this),this.$el.addClass("smart-group"),this.childViews={},this.setSizeFromExtents()},setSizeFromExtents:function(){o.default.previewMode&&(this.options=r.default.clone(this.options)),this.options.scaleWidth=this.options.width/100,this.options.scaleHeight=this.options.height/100;var t=[];r.default.each(this.options.layers,(function(e){!function e(i){if("folder"===i.type)r.default.each(i.items,(function(t){e(t)}));else{var n=i,o=u.default.getExtentsFromDimensions(n.x,n.y,n.width,n.height,Math.toRad(n.rotation),n.border&&n.border.width?n.border.width:0);t.push(o)}}(e)}));var e=u.default.getSmallestContainingRectangle.apply(u.default,t);this.options.width=e.x2-e.x1,this.options.height=e.y2-e.y1;var i=this.options.width/2,n=this.options.height/2,a=this.options.width/2*this.options.scaleWidth,s=this.options.height/2*this.options.scaleHeight;this.options.originalX=this.options.x,this.options.originalY=this.options.y,this.options.x=this.options.x-(i-a),this.options.y=this.options.y-(n-s),this.options.fixedPosition&&(this.options.unfixedX=this.options.x,this.options.unfixedY=this.options.y),this.sizeAdjusted=!0},_applyDimensions:function(t,e){a.AbstractTransformableGroupView.prototype._applyDimensions.call(this,t,e),s.CssUtils.setTransformToElement(this.$el,{scale:{x:this.options.scaleWidth,y:this.options.scaleHeight}})},render:function(){this.sizeAdjusted||this.setSizeFromExtents(),a.AbstractTransformableGroupView.prototype.render.call(this)},applyChanges:function(t){this.sizeAdjusted=!1,a.AbstractTransformableGroupView.prototype.applyChanges.call(this,t)},getAnimatedObjectModelData:function(){return this.sizeAdjusted||this.setSizeFromExtents(),a.AbstractTransformableGroupView.prototype.getAnimatedObjectModelData.call(this)}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(3)),o=i(6),a=i(19);e.default=o.AbstractComponentView.extend({render:function(){o.AbstractComponentView.prototype.render.apply(this,arguments),this.$el.off("focus.resize").on("focus.resize",this.applyFocusDimensions.bind(this)),this.$el.off("blur.resize").on("blur.resize",this._applyDimensions.bind(this))},applyFocusDimensions:function(){this.$el.css({height:this.options.height,width:this.options.width})},_applyDimensions:function(t,e){this.$el.css({height:r.default.webkit?"1px":"",width:r.default.webkit?"1px":""});var i=this.options.width/2+"px "+this.options.height/2+"px";this.$el.css("transform-origin",i),this.$el.css("-moz-transform-origin",i),this.$el.css("-webkit-transform-origin",i),this.$el.css("-ms-transform-origin",i)},tagOverride:function(){var t=o.AbstractComponentView.prototype.tagOverride.call(this);return r.default.msie&&t&&"button"===t.tagName.toLowerCase()?{tagName:this.defaultTagName,attributes:{tabindex:0,onkeyup:"if (['Enter', ' ', 'Spacebar'].indexOf(event.key) >= 0) this.click()",role:"button"}}:t},callObjectStateInvoker:function(t,e){a.ObjectStateInvoker.invokeScaleableObjectState(this,t,e)}})},function(t,e){t.exports='<svg\n  id="{{componentId}}"\n  name="{{svgName}}"\n  overflow="visible"\n  xmlns="http://www.w3.org/2000/svg"\n  class="custom-path-component"\n  aria-hidden="true"\n>\n{{#renderSMILShadow}}\n  <filter id="{{shadowName}}">\n    <feGaussianBlur in="SourceAlpha" />\n    <feOffset result="offsetblur" />\n    <feFlood />\n    <feComposite in2="offsetblur" operator="in" />\n    <feMerge>\n      <feMergeNode />\n      <feMergeNode in="SourceGraphic" />\n    </feMerge>\n  </filter>\n{{/renderSMILShadow}}\n  <linearGradient id="{{gradientName}}">\n    <stop id="{{gradientStop0Name}}" offset="0%" style="stop-color:{{gradientStop0.color}};stop-opacity:1" />\n    <stop id="{{gradientStop1Name}}" offset="100%" style="stop-color:{{gradientStop1.color}};stop-opacity:1" />\n  </linearGradient>\n  {{{subview}}}\n</svg>\n'},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HotspotPathComponentView=void 0;var s=i(51),u=i(34),l=a(i(7)),c=a(i(239)),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="hotspot-path",e}return r(e,t),e.prototype.callObjectStateInvoker=function(){},e.prototype.renderShape=function(t){void 0===t&&(t={});var e=u.CustomPathSVGUtil.generateCurveCoords(this.options.path,this.options.isClosedPath);return l.default.render(c.default,o({path:e},t))},e.prototype.getShapeElement=function(){return this.$el.find("path")},e.prototype.isUsingHoverAreaForMouseOut=function(){return!1},e}(s.AbstractCustomPathComponentView);e.HotspotPathComponentView=d},function(t,e){t.exports='<path\n  d="{{path}}"\n  fill="{{fill}}"\n  stroke-linecap="butt"\n  stroke-linejoin="miter"\n  pointer-events="auto"\n  filter="{{shadow}}"\n  ></path>'},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.CircleComponentView=void 0;var s=a(i(7)),u=i(51),l=a(i(241)),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e}return r(e,t),e.prototype.getShapeElement=function(){return this.$el.find("ellipse")},e.prototype.getCircleDimensions=function(){var t=this.options.width/2,e=this.options.height/2;return{cx:t,cy:e,rx:t,ry:e}},e.prototype.renderShape=function(t){return void 0===t&&(t={}),s.default.render(l.default,o(o({},this.getCircleDimensions()),t))},e}(u.AbstractCustomPathComponentView);e.CircleComponentView=c},function(t,e){t.exports='<ellipse\n  cx="{{cx}}"\n  cy="{{cy}}"\n  rx="{{rx}}"\n  ry="{{ry}}"\n  filter="{{shadow}}"\n  fill="{{fill}}"\n  pointer-events="auto"\n  transform="{{transform}}"\n/>\n'},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LineComponentView=void 0;var s=a(i(7)),u=i(109),l=i(34),c=a(i(110)),d=i(19),h=function(t){function e(e){var i=t.call(this,e)||this;i.type="line",i.options=e;var n=e.x,r=e.x2,o=e.y,a=e.y2;return i.options.width=Math.abs(n-r)||1,i.options.height=Math.abs(o-a)||1,i}return r(e,t),e.prototype.render=function(){return t.prototype.render.call(this),this._applyBorder(),this},e.prototype.renderShape=function(t){void 0===t&&(t={});var e=this.getPoints(),i=l.CustomPathSVGUtil.generateCurveCoords(e,!1);return this.currentPath=i,s.default.render(c.default,o({path:i},t))},e.prototype.getPoints=function(t,e,i,n){return void 0===t&&(t=this.options.x),void 0===e&&(e=this.options.y),void 0===i&&(i=this.options.x2),void 0===n&&(n=this.options.y2),[{x:0,y:0},{x:i-t,y:n-e}]},e.prototype._applyBorder=function(e){void 0===e&&(e={}),e.color||(e.color=this.options.color),e.width||(e.width=this.options.lineWidth),t.prototype._applyBorder.call(this,e)},e.prototype.applyPoints=function(e,i){void 0===e&&(e=this.getPoints()),e=this.getPoints(e[0].x,e[0].y,e[1].x,e[1].y),t.prototype.applyPath.call(this,e,!1,i)},e.prototype.callObjectStateInvoker=function(t,e){d.ObjectStateInvoker.invokeSVGShapeObjectState(this,t,e)},e}(u.CustomShapeComponentView);e.LineComponentView=h},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TriangleComponentView=void 0;var s=a(i(7)),u=i(51),l=a(i(244)),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="triangle",e}return r(e,t),e.prototype.getShapeElement=function(){return this.$el.find("polygon")},e.prototype.renderShape=function(t){void 0===t&&(t={});var e=this.getPoints();return s.default.render(l.default,o({points:this.coodinatesToPointsString(e)},t))},e.prototype.getPoints=function(t,e){return void 0===t&&(t=this.options.width),void 0===e&&(e=this.options.height),"right-triangle"===this.options.shape?{top:{x:t,y:0},left:{x:0,y:e},right:{x:t,y:e}}:{top:{x:t/2,y:0},left:{x:0,y:e},right:{x:t,y:e}}},e.prototype.coodinatesToPointsString=function(t){return Object.values(t).map((function(t){return t.x+","+t.y})).join(" ")},e}(u.AbstractCustomPathComponentView);e.TriangleComponentView=c},function(t,e){t.exports='<polygon\n  points="{{points}}"\n  filter="{{shadow}}"\n  fill="{{fill}}"\n  pointer-events="auto"\n  transform="{{transform}}"\n/>\n'},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.TextComponentView=void 0;var a=o(i(246)),s=i(19),u=o(i(74)),l=function(t){function e(e){return t.call(this,e)||this}return r(e,t),e.prototype.applyJustification=function(t){void 0===t&&(t=this.options.justify),t&&t.match(/(left|right|center|justify)/)&&(this.$el.css("textAlign",t),this.$el.find(".text-line").css("width","100%"))},e.prototype.callObjectStateInvoker=function(t,e){s.ObjectStateInvoker.invokeTextObjectState(this,t,e)},e.prototype.setDefaultTextStyle=function(t){void 0===t&&(t=this.options.defaultSpan);var e=this._getVariant({variantGuid:t.variantGuid});this.$el.css("textTransform","none"),this.$el.css("fontWeight",e.getFontWeight()),this.$el.css("fontStyle",e.getFontStyle()),this.$el.css("fontSize",t.fontSize+"px"),this.setFontColor(t)},e.prototype.applyDefaultFont=function(t){void 0===t&&(t=this.options.defaultSpan);var e=this._getVariant({variantGuid:t.variantGuid}).getCssFamilyName(),i=u.default.formatFamilyNameForCSS(e);this.$el.css("fontFamily",i)},e.prototype.applyLineHeight=function(t,e){void 0===t&&(t=this.options.leading),void 0===e&&(e=this.options.defaultSpan),this.$el.css("lineHeight",t+"px");var i=this._getDefaultBaselineOffset();i-=(t-e.fontSize)/2,this.$el.find(this.getCurrentHtmlTag()).css("top",i)},e.prototype.setFontColor=function(t){void 0===t&&(t=this.options.defaultSpan),this.$el.css("color",t.fontColor)},e.prototype.getHoverTarget=function(){return this.isParagraphMode()?this.$el.find(this.getCurrentHtmlTag()):this.$el.find("span")},e}(a.default);e.TextComponentView=l},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(i(4)),a=r(i(1)),s=r(i(0)),u=r(i(3)),l=r(i(2)),c=i(6),d=r(i(73)),h=r(i(74)),f=r(i(249)),p=r(i(250)),g=r(i(113)),m=r(i(252)),v=i(52),y=i(52),_=i(253),b={},T={},w=function(t,e){return t.getCssFamilyName()+":"+e};e.default=c.AbstractComponentView.extend({type:"text",textSpans:null,textContent:null,textUpdatedViaSdk:!1,initialize:function(){c.AbstractComponentView.prototype.initialize.call(this),this.fontLoader=this.options.fontLoader,this.defaultVariant=this._getVariant(this.options.defaultSpan),this.textMode=this.options.textMode||y.TextRenderMode.PARAGRAPH,this.isRerendering=!1,this.tooSmallToRender=!1},render:function(){if(!(this.options.width<=1||this.options.height<=1))return this.tooSmallToRender=!1,c.AbstractComponentView.prototype.render.call(this),u.default.webkit&&this.$el.css("-webkit-filter","blur(0px)"),this._applyDimensions(this.options.width,this.options.height),this.setDefaultTextStyle(),this.prepareTextContentAndSpans(),this.allFontsReady=new a.default.Deferred,this.variantsMeasured=0,this.fontLoader.onVariantLoaded(this.measureBaselineOffsetAndRenderText,this),this.fontLoader.onLoadFail(this.allFontsReady.reject,this.allFontsReady),this;this.tooSmallToRender=!0},prepareTextContentAndSpans:function(){this.textContent=this._applyTextTransform(this.options.textContent),this.textSpans=f.default.padTextSpans(this.textContent,this.options.defaultSpan,this.options.textSpans)},setTextFromSDK:function(t){var e,i;t=t||"",this.textUpdatedViaSdk=!0,this.options.textContent=t,this.textSpans&&this.textSpans.length>0&&(this.textSpans[0].fontColor&&(e=this.textSpans[0].fontColor),this.textSpans[0].variantGuid&&(i=this.textSpans[0].variantGuid)),this.options.textSpans=[],this.prepareTextContentAndSpans(),this.textSpans&&this.textSpans.length>0&&(e&&(this.textSpans[0].fontColor=e),i&&(this.textSpans[0].variantGuid=i)),"resolved"===this.allFontsReady.state()&&this._layoutContent(),this.$el.css("columns","unset")},measureBaselineOffsetAndRenderText:function(t){(function(t,e){var i=w(t,e);if(s.default.has(T,i))return T[i].promise();var n=new a.default.Deferred;return T[i]=n,h.default.measureFontBaselineOffset(t,e,e).then(n.resolve,n.reject),n.then((function(t){b[i]=t}))})(t,this.options.defaultSpan.fontSize).then(s.default.bind((function(){this.variantsMeasured++,this.variantsMeasured===this.fontLoader.getAllVariants().length&&this.allFontsReady.resolve()}),this))},_getPadding:function(){return{left:s.default.isNumber(this.options.paddingLeft)?this.options.paddingLeft:0,right:s.default.isNumber(this.options.paddingRight)?this.options.paddingRight:0,top:s.default.isNumber(this.options.paddingTop)?this.options.paddingTop:0,bottom:s.default.isNumber(this.options.paddingBottom)?this.options.paddingBottom:0}},_getColumnWidth:function(){var t=this._getPadding();return(this.options.width-t.left-t.right-(this.options.columns-1)*this.options.columnGap)/this.options.columns},_getVariant:function(t){return h.default.resolveFont(t.variantGuid)},_getDefaultBaselineOffset:function(){var t=0,e=this._getVariant(this.options.defaultSpan),i=w(e,this.options.defaultSpan.fontSize);return e&&s.default.has(b,i)&&(t=b[i]),t},_layoutContent:function(){var t,e=this._getDefaultBaselineOffset();this.defaultVariant=this._getVariant(this.options.defaultSpan);var i=this.options.glyphMetrics&&this.options.glyphMetrics!==p.default.EMPTY_METRICS&&s.default.isString(this.options.glyphMetrics);i&&(this.$el.css("lineHeight",this.options.defaultSpan.fontSize+"px"),t=this.glyphMetrics=p.default.decode(this.options.glyphMetrics,this.textContent));var n=!0===this.options.showOverflow?"visible":"hidden";this.$el.css("overflow",n),this.$el.empty(),!i||this.isParagraphMode()||this._useParagraphLayout(t)?(l.default.previewMode||i||this.isParagraphMode()||o.default.warn("no glyph metrics! using paragraph layout..."),this._layoutParagraphs(e)):this._useCharacterLayout(t)?this._layoutGlyphs(t,e):this._layoutLines(t,e)},_useParagraphLayout:function(t){return t.totalLines>=250},isLineMode:function(){return this.textMode===y.TextRenderMode.LINE&&!this.hasAccessibilityFeature},isParagraphMode:function(){return!(this.textMode!==y.TextRenderMode.PARAGRAPH&&!this.textUpdatedViaSdk&&!this.hasAccessibilityFeature)},isHiddenFromScreenReaders:function(){return this.options.hiddenFromScreenReaders&&this.hasAccessibilityFeature},getCurrentHtmlTag:function(){return this.options.htmlTag||"p"},_useCharacterLayout:function(t){return!this.isParagraphMode()&&this.textMode===y.TextRenderMode.CHAR&&t.totalCharacters<=250},_applyTextTransform:function(t){switch(this.options.textTransform){case"uppercase":return t.toUpperCase();case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/\w\S*/g,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))}return t},_applyStyle:function(t,e){void 0===e&&(e={});var i={},n=s.default.extend({},this.options.defaultSpan,e),r=this._getVariant(n);if(e.fontColor&&(i.color=e.fontColor),r.getFontWeight()!==this.defaultVariant.getFontWeight()&&(i["font-weight"]=r.getFontWeight()),r.getFontStyle()!==this.defaultVariant.getFontStyle()&&(i["font-style"]=r.getFontStyle()),r.getCssFamilyName()!==this.defaultVariant.getCssFamilyName()&&(i["font-family"]=r.getCssFamilyName()),e.underline&&(i["text-decoration"]="underline"),e.letterSpacing&&(i["letter-spacing"]=m.default.unitsToCss(e.letterSpacing)),s.default.isEmpty(i)&&this.isParagraphMode()&&!e.hyperlink)return t.content;i=s.default.extend(i,s.default.pick(t,["position","top","left"]));var o="<span";return s.default.isEmpty(i)||(o+=' style="',s.default.each(i,(function(t,e){o+=e+":"+t+";"})),o+='"'),o+">"+t.content+"</span>"},_getNumSpaces:function(t){return s.default.reduce(t,(function(t,e){return t+(" "===e.ch||"\n"===e.ch?1:0)}),0)},_layoutGlyphsChars:function(t,e,i,n){for(var r=[],o=0;o<t.length;o++){var a=e+o,u=t[o];if("\n"!==u.ch&&!s.default.isUndefined(u.ch)){var l=f.default.findTextSpanForCharIndex(a,this.textSpans),c=" "===u.ch?"&nbsp;":u.ch,d=a===l.index+l.length-1,h=o<t.length-1&&s.default.isUndefined(t[o+1].ch);!l.underline||d||u.eol||h||(c+="&nbsp"),r.push(this._applyStyle({content:c,top:u.y+i+n.top+"px",left:u.x+n.left+"px"},l))}}return r},_layoutGlyphs:function(t,e){for(var i=this._getPadding(),n=0,r=[],o=0;o<t.lines.length;o++){var a=t.lines[o],u=n;if(n+=a.length,0!==a.length)if(1!==a.length||!s.default.isUndefined(a[0].ch))this._getNumSpaces(a)!=a.length&&(r=r.concat(this._layoutGlyphsChars(a,u,e,i)))}this.$el.append(this.applyHyperlinks(this.textSpans,r,y.TextRenderMode.DEFAULT))},_applyTextSpans:function(t,e){var i=s.default.map(t,s.default.bind((function(t){var i=this.textContent.substr(t.index,t.length),n={content:i=this._escapeHtmlSpecialCharacters(i),position:"relative"};return e&&(n.left=e),this._applyStyle(n,t)}),this));return this.applyHyperlinks(t,i,y.TextRenderMode.LINE)},_escapeHtmlSpecialCharacters:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\s/g,"&nbsp;")},_kernLongLines:function(){var t=String.fromCharCode(160),e=this._getColumnWidth();this.$("span.text-line").each(s.default.bind((function(i,n){var r=(n=a.default(n)).width();if(r>e){var o,u=r-e,l=a.default(n).find("span"),c=s.default.reduce(l,(function(t,e){return t+a.default(e).text()}),""),d=u/(c.trim().split(t).length-1),h=-1*Math.ceil(u),p=parseInt(a.default(n).attr("index"),10);n.empty();for(var g=c.lastIndexOf(t);g>0;){o=c.lastIndexOf(t,g-1);var m=f.default.findTextSpansForLine(p+o+1,g-o,this.textSpans),v=o<0?"0px":h+"px",y=this._applyTextSpans(m,v);n.prepend(y),h+=d,g=o}}}),this))},_layoutLines:function(t,e){var i=this._getPadding();this.chIndex=0;for(var n=['<div style="width:110%;position:relative">'],r=0;r<t.lines.length;r++){var o=t.lines[r];if(0!==o.length){for(var a="",u=!1,l=this.chIndex,c=0,d=0;d<o.length;d++)s.default.isUndefined(o[d].ch)||(a+=o[d].ch,u="\n"===o[d].ch,c++);if(a.trim().length>0){var h=f.default.findTextSpansForLine(l,c,this.textSpans),p=this._applyTextSpans(h),g=o[0].y+e+i.top+"px",m=o[0].x+i.left+"px";n.push('<span class="text-line" index="'+l+'" style="top:'+g+";left:"+m+'">'+p+"</span>")}u&&n.push("<br/>"),this.chIndex+=c}}n.push("</div>"),this.$el.append(n.join("")),this._onReflow(this.$("span:first"),s.default.bind((function(){this._kernLongLines()}),this))},_layoutParagraphs:function(t){var e=this;t-=(this.options.leading-this.options.defaultSpan.fontSize)/2;var i=this.options,r=i.width,o=i.height;this.options.textTransform&&this.$el.css("textTransform",this.options.textTransform),this.$el.empty();var u=a.default("<"+this.getCurrentHtmlTag()+' style="position:relative;top:'+t+'px;"/>');this.$el.append(u),"center"!==this.options.justify&&"right"!==this.options.justify||this.textContent.indexOf("  ")>-1?this.$el.css("whiteSpace","pre-wrap"):this.$el.css("whiteSpace","pre-line");var l=f.default.generateUnstyledHtmlSpansForParagraph(this.textContent,this.textSpans).map((function(t){return e._applyStyle.apply(e,t)}));u.append(this.applyHyperlinks(this.textSpans,l,y.TextRenderMode.PARAGRAPH)),this.applyJustification(this.options.justify),this.$el.css("padding",0),s.default.each(["Top","Right","Bottom","Left"],s.default.bind((function(t){this.options["padding"+t]&&(this.$el.css("padding"+t,parseInt(this.options["padding"+t],10)+"px"),"Top"!=t&&"Bottom"!=t||(o-=parseInt(this.options["padding"+t],10)),"Left"!=t&&"Right"!=t||(r-=parseInt(this.options["padding"+t],10)))}),this)),"button"===this.tagName&&u.css({height:o});var c=this.$el.find("> *");if(this.options.columns>1){var d=this.options.columnGap||0,h=Math.abs(this.options.leading-this.options.defaultSpan.fontSize),p=o-t+h,g=v.COLUMN_OVERRUN_PADDING_PERCENTAGE/this.options.columns;d+=r*g/100,c.css(n({columnCount:this.options.columns,columnWidth:"auto",columnFill:"auto",columnGap:d+"px",height:p},this.getOverrunPaddingCSS(g)))}else c.css(this.getOverrunPaddingCSS(v.COLUMN_OVERRUN_PADDING_PERCENTAGE));this.$el.css("lineHeight",this.options.leading+"px"),this._applyDimensions(r,o)},getOverrunPaddingCSS:function(t){return"left"===this.options.justify?{paddingRight:t+"%"}:"right"===this.options.justify?{paddingLeft:t+"%"}:{paddingLeft:t/2+"%",paddingRight:t/2+"%"}},applyHyperlinks:function(t,e,i){return new _.InlineLinkProcessor(this,t).decorateLinks(e,i)},_onReflow:function(t,e){if(!s.default.isEmpty(t)){var i=function(){t.width()>0?e():setTimeout(i,1)};setTimeout(i,1)}},applyChanges:function(t){var e=s.default.cloneDeep(t);d.default.reconcileComponentForCurrentVariant(e),this.fontLoader=new g.default(e),this.fontLoader.load(),c.AbstractComponentView.prototype.applyChanges.call(this,t)},applyAccessibilityFeatures:function(){c.AbstractComponentView.prototype.applyAccessibilityFeatures.call(this),this.setScreenReaderVisibilityStatus()},attachMedia:function(){return this.tooSmallToRender?a.default.Deferred().resolve():(this.fontLoader.loadNow(),this.allFontsReady.always(s.default.bind((function(){this.applyDefaultFont(),this._layoutContent()}),this)),this.allFontsReady.promise())},setScreenReaderVisibilityStatus:function(){this.isHiddenFromScreenReaders()?this.$el.attr("aria-hidden","true"):this.$el.removeAttr("aria-hidden")},scaleComponent:function(){this.rerenderByTogglingVisibility()},rerenderByTogglingVisibility:s.default.debounce((function(){if(!this.isRerendering){this.isRerendering=!0;var t=this.$el.css("display");this.$el.css("display","none"),s.default.delay(s.default.bind((function(){this.$el.css("display",t),this.isRerendering=!1}),this),1)}}),100),containsHyperlinks:function(){return s.default.some(this.textSpans,"hyperlink")}})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.get=void 0;var n={"text-component":["title","textContent"]};e.get=function(t){return n[t]||[]},e.default={get:e.get}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(112)),a=n(i(35)),s=function(t){t=t||{},this.api=t.api,this.family=t.family,this.guid=t.guid,this.crossAccount=!!t.crossAccount,this.category=t.category,this.version=t.version,this.lastModified=t.lastModified,this.files=t.files,this.variants=[]};s.prototype={isBuiltIn:function(){return this.api===a.default.BUILTIN_API_ID},isUploaded:function(){return this.api===a.default.UPLOADED_API_ID},isCrossAccount:function(){return this.crossAccount},getFamilyName:function(){return this.family},getVariants:function(){return this.variants},addVariant:function(t,e){var i=new o.default(t,r.default.extend({},e||{},{fontFamily:this}));return this.updateVariant(i),i},updateVariant:function(t){var e=r.default.findIndex(this.variants,(function(e){return t.guid===e.guid}));-1===e?this.variants.push(t):this.variants[e]=t},getVariantsCount:function(){return this.variants.length},getVariantNames:function(){return r.default.map(this.variants,(function(t){return t.getName()}))},getCssFamilyName:function(){return this.isUploaded()?this.variants[0].getCssFamilyName():this.getFamilyName()},getGuid:function(){return this.guid},getVariant:function(t){return r.default.find(this.variants,(function(e){return e.guid===t}))},getVariantByName:function(t){return r.default.find(this.variants,(function(e){return e.getName()===t.toString()}))},getWebFontStylesLoaded:function(){return r.default.every(this.variants,"webFontStylesLoaded")},setAllWebFontStylesLoaded:function(){r.default.each(this.variants,r.default.bind((function(t){t.setWebFontStylesLoaded()}),this))},sortVariantsByName:function(){this.variants=r.default.sortBy(this.variants,["name"])},findVariantByWeightAndStyle:function(t,e){return r.default.find(this.variants,(function(i){return i.getFontWeight()===t&&i.getFontStyle()===e}))},findBestMatchVariant:function(t){var e=this.getVariantByName(t.getName());return e||(e=this.findVariantByWeightAndStyle(t.getFontWeight(),t.getFontStyle())),e||(e=this.findVariantByWeightAndStyle(a.default.DEFAULT_FONT_WEIGHT,a.default.DEFAULT_FONT_STYLE)),e||(e=this.variants[0]),e}},e.default=s},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),a=function(t,e){for(var i=0;i<e.length;i++)if(t>=e[i].index&&t<e[i].index+e[i].length)return i;return-1},s=function(t,e){var i=a(t,e);return-1!=i?e[i]:void 0};e.default={padTextSpans:function(t,e,i){var n=[],r=0;if(i&&i.length>0){for(var a=0;a<i.length;a++){var s=i[a];s.index>r&&n.push({underline:e.underline,letterSpacing:e.letterSpacing,index:r,length:s.index-r}),r=s.index+s.length,n.push(o.default.extend(!0,{underline:e.underline,letterSpacing:e.letterSpacing},s))}return r<t.length&&n.push({underline:e.underline,letterSpacing:e.letterSpacing,index:r,length:t.length-r}),n}return[{underline:e.underline,letterSpacing:e.letterSpacing,index:0,length:t.length}]},findTextSpanForCharIndex:s,findTextSpansForLine:function(t,e,i){var n=[],s=a(t,i),u=a(t+e-1,i);if(-1!==s&&-1!==u){n=o.default.extend(!0,[],i.slice(s,u+1));var l=r.default.first(n),c=r.default.last(n);t>l.index&&(l.length-=t-l.index,l.index=t),t+e<c.index+c.length&&(c.length=t+e-c.index)}return n},generateUnstyledHtmlSpansForParagraph:function(t,e){void 0===t&&(t=""),void 0===e&&(e=[]);for(var i=function(t){return{position:"relative",content:r.default.escape(t)}},n=[],o=r.default.first(e),a="",u=0;u<t.length;++u){var l=s(u,e),c=r.default.isEqual(o,l);c&&(a+=t.charAt(u),u!==t.length-1)||(a&&n.push([i(a),o]),u!==t.length-1?(a=t.charAt(u),o=l):a&&!c&&n.push([i(t.charAt(u)),l]))}return n}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o={EMPTY_METRICS:"[]",encode:function(t){if(r.default.isEmpty(t.glyphMetrics))return this.EMPTY_METRICS;var e="",i=null;return r.default.each(t.glyphMetrics,(function(t){var n=parseFloat(t.x.toFixed(2)),r=parseFloat(t.y.toFixed(2));e+=n+",",r!=i&&(e+=r),e+=",",i=r})),","==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),"["+e+"]"},decode:function(t,e){var i,n,o,a=JSON.parse(t.replace(/,,/g,",null,").replace(/,]/,",null]")),s=[],u=null,l=a.length/2;for(i=0;i<l;i++){var c=a[2*i],d=a[2*i+1];o={x:c,y:null===d?u:d,ch:e[i]},r.default.isNumber(d)&&(o.sol=!0),(r.default.isNumber(a[2*(i+1)+1])||i===l-1)&&(o.eol=!0),s.push(o),null!==d&&(u=d)}var h,f=[];for(i=0;i<s.length;i++)(o=s[i]).sol&&(h=[]),h.push(o),o.eol&&f.push(h);for(i=0;i<f.length;i++){for(n=f[i].length-1;n>0&&(" "===f[i][n].ch||"\n"===f[i][n].ch);)delete f[i][n].eol,n--;f[i][n].eol=!0}return{totalCharacters:s.length,totalLines:f.length,lines:f}}};e.default=o},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(1)),a=n(i(35));e.default={loadMetrics:function(t){return o.default.ajax({url:"/rest/v1/font/font-metrics",dataType:"json",data:{variantGuids:t}})},buildGoogleVariantDisplayName:function(t,e){var i={100:"Thin",200:"Extra-Light",300:"Light",400:"Normal",500:"Medium",600:"Semi-Bold",700:"Bold",800:"Extra-Bold",900:"Ultra-Bold"}[t];return"normal"!==e&&(i+=" "+e),i},parseGoogleVariantName:function(t){var e,i;if("regular"===(t=t.toLowerCase()))e=400,i="normal";else if("italic"===t)e=400,i="italic";else if("oblique"===t)e=400,i="oblique";else{var n=t.match(/(\d+)(italic|regular|oblique)?/i);if(!n||3!==n.length)throw"Could not parse google variant: "+t;e=parseInt(n[1],10),i=n[2]&&"regular"!==n[2]?n[2]:"normal"}return{fontWeight:e,fontStyle:i,variantName:this.buildGoogleVariantDisplayName(e,i)}},buildGoogleVariantName:function(t,e){var i=null;return 400===t?i="italic"===e?"italic":"oblique"===e?"oblique":"regular":(i=""+t,"italic"===e?i+="Italic":"oblique"===e&&(i+="Oblique")),i},getFontAPI:function(t){return r.default.startsWith(t,a.default.GOOGLE_API_ID)?a.default.GOOGLE_API_ID:r.default.startsWith(t,a.default.UPLOADED_API_ID)?a.default.UPLOADED_API_ID:r.default.startsWith(t,a.default.BUILTIN_API_ID)?a.default.BUILTIN_API_ID:void 0}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={MIN_LETTER_SPACING_VALUE:-9999,MAX_LETTER_SPACING_VALUE:99999,unitsToEms:function(t){return t/1e3},unitsToCss:function(t){return n.unitsToEms(t)+"em"},unitsToPixels:function(t,e){return n.unitsToEms(t)*e}};e.default=n},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.InlineLinkProcessor=void 0;var r=n(i(1)),o=n(i(0)),a=i(52),s=n(i(18)),u=i(114),l=i(279),c=i(96),d=i(49),h=i(23),f=function(){function t(t,e){void 0===e&&(e=[]),this.textComponent=t,this.allTextSpans=e}return t.prototype.decorateLinks=function(t,e){for(var i=0;i<this.allTextSpans.length;++i){if(this.allTextSpans[i].hyperlink&&!this.isLinkContinuation(i)){var n=this.compileLinkSpans(i),r=this.prepareLinkSplice(n,i,e),o=t.splice.apply(t,r);t.splice(r[0],0,this.decorateLink(o.join(""),n[0]))}}return t.join("")},t.prototype.decorateLink=function(t,e){var i=this.interactionForLink(e.hyperlink),n=i.domTagOverride;if(!n)return t;var o=r.default("<"+n.tagName+">",n.attributes).addClass("span-at-"+e.index).addClass("inline-link").html(t);return this.activateClickEvents(i,e),this.activateHoverEvents(e),o.get(0).outerHTML},t.prototype.activateClickEvents=function(t,e){var i=this,n="#"+d.escapeComponentId(this.textComponent.options.id)+" .span-at-"+e.index;this.textComponent.options.pageView.$pageContainer.off("click",n).on({click:function(e){e.preventDefault();var n=i.textComponent.addComponentAndClickDataToEvent({},e);t.triggerAction(n),s.default.trigger(i.textComponent.module.publishedEvents.PAGE_COMPONENT_CLICKED,n),i.textComponent.module.trigger(i.textComponent.module.publishedEvents.PAGE_COMPONENT_INTERACTION,n)}},n)},t.prototype.activateHoverEvents=function(t){var e="#"+d.escapeComponentId(this.textComponent.options.id)+" .span-at-"+t.index;this.textComponent.options.pageView.$pageContainer.off("hover",e).on({mouseenter:function(t){t.preventDefault();r.default(t.target).parent(".inline-link").find("span").each((function(t,e){var i=r.default(e);if(!i.attr("data-original-color")){var n=i.css("color"),o=c.ColorUtils.isLight(n)?c.ColorUtils.darken(n,35):c.ColorUtils.lighten(n,35);i.attr("data-original-color",n),i.css("color",o)}}))},mouseleave:function(t){t.preventDefault(),r.default(t.target).parent(".inline-link").find("span").each((function(t,e){var i=r.default(e);if(i.attr("data-original-color")){var n=i.attr("data-original-color");i.css("color",n),i.removeAttr("data-original-color")}}))}},e)},t.prototype.interactionForLink=function(t){var e={trigger:"click"};return t.type===l.InlineLinkType.PAGE?"next"===t.location||"prev"===t.location?"next"===t.location?e.action=h.ActionTypes.nextPage:e.action=h.ActionTypes.prevPage:(e.action=h.ActionTypes.gotoPage,e.pageTarget=parseInt(t.location)):t.type===l.InlineLinkType.POSITION?(e.action=h.ActionTypes.scrollTo,"top"===t.location||"bottom"===t.location?e.scrollTargetType=t.location:(e.scrollTargetType="scranchor",e.scrollTargetScranchor=t.location)):t.type===l.InlineLinkType.OBJECT?(e.action=h.ActionTypes.scrollToObject,e.layerTargets=[this.textComponent.options.parentSmartgroup?this.textComponent.options.parentSmartgroup.id+"|"+t.location:t.location]):(e.action=h.ActionTypes.url,e.url=t.location,e.urlOpenInNewWindow=t.newTab),new(u.InteractionFactory.constructorFor(e.action))(e,this.textComponent.options.pageView)},t.prototype.isLinkContinuation=function(t){if(this.isLoneNewLineAfterLink(this.allTextSpans[t])&&this.allTextSpans[t-1]&&this.allTextSpans[t-1].hyperlink)return!0;var e=1;return this.isLoneNewLineAfterLink(this.allTextSpans[t-1])&&++e,!!this.allTextSpans[t].hyperlink&&o.default.isEqual(this.allTextSpans[t].hyperlink,o.default.get(this.allTextSpans[t-e],"hyperlink"))},t.prototype.compileLinkSpans=function(t){var e=[],i=o.default.get(this.allTextSpans,t+".hyperlink");if(!i)return e;var n=t;do{e.push(this.allTextSpans[n]),this.isLoneNewLineAfterLink(this.allTextSpans[n+1])&&++n}while(o.default.isEqual(i,o.default.get(this.allTextSpans[++n],"hyperlink")));return e},t.prototype.prepareLinkSplice=function(t,e,i){var n;if(i===a.TextRenderMode.PARAGRAPH){for(var r=0,s=0;s<t.length-1;++s)t[s].index+t[s].length!==t[s+1].index&&++r;n=[e,t.length+r]}else n=i===a.TextRenderMode.LINE?[e,t.length]:this.prepareCharacterModeLinkSplice(t);return n.concat(o.default.fill(new Array(n[1]-1),""))},t.prototype.prepareCharacterModeLinkSplice=function(t){var e=this,i=t.reduce((function(t,e){return t+e.length}),0),n=this.countUnrenderedWhiteSpaceInRange(0,t[0].index),r=t.reduce((function(t,i){return e.countUnrenderedWhiteSpaceInRange(i.index,i.length)+t}),0),o=t[0].index-n;return[o,o+i-r-o]},t.prototype.countUnrenderedWhiteSpaceInRange=function(t,e){for(var i=/^\s*$/g,n=0,r=0,a=0,s=o.default.get(this.textComponent.glyphMetrics,"lines")||[];a<s.length;a++){var u=s[a];if(!((n+=u.length)<t)){var l=o.default.map(u,"ch").join(""),c=Math.max(t,n-u.length),d=Math.min(t+e,n);if(l.match(i)?r+=d-Math.max(t,c):r+=this.countNewLinesInRange(c,d-c),n>=t+e)break}}return r},t.prototype.countNewLinesInRange=function(t,e){return this.textComponent.options.textContent.substr(t,e).split("\n").length-1},t.prototype.isLoneNewLineAfterLink=function(t){return!!t&&!t.hyperlink&&1===t.length&&"\n"===this.textComponent.options.textContent.charAt(t.index)},t}();e.InlineLinkProcessor=f},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GoToURLInteraction=void 0;var a=o(i(1)),s=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.domain=a.default("<a>",{href:e.url}).get(0).hostname||void 0,n.urlOpenInNewWindow=e.urlOpenInNewWindow||!1,n.url=e.url||"",n}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.constructUrl=function(){return this.url},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_URL},e.prototype.isValid=function(){return("submit"!==this.trigger||!this.urlOpenInNewWindow)&&(!!this.url&&t.prototype.isValid.call(this))},e}(i(48).BaseURLInteraction);e.GoToURLInteraction=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.NextPageInteraction=void 0;var a=i(75),s=o(i(0)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_NEXT_PAGE},e.prototype.getTargetPageNumber=function(){var t=s.default.get(this.pageView,"model.pageIndex")+1;return t?t+1:0},e}(a.BasePageURLInteraction);e.NextPageInteraction=u},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareLinkedInInteraction=void 0;var a=i(36),s=o(i(22)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForLinkedIn(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareLinkedInInteraction=u},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareEmailInteraction=void 0;var a=i(36),s=o(i(22)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForEmail(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareEmailInteraction=u},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareFacebookInteraction=void 0;var a=i(36),s=o(i(22)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForFacebook(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareFacebookInteraction=u},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SharePinterestInteraction=void 0;var a=i(36),s=o(i(22)),u=o(i(2)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){var t=u.default.previewMode?void 0:this.pageView.getThumbnail();return s.default.urlForPinterest(this.urlForCurrentPage(),t)},e}(a.SocialMediaInteraction);e.SharePinterestInteraction=l},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ShareTwitterInteraction=void 0;var a=i(36),s=o(i(22)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.constructUrl=function(){return s.default.urlForTwitter(this.urlForCurrentPage())},e}(a.SocialMediaInteraction);e.ShareTwitterInteraction=u},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.GoToPageInteraction=void 0;var a=o(i(0)),s=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.pageTarget=0,a.default.isString(e.pageTarget)?n.pageTarget=parseInt(String(e.pageTarget).replace(/#/,""),10):e.pageTarget&&(n.pageTarget=e.pageTarget),n}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_PAGE},e.prototype.isValid=function(){return!!this.pageTarget&&t.prototype.isValid.call(this)},e.prototype.getTargetPageNumber=function(){return this.pageTarget},e}(i(75).BasePageURLInteraction);e.GoToPageInteraction=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PreviousPageInteraction=void 0;var a=i(75),s=o(i(0)),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_GO_TO_PREV_PAGE},e.prototype.getTargetPageNumber=function(){var t=s.default.get(this.pageView,"model.pageIndex")+1;return t?t-1:0},e}(a.BasePageURLInteraction);e.PreviousPageInteraction=u},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.HideLayersInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeHideAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(i(76).BaseLayerVisibilityInteraction);e.HideLayersInteraction=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleLayersInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeToggleAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(i(76).BaseLayerVisibilityInteraction);e.ToggleLayersInteraction=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CyclePreviousInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeCyclePreviousAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(i(27).BaseVisibilityInteraction);e.CyclePreviousInteraction=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CycleNextInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeCycleNextAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(i(27).BaseVisibilityInteraction);e.CycleNextInteraction=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ShowLayersInteraction=void 0;var o=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.createHoverArea=!!e.createHoverArea,n}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeShowAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e.prototype.getHoverTargets=function(){var t=this;if(!this.createHoverArea)return this.layerTargets;if(!this.layerTargets)return[];var e=[];return this.layerTargets.forEach((function(i){e.push(i);var n=t.pageView.findChildView(i);n&&n.childViews&&n.childViews.forEach((function(i){t.getAllValidLayerTargets(i,e)}))})),e},e.prototype.shouldCreateHoverArea=function(){return this.createHoverArea},e.prototype.getAllValidLayerTargets=function(t,e){var i=this;void 0===e&&(e=[]),t.visible&&e.push(t.id),"folder"===t.options.type&&t.childViews&&t.childViews.forEach((function(t){i.getAllValidLayerTargets(t,e)}))},e}(i(76).BaseLayerVisibilityInteraction);e.ShowLayersInteraction=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.HideComponentInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeHideOnlyAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(i(27).BaseVisibilityInteraction);e.HideComponentInteraction=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ShowComponentInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.triggerAction=function(e){return this.pageView.invokeShowOnlyAction(this.layerTargets),t.prototype.triggerAction.call(this,e)},e}(i(27).BaseVisibilityInteraction);e.ShowComponentInteraction=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PageVisibilityInteraction=void 0;var a=o(i(0)),s=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.pageTargets=e.pageTargets||[],n}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_ENABLE_DISABLE_PAGES},e.prototype.isValid=function(){return!a.default.isEmpty(this.pageTargets)},e}(i(16).BaseInteraction);e.PageVisibilityInteraction=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.LightboxVisibilityInteraction=void 0;var o=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.lightboxHasCloseButton=e.lightboxHasCloseButton||!1,n.lightboxHeight=e.lightboxHeight||0,n.lightboxWidth=e.lightboxWidth||0,n.lightboxUrl=e.lightboxUrl||"",n}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_OPEN_LIGHTBOX},e}(i(16).BaseInteraction);e.LightboxVisibilityInteraction=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ProductPanelVisibilityInteraction=void 0;var o=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.productPanelId=e.productPanelId||"",n}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_OPEN_PRODUCT_PANEL},e.prototype.isValid=function(){return!!this.productPanelId&&t.prototype.isValid.call(this)},e}(i(16).BaseInteraction);e.ProductPanelVisibilityInteraction=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.ShoppingCartVisibilityInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.hasGlobalScope=function(){return!1},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_OPEN_SHOPPING_CART},e}(i(16).BaseInteraction);e.ShoppingCartVisibilityInteraction=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.FullScreenInteraction=void 0;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){},e.prototype.triggerAction=function(t){var e=document.body;return e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),!0},e.prototype.isValid=function(){return"submit"!==this.trigger&&t.prototype.isValid.call(this)},e}(i(16).BaseInteraction);e.FullScreenInteraction=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleReducedMotionInteraction=void 0;var a=i(16),s=o(i(13)),u=o(i(14)),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_TOGGLE_REDUCED_MOTION},e.prototype.isValid=function(){return s.default.hasFeature(u.default.ACCESSIBILITY)},e}(a.BaseInteraction);e.ToggleReducedMotionInteraction=l},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__decorate||function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(e,"__esModule",{value:!0}),e.ChangeStateInteraction=void 0;var a=i(27),s=i(277),u=i(71),l=i(68),c=i(6),d=function(t){function e(e,i){var n=t.call(this,e,i)||this;return n.state=e.state,n.lockState=e.lockState,n.hasOutTrigger=!e.lockState,n.targets=e.layerTargets,n}return r(e,t),e.prototype.isValid=function(){return!(!this.layerTargets||!this.layerTargets.length)},e.prototype.triggerAction=function(e){var i=this,n=this.getTargets();return!!n&&(n.forEach((function(t){i.hasActiveStatesWithLocks(t)?i.pageView.addStateUnderActiveState(t,i.state,i):(i.pageView.invokeObjectState(t,i.state),i.pageView.addActiveState(t,i))})),t.prototype.triggerAction.call(this,e))},e.prototype.triggerOutAction=function(){var t=this;this.hasOutTrigger&&this.getTargets().forEach((function(e){t.pageView.revokeObjectState(e,t.state),t.hasActiveStatesWithLocks(e)||t.pageView.removeActiveState(e,t)}))},e.prototype.hasActiveStatesWithLocks=function(t){return"default"!==this.state&&(!("hover"!==this.state||!this.pageView.hasActiveClickStateWithLock(t))||!("hover"!==this.state&&"click"!==this.state||!this.pageView.hasActiveCustomStateWithLock(t)))},e.prototype.getModuleAction=function(){return this.pageView.module.publishedEvents.PAGE_ACTION_CHANGE_STATE},e.prototype.getTargets=function(){var t=this;if(!this.targets)return[];if(this.cachedTargets)return this.cachedTargets;var e=[];return this.targets.forEach((function(i){var n,r=t.pageView.findChildView(i);if(r)if(t.isValidTarget(r)&&(n=i),r.childViews){var o=[];r.childViews.forEach((function(e){t.getAllValidChildrenLayerTargets(e,o,r instanceof u.AbstractTransformableGroupView&&r.linkInteraction)})),o.length&&(n&&e.push(n),e.push.apply(e,o))}else n&&e.push(n)})),this.cachedTargets=e||[],e},e.prototype.getAllValidChildrenLayerTargets=function(t,e,i){var n=this;this.isValidTarget(t)&&e.push(t.id),t instanceof u.AbstractTransformableGroupView&&t.childViews&&(t.linkInteraction||i)&&t.childViews.forEach((function(t){n.getAllValidChildrenLayerTargets(t,e,!0)}))},e.prototype.getHoverTargets=function(){return this.getTargets()},e.prototype.isValidTarget=function(t){return!(t instanceof l.FolderView)&&(t instanceof u.AbstractTransformableGroupView&&t.linkInteraction||t instanceof c.AbstractComponentView&&!!t.hasObjectState(this.state))},e=o([s.InteractionOptions({hasOutTrigger:!0})],e)}(a.BaseVisibilityInteraction);e.ChangeStateInteraction=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InteractionOptions=void 0;var n=i(26);e.InteractionOptions=function(t){return n.BackboneShim(t)}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidInteraction=void 0;var o=function(t){function e(e,i){return t.call(this,e,i)||this}return r(e,t),e.prototype.getModuleAction=function(){},e.prototype.isValid=function(){return!1},e}(i(16).BaseInteraction);e.InvalidInteraction=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineLinkType=void 0;i(52);!function(t){t.URL="url",t.PAGE="page",t.POSITION="position",t.OBJECT="object"}(e.InlineLinkType||(e.InlineLinkType={}))},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.VectorImageComponentView=void 0;var a=o(i(0)),s=i(24),u=i(72),l=i(19),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasRenderedGradient=!1,e}return r(e,t),e.prototype._applyBackground=function(t,e){var i=this;void 0===t&&(t=this.options.background||{}),void 0===e&&(e=this.options.transition);var n=void 0===t.backgroundHasBeenSet&&!!t||!1!==t.backgroundHasBeenSet,r=this.getCerosGradientElement(),o=this.getStylableSvgChilds(),a=this.getCerosGradientStopElements(),s=0;o.each((function(t,e){i.setChildFill($(e),r,n)})),t.color&&a.css("stop-color",t.color),t.gradient&&(a.first().css("stop-color",t.gradient.stops[0].color),a.last().css("stop-color",t.gradient.stops[1].color),s=t.gradient.angle||0),t.color||t.gradient||a.css("stop-color","transparent"),u.AnimateSVGUtil.renderGradientAnimation(this.getSVGElement(),this.getGradientElement(),s,this.hasRenderedGradient?e:null),this.hasRenderedGradient=!0},e.prototype._applyImageFlip=function(t){a.default.isEmpty(t)&&(t={});var e=(a.default.isNil(t.flipHorizontal)?this.options.flipHorizontal:t.flipHorizontal)?-1:1,i=(a.default.isNil(t.flipVertical)?this.options.flipVertical:t.flipVertical)?-1:1;s.CssUtils.setTransformToElement(this.$innerElement,{scale:{x:e,y:i}})},e.prototype.setChildFill=function(t,e,i){var n,r=t.attr("fill")||"",o=t.css("fill"),a=t.css("stop-color"),s="url(#"+(null===(n=e[0])||void 0===n?void 0:n.id)+")",u=t.attr("data-defaultFill")||"",l=t.attr("data-defaultCssFill")||"",c=t.attr("data-defaultCssStopColor")||"";if(!u&&r&&t.attr("data-defaultFill",r),!l&&o&&t.attr("data-defaultCssFill",o),!c&&a&&t.attr("data-defaultCssStopColor",a),r&&r.length>0){var d=i?s:u;t.css("fill",""),t.attr("fill",d)}if(o&&o.length>0){var h=t.attr("class");d=i?s:l;t.removeAttr("fill"),h&&d===l?t.css("fill",""):t.css("fill",d)}if(a&&a.length>0&&"stop"===t[0].nodeName){var f=i?"#d1d1d1":c;t.css("stop-color",""),t.attr("stop-color",f)}},e.prototype.getSVGElement=function(){return this.$el.children("svg")},e.prototype.getCerosGradientStopElements=function(){return this.getCerosGradientElement().find("stop")},e.prototype.getStylableSvgChilds=function(){var t;return null===(t=this.$innerElement)||void 0===t?void 0:t.find("path, polygon, circle, rect, ellipse, stop")},e.prototype.getGradientElement=function(){return this.$innerElement.find("linearGradient")},e.prototype.getCerosGradientElement=function(){return this.$innerElement.find("linearGradient.cerosgradient")},e.prototype.callObjectStateInvoker=function(t,e){l.ObjectStateInvoker.invokeAbstractImageObjectState(this,t,e,!0)},e}(o(i(281)).default);e.VectorImageComponentView=c},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(i(4)),a=r(i(1)),s=r(i(0)),u=i(105);e.default=u.AbstractImageComponentView.extend({initialize:function(){u.AbstractImageComponentView.prototype.initialize.call(this),this.loadImage=s.default.once(this.loadImage,this),this.vectorImageReady=new a.default.Deferred},attachMedia:function(){if(this.imageLoader){var t=this.imageLoader.getCurrentResource();s.default.isNull(t)?o.default.warn("Image should have been added to resource loader during preload"):t.loadNow().done(s.default.bind((function(t){this.loadImage(t,this.vectorImageReady,this.options.background,this.options.altText)}),this)).fail(s.default.bind((function(){this.vectorImageReady.reject()}),this))}return this.vectorImageReady.promise()},loadImage:function(t,e,i,r){var o;i.backgroundHasBeenSet=this.options.backgroundHasBeenSet;var u=(null===(o=this.options.interactions)||void 0===o?void 0:o.length)>0,l=t.createXMLDoc(i,r,u),c=a.default(l).children();if(c[0]){var d=this.$innerElement.attr("width"),h=this.$innerElement.attr("height"),f=this.getApplyShadowTarget(),p={};if(!s.default.isNil(f[0])){var g=f[0].style.webkitFilter;p={filter:f[0].style.filter,"-webkit-filter":g}}var m=a.default("<div>"),v=a.default(c[0]);v.css(n({width:d,height:h},p));var y=parseInt(v.attr("width"),10),_=parseInt(v.attr("height"),10);v.attr("viewBox")||isNaN(y)||isNaN(_)||v.attr("viewBox","0 0 "+y+" "+_),m.append(v),v.css("display","block"),this.$innerElement.replaceWith(m),this.$innerElement=m,this.getAnimateElements().length>0&&this.$innerElement.html(this.$innerElement.html()),this.isFlipped()&&this._applyImageFlip({flipHorizontal:this.options.flipHorizontal,flipVertical:this.options.flipVertical}),this.applyTransition(),e.resolve()}else e.reject(new Error("An unexpected error occurred"))}})},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__decorate||function(t,e,i,n){var r,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,i,a):r(e,i))||a);return o>3&&a&&Object.defineProperty(e,i,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MaskGroupView=void 0;var s=a(i(108)),u=i(26),l=a(i(57)),c=function(t){function e(e){var i=t.call(this,e)||this;return i.options=e,i.$el.addClass("mask-group"),i}return r(e,t),e.prototype.getMaskView=function(){return this.maskView||(this.maskView=this.childViews.find((function(t){return t.options.maskInfo&&!t.options.maskInfo.isBaseMaskObject}))),this.maskView},e.prototype.getWrappedView=function(){return this.wrappedView||(this.wrappedView=this.childViews.find((function(t){return t.options.maskInfo&&t.options.maskInfo.isBaseMaskObject}))),this.wrappedView},e.prototype.bindClickInteraction=function(){},e.prototype.bindMouseDownInteraction=function(){},e.prototype.bindMouseOverInteraction=function(){},e.prototype.assignCursor=function(){},e.prototype._configureInteractions=function(){t.prototype._configureInteractions.call(this),this.bindClickSelectInteraction()},e.prototype.unbindInteractions=function(){t.prototype.unbindInteractions.call(this),this.getInteractionTarget().off("keydown",this.handleKeydown)},e.prototype.bindClickSelectInteraction=function(){this.getInteractionTarget().on("keydown",this.handleKeydown.bind(this))},e.prototype.handleKeydown=function(t){var e=t.keyCode;e!==l.default.SPACE&&e!==l.default.ENTER||(this.hasClickInteraction()?this._handleClickInteraction(t):this.handleClickWithoutInteraction(t))},e=o([u.BackboneShim()],e)}(s.default);e.MaskGroupView=c},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(115)),a=i(284);e.default={createPreRenderList:function(t){var e=t.model.get("layers"),i=a.Scranchor.scranchorsForPage(t);if(!e)return i;var n=function(t,e){t&&r.default.each(t,(function(t){var r=new o.default(e,t);i.push(r),t.smartgroupId?n(t.layers,r):function(t){return"folder"===t.type||"group"===t.type||"mask-group"===t.type}(t)&&n(t.items,r)}))},s=new o.default(null,null);return s.childViews=t.childViews,n(e,s),i.reverse()}}},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Scranchor=void 0;var a=o(i(1)),s=o(i(0)),u=function(t){function e(e){var i=t.call(this,void 0,void 0)||this;return i.x=0,i.y=0,i.model={type:"scranchor"},i.childViews=[],i.y=e.top||0,i.$el=a.default("<a>",{class:"scranchor",id:e.id,tabindex:-1}).css({position:"absolute",top:i.y,left:i.x,height:0,width:e.width}),e.id.match(/^page-[0-9]+-top$/)&&i.$el.on("focus",(function(){i.$el.attr("tabindex",1)})).on("blur",(function(){i.$el.attr("tabindex",-1)})),i}return r(e,t),e.prototype.adjustYCoordinateWithinGroup=function(){var t=this;this.$el.parents(".group, .smart-group").each((function(e,i){t.y-=parseInt(i.style.top||"0"),t.$el.css("top",t.y)}))},e.scranchorsForPage=function(t){var i=[],n=t.model.getPageWidth(t.documentVersion),r=t.model.getPageHeight(t.documentVersion);return i.push(new e({width:n,id:"page-"+(t.model.pageIndex+1)+"-top"})),s.default.forEach(t.model.getScranchorsForCurrentVariant(),(function(t,r){i.push(new e({top:t,id:r,width:n}))})),i.push(new e({top:r-1,width:n,id:"page-"+(t.model.pageIndex+1)+"-bottom"})),i},e}(o(i(115)).default);e.Scranchor=u},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o={},a=function(t){if(!t)return Number.POSITIVE_INFINITY;var e=parseInt(t.style.top);return r.default(t).parents(".group, .smart-group").each((function(t,i){e+=parseInt(i.style.top)})),e},s={insert:function(t,e,i,n,o){var a=this.getChildNodeToInsertBefore(t,i,n,o);a?r.default(e).insertBefore(a,t):t.appendChild(e)},getChildNodeToInsertBefore:function(t,e,i,n,o,s){for(var u,l,c=0,d=t.children||t.childNodes,h=d.length-1;c<=h;){u=Math.floor((c+h)/2);var f=this.determineEffectivePositionOf(r.default(d[u])),p=f.x,g=f.y;p+=o||0;var m=(g+=s||0)===i?p-e:g-i;if(0===m)return d[u];if(m<0){if(n&&r.default(d[u]).is(".group, .smart-group")){var v=parseInt(d[u].style.left)+(o||0),y=parseInt(d[u].style.top)+(s||0),_=this.getChildNodeToInsertBefore(d[u],e,i,n,v,y);_&&(!l||parseInt(_.style.top)<a(l))&&(l=_)}c=u+1}else{h=u-1,(!l||!n||parseInt(d[u].style.top)<a(l))&&(l=d[u])}}return l},determineEffectivePositionOf:function(t){var e=this,i=t[0];if(o[i.id])return o[i.id];var n={x:parseInt(i.style.left)||0,y:parseInt(i.style.top)||0};if(!t.hasClass("group"))return n;var a={x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY};return t.children().each((function(t,i){var n=r.default(i);if("none"!==i.style.display&&!n.hasClass("sr-only")){var o=n.hasClass("group")?e.determineEffectivePositionOf(n):{x:parseInt(i.style.left),y:parseInt(i.style.top)};(o.y<a.y||o.y===a.y&&o.x<a.x)&&(a=o)}})),a.y===Number.POSITIVE_INFINITY?o[i.id]=n:o[i.id]={x:n.x+a.x,y:n.y+a.y},o[i.id]}};e.default=s},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__generator||function(t,e){var i,n,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var n=Array(t),r=0;for(e=0;e<i;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,r++)n[r]=o[a];return n},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PrerenderAccessibilityOverride=void 0;var s=a(i(0)),u=i(23);var l=function(){function t(t){this.initialOverrides={},this.layersToHideSet=new Set,this.pageView=t}return t.prototype.applyOverrides=function(){var t,e,i,n,o,a,s,u,l,c,d,h,f,p,g;return r(this,(function(r){switch(r.label){case 0:t=this.finalizeOverrides(),e=new Set,i=0,n=Object.keys(t),r.label=1;case 1:return i<n.length?(o=n[i],[4]):[3,4];case 2:for(r.sent(),a=t[o],s=a.layersToMove,u=a.layersToAria,l=a.layersToHide,c=a.carouselSlideLayers,d=a.triggerEl,h=a.hasBothShowAndHideTargetInteractions,f=0,p=s;f<p.length;f++)g=p[f],e.has(g.id)||(d.parentElement.insertBefore(g,d.nextSibling),e.add(g.id));h&&(d.className+=" ceros-no-return-focus"),u.length&&this.updateARIAProperties(d,u),l.length&&this.addHideClass(l),c.length&&this.applyCarouselAttributes(c),r.label=3;case 3:return i++,[3,1];case 4:return[2]}}))},t.prototype.updateARIAProperties=function(t,e){var i=this;if(t.setAttribute("aria-controls",e.join(" ")),s.default.some(e,(function(t){var e;return null===(e=i.pageView.findChildView(t))||void 0===e?void 0:e.isCarouselSlide}))){s.default.some(e,(function(t){var e;return"none"!==(null===(e=i.pageView.findChildView(t))||void 0===e?void 0:e.el.style.display)}))&&t.setAttribute("aria-current","true")}else{var n=s.default.some(e,(function(t){var e;return"none"===(null===(e=i.pageView.findChildView(t))||void 0===e?void 0:e.el.style.display)}));t.setAttribute("aria-expanded",n?"false":"true")}},t.prototype.applyCarouselAttributes=function(t){for(var e=0,i=t;e<i.length;e++)for(var n=i[e],r=this.pageView.findChildView(n),o=0,a=(null==r?void 0:r.childViews)||[];o<a.length;o++){var s=a[o];"group"===s.options.type&&(s.el.setAttribute("role","group"),s.isCarouselSlide=!0)}},t.prototype.addHideClass=function(t){var e=this;s.default.each(t,(function(t){var i;if(!e.layersToHideSet.has(t)){var n=null===(i=e.pageView.findChildView(t))||void 0===i?void 0:i.el;n&&(n.className+=" ceros-hideable"),e.layersToHideSet.add(t)}}))},t.layerTargetsReducer=function(e,i){var n,r,o,a,l=e.hasBothShowAndHideTargetInteractions?t.interactionTypesRequiringOrderOverride:t.interactionTypesRequiringAriaOverride;return i.layerTargets?(s.default.includes(t.interactionTriggersRequiringOrderOverride,i.trigger)&&s.default.includes(t.interactionTypesRequiringOrderOverride,i.action)&&(n=e.layersToMove).push.apply(n,i.layerTargets),"click"===i.trigger&&s.default.includes(l,i.action)&&(r=e.layersToAria).push.apply(r,i.layerTargets),"click"!==i.trigger||i.action!==u.ActionTypes.toggleCanvasTargets&&!s.default.includes(t.interactionTypesThatHide,i.action)||(o=e.layersToHide).push.apply(o,i.layerTargets),t.interactionTypesForCarousels.includes(i.action)&&(a=e.carouselSlideLayers).push.apply(a,i.layerTargets),e):e},t.prototype.hasBothShowAndHideTargetInteractions=function(e){var i=!1,n=!1;return s.default.some(e,(function(e){return!("click"!==e.trigger||!s.default.includes(t.interactionTypesThatShouldNotShiftFocus,e.action))||(!n&&"click"===e.trigger&&s.default.includes(t.interactionTypesThatHide,e.action)&&(n=!0),!i&&"click"===e.trigger&&s.default.includes(t.interactionTypesRequiringOrderOverride,e.action)&&(i=!0),n&&i)}))},t.prototype.analyzeLayerForOverrides=function(e){var i;if(!function(t){return"folder"===t.type}(e.model)&&(null===(i=e.model.interactions)||void 0===i?void 0:i.length)){var n=this.hasBothShowAndHideTargetInteractions(e.model.interactions),r=e.model.interactions.reduce(t.layerTargetsReducer,{layersToMove:[],layersToAria:[],layersToHide:[],carouselSlideLayers:[],hasBothShowAndHideTargetInteractions:n});(r.layersToMove.length||r.layersToAria.length||r.carouselSlideLayers.length||n)&&(this.initialOverrides[e.model.id]={layersToMove:s.default.uniq(r.layersToMove),layersToAria:s.default.uniq(r.layersToAria),layersToHide:s.default.uniq(r.layersToHide),carouselSlideLayers:s.default.uniq(r.carouselSlideLayers),hasBothShowAndHideTargetInteractions:n,triggerEl:e.view.el})}},t.prototype.finalizeOverrides=function(){for(var t=this,e={},i=0,r=s.default.entries(this.initialOverrides);i<r.length;i++){var o=r[i],a=o[0],u=o[1],l=u.layersToMove.map((function(e){var i;return null===(i=t.pageView.findChildView(e))||void 0===i?void 0:i.el})),c=this.filterSiblings(u.triggerEl,l);e[a]=n(n({},u),{layersToMove:this.sortLayersByPosition(c)})}return e},t.prototype.filterSiblings=function(t,e){var i=t.dataset.containerId;if(!i)return[];var n=this.pageView.model.findLayerById(i.split(",").shift());return"group"!==(null==n?void 0:n.type)?[]:e.filter((function(t){return(null==t?void 0:t.dataset.containerId)===i}))},t.prototype.sortLayersByPosition=function(t){var e=this;return t.sort((function(t,i){var n=e.getPositionOf(t),r=e.getPositionOf(i);return r.top-n.top||r.left-n.left}))},t.prototype.getPositionOf=function(t){return{left:parseFloat(t.style.left)||0,top:parseFloat(t.style.top)||0}},t.interactionTriggersRequiringOrderOverride=["click","hover"],t.interactionTypesRequiringOrderOverride=[u.ActionTypes.toggleCanvasTargets,u.ActionTypes.showAndStayVisibleCanvasTargets,u.ActionTypes.showCanvasTargets,u.ActionTypes.showCanvasTargetsOnHover,u.ActionTypes.showOnly],t.interactionTypesThatHide=[u.ActionTypes.hideOnly,u.ActionTypes.hideCanvasTargets,u.ActionTypes.hideAndStayHiddenCanvasTargets],t.interactionTypesRequiringAriaOverride=o(t.interactionTypesRequiringOrderOverride,t.interactionTypesThatHide),t.interactionTypesForCarousels=[u.ActionTypes.cycleNext,u.ActionTypes.cyclePrevious],t.interactionTypesThatShouldNotShiftFocus=o(t.interactionTypesForCarousels,[u.ActionTypes.showOnly,u.ActionTypes.hideOnly]),t}();e.PrerenderAccessibilityOverride=l},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=i(6),s=n(i(50)),u=i(68),l=n(i(116));function c(t){t&&(t.visible=!0,t.runningExitAnimations&&(t.cancelHide=!0,t instanceof a.AbstractComponentView&&t.resetTimers()),t instanceof a.AbstractComponentView&&t.show(),o.default.isEmpty(t.childViews)||o.default.each(t.childViews,(function(t){t.visible&&c(t)})))}function d(t){if(t){if(t.cancelHide)return void function t(e){e.cancelHide=!1,o.default.each(e.childViews,(function(e){t(e)}))}(t);t.visible=!1,(t instanceof a.AbstractComponentView||t instanceof u.FolderView)&&t.hide(),function t(e){e instanceof a.AbstractComponentView&&e.resetTimers();e.childViews&&o.default.each(e.childViews,(function(e){t(e)}))}(t)}}function h(t){t&&(t.visible=!1,(t instanceof a.AbstractComponentView||t instanceof u.FolderView)&&t.hide(),function t(e){e instanceof a.AbstractComponentView&&(e.resetTimers(),e instanceof s.default&&e.disableVideoTrackingAndAutoPlayingVideo());e.childViews&&o.default.each(e.childViews,(function(e){t(e)}))}(t))}function f(){}f.prototype={activateAndRunEntryAnimationsForAllVisible:function(t,e){var i=function(t){o.default.each(t,(function(t){if(t instanceof a.AbstractComponentView&&(o.default.isUndefined(t.visible)||t.visible)){var n=t.isAnyPartOfComponentWithinBoundaries(e);n&&t.setWasInsideVisibleBoundaries(!0),(n||t.isOutsideOfPage())&&t.activateAndRunEntryAnimations()}t.childViews&&t.visible&&i(t.childViews)}))};i(t)},createTimedTriggers:function(t,e){o.default.each(t,(function(t){t.isAnyPartOfComponentWithinBoundaries(e)&&t.createTimedTriggers()}))},whenVisibleBoundariesChange:function(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=n.getComponentBoundaries(),o=n.isAnyPartOfComponentWithinBoundaries(e,r),a=n.getWasInsideVisibleBoundaries(),s=!a&&o;if(a&&!o?(n.setWasInsideVisibleBoundaries(!1),n.whenLeavingVisibleBoundaries()):s&&(n.setWasInsideVisibleBoundaries(!0),n.createTimedTriggers()),o){if(!n.visible||n.areAnyParentsNotVisible())continue;n.isAnyPartOfComponentWithinEntryAnimationBoundaries(e,r)&&!n.isOutsideOfPage()&&n.activateAndRunEntryAnimations()}}},resetHoverInteractionViewsToInitialVisibility:function(t,e,i){for(var n=function(t,e,i){for(var n=[],r=0;r<t.length;r++){var a=t[r];if(!a.isAnyPartOfComponentWithinBoundaries(i)){var s=o.default.flatMap(a.getResettableHoverInteractions(),c);s.length>0&&(n.push(a),n=n.concat(s))}}function c(t){if(!t.resetWhenScrolledOffscreen)return[];var i=o.default.map(t.layerTargets,(function(t){return l.default.find(e,t)}));return o.default.every(i,d)?i:[]}function d(t){var e=[];return function t(i){i instanceof u.FolderView?o.default.each(i.childViews,(function(e){t(e)})):e.push(i)}(t),o.default.every(e,(function(t){return!(t&&t.isAnyPartOfComponentWithinBoundaries(i))}))}return n}(t,e,i),r=0;r<n.length;r++){var a=n[r];o.default.isUndefined(a.initiallyVisible)||a.initiallyVisible?c(a):h(a)}},resetAnimationsAndInitialVisibility:function(t){var e=function(t){o.default.each(t,(function(t){t.childViews&&e(t.childViews),o.default.isUndefined(t.initiallyVisible)||t.initiallyVisible?c(t):d(t),t.reset()}))};e(t)},restartRepeatEntryAnimationsForAllVisibleOrViewed:function(t,e){var i=function(t){o.default.each(t,(function(t){if(t instanceof a.AbstractComponentView&&(o.default.isUndefined(t.visible)||t.visible)&&t.shouldRestartEntryAnimations){var n=t.isAnyPartOfComponentWithinBoundaries(e);n&&t.setWasInsideVisibleBoundaries(!0),(!n&&!t.options.animationsReplayOnScroll||n||t.isOutsideOfPage())&&t.restartRepeatEntryAnimations()}t.childViews&&t.visible&&i(t.childViews)}))};i(t)},showChildViewIfAllParentsVisible:function(t,e){t.areAllParentsVisible()&&(c(t),function t(e,i){e instanceof a.AbstractComponentView&&e.isAnyPartOfComponentWithinBoundaries(i)&&e.createTimedTriggers();e.childViews&&o.default.each(e.childViews,(function(e){t(e,i)}))}(t,e),function t(e){if(null===e||!1===e.visible)return;e.reset(),e instanceof a.AbstractComponentView&&e.activateAndRunEntryAnimations();e.childViews&&o.default.each(e.childViews,(function(e){t(e)}))}(t))},hideAllChildViewsAndRunExitAnimations:function(t){o.default.each(t,(function(t){if(!t.runningExitAnimations){var e=t.runAllChildViewExitAnimations();r.default.when.apply(r.default,e).done((function(){d(t),function(t){t.reset(),t.childViews&&o.default.each(t.childViews,(function(t){t.reset()}))}(t)}))}}))}},e.default=f},function(t,e,i){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var r in e=arguments[i])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectStateFactory=void 0;var r=i(101),o=function(){function t(){}return t.initializeStates=function(t){return t instanceof Array?t:Object.keys(t).map((function(e){var i=n(n({},t[e]),{state:e});return new r.ObjectState(i)}))},t}();e.ObjectStateFactory=o},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AutomaticHoverInteractionCollection=e.AutomaticHoverInteractionHandler=void 0;var r=n(i(1)),o=n(i(0)),a=n(i(67)),s=n(i(13)),u=n(i(14)),l=function(){function t(t,e,i){this.hasChanges=!0,this.isShowing=!1,this.isHiding=!1,this.navItems={},this.targets=[],this.abstractComponentView=t,this.hoverInteractions=e,this.pageView=i}return Object.defineProperty(t.prototype,"trigger",{get:function(){return this.abstractComponentView.$el},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasTargets",{get:function(){return this.targets.length>0},enumerable:!1,configurable:!0}),t.isHover=function(t){return t.is(":hover")},t.prototype.isInteractive=function(t){if(t.is(":disabled"))return!1;var e=t.attr("tabindex")||-1;return t===this.trigger||e>-1||t.is(":input, a[href], area[href], iframe")},t.prototype.isFocusable=function(t){return"text-component"===t.options.type&&t.containsHyperlinks()||this.isInteractive(t.$el)},t.prototype.isNavItem=function(t){var e=t.attr("id")||t.attr("data-container-id");return!!e&&!!this.navItems[e]},t.prototype.bindFocusEvent=function(e){var i=this,n=function(){t.isHover(e)||(i.invokeShowAction(),i.invokeHideAction(),e.attr("id")===i.trigger.attr("id")&&i.abstractComponentView.sendPublishedHoverEvents())};this.isInteractive(e)&&e.on(t.FOCUS_EVENT,n),e.find(t.INLINE_LINK_SELECTOR).on(t.FOCUS_EVENT,n)},t.prototype.bindBlurEvent=function(e){var i=this,n=function(n){if(!t.isHover(e)){var o=n.relatedTarget&&r.default(n.relatedTarget);o&&i.isNavItem(o)||(i.hideTemporaryShowing(),i.showTemporaryHiding())}};this.isInteractive(e)&&e.on(t.BLUR_EVENT,n),e.find(t.INLINE_LINK_SELECTOR).on(t.BLUR_EVENT,n)},t.prototype.hideTemporaryShowing=function(){var t=this.targets.filter((function(t){return t.isShowing&&t.isTemporary&&t.isVisibilityInteraction})).map((function(t){return t.id}));t.length>0&&(this.pageView.invokeHideAction(t),this.isShowing=!1)},t.prototype.showTemporaryHiding=function(){var t=this.targets.filter((function(t){return!t.isShowing&&t.isTemporary&&t.isVisibilityInteraction})).map((function(t){return t.id}));t.length>0&&(this.pageView.invokeShowAction(t),this.isHiding=!1)},t.prototype.invokeShowAction=function(){if(!this.isShowing){var t=this.targets.filter((function(t){return t.isShowing&&t.isVisibilityInteraction}));t.length>0&&(this.pageView.invokeShowAction(t.map((function(t){return t.id})),(function(){t.forEach((function(t){t.view.wasShownByFocusInteraction=!0}))})),this.isShowing=!0)}},t.prototype.invokeHideAction=function(){if(!this.isHiding){var t=this.targets.filter((function(t){return!t.isShowing&&t.isVisibilityInteraction}));t.forEach((function(t){t.view.wasShownByFocusInteraction=!1})),t.length>0&&(this.pageView.invokeHideAction(t.map((function(t){return t.id}))),this.isHiding=!0)}},t.prototype.handleTargets=function(t,e,i){var n,r=this;e&&i&&this.isFocusable(t)&&(this.addNavItem(t.$el),this.bindFocusEvent(t.$el),this.bindBlurEvent(t.$el)),null===(n=t.childViews)||void 0===n||n.forEach((function(t){return r.handleTargets(t,e,i)}))},t.prototype.setAccessibilityHoverTarget=function(t){var e,i=this;t.setAsAccessibilityHoverTarget(),null===(e=t.childViews)||void 0===e||e.forEach((function(t){return i.setAccessibilityHoverTarget(t)}))},t.prototype.unsetAccessibilityHoverTarget=function(t){var e,i=this;t&&(t.unsetAsAccessibilityHoverTarget(),null===(e=t.childViews)||void 0===e||e.forEach((function(t){return i.unsetAccessibilityHoverTarget(t)})))},t.prototype.addNavItem=function(e){var i=e.attr("id");e.find(t.INLINE_LINK_SELECTOR).attr("data-container-id",i),this.navItems[i]=e},t.prototype.unbindEvents=function(){Object.values(this.navItems).forEach((function(e){e.off(t.FOCUS_EVENT).off(t.BLUR_EVENT).find(t.INLINE_LINK_SELECTOR).off(t.FOCUS_EVENT).off(t.BLUR_EVENT)}))},t.prototype.configureInteractions=function(){var t=this;this.hasChanges=!1,this.isShowing=!1,this.isHiding=!1,this.navItems={},this.hasTargets&&(this.targets.forEach((function(e){t.handleTargets(e.view,e.isShowing,e.isTemporary)})),this.addNavItem(this.trigger),this.bindFocusEvent(this.trigger),this.bindBlurEvent(this.trigger))},t.prototype.update=function(t,e){var i=this;o.default.isEqual(this.hoverInteractions,e)&&this.trigger[0]===t.$el[0]||(this.abstractComponentView=t,this.hoverInteractions=e,this.unbindEvents(),this.targets.forEach((function(t){return i.unsetAccessibilityHoverTarget(t.view)})),this.hasChanges=!0)},t.prototype.prepareHoverTargets=function(){var t=this;this.targets=[],this.hoverInteractions.forEach((function(e){var i=e.layerTargets;if(i){var n=a.default.isHoverInteractionShowingLayers(e),r=a.default.isTemporaryHoverInteractionShowingOrHidingLayers(e),o=a.default.hasCustomFiringHoverAction(e);i.forEach((function(e){var i=t.pageView.findChildView(e);i&&(t.setAccessibilityHoverTarget(i),t.targets.push({id:e,view:i,isShowing:n,isTemporary:r,isVisibilityInteraction:o}))}))}}))},t.prototype.refreshInteractions=function(){this.hasChanges&&(this.prepareHoverTargets(),this.configureInteractions())},t.BLUR_EVENT="blur.automaticHoverInteraction",t.FOCUS_EVENT="focus.automaticHoverInteraction",t.INLINE_LINK_SELECTOR=".inline-link",t}();e.AutomaticHoverInteractionHandler=l;var c=function(){function t(){this.handlers={}}return t.prototype.add=function(t,e,i){if(s.default.hasFeature(u.default.ACCESSIBILITY))if(0!==e.length){var n=t.$el.attr("id");this.handlers[n]?this.handlers[n].update(t,e):this.handlers[n]=new l(t,e,i)}else this.remove(t.$el)},t.prototype.prepareAccessibleHoverTargets=function(){Object.values(this.handlers).forEach((function(t){return t.prepareHoverTargets()}))},t.prototype.initInteractions=function(){Object.values(this.handlers).forEach((function(t){return t.configureInteractions()}))},t.prototype.refreshInteractions=function(){Object.values(this.handlers).forEach((function(t){return t.refreshInteractions()}))},t.prototype.remove=function(t){var e=t.attr("id");this.handlers[e]&&(this.handlers[e].unbindEvents(),delete this.handlers[e])},t}();e.AutomaticHoverInteractionCollection=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverAreaComponentFactory=void 0;var n=i(117),r=i(292),o=i(293),a=i(294),s=i(295),u=function(){function t(){}return t.createHoverAreaComponent=function(t){switch(t.options.type){case"shape-component":switch(t.options.shape){case"circle":return new r.CircleHoverAreaComponentView({component:t});case"triangle":case"right-triangle":return new s.TriangleHoverAreaComponentView({component:t});default:return new n.HoverAreaComponentView({component:t})}case"line-component":return new a.LineHoverAreaComponentView({component:t});case"custom-shape-component":return new o.CustomShapeHoverAreaComponentView({component:t});default:return new n.HoverAreaComponentView({component:t})}},t}();e.HoverAreaComponentFactory=u},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractView=void 0;var a=o(i(0)),s=o(i(5)),u=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return r(e,t),e.prototype.initialize=function(t){t&&t.preventAutoBind||(this._bindModel(),this._bindCollection())},e.prototype.onClose=function(){},e.prototype.beforeClose=function(){},e.prototype.close=function(){this.beforeClose(),this.closeAllSubViews(),this.remove(),this.stopListening(),this._unbindCollection(),this.onClose(),this.trigger("close"),this.unbind()},e.prototype.registerSubView=function(t,e){return void 0===this.subViews&&(this.subViews=[]),-1===this.subViews.indexOf(t)&&(t.parentView=this,a.default.isNumber(e)?this.subViews.splice(e,0,t):this.subViews.push(t)),t},e.prototype.unregisterSubView=function(t){this.subViews=a.default.reject(this.subViews,(function(e){return e===t}))},e.prototype.closeAndCleanUpSubView=function(t){this.stopListening(t),this.unregisterSubView(t),t.close()},e.prototype.closeAllSubViews=function(){if(this.subViews)for(var t=void 0;t=this.subViews.pop();)t.close()},e.prototype.getSubViews=function(){return this.subViews||[]},e.prototype.getAllSubViews=function(){var t=[];return a.default.each(this.subViews,(function(e){t.push(e),t=t.concat(e.getAllSubViews())})),t},e.prototype.forSomeSubView=function(t){return a.default.some(this.subViews,(function(e){return t(e)||e.forSomeSubView(t)}))},e.prototype.renderSubViews=function(){a.default.each(this.getSubViews(),(function(t){t.render()}))},e.prototype.setModel=function(t,e){this._unbindModel(),this.model=t,e||this._bindModel()},e.prototype.bindModelEvents=function(){this.model.bind("change",this._change,this),this.model.bind("sync",this._sync,this),this.model.bind("destroy",this._destroy,this),this.model.bind("invalid",this._invalid,this)},e.prototype._bindModel=function(){this.model&&(this.bindModelEvents(),this.render())},e.prototype._unbindModel=function(){this.model&&(this.model.unbind("change",this._change,this),this.model.unbind("sync",this._sync,this),this.model.unbind("destroy",this._destroy,this),this.model.unbind("invalid",this._invalid,this))},e.prototype.setCollection=function(t,e){this._unbindCollection(),this.collection=t,e||this._bindCollection()},e.prototype.bindCollectionEvents=function(){this.collection.bind("add",this._add,this),this.collection.bind("remove",this._remove,this),this.collection.bind("reset",this._reset,this)},e.prototype._bindCollection=function(){this.collection&&(this._unbindCollection(),this.bindCollectionEvents(),this.render())},e.prototype._unbindCollection=function(){this.collection&&(this.collection.unbind("add",this._add,this),this.collection.unbind("remove",this._remove,this),this.collection.unbind("reset",this._reset,this))},e.prototype._bindEventHandler=function(t,e,i){a.default.isFunction(i)?this.listenTo(t,e,i.bind(this)):this.listenTo(t,e,this[i].bind(this))},e.prototype._change=function(){this.render()},e.prototype._sync=function(){this.render()},e.prototype._destroy=function(){this.render()},e.prototype._invalid=function(){this.render()},e.prototype._add=function(){this.render()},e.prototype._remove=function(){this.render()},e.prototype._reset=function(){this.render()},e.prototype.height=function(){return this.$el.outerHeight()},e.prototype.show=function(){this.$el.show()},e.prototype.hide=function(){this.$el.hide()},e.prototype.registerRadioHandler=function(t){s.default.Syphon.InputWriters.register("radio",t)},e.prototype.registerCheckboxHandler=function(t){s.default.Syphon.InputWriters.register("checkbox",t)},e.prototype.customRadioHandler=function(t,e){"1"===e?e=!0:"0"===e&&(e=!1);var i=parseInt(t.val());(e&&1===i||!e&&0===i)&&t.prop("checked",!0).trigger("change")},e.prototype.customCheckboxHandler=function(t,e){t.prop("checked",e).trigger("change")},e}(i(62).JsTsViewGlue);e.AbstractView=u,e.default=u},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CircleHoverAreaComponentView=void 0;var o=function(t){function e(e){var i=t.call(this,e)||this;return i.options=e,i}return r(e,t),e.prototype.renderShapeHoverArea=function(){var t=this.options.component.getCircleDimensions(),e=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return e.setAttributeNS(null,"cx",t.cx.toString()),e.setAttributeNS(null,"cy",t.cy.toString()),e.setAttributeNS(null,"rx",t.rx.toString()),e.setAttributeNS(null,"ry",t.ry.toString()),e},e}(i(53).AbstractCustomPathHoverAreaComponentView);e.CircleHoverAreaComponentView=o},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.CustomShapeHoverAreaComponentView=void 0;var o=i(53),a=i(34),s=function(t){function e(e){var i=t.call(this,e)||this;return i.options=e,i}return r(e,t),e.prototype.renderShapeHoverArea=function(){var t=a.CustomPathSVGUtil.generateCurveCoords(this.options.component.options.path,this.options.component.options.isClosedPath),e=document.createElementNS("http://www.w3.org/2000/svg","path");return e.setAttributeNS(null,"d",t),e},e}(o.AbstractCustomPathHoverAreaComponentView);e.CustomShapeHoverAreaComponentView=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.LineHoverAreaComponentView=void 0;var o=i(53),a=i(34),s=function(t){function e(e){var i=t.call(this,e)||this;return i.options=e,i}return r(e,t),e.prototype.renderShapeHoverArea=function(){var t=this.options.component.getPoints(),e=a.CustomPathSVGUtil.generateCurveCoords(t,!1),i=document.createElementNS("http://www.w3.org/2000/svg","path");return i.setAttributeNS(null,"d",e),i},e.prototype.renderStroke=function(){this.getHoverAreaTarget().css("stroke","transparent"),this.getHoverAreaTarget().css("stroke-width",this.options.component.options.lineWidth||0)},e}(o.AbstractCustomPathHoverAreaComponentView);e.LineHoverAreaComponentView=s},function(t,e,i){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.TriangleHoverAreaComponentView=void 0;var o=function(t){function e(e){var i=t.call(this,e)||this;return i.options=e,i}return r(e,t),e.prototype.renderShapeHoverArea=function(){var t=this.options.component.getPoints(),e=document.createElementNS("http://www.w3.org/2000/svg","polygon");return e.setAttributeNS(null,"points",this.options.component.coodinatesToPointsString(t)),e},e}(i(53).AbstractCustomPathHoverAreaComponentView);e.TriangleHoverAreaComponentView=o},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(2)),s=n(i(92)),u=n(i(64)),l=n(i(3)),c=n(i(21)),d=n(i(8)),h=n(i(63)),f=function(t){this.initialize(t)};f.prototype={documentVersion:null,marginTopCallback:null,module:null,cachedScale:{},initialize:function(t){this.documentVersion=t.documentVersion,this.marginTopCallback=t.marginTopCallback,this.module=t.module},getCurrentWindowScaleContext:function(){var t=r.default(window),e=c.default.getExperienceContainerDimensions(t);return this._calculateScaleInternal(e.width,e.height)},isPreviewFullScreenMode:function(){return a.default.previewMode&&c.default.fullScreenMode},_calculateScaleInternal:function(t,e){var i=this.documentVersion.getExperienceWidth(),n=a.default.heightOverride||this.documentVersion.getExperienceHeight(),s=this.documentVersion.getScaleExperience(),f=r.default(window),p=c.default.getExperienceContainerDimensions(f),g=t+"x"+e+"-"+p.width+"x"+p.height+"-"+d.default.getVariant()+"-"+h.default.getInstance().getCurrentZoom();if(!o.default.has(this.cachedScale,g)){var m={width:t,height:e,marginTop:this.marginTopCallback(),windowWidth:t,windowHeight:e,ratio:1,constrainedByHeight:!1,constrainedByWidth:!1,originalWindowWidth:p.width,originalWindowHeight:p.height},v=m.windowHeight+l.default.getSlackHeight(m.windowHeight)-m.marginTop;m.height=v;var y=this.documentVersion.getScaleExperienceType()===u.default.SCALE_EXPERIENCE_TYPE.FULL_WIDTH;this.calculateDoScaling(m,i,n,v,s,y),m.adjustedRatio=m.ratio*l.default.pixelRatio(),this.cachedScale[g]=m}return this.cachedScale[g]},calculateDoScaling:function(t,e,i,n,r,o){if(r){var a=i/e>n/t.windowWidth,s=h.default.getInstance().getCurrentZoom();o||!a?(t.constrainedByWidth=!0,t.width=t.windowWidth,t.ratio=t.width/e):(t.constrainedByHeight=!0,t.ratio=t.height/i,t.width=e*t.ratio*s),t.ratio*=s}},getPageScaleContext:function(t){var e=this.getCurrentWindowScaleContext();if(this.documentVersion.getScaleExperience()){var i=t.getPageHeight(this.documentVersion),n=this.documentVersion.getExperienceWidth(),r=i<=Math.round(e.height/e.ratio);e.constrainedByWidth&&!r&&(e=this.calculateNewScaleContextWhenConstrainedByWidthAndPageDoesNotFit(e,n,i))}return e},calculateNewScaleContextWhenConstrainedByWidthAndPageDoesNotFit:function(t,e,i){for(var n=s.default.getScrollbarWidth()*t.ratio,r=n;r>=0;r--){var o=(t.width-n+r)/e;if(!0===i<=Math.round(t.height/o)){n-=r;break}}var a=t.originalWindowWidth-n;return t=this._calculateScaleInternal(a,t.originalWindowHeight)},useZoom:function(t){var e=l.default.isIpad();return(!e||!l.default.isIosGreaterThanOrEqualTo(13))&&(e||this.doBlurryFontFix(t))},doBlurryFontFix:function(t){return(l.default.isBrowserChrome()&&l.default.desktop()||l.default.isDesktopSafari())&&t>=.8}},e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={PAGES:"&#xe001;",FACEBOOK:"&#xe002;",EMAIL:"&#xe003;",CART:"&#xe004;",LINK:"&#xe005;",TWITTER:"&#xe006;",LEFT_ARROW:"&#xe007;",PINTEREST:"&#xe008;",RIGHT_ARROW:"&#xe009;",SHARE:"&#xe000;"}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r,o=n(i(4)),a=n(i(1)),s=n(i(0)),u=n(i(20)),l=n(i(15)),c=n(i(11)),d=n(i(3)),h=n(i(299)),f=n(i(2)),p={"click .close":"_close",click:"_backgroundClick"},g={"touchstart .close":"_close",touchstart:"_backgroundClick"};e.default=c.default.extend({id:"lightbox",attributes:{"aria-modal":"true","aria-hidden":"true"},events:(r={},d.default.desktop()&&s.default.extend(r,p),d.default.touch()&&s.default.extend(r,g),r),lightboxWidth:null,lightboxHeight:null,opened:!1,initialize:function(){c.default.prototype.initialize.apply(this,arguments),this._render(),f.default.previewMode&&a.default(window).on("resize",s.default.debounce(s.default.bind(this._handleSizeChangesDueToZoom,this),1))},setSizeAndPosition:function(){if(this.opened){var t=l.default.getInstance();if(t.isActive()){var e=this.$el,i=this.$(".container"),n=t.getVerticalCenterOfVisibleArea(e.height())-this.lightboxHeight/2,r=Math.max(window.innerWidth-this.lightboxWidth,0)/2;e.css({padding:0}),i.css({transform:"none",top:n+"px",left:r+"px"})}if(d.default.smallWindow()){var o=this.lightboxHeight/this.lightboxWidth,a=Math.min(window.innerWidth,this.lightboxWidth);this.$el.addClass("fullscreen-lightbox"),this.$(".container").css({"max-height":o*a})}else this.$(".container").css({"max-width":this.lightboxWidth,"max-height":this.lightboxHeight});f.default.previewMode&&this._handleSizeChangesDueToZoom()}},_handleSizeChangesDueToZoom:function(){if(this.opened){var t=a.default(".adaptive-layouts-frame #main").get(0).getBoundingClientRect(),e=window.innerWidth/window.outerWidth;this.lightboxWidth=e*this.originalWidth,this.lightboxWidth=Math.min(t.width-2,this.lightboxWidth);var i=0;this.usesCloseButton&&(i=2*e*42),this.lightboxHeight=e*this.originalHeight,this.lightboxHeight=Math.min(t.height-i,this.lightboxHeight),this.usesCloseButton&&this.resizeCloseButton(e),this.$(".container").css({"max-width":this.lightboxWidth,"max-height":this.lightboxHeight}),this._adjustCenter()}},resizeCloseButton:function(t){var e=16*t,i=40*t;a.default(".ceros-lightbox .close").css({"font-size":e+"px","line-height":i+"px",height:i+"px",width:i+"px",top:"-"+i+"px"})},_adjustCenter:function(){var t=a.default(".adaptive-layouts-frame"),e=t.get(0).getBoundingClientRect().height/2-this.lightboxHeight/2,i=t.css("top"),n=this.$el.css("padding-top"),r=0;n&&i&&(i=s.default.trimEnd(i,"px"),n=s.default.trimEnd(n,"px"),r=s.default.toNumber(n)-s.default.toNumber(i),this.$(".container").css({top:e-r,transform:"translate(-50%,0)","-webkit-transform":"translate(-50%, 0%)"}))},_close:function(t){t&&t.preventDefault(),this.deactivate()},_backgroundClick:function(t){t.target==this.$el[0]&&this._close(t)},onKeypress:function(t){"Esc"!==t.key&&"Escape"!==t.key||this.deactivate()},_render:function(){this.$el.html(h.default)},openLightbox:function(t){s.default.isEmpty(t)?o.default.warn("missing options for lightbox"):s.default.isEmpty(t.url)?o.default.warn("missing URL for lightbox"):t.width?t.height?(t.showCloseButton?(this.$el.removeClass("without-close-button"),this.$el.addClass("with-close-button")):(this.$el.removeClass("with-close-button"),this.$el.addClass("without-close-button")),this.lightboxWidth=t.width,this.lightboxHeight=t.height,this.originalWidth=s.default.clone(t.width),this.originalHeight=s.default.clone(t.height),this.usesCloseButton=t.showCloseButton,this.$(".close").css("background-color",t.closeButtonBgColor),this.$(".close").css("color",t.closeButtonFgColor),this.$("iframe").attr("src",t.url),this.show(),this.focusLightbox(),this.setSizeAndPosition(),u.default.pause()):o.default.warn("missing height for lightbox"):o.default.warn("missing width for lightbox")},focusLightbox:function(){var t=this.$("iframe");t.on("load.focus",(function(){t[0].contentWindow.focus(),t.off("load.focus")}))},deactivate:function(){u.default.resume(),this.$("iframe").attr("src","about:blank"),this.hide()},hide:function(){this.$el.hide(),this.opened=!1,a.default(document).off("keyup.lightbox"),this.$el.attr("aria-hidden","true")},show:function(){this.$el.show(),this.opened=!0,a.default(document).on("keyup.lightbox",this.onKeypress.bind(this)),this.$el.attr("aria-hidden","false")}})},function(t,e){t.exports='<div class="container ceros-lightbox">\n    <button class="close"><span class="sr-only">Close modal</span></span>&#xE00B;</button>\n    <div class="scrolling">\n        <iframe src="about:blank" frameborder="0" allowfullscreen></iframe>\n    </div>\n</div>\n'},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(29)),o=n(i(301)),a=n(i(302));e.default={create:function(t,e){return r.default.isVectorBased(t.contentType)?new o.default(t,e):new a.default(t,e)}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(10)),a=n(i(120)),s=n(i(20)),u=function(t,e){a.default.call(this,t,e)};r.default.extend(u.prototype,a.default.prototype,{loadLowRes:function(t){this.load(t)},load:function(t){if(!this.currentResource){var e=o.default.replaceProtocolIfHttpsRequest(this.url);this.currentResource=s.default.addVectorImage(e),this.currentResource.getPromise().done(r.default.bind((function(){this.trigger(this.IMAGE_LOADED_EVENT)}),this))}},getCurrentUrl:function(){return this.url}}),e.default=u},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(120)),a=n(i(20)),s=n(i(47)),u=n(i(42)),l=function(t,e){o.default.call(this,t,e),this.imageId=e.id,u.default.isValidCropObject(t.crop)?(this.cropDimensions=t.crop,this.originalWidth=this.cropDimensions.width,this.originalHeight=this.cropDimensions.height):(this.originalWidth=r.default.get(e,["original","width"],null),this.originalHeight=r.default.get(e,["original","height"],null))};r.default.extend(l.prototype,o.default.prototype,{imageId:null,originalWidth:null,originalHeight:null,currentUrl:null,currentWidth:-1,cropDimensions:null,loadLowRes:function(t){var e=this.componentWidth*t.adjustedRatio,i=this.componentHeight*t.adjustedRatio,n=this._calculateLowResDimensions(e,i);n.width<=50&&n.height<=50?this.load(t):this._loadLowResWidth(n.width,t)},load:function(t){var e=Math.round(this.componentWidth*t.ratio),i=s.default.calculateWidthForDevicePixelRatio(e);this.loadWidth(i).done(r.default.bind((function(){this.trigger(this.IMAGE_LOADED_EVENT)}),this))},getCurrentUrl:function(){return this.currentUrl},loadWidth:function(t){if(this.currentResource){if(t<=this.currentWidth)return this.currentResource.getPromise();this.currentResource.cancel()}return this.currentResource=a.default.addRasterImage(this.imageId,t,this.cropDimensions),this.currentResource.getPromise().done(r.default.bind((function(t){this.currentUrl=t.getSrc(),this.currentWidth=t.getWidth()}),this))},_loadLowResWidth:function(t,e){this.loadWidth(t).done(r.default.bind((function(){this.trigger(this.LOW_RES_IMAGE_LOADED_EVENT),this.loadNow(e)}),this))},_calculateLowResDimensions:function(t,e){var i,n,r=Math.min(t,this.originalWidth),o=Math.min(e,this.originalHeight),a=r/this.originalWidth,s=o/this.originalHeight,u=this.originalWidth/this.originalHeight;return a<s?(i=Math.ceil(.25*r),n=Math.ceil(r*u*.25)):(i=Math.ceil(o*u*.25),n=Math.ceil(.25*o)),{width:i,height:n}}}),e.default=l},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=i(55),a=i(43),s={crop:null,flipHorizontal:!1,flipVertical:!1,effects:o.ImageEffects.getDefaults(),blendingMode:a.BlendingModes.getDefault()};e.default={isLazyAddedField:function(t){var e=this.getOpFieldName(t);return e&&s.hasOwnProperty(e)},isUpdateForLazyAddedField:function(t){return(!r.default.isUndefined(t.oi)||!r.default.isUndefined(t.od))&&this.isLazyAddedField(t)},normalizeIfLazyAddedField:function(t){if(this.isUpdateForLazyAddedField(t)){var e=this.getOpFieldName(t),i=s[e];t.od&&!t.oi?t.oi=i:t.oi&&!t.od&&(t.od=i)}},getOpFieldName:function(t){return r.default.get(t.p,t.p.length-1)}}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(2)),s=n(i(3)),u=n(i(38)),l=function(t,e){this.documentVersion=t,this.layers=e,this.visibleMedia=[],this.hiddenMedia=[],this.visibleImages=[],this.hiddenImages=[],this.sortMediaForLayers(this.layers,!1,0),this.visibleMedia=o.default.orderBy(this.visibleMedia,"absoluteY"),this.hiddenMedia=o.default.orderBy(this.hiddenMedia,"absoluteY")};l.prototype={lazyPreloadAllMedia:function(t,e){var i;this.lazyLoadingVerticalBreakpoint=this.getHighPriorityMediaLoadVerticalBreakpoint(t);var n=null,r=0;for(i=0;i<this.visibleMedia.length&&(r=i,(n=this.visibleMedia[i]).absoluteY<=this.lazyLoadingVerticalBreakpoint);i++)n.layer.isInInitialViewport=!0,this.loadMediaItem(n,t,e);var o=0;for(i=0;i<this.hiddenMedia.length&&(o=i,(n=this.hiddenMedia[i]).absoluteY<=this.lazyLoadingVerticalBreakpoint);i++)n.layer.isInInitialViewport=!0,this.loadMediaItem(n,t,e);for(i=r;i<this.visibleMedia.length;i++)n=this.visibleMedia[i],this.loadMediaItem(n,t,e);for(i=o;i<this.hiddenMedia.length;i++)n=this.hiddenMedia[i],this.loadMediaItem(n,t,e)},preloadVisibleMedia:function(t,e){this.loadMediaItems(this.visibleMedia,t,e)},preloadImages:function(t){this.loadMediaItems(this.visibleImages,t,!1),this.loadMediaItems(this.hiddenImages,t,!1)},preloadHiddenMedia:function(t){this.loadMediaItems(this.hiddenMedia,t,!1)},getlazyLoadingVerticalBreakpoint:function(){return this.lazyLoadingVerticalBreakpoint},sortMediaForLayers:function(t,e,i){i||(i=0),o.default.each(t,o.default.bind((function(t){if(this.isContainerLayer(t)){var n=e||!t.visible;this.sortMediaForLayers(this.getChildLayers(t),n,this.isSmartGroupOrGroup(t)?i+t.y:i)}else this.sortMediaForLayer(t,e,i)}),this))},sortMediaForLayer:function(t,e,i){if(this.getLoader(t)){var n={layer:t,absoluteY:t.y+i};e||!t.visible?(this.hiddenMedia.push(n),this.isImage(t)&&this.hiddenImages.push(n)):(this.visibleMedia.push(n),this.isImage(t)&&this.visibleImages.push(n))}},getHighPriorityMediaLoadVerticalBreakpoint:function(t){var e=r.default(window).height()/t.ratio;if(a.default.isEmbedded&&a.default.heightOverride){var i=u.default.getDimensions();if(s.default.desktop())e=Math.min(e,i.height/t.ratio);else{var n=i.height/i.width;s.default.landscape()&&n>1&&(n=1/n),e=this.documentVersion.getExperienceWidth()*n}}return e},isSmartGroupOrGroup:function(t){return!(!t.smartgroupId&&"group"!==t.type&&"mask-group"!==t.type)},getChildLayers:function(t){return t.smartgroupId?t.layers:t.items},isContainerLayer:function(t){return!(!t.smartgroupId&&"folder"!==t.type&&"group"!==t.type&&"mask-group"!==t.type)},getLoader:function(t){return t.imageLoader||t.posterLoader||t.fontLoader},isImage:function(t){return!(!t.imageLoader&&!t.posterLoader)},shouldLoadLowRes:function(t){return o.default.isFunction(this.getLoader(t).loadLowRes)&&!t.posterLoader&&this.documentVersion.shouldLoadLowRes()},loadMediaItems:function(t,e,i){o.default.each(t,o.default.bind((function(t){this.loadMediaItem(t,e,i)}),this))},loadMediaItem:function(t,e,i){var n=this.getLoader(t.layer);this.shouldLoadLowRes(t.layer)?i?n.loadLowResNow(e):n.loadLowRes(e):i?n.loadNow(e):n.load(e)}},e.default=l},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(1)),o=n(i(0)),a=n(i(7)),s=n(i(15)),u=n(i(11)),l=n(i(25)),c=n(i(306));e.default=u.default.extend({className:"splash-screen loading",lastAnimationId:null,initialize:function(){u.default.prototype.initialize.call(this),this.options=o.default.extend({autoContrastForegroundColor:"#FFFFFF",foregroundColor:"white",backgroundColor:"#161616",previewLabelBackgroundColor:"none",borderRadius:5,revolutionsPerSecond:1.2,fadeOutSpeed:"fast",whiteLabeling:!0,showPreviewLabel:!1},this.options),this.options.degreesPerTick=360/(60*this.options.revolutionsPerSecond)},render:function(){this.$el.empty(),this.$el.html(a.default.render(c.default,{whiteLabeling:this.options.whiteLabeling&&!this.options.showPreviewLabel,showPreviewLabel:this.options.showPreviewLabel})).show(),this.$spinner=this.$el.find(".spinner");var t=this.$el.find(".branding-logo"),e=this.$el.find(".notice");this.options.overlayed&&this.$spinner.addClass("overlayed"),this.$spinner.css({borderRadius:this.options.borderRadius,backgroundColor:this.options.backgroundColor}),this.renderSpinnerCanvas(),t.css({color:this.options.autoContrastForegroundColor}),e.css({backgroundColor:this.options.previewLabelBackgroundColor,color:this.options.foregroundColor}),this.scale(),s.default.getInstance().on("change",this.repositionForEmbed,this),this.repositionForEmbed()},start:function(){o.default.isNull(this.lastAnimationId)&&(this.lastAnimationId=requestAnimationFrame(this._draw))},stop:function(){o.default.isNull(this.lastAnimationId)||(cancelAnimationFrame(this.lastAnimationId),this.lastAnimationId=null)},scale:function(){this.$el.width()<100||this.$el.height()<100?this.$el.find("div.loading-container").addClass("small"):this.$el.find("div.loading-container").removeClass("small")},repositionForEmbed:function(){var t=s.default.getInstance();if(t.isActive()){var e=Math.max(0,t.getTop()),i=Math.min(r.default(window).height(),t.getBottom());this.$el.css({top:e+"px",height:i-e+"px"}),this.scale()}},renderSpinnerCanvas:function(){var t=Math.round(64/12),e=r.default('<canvas width="64" height="64"></canvas>');this.$spinner.append(e);var i=e[0].getContext("2d"),n=0,o=!1,a=this,s=32-t-1;this._draw=function(){var e,r,u=-.5*Math.PI;i.save(),i.fillStyle=a.options.backgroundColor,i.fillRect(0,0,64,64),i.lineWidth=t;var c=l.default.fromHex(a.options.autoContrastForegroundColor);c.a=.1,i.strokeStyle=c.toString(),i.beginPath(),i.arc(32,32,s,0,2*Math.PI,!0),i.stroke(),0===n&&o?(e=u,r=u+2*Math.PI):(e=o?u+Math.PI/180*n:u,r=o?u:u+Math.PI/180*n),i.strokeStyle=a.options.autoContrastForegroundColor,i.beginPath(),i.arc(32,32,s,e,r,!1),i.stroke(),i.restore(),(n+=a.options.degreesPerTick)>359&&(n=0,o=!o),a.lastAnimationId=requestAnimationFrame(a._draw)}},_remove:function(){this.$el.remove()},destroy:function(){this.stop(),this._remove(),s.default.getInstance().off("change",this.repositionForEmbed,this)}})},function(t,e){t.exports='<div class="loading-container">\n    <div class="spinner"></div>\n    {{^whiteLabeling}}\n    <div class="branding-logo"></div>\n    {{/whiteLabeling}}\n    {{#showPreviewLabel}}\n    <div class="notice">REAL-TIME PREVIEW</div>\n    {{/showPreviewLabel}}\n</div>\n'},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(10)),o=n(i(11)),a=n(i(2)),s=n(i(7)),u=n(i(308)),l=n(i(309));e.default=o.default.extend({className:"splash-screen unavailable",events:{"click button.contact":"handleContactClick"},initialize:function(){o.default.prototype.initialize.call(this),this.render()},render:function(){var t=a.default.previewMode?u.default:l.default;this.$el.html(s.default.render(t))},handleContactClick:function(t){t.preventDefault();var e=r.default.appendQueryParams("http://www3.ceros.com/expiredaccount",{account:a.default.accountSlug});window.open(e)}})},function(t,e){t.exports='<div class="warning-modal unavailable overlay">\n    \x3c!-- This is the overlay that will provide a transparent layer over the\n    experience and prevent any clicks. --\x3e\n </div>\n<div class="warning-modal unavailable modal">\n    <div>\n        <div class="branding-logo"></div>\n        <span class="warning-icon alert-icon"></span>\n        <span class="notice important">Your Ceros subscription expired</span>\n        <span class="notice">Get in touch with our helpful team who will rectify this in no time</span>\n        <button class="submit contact">Get in touch</button>\n    <div>\n</div>\n'},function(t,e){t.exports='<div class="warning-modal unavailable overlay">\n    \x3c!-- This is the overlay that will provide a transparent layer over the\n    experience and prevent any clicks. --\x3e\n </div>\n<div class="warning-modal modal">\n    <div>\n        <div class="branding-logo"></div>\n        <span class="warning-icon no-entry-icon"></span>\n        <span class="notice important">This experience has been removed by the publisher</span>\n    <div>\n</div>\n'},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(311));e.default=r.default.extend({className:"deleted-page-warning",importantText:"This page is no longer available",descriptiveText:"Please try reloading",buttonText:"Reload",onDismissHandler:function(){window.location.reload()}})},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(11)),a=n(i(7)),s=n(i(312));e.default=o.default.extend({className:"warning",module:null,showBranding:!1,importantText:"",descriptiveText:"",buttonText:"Dismiss",initialize:function(){o.default.prototype.initialize.call(this),this.module=this.options.module},render:function(){this.$el.html(a.default.render(s.default,{showBranding:this.showBranding,importantText:this.importantText,descriptiveText:this.descriptiveText,buttonText:this.buttonText})),this.bindEvents()},bindEvents:function(){this.bindInteraction(this.$el.find("button.dismiss"),r.default.bind((function(t){t.preventDefault(),this.onDismissHandler()}),this))},onDismissHandler:function(){}})},function(t,e){t.exports='<div class="warning-modal embedded-previewer overlay">\n    \x3c!-- This is the overlay that will provide a transparent layer over the\n    experience and prevent any clicks. --\x3e\n</div>\n<div class="warning-modal embedded-previewer modal">\n    <div>\n        {{#showBranding}}<div class="branding-logo"></div>{{/showBranding}}\n        <span class="warning-icon alert-icon"></span>\n        <span class="notice important">{{importantText}}</span>\n        <span class="notice">{{descriptiveText}}</span>\n        <button class="submit dismiss">{{buttonText}}</button>\n    </div>\n</div>\n'},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(5)),o=n(i(0)),a=n(i(314)),s=r.default.Model.extend({getSlug:function(){var t=r.default.Model.prototype.get.call(this,"uri");return o.default.last(t.split("/"))}});o.default.extend(s.prototype,a.default),e.default=s},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=n(i(0)),o=n(i(5)),a=n(i(8));e.default={setParentModel:function(t){if(!(t.prototype instanceof o.default.Model))throw new Error("ParentModel should extend Backbone.Model");this.ParentModel=t},get:function(t,e){var i=e&&e.variant?e.variant:a.default.getVariant();return"overrides"===t||"desktop"===i?this.nonVariantGet(t):this.getVariantAttribute(i,t,e)},getVariantAttribute:function(t,e,i){var n=!i||!i.doNotFallbackToDesktop,o=this.nonVariantGet("overrides"),a=r.default.get(o,[t,e],void 0);return r.default.isUndefined(a)&&n?this.nonVariantGet(e):a},nonVariantGet:function(t){return(this.ParentModel?this.ParentModel:o.default.Model).prototype.get.call(this,t)}}},function(t,e,i){"use strict";
/*! A fix for the iOS orientationchange zoom bug.
 Script by @scottjehl, rebound by @wilto.
 MIT / GPLv2 License.
*/!function(t){var e=navigator.userAgent;if(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(e)&&e.indexOf("AppleWebKit")>-1){var i=t.document;if(i.querySelector){var n,r,o,a,s=i.querySelector("meta[name=viewport]"),u=s&&s.getAttribute("content"),l=u+",maximum-scale=1",c=u+",maximum-scale=10",d=!0;s&&(t.addEventListener("orientationchange",h,!1),t.addEventListener("devicemotion",(function(e){a=e.accelerationIncludingGravity,n=Math.abs(a.x),r=Math.abs(a.y),o=Math.abs(a.z),t.orientation&&180!==t.orientation||!(n>7||(o>6&&r<8||o<8&&r>6)&&n>5)?d||h():d&&(s.setAttribute("content",l),d=!1)}),!1))}}function h(){s.setAttribute("content",c),d=!0}}(window)},function(t,e,i){}]);